!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("react"),require("react-redux"),require("es6-promise"),require("react-native"),require("json5"),require("redux-actions"),require("@react-native-community/async-storage"),require("clone"),require("react-native-elements"),require("deepmerge"),require("uuid"),require("isomorphic-fetch"),require("redux"),require("react-native-app-auth"),require("react-fast-compare"),require("react-native-root-view"),require("@react-navigation/stack"),require("@ui-kitten/components"),require("moment"),require("expo-image-picker"),require("expo-file-system"),require("react-native-signature-canvas"),require("react-native-web-hooks"),require("react-native-modal-datetime-picker"),require("react-native-render-html"),require("react-number-format"),require("react-dom"),require("redux-devtools-extension"),require("redux-thunk"),require("lodash"),require("rn-snackbar-component"),require("react-native-webview"),require("@microsoft/signalr"),require("object-hash")):"function"==typeof define&&define.amd?define(["react","react-redux","es6-promise","react-native","json5","redux-actions","@react-native-community/async-storage","clone","react-native-elements","deepmerge","uuid","isomorphic-fetch","redux","react-native-app-auth","react-fast-compare","react-native-root-view","@react-navigation/stack","@ui-kitten/components","moment","expo-image-picker","expo-file-system","react-native-signature-canvas","react-native-web-hooks","react-native-modal-datetime-picker","react-native-render-html","react-number-format","react-dom","redux-devtools-extension","redux-thunk","lodash","rn-snackbar-component","react-native-webview","@microsoft/signalr","object-hash"],t):"object"==typeof exports?exports["optimajet-app"]=t(require("react"),require("react-redux"),require("es6-promise"),require("react-native"),require("json5"),require("redux-actions"),require("@react-native-community/async-storage"),require("clone"),require("react-native-elements"),require("deepmerge"),require("uuid"),require("isomorphic-fetch"),require("redux"),require("react-native-app-auth"),require("react-fast-compare"),require("react-native-root-view"),require("@react-navigation/stack"),require("@ui-kitten/components"),require("moment"),require("expo-image-picker"),require("expo-file-system"),require("react-native-signature-canvas"),require("react-native-web-hooks"),require("react-native-modal-datetime-picker"),require("react-native-render-html"),require("react-number-format"),require("react-dom"),require("redux-devtools-extension"),require("redux-thunk"),require("lodash"),require("rn-snackbar-component"),require("react-native-webview"),require("@microsoft/signalr"),require("object-hash")):e["optimajet-app"]=t(e.react,e["react-redux"],e["es6-promise"],e["react-native"],e.json5,e["redux-actions"],e["@react-native-community/async-storage"],e.clone,e["react-native-elements"],e.deepmerge,e.uuid,e["isomorphic-fetch"],e.redux,e["react-native-app-auth"],e["react-fast-compare"],e["react-native-root-view"],e["@react-navigation/stack"],e["@ui-kitten/components"],e.moment,e["expo-image-picker"],e["expo-file-system"],e["react-native-signature-canvas"],e["react-native-web-hooks"],e["react-native-modal-datetime-picker"],e["react-native-render-html"],e["react-number-format"],e["react-dom"],e["redux-devtools-extension"],e["redux-thunk"],e.lodash,e["rn-snackbar-component"],e["react-native-webview"],e["@microsoft/signalr"],e["object-hash"])}(window,function(r,n,o,i,a,l,s,c,u,p,f,d,h,y,m,v,b,g,w,O,C,S,E,k,j,x,P,T,_,D,R,F,A,I){return L=[function(e,t){e.exports=r},function(e,t){e.exports=n},function(e,t){e.exports=o},function(e,t){e.exports=i},function(e,t){e.exports=a},function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function s(e){var t=void 0===e?"undefined":n(e);return"function"===t||"object"===t&&!!e}r.capitalize=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},r.callbackName=function(e,t){return(t=t||"on")+r.capitalize(e)},r.isObject=s,r.extend=function(e){if(!s(e))return e;for(var t,r,n,o=1,i=arguments.length;o<i;o++){t=arguments[o],r=Object.keys(t);for(var a,l=0;l<r.length;l++)n=r[l],Object.getOwnPropertyDescriptor&&Object.defineProperty?(a=Object.getOwnPropertyDescriptor(t,n),Object.defineProperty(e,n,a)):e[n]=t[n]}return e},r.isFunction=function(e){return"function"==typeof e},r.nextTick=function(e){setTimeout(e,0)},r.object=function(e,t){for(var r={},n=0;n<e.length;n++)r[e[n]]=t[n];return r},r.isArguments=function(e){return"object"===(void 0===e?"undefined":n(e))&&"callee"in e&&"number"==typeof e.length},r.throwIf=function(e,t){if(e)throw Error(t||e)},r.EventEmitter=t(48)},function(e,t){e.exports=l},function(e,t){e.exports=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.joinStrict=t.joinConcat=t.joinLeading=t.joinTrailing=t.fetchInitialState=t.stopListeningToAll=t.stopListeningTo=t.listenTo=t.validateListening=t.listenToMany=t.hasListener=void 0;var l=function(e){{if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}}(r(5)),r=r(29);function s(e){var t,r={};for(t in e){var n,o=e[t],i=s(function(e){for(var t,r=0,n={};r<(e.children||[]).length;++r)e[t=e.children[r]]&&(n[t]=e[t]);return n}(o));for(n in r[t]=o,i){var a=i[n];r[t+l.capitalize(n)]=a}}return r}t.hasListener=function(e){for(var t,r,n,o=0;o<(this.subscriptions||[]).length;++o)for(n=[].concat(this.subscriptions[o].listenable),t=0;t<n.length;t++)if((r=n[t])===e||r.hasListener&&r.hasListener(e))return!0;return!1},t.listenToMany=function(e){var t,r=s(e);for(t in r){var n=l.callbackName(t),o=this[n]?n:this[t]?t:void 0;o&&this.listenTo(r[t],o,this[n+"Default"]||this[o+"Default"]||o)}},t.validateListening=function(e){return e===this?"Listener is not able to listen to itself":l.isFunction(e.listen)?e.hasListener&&e.hasListener(this)?"Listener cannot listen to this listenable because of circular loop":void 0:e+" is missing a listen method"},t.listenTo=function(e,t,r){var n,o,i=this.subscriptions=this.subscriptions||[];return l.throwIf(this.validateListening(e)),this.fetchInitialState(e,r),n=e.listen(this[t]||t,this),o={stop:function(){var e=i.indexOf(o);l.throwIf(-1===e,"Tried to remove listen already gone from subscriptions list!"),i.splice(e,1),n()},listenable:e},i.push(o),o},t.stopListeningTo=function(e){for(var t,r=0,n=this.subscriptions||[];r<n.length;r++)if((t=n[r]).listenable===e)return t.stop(),l.throwIf(-1!==n.indexOf(t),"Failed to remove listen from subscriptions list!"),!0;return!1},t.stopListeningToAll=function(){for(var e,t=this.subscriptions||[];e=t.length;)t[0].stop(),l.throwIf(t.length!==e-1,"Failed to remove listen from subscriptions list!")},t.fetchInitialState=function(e,t){t=t&&this[t]||t;var r=this;l.isFunction(t)&&l.isFunction(e.getInitialState)&&((e=e.getInitialState())&&l.isFunction(e.then)?e.then(function(){t.apply(r,arguments)}):t.call(this,e))},t.joinTrailing=(0,r.instanceJoinCreator)("last"),t.joinLeading=(0,r.instanceJoinCreator)("first"),t.joinConcat=(0,r.instanceJoinCreator)("all"),t.joinStrict=(0,r.instanceJoinCreator)("strict")},function(e,t){e.exports=c},function(e,t){e.exports=u},function(e,t){e.exports=p},function(e,t){e.exports=f},function(e,t){e.exports=d},function(e,t){e.exports=h},function(e,t){e.exports=y},function(e,t){e.exports=m},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.__keep=t.joinConcat=t.joinStrict=t.joinLeading=t.all=t.joinTrailing=t.use=t.nextTick=t.setEventEmitter=t.createActions=t.createStore=t.createAction=t.utils=t.StoreMethods=t.PublisherMethods=t.ListenerMethods=t.ActionMethods=t.version=void 0;var n=f(r(28)),o=f(r(8)),i=f(r(19)),a=f(r(31)),l=r(29),s=f(r(5)),c=r(51),u=r(30),p=f(r(18));function f(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}var d=(0,l.staticJoinCreator)("last"),h=d,y=(0,l.staticJoinCreator)("first"),m=(0,l.staticJoinCreator)("strict"),v=(0,l.staticJoinCreator)("all"),r=s,l=function(e){var t={};return e instanceof Array?e.forEach(function(e){s.isObject(e)?b(e,t):t[e]=(0,c.createAction)(e)}):b(e,t),t};function b(r,n){Object.keys(r).forEach(function(e){var t=r[e];n[e]=(0,c.createAction)(t)})}t.version={"reflux-core":"1.0.0"},t.ActionMethods=n,t.ListenerMethods=o,t.PublisherMethods=i,t.StoreMethods=a,t.utils=r,t.createAction=c.createAction,t.createStore=u.createStore,t.createActions=l,t.setEventEmitter=function(e){s.EventEmitter=e},t.nextTick=function(e){s.nextTick=e},t.use=function(e){e(this)},t.joinTrailing=d,t.all=h,t.joinLeading=y,t.joinStrict=m,t.joinConcat=v,t.__keep=p,Object.defineProperty(t,"default",{get:function(){return t}}),Function.prototype.bind||console.error("Function.prototype.bind not available. ES5 shim required. https://github.com/spoike/refluxjs#es5")},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=!1,o=[],i=[];t.useKeep=function(){n=!(0<arguments.length&&void 0!==arguments[0])||arguments[0]},t.addStore=function(e){n&&o.push(e)},t.addAction=function(e){n&&i.push(e)},t.createdStores=o,t.createdActions=i,t.reset=function(){for(;o.length;)o.pop();for(;i.length;)i.pop()}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.deferWith=t.triggerAsync=t.trigger=t.listen=t.shouldEmit=t.preEmit=void 0;var n=function(e){{if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}}(r(5));t.preEmit=function(){},t.shouldEmit=function(){return!0},t.listen=function(t,r){r=r||this;function e(e){o||t.apply(r,e)}var n=this,o=!1;return this.emitter.addListener(this.eventLabel,e),function(){o=!0,n.emitter.removeListener(n.eventLabel,e)}},t.trigger=function(){var e=arguments,t=this.preEmit.apply(this,e),e=void 0===t?e:n.isArguments(t)?t:[].concat(t);this.shouldEmit.apply(this,e)&&this.emitter.emit(this.eventLabel,e)},t.triggerAsync=function(){var e=arguments,t=this;n.nextTick(function(){t.trigger.apply(t,e)})},t.deferWith=function(e){var t=this.trigger,r=this;this.trigger=function(){e.apply(r,[function(){t.apply(r,arguments)}].concat([].splice.call(arguments,0)))}}},function(e,t,r){var n=r(5),r=r(8);e.exports=n.extend({componentWillUnmount:r.stopListeningToAll},r)},function(e,t){e.exports=v},function(e,t){e.exports=b},function(e,t){e.exports=g},function(e,t){e.exports=w},function(e,t){e.exports=O},function(e,t){e.exports=C},function(e,t,r){var n=r(17);n.serverMode="object"!=typeof window,n.connect=r(52),n.connectFilter=r(53),n.ListenerMixin=r(20),n.listenTo=r(54),n.listenToMany=r(55),r(56),e.exports=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.staticJoinCreator=function(t){return function(){var e=p.call(arguments);return(0,n.createStore)({init:function(){this[o[t]].apply(this,e.concat("triggerAsync"))}})}},t.instanceJoinCreator=function(c){return function(){u.throwIf(arguments.length<2,"Cannot create a join with less than 2 listenables!");for(var n,o,i,e=p.call(arguments),t=e.pop(),r=e.length,a={numberOfListenables:r,callback:this[t]||t,listener:this,strategy:c},l=[],s=0;s<r;s++)u.throwIf(this.validateListening(e[s]));for(s=0;s<r;s++)l.push(e[s].listen(function(t,r){return function(){var e=p.call(arguments);if(r.listenablesEmitted[t])switch(r.strategy){case"strict":throw new Error("Strict join failed because listener triggered twice.");case"last":r.args[t]=e;break;case"all":r.args[t].push(e)}else r.listenablesEmitted[t]=!0,r.args[t]="all"===r.strategy?[e]:e;!function(e){for(var t=0;t<e.numberOfListenables;t++)if(!e.listenablesEmitted[t])return;e.callback.apply(e.listener,e.args),f(e)}(r)}}(s,a),this));return f(a),(t={listenable:e}).stop=(n=t,o=l,i=this,function(){var e,t=i.subscriptions,r=t?t.indexOf(n):-1;for(u.throwIf(-1===r,"Tried to remove join already gone from subscriptions list!"),e=0;e<o.length;e++)o[e]();t.splice(r,1)}),this.subscriptions=(this.subscriptions||[]).concat(t),t}};var n=r(30),u=function(e){{if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}}(r(5));var p=Array.prototype.slice,o={strict:"joinStrict",first:"joinLeading",last:"joinTrailing",all:"joinConcat"};function f(e){e.listenablesEmitted=new Array(e.numberOfListenables),e.args=new Array(e.numberOfListenables)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createStore=function(r){for(var e in r=r||{},c)if(!f[e]&&(u[e]||p[e]))throw new Error("Cannot override API method "+e+" in Reflux.StoreMethods. Use another method name or override it on Reflux.PublisherMethods / Reflux.ListenerMethods instead.");for(var t in r)if(!f[t]&&(u[t]||p[t]))throw new Error("Cannot override API method "+t+" in store creation. Use another method name or override it on Reflux.PublisherMethods / Reflux.ListenerMethods instead.");function n(){var e,t=0;if(this.subscriptions=[],this.emitter=new i.EventEmitter,this.eventLabel="change",(0,s.bindMethods)(this,r),this.init&&i.isFunction(this.init)&&this.init(),this.listenables)for(e=[].concat(this.listenables);t<e.length;t++)this.listenToMany(e[t])}r=(0,l.mix)(r),i.extend(n.prototype,p,u,c,r);var o=new n;return a.addStore(o),o};var i=n(r(5)),a=n(r(18)),l=r(49),s=r(50),c=n(r(31)),u=n(r(19)),p=n(r(8));function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}var f={preEmit:1,shouldEmit:1}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,r){var n;void 0===(n="function"==typeof(n=function(){var k,i,e,l={},j={},t={currentLocale:"en",zeroFormat:null,nullFormat:null,defaultFormat:"0,0",scalePercentBy100:true},s={currentLocale:t.currentLocale,zeroFormat:t.zeroFormat,nullFormat:t.nullFormat,defaultFormat:t.defaultFormat,scalePercentBy100:t.scalePercentBy100};function a(e,t){this._input=e;this._value=t}return(k=function(e){var t,r,n,o;if(k.isNumeral(e))t=e.value();else if(e===0||typeof e==="undefined")t=0;else if(e===null||i.isNaN(e))t=null;else if(typeof e==="string")if(s.zeroFormat&&e===s.zeroFormat)t=0;else if(s.nullFormat&&e===s.nullFormat||!e.replace(/[^0-9]+/g,"").length)t=null;else{for(r in l){o=typeof l[r].regexps.unformat==="function"?l[r].regexps.unformat():l[r].regexps.unformat;if(o&&e.match(o)){n=l[r].unformat;break}}n=n||k._.stringToNumber;t=n(e)}else t=Number(e)||null;return new a(e,t)}).version="2.0.6",k.isNumeral=function(e){return e instanceof a},k._=i={numberToFormat:function(e,t,r){var n=j[k.options.currentLocale],o=false,i=false,a=0,l="",s=1e12,c=1e9,u=1e6,p=1e3,f="",d=false,h,y,m,v,b,g,w,O,C,S;e=e||0;y=Math.abs(e);if(k._.includes(t,"(")){o=true;t=t.replace(/[\(|\)]/g,"")}else if(k._.includes(t,"+")||k._.includes(t,"-")){O=k._.includes(t,"+")?t.indexOf("+"):e<0?t.indexOf("-"):-1;t=t.replace(/[\+|\-]/g,"")}if(k._.includes(t,"a")){h=t.match(/a(k|m|b|t)?/);h=h?h[1]:false;if(k._.includes(t," a"))l=" ";t=t.replace(new RegExp(l+"a[kmbt]?"),"");if(y>=s&&!h||h==="t"){l+=n.abbreviations.trillion;e=e/s}else if(y<s&&y>=c&&!h||h==="b"){l+=n.abbreviations.billion;e=e/c}else if(y<c&&y>=u&&!h||h==="m"){l+=n.abbreviations.million;e=e/u}else if(y<u&&y>=p&&!h||h==="k"){l+=n.abbreviations.thousand;e=e/p}}if(k._.includes(t,"[.]")){i=true;t=t.replace("[.]",".")}g=e.toString().split(".")[0];w=t.split(".")[1];C=t.indexOf(",");a=(t.split(".")[0].split(",")[0].match(/0/g)||[]).length;if(w){if(k._.includes(w,"[")){w=w.replace("]","");w=w.split("[");f=k._.toFixed(e,w[0].length+w[1].length,r,w[1].length)}else f=k._.toFixed(e,w.length,r);g=f.split(".")[0];if(k._.includes(f,"."))f=n.delimiters.decimal+f.split(".")[1];else f="";if(i&&Number(f.slice(1))===0)f=""}else g=k._.toFixed(e,0,r);if(l&&!h&&Number(g)>=1e3&&l!==n.abbreviations.trillion){g=String(Number(g)/1e3);switch(l){case n.abbreviations.thousand:l=n.abbreviations.million;break;case n.abbreviations.million:l=n.abbreviations.billion;break;case n.abbreviations.billion:l=n.abbreviations.trillion;break}}if(k._.includes(g,"-")){g=g.slice(1);d=true}if(g.length<a)for(var E=a-g.length;E>0;E--)g="0"+g;if(C>-1)g=g.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1"+n.delimiters.thousands);if(t.indexOf(".")===0)g="";S=g+f+(l?l:"");if(o)S=(o&&d?"(":"")+S+(o&&d?")":"");else if(O>=0)S=O===0?(d?"-":"+")+S:S+(d?"-":"+");else if(d)S="-"+S;return S},stringToNumber:function(e){var t=j[s.currentLocale],r=e,n={thousand:3,million:6,billion:9,trillion:12},o,i,a,l;if(s.zeroFormat&&e===s.zeroFormat)i=0;else if(s.nullFormat&&e===s.nullFormat||!e.replace(/[^0-9]+/g,"").length)i=null;else{i=1;if(t.delimiters.decimal!==".")e=e.replace(/\./g,"").replace(t.delimiters.decimal,".");for(o in n){l=new RegExp("[^a-zA-Z]"+t.abbreviations[o]+"(?:\\)|(\\"+t.currency.symbol+")?(?:\\))?)?$");if(r.match(l)){i*=Math.pow(10,n[o]);break}}i*=(e.split("-").length+Math.min(e.split("(").length-1,e.split(")").length-1))%2?1:-1;e=e.replace(/[^0-9\.]+/g,"");i*=Number(e)}return i},isNaN:function(e){return typeof e==="number"&&isNaN(e)},includes:function(e,t){return e.indexOf(t)!==-1},insert:function(e,t,r){return e.slice(0,r)+t+e.slice(r)},reduce:function(e,t){if(this===null)throw new TypeError("Array.prototype.reduce called on null or undefined");if(typeof t!=="function")throw new TypeError(t+" is not a function");var r=Object(e),n=r.length>>>0,o=0,i;if(arguments.length===3)i=arguments[2];else{while(o<n&&!(o in r))o++;if(o>=n)throw new TypeError("Reduce of empty array with no initial value");i=r[o++]}for(;o<n;o++)if(o in r)i=t(i,r[o],o,r);return i},multiplier:function(e){var t=e.toString().split(".");return t.length<2?1:Math.pow(10,t[1].length)},correctionFactor:function(){var e=Array.prototype.slice.call(arguments);return e.reduce(function(e,t){var r=i.multiplier(t);return e>r?e:r},1)},toFixed:function(e,t,r,n){var o=e.toString().split("."),i=t-(n||0),a,l,s,c;if(o.length===2)a=Math.min(Math.max(o[1].length,i),t);else a=i;s=Math.pow(10,a);c=(r(e+"e+"+a)/s).toFixed(a);if(n>t-a){l=new RegExp("\\.?0{1,"+(n-(t-a))+"}$");c=c.replace(l,"")}return c}},k.options=s,k.formats=l,k.locales=j,k.locale=function(e){if(e)s.currentLocale=e.toLowerCase();return s.currentLocale},k.localeData=function(e){if(!e)return j[s.currentLocale];e=e.toLowerCase();if(!j[e])throw new Error("Unknown locale : "+e);return j[e]},k.reset=function(){for(var e in t)s[e]=t[e]},k.zeroFormat=function(e){s.zeroFormat=typeof e==="string"?e:null},k.nullFormat=function(e){s.nullFormat=typeof e==="string"?e:null},k.defaultFormat=function(e){s.defaultFormat=typeof e==="string"?e:"0.0"},k.register=function(e,t,r){t=t.toLowerCase();if(this[e+"s"][t])throw new TypeError(t+" "+e+" already registered.");this[e+"s"][t]=r;return r},k.validate=function(e,t){var r,n,o,i,a,l,s,c;if(typeof e!=="string"){e+="";if(console.warn)console.warn("Numeral.js: Value is not string. It has been co-erced to: ",e)}e=e.trim();if(!!e.match(/^\d+$/))return true;if(e==="")return false;try{s=k.localeData(t)}catch(e){s=k.localeData(k.locale())}o=s.currency.symbol;a=s.abbreviations;r=s.delimiters.decimal;if(s.delimiters.thousands===".")n="\\.";else n=s.delimiters.thousands;c=e.match(/^[^\d]+/);if(c!==null){e=e.substr(1);if(c[0]!==o)return false}c=e.match(/[^\d]+$/);if(c!==null){e=e.slice(0,-1);if(c[0]!==a.thousand&&c[0]!==a.million&&c[0]!==a.billion&&c[0]!==a.trillion)return false}l=new RegExp(n+"{2}");if(!e.match(/[^\d.,]/g)){i=e.split(r);if(i.length>2)return false;else if(i.length<2)return!!i[0].match(/^\d+.*\d$/)&&!i[0].match(l);else if(i[0].length===1)return!!i[0].match(/^\d+$/)&&!i[0].match(l)&&!!i[1].match(/^\d+$/);else return!!i[0].match(/^\d+.*\d$/)&&!i[0].match(l)&&!!i[1].match(/^\d+$/)}return false},k.fn=a.prototype={clone:function(){return k(this)},format:function(e,t){var r=this._value,n=e||s.defaultFormat,o,i,a;t=t||Math.round;if(r===0&&s.zeroFormat!==null)i=s.zeroFormat;else if(r===null&&s.nullFormat!==null)i=s.nullFormat;else{for(o in l)if(n.match(l[o].regexps.format)){a=l[o].format;break}a=a||k._.numberToFormat;i=a(r,n,t)}return i},value:function(){return this._value},input:function(){return this._input},set:function(e){this._value=Number(e);return this},add:function(e){var o=i.correctionFactor.call(null,this._value,e);function t(e,t,r,n){return e+Math.round(o*t)}this._value=i.reduce([this._value,e],t,0)/o;return this},subtract:function(e){var o=i.correctionFactor.call(null,this._value,e);function t(e,t,r,n){return e-Math.round(o*t)}this._value=i.reduce([e],t,Math.round(this._value*o))/o;return this},multiply:function(e){function t(e,t,r,n){var o=i.correctionFactor(e,t);return Math.round(e*o)*Math.round(t*o)/Math.round(o*o)}this._value=i.reduce([this._value,e],t,1);return this},divide:function(e){function t(e,t,r,n){var o=i.correctionFactor(e,t);return Math.round(e*o)/Math.round(t*o)}this._value=i.reduce([this._value,e],t);return this},difference:function(e){return Math.abs(k(this._value).subtract(e).value())}},k.register("locale","en",{delimiters:{thousands:",",decimal:"."},abbreviations:{thousand:"k",million:"m",billion:"b",trillion:"t"},ordinal:function(e){var t=e%10;return~~(e%100/10)===1?"th":t===1?"st":t===2?"nd":t===3?"rd":"th"},currency:{symbol:"$"}}),function(){k.register("format","bps",{regexps:{format:/(BPS)/,unformat:/(BPS)/},format:function(e,t,r){var n=k._.includes(t," BPS")?" ":"",o;e=e*1e4;t=t.replace(/\s?BPS/,"");o=k._.numberToFormat(e,t,r);if(k._.includes(o,")")){o=o.split("");o.splice(-1,0,n+"BPS");o=o.join("")}else o=o+n+"BPS";return o},unformat:function(e){return+(k._.stringToNumber(e)*1e-4).toFixed(15)}})}(),function(){var c={base:1e3,suffixes:["B","KB","MB","GB","TB","PB","EB","ZB","YB"]},u={base:1024,suffixes:["B","KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"]};var e=c.suffixes.concat(u.suffixes.filter(function(e){return c.suffixes.indexOf(e)<0}));var t=e.join("|");t="("+t.replace("B","B(?!PS)")+")";k.register("format","bytes",{regexps:{format:/([0\s]i?b)/,unformat:new RegExp(t)},format:function(e,t,r){var n,o=k._.includes(t,"ib")?u:c,i=k._.includes(t," b")||k._.includes(t," ib")?" ":"",a,l,s;t=t.replace(/\s?i?b/,"");for(a=0;a<=o.suffixes.length;a++){l=Math.pow(o.base,a);s=Math.pow(o.base,a+1);if(e===null||e===0||e>=l&&e<s){i+=o.suffixes[a];if(l>0)e=e/l;break}}n=k._.numberToFormat(e,t,r);return n+i},unformat:function(e){var t=k._.stringToNumber(e),r,n;if(t){for(r=c.suffixes.length-1;r>=0;r--){if(k._.includes(e,c.suffixes[r])){n=Math.pow(c.base,r);break}if(k._.includes(e,u.suffixes[r])){n=Math.pow(u.base,r);break}}t*=n||1}return t}})}(),function(){k.register("format","currency",{regexps:{format:/(\$)/},format:function(e,t,r){var n=k.locales[k.options.currentLocale],o={before:t.match(/^([\+|\-|\(|\s|\$]*)/)[0],after:t.match(/([\+|\-|\)|\s|\$]*)$/)[0]},i,a,l;t=t.replace(/\s?\$\s?/,"");i=k._.numberToFormat(e,t,r);if(e>=0){o.before=o.before.replace(/[\-\(]/,"");o.after=o.after.replace(/[\-\)]/,"")}else if(e<0&&(!k._.includes(o.before,"-")&&!k._.includes(o.before,"(")))o.before="-"+o.before;for(l=0;l<o.before.length;l++){a=o.before[l];switch(a){case"$":i=k._.insert(i,n.currency.symbol,l);break;case" ":i=k._.insert(i," ",l+n.currency.symbol.length-1);break}}for(l=o.after.length-1;l>=0;l--){a=o.after[l];switch(a){case"$":i=l===o.after.length-1?i+n.currency.symbol:k._.insert(i,n.currency.symbol,-(o.after.length-(1+l)));break;case" ":i=l===o.after.length-1?i+" ":k._.insert(i," ",-(o.after.length-(1+l)+n.currency.symbol.length-1));break}}return i}})}(),function(){k.register("format","exponential",{regexps:{format:/(e\+|e-)/,unformat:/(e\+|e-)/},format:function(e,t,r){var n,o=typeof e==="number"&&!k._.isNaN(e)?e.toExponential():"0e+0",i=o.split("e");t=t.replace(/e[\+|\-]{1}0/,"");n=k._.numberToFormat(Number(i[0]),t,r);return n+"e"+i[1]},unformat:function(e){var t=k._.includes(e,"e+")?e.split("e+"):e.split("e-"),r=Number(t[0]),n=Number(t[1]);n=k._.includes(e,"e-")?n*=-1:n;function o(e,t,r,n){var o=k._.correctionFactor(e,t),i=e*o*(t*o)/(o*o);return i}return k._.reduce([r,Math.pow(10,n)],o,1)}})}(),function(){k.register("format","ordinal",{regexps:{format:/(o)/},format:function(e,t,r){var n=k.locales[k.options.currentLocale],o,i=k._.includes(t," o")?" ":"";t=t.replace(/\s?o/,"");i+=n.ordinal(e);o=k._.numberToFormat(e,t,r);return o+i}})}(),function(){k.register("format","percentage",{regexps:{format:/(%)/,unformat:/(%)/},format:function(e,t,r){var n=k._.includes(t," %")?" ":"",o;if(k.options.scalePercentBy100)e=e*100;t=t.replace(/\s?\%/,"");o=k._.numberToFormat(e,t,r);if(k._.includes(o,")")){o=o.split("");o.splice(-1,0,n+"%");o=o.join("")}else o=o+n+"%";return o},unformat:function(e){var t=k._.stringToNumber(e);if(k.options.scalePercentBy100)return t*.01;return t}})}(),function(){k.register("format","time",{regexps:{format:/(:)/,unformat:/(:)/},format:function(e,t,r){var n=Math.floor(e/60/60),o=Math.floor((e-n*60*60)/60),i=Math.round(e-n*60*60-o*60);return n+":"+(o<10?"0"+o:o)+":"+(i<10?"0"+i:i)},unformat:function(e){var t=e.split(":"),r=0;if(t.length===3){r=r+Number(t[0])*60*60;r=r+Number(t[1])*60;r=r+Number(t[2])}else if(t.length===2){r=r+Number(t[0])*60;r=r+Number(t[1])}return Number(r)}})}(),k})?n.call(t,r,t,e):n)||(e.exports=n)},function(e,t){e.exports=S},function(e,t){e.exports=E},function(e,t){e.exports=k},function(e,t){e.exports=j},function(e,t){e.exports=x},function(e,t){e.exports=P},function(e,t){e.exports=T},function(e,t){e.exports=_},function(e,t){e.exports=D},function(e,t){e.exports=R},function(e,n,o){!function(e){var t,r;function Pu(e){return(Pu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}window,r=function(r,n,o,i,a,l,s,c,u,p,f,d,h,y,m,v,b,g,w,O){return S=[function(e,t){e.exports=r},function(e,t){e.exports=n},function(e,t){e.exports=o},function(e,t){e.exports=i},function(e,t){e.exports=a},function(e,t){function o(e){return(o="function"==typeof Symbol&&"symbol"==Pu(Symbol.iterator)?function(e){return Pu(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":Pu(e)})(e)}function s(e){var t=e.model,r=e.data,n={hideControls:[],readOnlyControls:[]};if(!t||!r)return n;for(var o=0;o<t.length;o++){var i,a=t[o]["other-visibleConition"];if(void 0!==a&&""!==a&&(new Function("data","return "+a)(r)||n.hideControls.push(t[o].key)),void 0!==(a=t[o]["other-readOnlyConition"])&&""!==a&&new Function("data","return "+a)(r)&&n.readOnlyControls.push(t[o].key),Array.isArray(t[o].children)&&(i=s({model:t[o].children,data:r}),n={hideControls:n.hideControls.concat(i.hideControls),readOnlyControls:n.readOnlyControls.concat(i.readOnlyControls)}),void 0!==t[o].placeholders)for(var l in t[o].placeholders)l=s({model:t[o].placeholders[l],data:r}),n={hideControls:n.hideControls.concat(l.hideControls),readOnlyControls:n.readOnlyControls.concat(l.readOnlyControls)};"customblock"===t[o]["data-buildertype"]&&"source"===t[o].sourceType&&null!=t[o].source&&(i=s({model:JSON5.parse(t[o].source),data:r}),n={hideControls:n.hideControls.concat(i.hideControls),readOnlyControls:n.readOnlyControls.concat(i.readOnlyControls)})}return n}function c(e,n){var o=[],i=s({model:e,data:n}).hideControls;return null!=e&&e.forEach(function(e){if(!i.includes(e.key)){var t;if((!0===e["other-required"]||"collectioneditor"===e["data-buildertype"]||void 0!==e["other-customValidation"]&&""!==e["other-customValidation"])&&o.push(e),void 0!==e.children&&0<e.children.length&&(t=c(e.children,n),o=o.concat(t)),void 0!==e.placeholders)for(var r in e.placeholders)r=c(e.placeholders[r],n),o=o.concat(r);"customblock"===e["data-buildertype"]&&"source"===e.sourceType&&null!=e.source&&(t=c(JSON5.parse(e.source),n),o=o.concat(t))}}),o}e.exports={initDefaultState:function e(t){var r=t.model,n=t.data;if(Array.isArray(r)&&void 0!==n)for(var o=0;o<r.length;o++){var i=r[o].propertyName||r[o].key;if(r[o].defaultValue&&!n[i]&&(n[i]=r[o].defaultValue),Array.isArray(r[o].children)&&e({model:r[o].children,data:n}),void 0!==r[o].placeholders)for(var a in r[o].placeholders)e({model:r[o].placeholders[a],data:n});"customblock"===r[o]["data-buildertype"]&&"source"===r[o].sourceType&&null!=r[o].source&&e({model:JSON5.parse(r[o].source),data:n})}},initDefaultStateFormUrl:function(e){void 0===e&&(e={});var t,t=null==(t=new RegExp("[?&]defaultvalues=([^&#]*)").exec(window.location.href))?null:decodeURI(t[1])||0;if(t){var r=void 0;try{r=JSON5.parse(t)}catch(e){}if(r&&"object"===o(r))for(var n in r)void 0!==r[n]&&(e[n]=r[n])}return e},validate:function(e){for(var t=e.data,r={valid:!0,errors:{}},n=c(e.model,t),o=0;o<(null==n?void 0:n.length);o++){var i=n[o].propertyName||n[o].key,a=function i(a,e,l){var t,r=void 0;if("collectioneditor"!==a["data-buildertype"]||void 0===a.placeholders)return!0===a["other-required"]&&(null==e||""===e||"collectioneditor"===a["data-buildertype"]||"files"===a["data-buildertype"]&&Array.isArray(e)&&0===e.length)?r="This field is required!":void 0!==a["other-customValidation"]&&""!==a["other-customValidation"]&&(t="return "+a["other-customValidation"],"boolean"==typeof(e=new Function("value, data",t)(e,l))?!1===e&&(r=!0):r=e),r;var s=[];return null!=e&&e.forEach(function(n,e){s.push({});var t,o=s[e];for(t in a.placeholders)!function(r){var e=c(a.placeholders[r],l);null!=e&&e.forEach(function(e){var t=n[r];o[r]=i(e,t,l)})}(t)}),s}(n[o],t?t[i]:void 0,t);a&&(r.errors[i]=a,r.valid=!1)}return r},checkConditions:s,updateEventsFormat:function(n){return n.updated||(Object.keys(n).forEach(function(e){var t,r=n[e];((t=r).actions||r.parameters||r.targets)&&(t={actions:r.actions||[],parameters:r.parameters||[],targets:r.targets||[]},n[e]={active:r.active||!1,triggers:r.actions?[t]:void 0})}),n.updated=!0),n}}},function(e,t){e.exports=l},function(e,t){e.exports=s},function(e,t){e.exports=c},function(e,t){e.exports=u},function(e,t){e.exports=p},function(e,t){e.exports=f},function(tr,rr,e){var nr;
/*!
     * jQuery JavaScript Library v3.5.0
     * https://jquery.com/
     *
     * Includes Sizzle.js
     * https://sizzlejs.com/
     *
     * Copyright JS Foundation and other contributors
     * Released under the MIT license
     * https://jquery.org/license
     *
     * Date: 2020-04-10T15:07Z
     */!function(e,t){"use strict";"object"==Pu(tr.exports)?tr.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}("undefined"!=typeof window?window:this,function(C,e){"use strict";function y(e){return"function"==typeof e&&"number"!=typeof e.nodeType}function m(e){return null!=e&&e===e.window}var t=[],r=Object.getPrototypeOf,l=t.slice,v=t.flat?function(e){return t.flat.call(e)}:function(e){return t.concat.apply([],e)},s=t.push,o=t.indexOf,n={},i=n.toString,b=n.hasOwnProperty,a=b.toString,c=a.call(Object),g={},S=C.document,u={type:!0,src:!0,nonce:!0,noModule:!0};function w(e,t,r){var n,o,i=(r=r||S).createElement("script");if(i.text=e,t)for(n in u)(o=t[n]||t.getAttribute&&t.getAttribute(n))&&i.setAttribute(n,o);r.head.appendChild(i).parentNode.removeChild(i)}function h(e){return null==e?e+"":"object"==Pu(e)||"function"==typeof e?n[i.call(e)]||"object":Pu(e)}var E=function e(t,r){return new e.fn.init(t,r)};function p(e){var t=!!e&&"length"in e&&e.length,r=h(e);return!y(e)&&!m(e)&&("array"===r||0===t||"number"==typeof t&&0<t&&t-1 in e)}E.fn=E.prototype={jquery:"3.5.0",constructor:E,length:0,toArray:function(){return l.call(this)},get:function(e){return null==e?l.call(this):e<0?this[e+this.length]:this[e]},pushStack:function(e){return(e=E.merge(this.constructor(),e)).prevObject=this,e},each:function(e){return E.each(this,e)},map:function(r){return this.pushStack(E.map(this,function(e,t){return r.call(e,t,e)}))},slice:function(){return this.pushStack(l.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(E.grep(this,function(e,t){return(t+1)%2}))},odd:function(){return this.pushStack(E.grep(this,function(e,t){return t%2}))},eq:function(e){var t=this.length,e=+e+(e<0?t:0);return this.pushStack(0<=e&&e<t?[this[e]]:[])},end:function(){return this.prevObject||this.constructor()},push:s,sort:t.sort,splice:t.splice},E.extend=E.fn.extend=function(){var e,t,r,n,o,i=arguments[0]||{},a=1,l=arguments.length,s=!1;for("boolean"==typeof i&&(s=i,i=arguments[a]||{},a++),"object"==Pu(i)||y(i)||(i={}),a===l&&(i=this,a--);a<l;a++)if(null!=(e=arguments[a]))for(t in e)r=e[t],"__proto__"!==t&&i!==r&&(s&&r&&(E.isPlainObject(r)||(n=Array.isArray(r)))?(o=i[t],o=n&&!Array.isArray(o)?[]:n||E.isPlainObject(o)?o:{},n=!1,i[t]=E.extend(s,o,r)):void 0!==r&&(i[t]=r));return i},E.extend({expando:"jQuery"+("3.5.0"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isPlainObject:function(e){return!(!e||"[object Object]"!==i.call(e)||(e=r(e))&&("function"!=typeof(e=b.call(e,"constructor")&&e.constructor)||a.call(e)!==c))},isEmptyObject:function(e){for(var t in e)return!1;return!0},globalEval:function(e,t,r){w(e,{nonce:t&&t.nonce},r)},each:function(e,t){var r,n=0;if(p(e))for(r=e.length;n<r&&!1!==t.call(e[n],n,e[n]);n++);else for(n in e)if(!1===t.call(e[n],n,e[n]))break;return e},makeArray:function(e,t){return t=t||[],null!=e&&(p(Object(e))?E.merge(t,"string"==typeof e?[e]:e):s.call(t,e)),t},inArray:function(e,t,r){return null==t?-1:o.call(t,e,r)},merge:function(e,t){for(var r=+t.length,n=0,o=e.length;n<r;n++)e[o++]=t[n];return e.length=o,e},grep:function(e,t,r){for(var n=[],o=0,i=e.length,a=!r;o<i;o++)!t(e[o],o)!=a&&n.push(e[o]);return n},map:function(e,t,r){var n,o,i=0,a=[];if(p(e))for(n=e.length;i<n;i++)null!=(o=t(e[i],i,r))&&a.push(o);else for(i in e)null!=(o=t(e[i],i,r))&&a.push(o);return v(a)},guid:1,support:g}),"function"==typeof Symbol&&(E.fn[Symbol.iterator]=t[Symbol.iterator]),E.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(e,t){n["[object "+t+"]"]=t.toLowerCase()});var f=
/*!
       * Sizzle CSS Selector Engine v2.3.5
       * https://sizzlejs.com/
       *
       * Copyright JS Foundation and other contributors
       * Released under the MIT license
       * https://js.foundation/
       *
       * Date: 2020-03-14
       */
function(r){function p(e,t){return e="0x"+e.slice(1)-65536,t||(e<0?String.fromCharCode(65536+e):String.fromCharCode(e>>10|55296,1023&e|56320))}function f(e,t){return t?"\0"===e?"ï¿½":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e}function n(){S()}function w(e,t){for(var r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return-1}var e,d,O,i,o,h,y,m,C,s,c,S,E,a,k,v,l,u,b,j="sizzle"+ +new Date,g=r.document,x=0,P=0,T=se(),_=se(),D=se(),R=se(),F=function(e,t){return e===t&&(c=!0),0},A={}.hasOwnProperty,t=[],I=t.pop,N=t.push,L=t.push,B=t.slice,M="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",V="[\\x20\\t\\r\\n\\f]",U="(?:\\\\[\\da-fA-F]{1,6}"+V+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",q="\\["+V+"*("+U+")(?:"+V+"*([*^$|!~]?=)"+V+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+U+"))|)"+V+"*\\]",z=":("+U+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+q+")*)|.*)\\)|)",H=new RegExp(V+"+","g"),W=new RegExp("^"+V+"+|((?:^|[^\\\\])(?:\\\\.)*)"+V+"+$","g"),G=new RegExp("^"+V+"*,"+V+"*"),K=new RegExp("^"+V+"*([>+~]|"+V+")"+V+"*"),$=new RegExp(V+"|>"),J=new RegExp(z),Y=new RegExp("^"+U+"$"),X={ID:new RegExp("^#("+U+")"),CLASS:new RegExp("^\\.("+U+")"),TAG:new RegExp("^("+U+"|[*])"),ATTR:new RegExp("^"+q),PSEUDO:new RegExp("^"+z),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+V+"*(even|odd|(([+-]|)(\\d*)n|)"+V+"*(?:([+-]|)"+V+"*(\\d+)|))"+V+"*\\)|)","i"),bool:new RegExp("^(?:"+M+")$","i"),needsContext:new RegExp("^"+V+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+V+"*((?:-\\d)?\\d*)"+V+"*\\)|)(?=[^-]|$)","i")},Q=/HTML$/i,Z=/^(?:input|select|textarea|button)$/i,ee=/^h\d$/i,te=/^[^{]+\{\s*\[native \w/,re=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ne=/[+~]/,oe=new RegExp("\\\\[\\da-fA-F]{1,6}"+V+"?|\\\\([^\\r\\n\\f])","g"),ie=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,ae=be(function(e){return!0===e.disabled&&"fieldset"===e.nodeName.toLowerCase()},{dir:"parentNode",next:"legend"});try{L.apply(t=B.call(g.childNodes),g.childNodes),t[g.childNodes.length].nodeType}catch(e){L={apply:t.length?function(e,t){N.apply(e,B.call(t))}:function(e,t){for(var r=e.length,n=0;e[r++]=t[n++];);e.length=r-1}}}function le(e,t,r,n){var o,i,a,l,s,c,u=t&&t.ownerDocument,p=t?t.nodeType:9;if(r=r||[],"string"!=typeof e||!e||1!==p&&9!==p&&11!==p)return r;if(!n&&(S(t),t=t||E,k)){if(11!==p&&(l=re.exec(e)))if(c=l[1]){if(9===p){if(!(i=t.getElementById(c)))return r;if(i.id===c)return r.push(i),r}else if(u&&(i=u.getElementById(c))&&b(t,i)&&i.id===c)return r.push(i),r}else{if(l[2])return L.apply(r,t.getElementsByTagName(e)),r;if((c=l[3])&&d.getElementsByClassName&&t.getElementsByClassName)return L.apply(r,t.getElementsByClassName(c)),r}if(d.qsa&&!R[e+" "]&&(!v||!v.test(e))&&(1!==p||"object"!==t.nodeName.toLowerCase())){if(c=e,u=t,1===p&&($.test(e)||K.test(e))){for((u=ne.test(e)&&ye(t.parentNode)||t)===t&&d.scope||((a=t.getAttribute("id"))?a=a.replace(ie,f):t.setAttribute("id",a=j)),o=(s=h(e)).length;o--;)s[o]=(a?"#"+a:":scope")+" "+ve(s[o]);c=s.join(",")}try{return L.apply(r,u.querySelectorAll(c)),r}catch(t){R(e,!0)}finally{a===j&&t.removeAttribute("id")}}}return m(e.replace(W,"$1"),t,r,n)}function se(){var r=[];function n(e,t){return r.push(e+" ")>O.cacheLength&&delete n[r.shift()],n[e+" "]=t}return n}function ce(e){return e[j]=!0,e}function ue(e){var t=E.createElement("fieldset");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t)}}function pe(e,t){for(var r=e.split("|"),n=r.length;n--;)O.attrHandle[r[n]]=t}function fe(e,t){var r=t&&e,n=r&&1===e.nodeType&&1===t.nodeType&&e.sourceIndex-t.sourceIndex;if(n)return n;if(r)for(;r=r.nextSibling;)if(r===t)return-1;return e?1:-1}function de(t){return function(e){return"form"in e?e.parentNode&&!1===e.disabled?"label"in e?"label"in e.parentNode?e.parentNode.disabled===t:e.disabled===t:e.isDisabled===t||e.isDisabled!==!t&&ae(e)===t:e.disabled===t:"label"in e&&e.disabled===t}}function he(a){return ce(function(i){return i=+i,ce(function(e,t){for(var r,n=a([],e.length,i),o=n.length;o--;)e[r=n[o]]&&(e[r]=!(t[r]=e[r]))})})}function ye(e){return e&&void 0!==e.getElementsByTagName&&e}for(e in d=le.support={},o=le.isXML=function(e){var t=e.namespaceURI,e=(e.ownerDocument||e).documentElement;return!Q.test(t||e&&e.nodeName||"HTML")},S=le.setDocument=function(e){var t;return(e=e?e.ownerDocument||e:g)!=E&&9===e.nodeType&&e.documentElement&&(a=(E=e).documentElement,k=!o(E),g!=E&&(t=E.defaultView)&&t.top!==t&&(t.addEventListener?t.addEventListener("unload",n,!1):t.attachEvent&&t.attachEvent("onunload",n)),d.scope=ue(function(e){return a.appendChild(e).appendChild(E.createElement("div")),void 0!==e.querySelectorAll&&!e.querySelectorAll(":scope fieldset div").length}),d.attributes=ue(function(e){return e.className="i",!e.getAttribute("className")}),d.getElementsByTagName=ue(function(e){return e.appendChild(E.createComment("")),!e.getElementsByTagName("*").length}),d.getElementsByClassName=te.test(E.getElementsByClassName),d.getById=ue(function(e){return a.appendChild(e).id=j,!E.getElementsByName||!E.getElementsByName(j).length}),d.getById?(O.filter.ID=function(e){var t=e.replace(oe,p);return function(e){return e.getAttribute("id")===t}},O.find.ID=function(e,t){if(void 0!==t.getElementById&&k)return(e=t.getElementById(e))?[e]:[]}):(O.filter.ID=function(e){var t=e.replace(oe,p);return function(e){return(e=void 0!==e.getAttributeNode&&e.getAttributeNode("id"))&&e.value===t}},O.find.ID=function(e,t){if(void 0!==t.getElementById&&k){var r,n,o,i=t.getElementById(e);if(i){if((r=i.getAttributeNode("id"))&&r.value===e)return[i];for(o=t.getElementsByName(e),n=0;i=o[n++];)if((r=i.getAttributeNode("id"))&&r.value===e)return[i]}return[]}}),O.find.TAG=d.getElementsByTagName?function(e,t){return void 0!==t.getElementsByTagName?t.getElementsByTagName(e):d.qsa?t.querySelectorAll(e):void 0}:function(e,t){var r,n=[],o=0,i=t.getElementsByTagName(e);if("*"!==e)return i;for(;r=i[o++];)1===r.nodeType&&n.push(r);return n},O.find.CLASS=d.getElementsByClassName&&function(e,t){if(void 0!==t.getElementsByClassName&&k)return t.getElementsByClassName(e)},l=[],v=[],(d.qsa=te.test(E.querySelectorAll))&&(ue(function(e){var t;a.appendChild(e).innerHTML="<a id='"+j+"'></a><select id='"+j+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&v.push("[*^$]="+V+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||v.push("\\["+V+"*(?:value|"+M+")"),e.querySelectorAll("[id~="+j+"-]").length||v.push("~="),(t=E.createElement("input")).setAttribute("name",""),e.appendChild(t),e.querySelectorAll("[name='']").length||v.push("\\["+V+"*name"+V+"*="+V+"*(?:''|\"\")"),e.querySelectorAll(":checked").length||v.push(":checked"),e.querySelectorAll("a#"+j+"+*").length||v.push(".#.+[+~]"),e.querySelectorAll("\\\f"),v.push("[\\r\\n\\f]")}),ue(function(e){e.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var t=E.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&v.push("name"+V+"*[*^$|!~]?="),2!==e.querySelectorAll(":enabled").length&&v.push(":enabled",":disabled"),a.appendChild(e).disabled=!0,2!==e.querySelectorAll(":disabled").length&&v.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),v.push(",.*:")})),(d.matchesSelector=te.test(u=a.matches||a.webkitMatchesSelector||a.mozMatchesSelector||a.oMatchesSelector||a.msMatchesSelector))&&ue(function(e){d.disconnectedMatch=u.call(e,"*"),u.call(e,"[s!='']:x"),l.push("!=",z)}),v=v.length&&new RegExp(v.join("|")),l=l.length&&new RegExp(l.join("|")),t=te.test(a.compareDocumentPosition),b=t||te.test(a.contains)?function(e,t){var r=9===e.nodeType?e.documentElement:e;return e===(t=t&&t.parentNode)||!(!t||1!==t.nodeType||!(r.contains?r.contains(t):e.compareDocumentPosition&&16&e.compareDocumentPosition(t)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},F=t?function(e,t){return e===t?(c=!0,0):(r=!e.compareDocumentPosition-!t.compareDocumentPosition)||(1&(r=(e.ownerDocument||e)==(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!d.sortDetached&&t.compareDocumentPosition(e)===r?e==E||e.ownerDocument==g&&b(g,e)?-1:t==E||t.ownerDocument==g&&b(g,t)?1:s?w(s,e)-w(s,t):0:4&r?-1:1);var r}:function(e,t){if(e===t)return c=!0,0;var r,n=0,o=e.parentNode,i=t.parentNode,a=[e],l=[t];if(!o||!i)return e==E?-1:t==E?1:o?-1:i?1:s?w(s,e)-w(s,t):0;if(o===i)return fe(e,t);for(r=e;r=r.parentNode;)a.unshift(r);for(r=t;r=r.parentNode;)l.unshift(r);for(;a[n]===l[n];)n++;return n?fe(a[n],l[n]):a[n]==g?-1:l[n]==g?1:0}),E},le.matches=function(e,t){return le(e,null,null,t)},le.matchesSelector=function(e,t){if(S(e),d.matchesSelector&&k&&!R[t+" "]&&(!l||!l.test(t))&&(!v||!v.test(t)))try{var r=u.call(e,t);if(r||d.disconnectedMatch||e.document&&11!==e.document.nodeType)return r}catch(e){R(t,!0)}return 0<le(t,E,null,[e]).length},le.contains=function(e,t){return(e.ownerDocument||e)!=E&&S(e),b(e,t)},le.attr=function(e,t){(e.ownerDocument||e)!=E&&S(e);var r=O.attrHandle[t.toLowerCase()];return void 0!==(r=r&&A.call(O.attrHandle,t.toLowerCase())?r(e,t,!k):void 0)?r:d.attributes||!k?e.getAttribute(t):(r=e.getAttributeNode(t))&&r.specified?r.value:null},le.escape=function(e){return(e+"").replace(ie,f)},le.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},le.uniqueSort=function(e){var t,r=[],n=0,o=0;if(c=!d.detectDuplicates,s=!d.sortStable&&e.slice(0),e.sort(F),c){for(;t=e[o++];)t===e[o]&&(n=r.push(o));for(;n--;)e.splice(r[n],1)}return s=null,e},i=le.getText=function(e){var t,r="",n=0,o=e.nodeType;if(o){if(1===o||9===o||11===o){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)r+=i(e)}else if(3===o||4===o)return e.nodeValue}else for(;t=e[n++];)r+=i(t);return r},(O=le.selectors={cacheLength:50,createPseudo:ce,match:X,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(oe,p),e[3]=(e[3]||e[4]||e[5]||"").replace(oe,p),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||le.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&le.error(e[0]),e},PSEUDO:function(e){var t,r=!e[6]&&e[2];return X.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":r&&J.test(r)&&(t=h(r,!0))&&(t=r.indexOf(")",r.length-t)-r.length)&&(e[0]=e[0].slice(0,t),e[2]=r.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(oe,p).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=T[e+" "];return t||(t=new RegExp("(^|"+V+")"+e+"("+V+"|$)"))&&T(e,function(e){return t.test("string"==typeof e.className&&e.className||void 0!==e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(t,r,n){return function(e){return null==(e=le.attr(e,t))?"!="===r:!r||(e+="","="===r?e===n:"!="===r?e!==n:"^="===r?n&&0===e.indexOf(n):"*="===r?n&&-1<e.indexOf(n):"$="===r?n&&e.slice(-n.length)===n:"~="===r?-1<(" "+e.replace(H," ")+" ").indexOf(n):"|="===r&&(e===n||e.slice(0,n.length+1)===n+"-"))}},CHILD:function(h,e,t,y,m){var v="nth"!==h.slice(0,3),b="last"!==h.slice(-4),g="of-type"===e;return 1===y&&0===m?function(e){return!!e.parentNode}:function(e,t,r){var n,o,i,a,l,s,c=v!=b?"nextSibling":"previousSibling",u=e.parentNode,p=g&&e.nodeName.toLowerCase(),f=!r&&!g,d=!1;if(u){if(v){for(;c;){for(a=e;a=a[c];)if(g?a.nodeName.toLowerCase()===p:1===a.nodeType)return!1;s=c="only"===h&&!s&&"nextSibling"}return!0}if(s=[b?u.firstChild:u.lastChild],b&&f){for(d=(l=(n=(o=(i=(a=u)[j]||(a[j]={}))[a.uniqueID]||(i[a.uniqueID]={}))[h]||[])[0]===x&&n[1])&&n[2],a=l&&u.childNodes[l];a=++l&&a&&a[c]||(d=l=0)||s.pop();)if(1===a.nodeType&&++d&&a===e){o[h]=[x,l,d];break}}else if(!1===(d=f?l=(n=(o=(i=(a=e)[j]||(a[j]={}))[a.uniqueID]||(i[a.uniqueID]={}))[h]||[])[0]===x&&n[1]:d))for(;(a=++l&&a&&a[c]||(d=l=0)||s.pop())&&((g?a.nodeName.toLowerCase()!==p:1!==a.nodeType)||!++d||(f&&((o=(i=a[j]||(a[j]={}))[a.uniqueID]||(i[a.uniqueID]={}))[h]=[x,d]),a!==e)););return(d-=m)===y||d%y==0&&0<=d/y}}},PSEUDO:function(e,i){var t,a=O.pseudos[e]||O.setFilters[e.toLowerCase()]||le.error("unsupported pseudo: "+e);return a[j]?a(i):1<a.length?(t=[e,e,"",i],O.setFilters.hasOwnProperty(e.toLowerCase())?ce(function(e,t){for(var r,n=a(e,i),o=n.length;o--;)e[r=w(e,n[o])]=!(t[r]=n[o])}):function(e){return a(e,0,t)}):a}},pseudos:{not:ce(function(e){var n=[],o=[],l=y(e.replace(W,"$1"));return l[j]?ce(function(e,t,r,n){for(var o,i=l(e,null,n,[]),a=e.length;a--;)(o=i[a])&&(e[a]=!(t[a]=o))}):function(e,t,r){return n[0]=e,l(n,null,r,o),n[0]=null,!o.pop()}}),has:ce(function(t){return function(e){return 0<le(t,e).length}}),contains:ce(function(t){return t=t.replace(oe,p),function(e){return-1<(e.textContent||i(e)).indexOf(t)}}),lang:ce(function(r){return Y.test(r||"")||le.error("unsupported lang: "+r),r=r.replace(oe,p).toLowerCase(),function(e){var t;do{if(t=k?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return(t=t.toLowerCase())===r||0===t.indexOf(r+"-")}while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var t=r.location&&r.location.hash;return t&&t.slice(1)===e.id},root:function(e){return e===a},focus:function(e){return e===E.activeElement&&(!E.hasFocus||E.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:de(!1),disabled:de(!0),checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!O.pseudos.empty(e)},header:function(e){return ee.test(e.nodeName)},input:function(e){return Z.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(e=e.getAttribute("type"))||"text"===e.toLowerCase())},first:he(function(){return[0]}),last:he(function(e,t){return[t-1]}),eq:he(function(e,t,r){return[r<0?r+t:r]}),even:he(function(e,t){for(var r=0;r<t;r+=2)e.push(r);return e}),odd:he(function(e,t){for(var r=1;r<t;r+=2)e.push(r);return e}),lt:he(function(e,t,r){for(var n=r<0?r+t:t<r?t:r;0<=--n;)e.push(n);return e}),gt:he(function(e,t,r){for(var n=r<0?r+t:r;++n<t;)e.push(n);return e})}}).pseudos.nth=O.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})O.pseudos[e]=function(t){return function(e){return"input"===e.nodeName.toLowerCase()&&e.type===t}}(e);for(e in{submit:!0,reset:!0})O.pseudos[e]=function(r){return function(e){var t=e.nodeName.toLowerCase();return("input"===t||"button"===t)&&e.type===r}}(e);function me(){}function ve(e){for(var t=0,r=e.length,n="";t<r;t++)n+=e[t].value;return n}function be(a,e,t){var l=e.dir,s=e.next,c=s||l,u=t&&"parentNode"===c,p=P++;return e.first?function(e,t,r){for(;e=e[l];)if(1===e.nodeType||u)return a(e,t,r);return!1}:function(e,t,r){var n,o,i=[x,p];if(r){for(;e=e[l];)if((1===e.nodeType||u)&&a(e,t,r))return!0}else for(;e=e[l];)if(1===e.nodeType||u)if(n=(o=e[j]||(e[j]={}))[e.uniqueID]||(o[e.uniqueID]={}),s&&s===e.nodeName.toLowerCase())e=e[l]||e;else{if((o=n[c])&&o[0]===x&&o[1]===p)return i[2]=o[2];if((n[c]=i)[2]=a(e,t,r))return!0}return!1}}function ge(o){return 1<o.length?function(e,t,r){for(var n=o.length;n--;)if(!o[n](e,t,r))return!1;return!0}:o[0]}function we(e,t,r,n,o){for(var i,a=[],l=0,s=e.length,c=null!=t;l<s;l++)(i=e[l])&&(r&&!r(i,n,o)||(a.push(i),c&&t.push(l)));return a}return me.prototype=O.filters=O.pseudos,O.setFilters=new me,h=le.tokenize=function(e,t){var r,n,o,i,a,l,s,c=_[e+" "];if(c)return t?0:c.slice(0);for(a=e,l=[],s=O.preFilter;a;){for(i in r&&!(n=G.exec(a))||(n&&(a=a.slice(n[0].length)||a),l.push(o=[])),r=!1,(n=K.exec(a))&&(r=n.shift(),o.push({value:r,type:n[0].replace(W," ")}),a=a.slice(r.length)),O.filter)!(n=X[i].exec(a))||s[i]&&!(n=s[i](n))||(r=n.shift(),o.push({value:r,type:i,matches:n}),a=a.slice(r.length));if(!r)break}return t?a.length:a?le.error(e):_(e,l).slice(0)},y=le.compile=function(e,t){var r,m,v,b,g,n=[],o=[],i=D[e+" "];if(!i){for(r=(t=t||h(e)).length;r--;)((i=function e(t){for(var n,r,o,i=t.length,a=O.relative[t[0].type],l=a||O.relative[" "],s=a?1:0,c=be(function(e){return e===n},l,!0),u=be(function(e){return-1<w(n,e)},l,!0),p=[function(e,t,r){return r=!a&&(r||t!==C)||((n=t).nodeType?c:u)(e,t,r),n=null,r}];s<i;s++)if(r=O.relative[t[s].type])p=[be(ge(p),r)];else{if((r=O.filter[t[s].type].apply(null,t[s].matches))[j]){for(o=++s;o<i&&!O.relative[t[o].type];o++);return function e(d,h,y,m,v,t){return m&&!m[j]&&(m=e(m)),v&&!v[j]&&(v=e(v,t)),ce(function(e,t,r,n){var o,i,a,l=[],s=[],c=t.length,u=e||function(e,t,r){for(var n=0,o=t.length;n<o;n++)le(e,t[n],r);return r}(h||"*",r.nodeType?[r]:r,[]),p=!d||!e&&h?u:we(u,l,d,r,n),f=y?v||(e?d:c||m)?[]:t:p;if(y&&y(p,f,r,n),m)for(o=we(f,s),m(o,[],r,n),i=o.length;i--;)(a=o[i])&&(f[s[i]]=!(p[s[i]]=a));if(e){if(v||d){if(v){for(o=[],i=f.length;i--;)(a=f[i])&&o.push(p[i]=a);v(null,f=[],o,n)}for(i=f.length;i--;)(a=f[i])&&-1<(o=v?w(e,a):l[i])&&(e[o]=!(t[o]=a))}}else f=we(f===t?f.splice(c,f.length):f),v?v(null,t,f,n):L.apply(t,f)})}(1<s&&ge(p),1<s&&ve(t.slice(0,s-1).concat({value:" "===t[s-2].type?"*":""})).replace(W,"$1"),r,s<o&&e(t.slice(s,o)),o<i&&e(t=t.slice(o)),o<i&&ve(t))}p.push(r)}return ge(p)}(t[r]))[j]?n:o).push(i);(i=D(e,(m=o,b=0<(v=n).length,g=0<m.length,b?ce(a):a))).selector=e}function a(e,t,r,n,o){var i,a,l,s=0,c="0",u=e&&[],p=[],f=C,d=e||g&&O.find.TAG("*",o),h=x+=null==f?1:Math.random()||.1,y=d.length;for(o&&(C=t==E||t||o);c!==y&&null!=(i=d[c]);c++){if(g&&i){for(a=0,t||i.ownerDocument==E||(S(i),r=!k);l=m[a++];)if(l(i,t||E,r)){n.push(i);break}o&&(x=h)}b&&((i=!l&&i)&&s--,e&&u.push(i))}if(s+=c,b&&c!==s){for(a=0;l=v[a++];)l(u,p,t,r);if(e){if(0<s)for(;c--;)u[c]||p[c]||(p[c]=I.call(n));p=we(p)}L.apply(n,p),o&&!e&&0<p.length&&1<s+v.length&&le.uniqueSort(n)}return o&&(x=h,C=f),u}return i},m=le.select=function(e,t,r,n){var o,i,a,l,s,c="function"==typeof e&&e,u=!n&&h(e=c.selector||e);if(r=r||[],1===u.length){if(2<(i=u[0]=u[0].slice(0)).length&&"ID"===(a=i[0]).type&&9===t.nodeType&&k&&O.relative[i[1].type]){if(!(t=(O.find.ID(a.matches[0].replace(oe,p),t)||[])[0]))return r;c&&(t=t.parentNode),e=e.slice(i.shift().value.length)}for(o=X.needsContext.test(e)?0:i.length;o--&&(a=i[o],!O.relative[l=a.type]);)if((s=O.find[l])&&(n=s(a.matches[0].replace(oe,p),ne.test(i[0].type)&&ye(t.parentNode)||t))){if(i.splice(o,1),!(e=n.length&&ve(i)))return L.apply(r,n),r;break}}return(c||y(e,u))(n,t,!k,r,!t||ne.test(e)&&ye(t.parentNode)||t),r},d.sortStable=j.split("").sort(F).join("")===j,d.detectDuplicates=!!c,S(),d.sortDetached=ue(function(e){return 1&e.compareDocumentPosition(E.createElement("fieldset"))}),ue(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||pe("type|href|height|width",function(e,t,r){if(!r)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),d.attributes&&ue(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||pe("value",function(e,t,r){if(!r&&"input"===e.nodeName.toLowerCase())return e.defaultValue}),ue(function(e){return null==e.getAttribute("disabled")})||pe(M,function(e,t,r){if(!r)return!0===e[t]?t.toLowerCase():(t=e.getAttributeNode(t))&&t.specified?t.value:null}),le}(C);function d(e,t,r){for(var n=[],o=void 0!==r;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(o&&E(e).is(r))break;n.push(e)}return n}function O(e,t){for(var r=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&r.push(e);return r}E.find=f,E.expr=f.selectors,E.expr[":"]=E.expr.pseudos,E.uniqueSort=E.unique=f.uniqueSort,E.text=f.getText,E.isXMLDoc=f.isXML,E.contains=f.contains,E.escapeSelector=f.escape;var k=E.expr.match.needsContext;function j(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()}var x=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function P(e,r,n){return y(r)?E.grep(e,function(e,t){return!!r.call(e,t,e)!==n}):r.nodeType?E.grep(e,function(e){return e===r!==n}):"string"!=typeof r?E.grep(e,function(e){return-1<o.call(r,e)!==n}):E.filter(r,e,n)}E.filter=function(e,t,r){var n=t[0];return r&&(e=":not("+e+")"),1===t.length&&1===n.nodeType?E.find.matchesSelector(n,e)?[n]:[]:E.find.matches(e,E.grep(t,function(e){return 1===e.nodeType}))},E.fn.extend({find:function(e){var t,r,n=this.length,o=this;if("string"!=typeof e)return this.pushStack(E(e).filter(function(){for(t=0;t<n;t++)if(E.contains(o[t],this))return!0}));for(r=this.pushStack([]),t=0;t<n;t++)E.find(e,o[t],r);return 1<n?E.uniqueSort(r):r},filter:function(e){return this.pushStack(P(this,e||[],!1))},not:function(e){return this.pushStack(P(this,e||[],!0))},is:function(e){return!!P(this,"string"==typeof e&&k.test(e)?E(e):e||[],!1).length}});var T=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(E.fn.init=function(e,t,r){if(!e)return this;if(r=r||_,"string"!=typeof e)return e.nodeType?(this[0]=e,this.length=1,this):y(e)?void 0!==r.ready?r.ready(e):e(E):E.makeArray(e,this);if(!(n="<"===e[0]&&">"===e[e.length-1]&&3<=e.length?[null,e,null]:T.exec(e))||!n[1]&&t)return(!t||t.jquery?t||r:this.constructor(t)).find(e);if(n[1]){if(t=t instanceof E?t[0]:t,E.merge(this,E.parseHTML(n[1],t&&t.nodeType?t.ownerDocument||t:S,!0)),x.test(n[1])&&E.isPlainObject(t))for(var n in t)y(this[n])?this[n](t[n]):this.attr(n,t[n]);return this}return(e=S.getElementById(n[2]))&&(this[0]=e,this.length=1),this}).prototype=E.fn;var _=E(S),D=/^(?:parents|prev(?:Until|All))/,R={children:!0,contents:!0,next:!0,prev:!0};function F(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}E.fn.extend({has:function(e){var t=E(e,this),r=t.length;return this.filter(function(){for(var e=0;e<r;e++)if(E.contains(this,t[e]))return!0})},closest:function(e,t){var r,n=0,o=this.length,i=[],a="string"!=typeof e&&E(e);if(!k.test(e))for(;n<o;n++)for(r=this[n];r&&r!==t;r=r.parentNode)if(r.nodeType<11&&(a?-1<a.index(r):1===r.nodeType&&E.find.matchesSelector(r,e))){i.push(r);break}return this.pushStack(1<i.length?E.uniqueSort(i):i)},index:function(e){return e?"string"==typeof e?o.call(E(e),this[0]):o.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(E.uniqueSort(E.merge(this.get(),E(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),E.each({parent:function(e){return(e=e.parentNode)&&11!==e.nodeType?e:null},parents:function(e){return d(e,"parentNode")},parentsUntil:function(e,t,r){return d(e,"parentNode",r)},next:function(e){return F(e,"nextSibling")},prev:function(e){return F(e,"previousSibling")},nextAll:function(e){return d(e,"nextSibling")},prevAll:function(e){return d(e,"previousSibling")},nextUntil:function(e,t,r){return d(e,"nextSibling",r)},prevUntil:function(e,t,r){return d(e,"previousSibling",r)},siblings:function(e){return O((e.parentNode||{}).firstChild,e)},children:function(e){return O(e.firstChild)},contents:function(e){return null!=e.contentDocument&&r(e.contentDocument)?e.contentDocument:(j(e,"template")&&(e=e.content||e),E.merge([],e.childNodes))}},function(n,o){E.fn[n]=function(e,t){var r=E.map(this,o,e);return(t="Until"!==n.slice(-5)?e:t)&&"string"==typeof t&&(r=E.filter(t,r)),1<this.length&&(R[n]||E.uniqueSort(r),D.test(n)&&r.reverse()),this.pushStack(r)}});var A=/[^\x20\t\r\n\f]+/g;function I(e){return e}function N(e){throw e}function L(e,t,r,n){var o;try{e&&y(o=e.promise)?o.call(e).done(t).fail(r):e&&y(o=e.then)?o.call(e,t,r):t.apply(void 0,[e].slice(n))}catch(e){r.apply(void 0,[e])}}E.Callbacks=function(n){var e,r;function o(){for(l=l||n.once,a=i=!0;c.length;u=-1)for(t=c.shift();++u<s.length;)!1===s[u].apply(t[0],t[1])&&n.stopOnFalse&&(u=s.length,t=!1);n.memory||(t=!1),i=!1,l&&(s=t?[]:"")}n="string"==typeof n?(e=n,r={},E.each(e.match(A)||[],function(e,t){r[t]=!0}),r):E.extend({},n);var i,t,a,l,s=[],c=[],u=-1,p={add:function(){return s&&(t&&!i&&(u=s.length-1,c.push(t)),function r(e){E.each(e,function(e,t){y(t)?n.unique&&p.has(t)||s.push(t):t&&t.length&&"string"!==h(t)&&r(t)})}(arguments),t&&!i&&o()),this},remove:function(){return E.each(arguments,function(e,t){for(var r;-1<(r=E.inArray(t,s,r));)s.splice(r,1),r<=u&&u--}),this},has:function(e){return e?-1<E.inArray(e,s):0<s.length},empty:function(){return s=s&&[],this},disable:function(){return l=c=[],s=t="",this},disabled:function(){return!s},lock:function(){return l=c=[],t||i||(s=t=""),this},locked:function(){return!!l},fireWith:function(e,t){return l||(t=[e,(t=t||[]).slice?t.slice():t],c.push(t),i||o()),this},fire:function(){return p.fireWith(this,arguments),this},fired:function(){return!!a}};return p},E.extend({Deferred:function(e){var i=[["notify","progress",E.Callbacks("memory"),E.Callbacks("memory"),2],["resolve","done",E.Callbacks("once memory"),E.Callbacks("once memory"),0,"resolved"],["reject","fail",E.Callbacks("once memory"),E.Callbacks("once memory"),1,"rejected"]],o="pending",a={state:function(){return o},always:function(){return l.done(arguments).fail(arguments),this},catch:function(e){return a.then(null,e)},pipe:function(){var o=arguments;return E.Deferred(function(n){E.each(i,function(e,t){var r=y(o[t[4]])&&o[t[4]];l[t[1]](function(){var e=r&&r.apply(this,arguments);e&&y(e.promise)?e.promise().progress(n.notify).done(n.resolve).fail(n.reject):n[t[0]+"With"](this,r?[e]:arguments)})}),o=null}).promise()},then:function(t,r,n){var s=0;function c(o,i,a,l){return function(){function e(){var e,t;if(!(o<s)){if((e=a.apply(r,n))===i.promise())throw new TypeError("Thenable self-resolution");y(t=e&&("object"==Pu(e)||"function"==typeof e)&&e.then)?l?t.call(e,c(s,i,I,l),c(s,i,N,l)):(s++,t.call(e,c(s,i,I,l),c(s,i,N,l),c(s,i,I,i.notifyWith))):(a!==I&&(r=void 0,n=[e]),(l||i.resolveWith)(r,n))}}var r=this,n=arguments,t=l?e:function(){try{e()}catch(e){E.Deferred.exceptionHook&&E.Deferred.exceptionHook(e,t.stackTrace),s<=o+1&&(a!==N&&(r=void 0,n=[e]),i.rejectWith(r,n))}};o?t():(E.Deferred.getStackHook&&(t.stackTrace=E.Deferred.getStackHook()),C.setTimeout(t))}}return E.Deferred(function(e){i[0][3].add(c(0,e,y(n)?n:I,e.notifyWith)),i[1][3].add(c(0,e,y(t)?t:I)),i[2][3].add(c(0,e,y(r)?r:N))}).promise()},promise:function(e){return null!=e?E.extend(e,a):a}},l={};return E.each(i,function(e,t){var r=t[2],n=t[5];a[t[1]]=r.add,n&&r.add(function(){o=n},i[3-e][2].disable,i[3-e][3].disable,i[0][2].lock,i[0][3].lock),r.add(t[3].fire),l[t[0]]=function(){return l[t[0]+"With"](this===l?void 0:this,arguments),this},l[t[0]+"With"]=r.fireWith}),a.promise(l),e&&e.call(l,l),l},when:function(e){function t(t){return function(e){o[t]=this,i[t]=1<arguments.length?l.call(arguments):e,--r||a.resolveWith(o,i)}}var r=arguments.length,n=r,o=Array(n),i=l.call(arguments),a=E.Deferred();if(r<=1&&(L(e,a.done(t(n)).resolve,a.reject,!r),"pending"===a.state()||y(i[n]&&i[n].then)))return a.then();for(;n--;)L(i[n],t(n),a.reject);return a.promise()}});var B=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;E.Deferred.exceptionHook=function(e,t){C.console&&C.console.warn&&e&&B.test(e.name)&&C.console.warn("jQuery.Deferred exception: "+e.message,e.stack,t)},E.readyException=function(e){C.setTimeout(function(){throw e})};var M=E.Deferred();function V(){S.removeEventListener("DOMContentLoaded",V),C.removeEventListener("load",V),E.ready()}function U(e,t,r,n,o,i,a){var l=0,s=e.length,c=null==r;if("object"===h(r))for(l in o=!0,r)U(e,t,l,r[l],!0,i,a);else if(void 0!==n&&(o=!0,y(n)||(a=!0),t=c?a?(t.call(e,n),null):(c=t,function(e,t,r){return c.call(E(e),r)}):t))for(;l<s;l++)t(e[l],r,a?n:n.call(e[l],l,t(e[l],r)));return o?e:c?t.call(e):s?t(e[0],r):i}E.fn.ready=function(e){return M.then(e).catch(function(e){E.readyException(e)}),this},E.extend({isReady:!1,readyWait:1,ready:function(e){(!0===e?--E.readyWait:E.isReady)||(E.isReady=!0)!==e&&0<--E.readyWait||M.resolveWith(S,[E])}}),E.ready.then=M.then,"complete"===S.readyState||"loading"!==S.readyState&&!S.documentElement.doScroll?C.setTimeout(E.ready):(S.addEventListener("DOMContentLoaded",V),C.addEventListener("load",V));var q=/^-ms-/,z=/-([a-z])/g;function H(e,t){return t.toUpperCase()}function W(e){return e.replace(q,"ms-").replace(z,H)}function G(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType}function K(){this.expando=E.expando+K.uid++}K.uid=1,K.prototype={cache:function(e){var t=e[this.expando];return t||(t=Object.create(null),G(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,r){var n,o=this.cache(e);if("string"==typeof t)o[W(t)]=r;else for(n in t)o[W(n)]=t[n];return o},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][W(t)]},access:function(e,t,r){return void 0===t||t&&"string"==typeof t&&void 0===r?this.get(e,t):(this.set(e,t,r),void 0!==r?r:t)},remove:function(e,t){var r,n=e[this.expando];if(void 0!==n){if(void 0!==t){r=(t=Array.isArray(t)?t.map(W):(t=W(t))in n?[t]:t.match(A)||[]).length;for(;r--;)delete n[t[r]]}void 0!==t&&!E.isEmptyObject(n)||(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){return void 0!==(e=e[this.expando])&&!E.isEmptyObject(e)}};var $=new K,J=new K,Y=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,X=/[A-Z]/g;function Q(e,t,r){var n,o;if(void 0===r&&1===e.nodeType)if(n="data-"+t.replace(X,"-$&").toLowerCase(),"string"==typeof(r=e.getAttribute(n))){try{r="true"===(o=r)||"false"!==o&&("null"===o?null:o===+o+""?+o:Y.test(o)?JSON.parse(o):o)}catch(e){}J.set(e,t,r)}else r=void 0;return r}E.extend({hasData:function(e){return J.hasData(e)||$.hasData(e)},data:function(e,t,r){return J.access(e,t,r)},removeData:function(e,t){J.remove(e,t)},_data:function(e,t,r){return $.access(e,t,r)},_removeData:function(e,t){$.remove(e,t)}}),E.fn.extend({data:function(r,e){var t,n,o,i=this[0],a=i&&i.attributes;if(void 0!==r)return"object"==Pu(r)?this.each(function(){J.set(this,r)}):U(this,function(e){var t;return i&&void 0===e?void 0!==(t=J.get(i,r))||void 0!==(t=Q(i,r))?t:void 0:void this.each(function(){J.set(this,r,e)})},null,e,1<arguments.length,null,!0);if(this.length&&(o=J.get(i),1===i.nodeType&&!$.get(i,"hasDataAttrs"))){for(t=a.length;t--;)a[t]&&0===(n=a[t].name).indexOf("data-")&&(n=W(n.slice(5)),Q(i,n,o[n]));$.set(i,"hasDataAttrs",!0)}return o},removeData:function(e){return this.each(function(){J.remove(this,e)})}}),E.extend({queue:function(e,t,r){var n;if(e)return n=$.get(e,t=(t||"fx")+"queue"),r&&(!n||Array.isArray(r)?n=$.access(e,t,E.makeArray(r)):n.push(r)),n||[]},dequeue:function(e,t){t=t||"fx";var r=E.queue(e,t),n=r.length,o=r.shift(),i=E._queueHooks(e,t);"inprogress"===o&&(o=r.shift(),n--),o&&("fx"===t&&r.unshift("inprogress"),delete i.stop,o.call(e,function(){E.dequeue(e,t)},i)),!n&&i&&i.empty.fire()},_queueHooks:function(e,t){var r=t+"queueHooks";return $.get(e,r)||$.access(e,r,{empty:E.Callbacks("once memory").add(function(){$.remove(e,[t+"queue",r])})})}}),E.fn.extend({queue:function(t,r){var e=2;return"string"!=typeof t&&(r=t,t="fx",e--),arguments.length<e?E.queue(this[0],t):void 0===r?this:this.each(function(){var e=E.queue(this,t,r);E._queueHooks(this,t),"fx"===t&&"inprogress"!==e[0]&&E.dequeue(this,t)})},dequeue:function(e){return this.each(function(){E.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){function r(){--o||i.resolveWith(a,[a])}var n,o=1,i=E.Deferred(),a=this,l=this.length;for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";l--;)(n=$.get(a[l],e+"queueHooks"))&&n.empty&&(o++,n.empty.add(r));return r(),i.promise(t)}});var Z=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,ee=new RegExp("^(?:([+-])=|)("+Z+")([a-z%]*)$","i"),te=["Top","Right","Bottom","Left"],re=S.documentElement,ne=function(e){return E.contains(e.ownerDocument,e)},oe={composed:!0};function ie(e,t){return"none"===(e=t||e).style.display||""===e.style.display&&ne(e)&&"none"===E.css(e,"display")}function ae(e,t,r,n){var o,i,a=20,l=n?function(){return n.cur()}:function(){return E.css(e,t,"")},s=l(),c=r&&r[3]||(E.cssNumber[t]?"":"px"),u=e.nodeType&&(E.cssNumber[t]||"px"!==c&&+s)&&ee.exec(E.css(e,t));if(u&&u[3]!==c){for(c=c||u[3],u=+(s/=2)||1;a--;)E.style(e,t,u+c),(1-i)*(1-(i=l()/s||.5))<=0&&(a=0),u/=i;E.style(e,t,(u*=2)+c),r=r||[]}return r&&(u=+u||+s||0,o=r[1]?u+(r[1]+1)*r[2]:+r[2],n&&(n.unit=c,n.start=u,n.end=o)),o}re.getRootNode&&(ne=function(e){return E.contains(e.ownerDocument,e)||e.getRootNode(oe)===e.ownerDocument});var le={};function se(e,t){for(var r,n,o,i,a,l=[],s=0,c=e.length;s<c;s++)(n=e[s]).style&&(r=n.style.display,t?("none"===r&&(l[s]=$.get(n,"display")||null,l[s]||(n.style.display="")),""===n.style.display&&ie(n)&&(l[s]=(i=void 0,i=(o=n).ownerDocument,a=o.nodeName,(o=le[a])||(i=i.body.appendChild(i.createElement(a)),o=E.css(i,"display"),i.parentNode.removeChild(i),le[a]=o="none"===o?"block":o)))):"none"!==r&&(l[s]="none",$.set(n,"display",r)));for(s=0;s<c;s++)null!=l[s]&&(e[s].style.display=l[s]);return e}E.fn.extend({show:function(){return se(this,!0)},hide:function(){return se(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){ie(this)?E(this).show():E(this).hide()})}});var ce=/^(?:checkbox|radio)$/i,ue=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,pe=/^$|^module$|\/(?:java|ecma)script/i,fe=S.createDocumentFragment().appendChild(S.createElement("div"));(f=S.createElement("input")).setAttribute("type","radio"),f.setAttribute("checked","checked"),f.setAttribute("name","t"),fe.appendChild(f),g.checkClone=fe.cloneNode(!0).cloneNode(!0).lastChild.checked,fe.innerHTML="<textarea>x</textarea>",g.noCloneChecked=!!fe.cloneNode(!0).lastChild.defaultValue,fe.innerHTML="<option></option>",g.option=!!fe.lastChild;var de={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function he(e,t){var r=void 0!==e.getElementsByTagName?e.getElementsByTagName(t||"*"):void 0!==e.querySelectorAll?e.querySelectorAll(t||"*"):[];return void 0===t||t&&j(e,t)?E.merge([e],r):r}function ye(e,t){for(var r=0,n=e.length;r<n;r++)$.set(e[r],"globalEval",!t||$.get(t[r],"globalEval"))}de.tbody=de.tfoot=de.colgroup=de.caption=de.thead,de.th=de.td,g.option||(de.optgroup=de.option=[1,"<select multiple='multiple'>","</select>"]);var me=/<|&#?\w+;/;function ve(e,t,r,n,o){for(var i,a,l,s,c,u=t.createDocumentFragment(),p=[],f=0,d=e.length;f<d;f++)if((i=e[f])||0===i)if("object"===h(i))E.merge(p,i.nodeType?[i]:i);else if(me.test(i)){for(a=a||u.appendChild(t.createElement("div")),l=(ue.exec(i)||["",""])[1].toLowerCase(),l=de[l]||de._default,a.innerHTML=l[1]+E.htmlPrefilter(i)+l[2],c=l[0];c--;)a=a.lastChild;E.merge(p,a.childNodes),(a=u.firstChild).textContent=""}else p.push(t.createTextNode(i));for(u.textContent="",f=0;i=p[f++];)if(n&&-1<E.inArray(i,n))o&&o.push(i);else if(s=ne(i),a=he(u.appendChild(i),"script"),s&&ye(a),r)for(c=0;i=a[c++];)pe.test(i.type||"")&&r.push(i);return u}var be=/^key/,ge=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,we=/^([^.]*)(?:\.(.+)|)/;function Oe(){return!0}function Ce(){return!1}function Se(e,t){return e===function(){try{return S.activeElement}catch(e){}}()==("focus"===t)}function Ee(e,t,r,n,o,i){var a,l;if("object"==Pu(t)){for(l in"string"!=typeof r&&(n=n||r,r=void 0),t)Ee(e,l,r,n,t[l],i);return e}if(null==n&&null==o?(o=r,n=r=void 0):null==o&&("string"==typeof r?(o=n,n=void 0):(o=n,n=r,r=void 0)),!1===o)o=Ce;else if(!o)return e;return 1===i&&(a=o,(o=function(e){return E().off(e),a.apply(this,arguments)}).guid=a.guid||(a.guid=E.guid++)),e.each(function(){E.event.add(this,t,o,n,r)})}function ke(e,o,i){i?($.set(e,o,!1),E.event.add(e,o,{namespace:!1,handler:function(e){var t,r,n=$.get(this,o);if(1&e.isTrigger&&this[o]){if(n.length)(E.event.special[o]||{}).delegateType&&e.stopPropagation();else if(n=l.call(arguments),$.set(this,o,n),t=i(this,o),this[o](),n!==(r=$.get(this,o))||t?$.set(this,o,!1):r={},n!==r)return e.stopImmediatePropagation(),e.preventDefault(),r.value}else n.length&&($.set(this,o,{value:E.event.trigger(E.extend(n[0],E.Event.prototype),n.slice(1),this)}),e.stopImmediatePropagation())}})):void 0===$.get(e,o)&&E.event.add(e,o,Oe)}E.event={global:{},add:function(t,e,r,n,o){var i,a,l,s,c,u,p,f,d,h=$.get(t);if(G(t))for(r.handler&&(r=(i=r).handler,o=i.selector),o&&E.find.matchesSelector(re,o),r.guid||(r.guid=E.guid++),(l=h.events)||(l=h.events=Object.create(null)),(a=h.handle)||(a=h.handle=function(e){return void 0!==E&&E.event.triggered!==e.type?E.event.dispatch.apply(t,arguments):void 0}),s=(e=(e||"").match(A)||[""]).length;s--;)p=d=(c=we.exec(e[s])||[])[1],f=(c[2]||"").split(".").sort(),p&&(u=E.event.special[p]||{},p=(o?u.delegateType:u.bindType)||p,u=E.event.special[p]||{},c=E.extend({type:p,origType:d,data:n,handler:r,guid:r.guid,selector:o,needsContext:o&&E.expr.match.needsContext.test(o),namespace:f.join(".")},i),(d=l[p])||((d=l[p]=[]).delegateCount=0,u.setup&&!1!==u.setup.call(t,n,f,a)||t.addEventListener&&t.addEventListener(p,a)),u.add&&(u.add.call(t,c),c.handler.guid||(c.handler.guid=r.guid)),o?d.splice(d.delegateCount++,0,c):d.push(c),E.event.global[p]=!0)},remove:function(e,t,r,n,o){var i,a,l,s,c,u,p,f,d,h,y,m=$.hasData(e)&&$.get(e);if(m&&(s=m.events)){for(c=(t=(t||"").match(A)||[""]).length;c--;)if(d=y=(l=we.exec(t[c])||[])[1],h=(l[2]||"").split(".").sort(),d){for(p=E.event.special[d]||{},f=s[d=(n?p.delegateType:p.bindType)||d]||[],l=l[2]&&new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=i=f.length;i--;)u=f[i],!o&&y!==u.origType||r&&r.guid!==u.guid||l&&!l.test(u.namespace)||n&&n!==u.selector&&("**"!==n||!u.selector)||(f.splice(i,1),u.selector&&f.delegateCount--,p.remove&&p.remove.call(e,u));a&&!f.length&&(p.teardown&&!1!==p.teardown.call(e,h,m.handle)||E.removeEvent(e,d,m.handle),delete s[d])}else for(d in s)E.event.remove(e,d+t[c],r,n,!0);E.isEmptyObject(s)&&$.remove(e,"handle events")}},dispatch:function(e){var t,r,n,o,i,a=new Array(arguments.length),l=E.event.fix(e),s=($.get(this,"events")||Object.create(null))[l.type]||[],e=E.event.special[l.type]||{};for(a[0]=l,t=1;t<arguments.length;t++)a[t]=arguments[t];if(l.delegateTarget=this,!e.preDispatch||!1!==e.preDispatch.call(this,l)){for(i=E.event.handlers.call(this,l,s),t=0;(n=i[t++])&&!l.isPropagationStopped();)for(l.currentTarget=n.elem,r=0;(o=n.handlers[r++])&&!l.isImmediatePropagationStopped();)l.rnamespace&&!1!==o.namespace&&!l.rnamespace.test(o.namespace)||(l.handleObj=o,l.data=o.data,void 0!==(o=((E.event.special[o.origType]||{}).handle||o.handler).apply(n.elem,a))&&!1===(l.result=o)&&(l.preventDefault(),l.stopPropagation()));return e.postDispatch&&e.postDispatch.call(this,l),l.result}},handlers:function(e,t){var r,n,o,i,a,l=[],s=t.delegateCount,c=e.target;if(s&&c.nodeType&&!("click"===e.type&&1<=e.button))for(;c!==this;c=c.parentNode||this)if(1===c.nodeType&&("click"!==e.type||!0!==c.disabled)){for(i=[],a={},r=0;r<s;r++)void 0===a[o=(n=t[r]).selector+" "]&&(a[o]=n.needsContext?-1<E(o,this).index(c):E.find(o,this,null,[c]).length),a[o]&&i.push(n);i.length&&l.push({elem:c,handlers:i})}return c=this,s<t.length&&l.push({elem:c,handlers:t.slice(s)}),l},addProp:function(t,e){Object.defineProperty(E.Event.prototype,t,{enumerable:!0,configurable:!0,get:y(e)?function(){if(this.originalEvent)return e(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[t]},set:function(e){Object.defineProperty(this,t,{enumerable:!0,configurable:!0,writable:!0,value:e})}})},fix:function(e){return e[E.expando]?e:new E.Event(e)},special:{load:{noBubble:!0},click:{setup:function(e){return ce.test((e=this||e).type)&&e.click&&j(e,"input")&&ke(e,"click",Oe),!1},trigger:function(e){return ce.test((e=this||e).type)&&e.click&&j(e,"input")&&ke(e,"click"),!0},_default:function(e){return e=e.target,ce.test(e.type)&&e.click&&j(e,"input")&&$.get(e,"click")||j(e,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},E.removeEvent=function(e,t,r){e.removeEventListener&&e.removeEventListener(t,r)},E.Event=function(e,t){if(!(this instanceof E.Event))return new E.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?Oe:Ce,this.target=e.target&&3===e.target.nodeType?e.target.parentNode:e.target,this.currentTarget=e.currentTarget,this.relatedTarget=e.relatedTarget):this.type=e,t&&E.extend(this,t),this.timeStamp=e&&e.timeStamp||Date.now(),this[E.expando]=!0},E.Event.prototype={constructor:E.Event,isDefaultPrevented:Ce,isPropagationStopped:Ce,isImmediatePropagationStopped:Ce,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=Oe,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=Oe,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=Oe,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},E.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(e){var t=e.button;return null==e.which&&be.test(e.type)?null!=e.charCode?e.charCode:e.keyCode:!e.which&&void 0!==t&&ge.test(e.type)?1&t?1:2&t?3:4&t?2:0:e.which}},E.event.addProp),E.each({focus:"focusin",blur:"focusout"},function(e,t){E.event.special[e]={setup:function(){return ke(this,e,Se),!1},trigger:function(){return ke(this,e),!0},delegateType:t}}),E.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,o){E.event.special[e]={delegateType:o,bindType:o,handle:function(e){var t,r=e.relatedTarget,n=e.handleObj;return r&&(r===this||E.contains(this,r))||(e.type=n.origType,t=n.handler.apply(this,arguments),e.type=o),t}}}),E.fn.extend({on:function(e,t,r,n){return Ee(this,e,t,r,n)},one:function(e,t,r,n){return Ee(this,e,t,r,n,1)},off:function(e,t,r){var n,o;if(e&&e.preventDefault&&e.handleObj)return n=e.handleObj,E(e.delegateTarget).off(n.namespace?n.origType+"."+n.namespace:n.origType,n.selector,n.handler),this;if("object"!=Pu(e))return!1!==t&&"function"!=typeof t||(r=t,t=void 0),!1===r&&(r=Ce),this.each(function(){E.event.remove(this,e,r,t)});for(o in e)this.off(o,t,e[o]);return this}});var je=/<script|<style|<link/i,xe=/checked\s*(?:[^=]|=\s*.checked.)/i,Pe=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function Te(e,t){return j(e,"table")&&j(11!==t.nodeType?t:t.firstChild,"tr")&&E(e).children("tbody")[0]||e}function _e(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function De(e){return"true/"===(e.type||"").slice(0,5)?e.type=e.type.slice(5):e.removeAttribute("type"),e}function Re(e,t){var r,n,o,i;if(1===t.nodeType){if($.hasData(e)&&(i=$.get(e).events))for(o in $.remove(t,"handle events"),i)for(r=0,n=i[o].length;r<n;r++)E.event.add(t,o,i[o][r]);J.hasData(e)&&(e=J.access(e),e=E.extend({},e),J.set(t,e))}}function Fe(r,n,o,i){n=v(n);var e,t,a,l,s,c,u=0,p=r.length,f=p-1,d=n[0],h=y(d);if(h||1<p&&"string"==typeof d&&!g.checkClone&&xe.test(d))return r.each(function(e){var t=r.eq(e);h&&(n[0]=d.call(this,e,t.html())),Fe(t,n,o,i)});if(p&&(t=(e=ve(n,r[0].ownerDocument,!1,r,i)).firstChild,1===e.childNodes.length&&(e=t),t||i)){for(l=(a=E.map(he(e,"script"),_e)).length;u<p;u++)s=e,u!==f&&(s=E.clone(s,!0,!0),l&&E.merge(a,he(s,"script"))),o.call(r[u],s,u);if(l)for(c=a[a.length-1].ownerDocument,E.map(a,De),u=0;u<l;u++)s=a[u],pe.test(s.type||"")&&!$.access(s,"globalEval")&&E.contains(c,s)&&(s.src&&"module"!==(s.type||"").toLowerCase()?E._evalUrl&&!s.noModule&&E._evalUrl(s.src,{nonce:s.nonce||s.getAttribute("nonce")},c):w(s.textContent.replace(Pe,""),s,c))}return r}function Ae(e,t,r){for(var n,o=t?E.filter(t,e):e,i=0;null!=(n=o[i]);i++)r||1!==n.nodeType||E.cleanData(he(n)),n.parentNode&&(r&&ne(n)&&ye(he(n,"script")),n.parentNode.removeChild(n));return e}function Ie(e){var t=e.ownerDocument.defaultView;return(t=t&&t.opener?t:C).getComputedStyle(e)}function Ne(e,t,r){var n,o={};for(n in t)o[n]=e.style[n],e.style[n]=t[n];for(n in r=r.call(e),t)e.style[n]=o[n];return r}E.extend({htmlPrefilter:function(e){return e},clone:function(e,t,r){var n,o,i,a,l,s,c,u=e.cloneNode(!0),p=ne(e);if(!(g.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||E.isXMLDoc(e)))for(a=he(u),n=0,o=(i=he(e)).length;n<o;n++)l=i[n],"input"===(c=(s=a[n]).nodeName.toLowerCase())&&ce.test(l.type)?s.checked=l.checked:"input"!==c&&"textarea"!==c||(s.defaultValue=l.defaultValue);if(t)if(r)for(i=i||he(e),a=a||he(u),n=0,o=i.length;n<o;n++)Re(i[n],a[n]);else Re(e,u);return 0<(a=he(u,"script")).length&&ye(a,!p&&he(e,"script")),u},cleanData:function(e){for(var t,r,n,o=E.event.special,i=0;void 0!==(r=e[i]);i++)if(G(r)){if(t=r[$.expando]){if(t.events)for(n in t.events)o[n]?E.event.remove(r,n):E.removeEvent(r,n,t.handle);r[$.expando]=void 0}r[J.expando]&&(r[J.expando]=void 0)}}}),E.fn.extend({detach:function(e){return Ae(this,e,!0)},remove:function(e){return Ae(this,e)},text:function(e){return U(this,function(e){return void 0===e?E.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)})},null,e,arguments.length)},append:function(){return Fe(this,arguments,function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||Te(this,e).appendChild(e)})},prepend:function(){return Fe(this,arguments,function(e){var t;1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(t=Te(this,e)).insertBefore(e,t.firstChild)})},before:function(){return Fe(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return Fe(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(E.cleanData(he(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return E.clone(this,e,t)})},html:function(e){return U(this,function(e){var t=this[0]||{},r=0,n=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!je.test(e)&&!de[(ue.exec(e)||["",""])[1].toLowerCase()]){e=E.htmlPrefilter(e);try{for(;r<n;r++)1===(t=this[r]||{}).nodeType&&(E.cleanData(he(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var r=[];return Fe(this,arguments,function(e){var t=this.parentNode;E.inArray(this,r)<0&&(E.cleanData(he(this)),t&&t.replaceChild(e,this))},r)}}),E.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,a){E.fn[e]=function(e){for(var t,r=[],n=E(e),o=n.length-1,i=0;i<=o;i++)t=i===o?this:this.clone(!0),E(n[i])[a](t),s.apply(r,t.get());return this.pushStack(r)}});var Le,Be,Me,Ve,Ue,qe,ze,He,We=new RegExp("^("+Z+")(?!px)[a-z%]+$","i"),Ge=new RegExp(te.join("|"),"i");function Ke(){var e;He&&(ze.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",He.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",re.appendChild(ze).appendChild(He),e=C.getComputedStyle(He),Le="1%"!==e.top,qe=12===$e(e.marginLeft),He.style.right="60%",Ve=36===$e(e.right),Be=36===$e(e.width),He.style.position="absolute",Me=12===$e(He.offsetWidth/3),re.removeChild(ze),He=null)}function $e(e){return Math.round(parseFloat(e))}function Je(e,t,r){var n,o,i=e.style;return(r=r||Ie(e))&&(""!==(o=r.getPropertyValue(t)||r[t])||ne(e)||(o=E.style(e,t)),!g.pixelBoxStyles()&&We.test(o)&&Ge.test(t)&&(n=i.width,e=i.minWidth,t=i.maxWidth,i.minWidth=i.maxWidth=i.width=o,o=r.width,i.width=n,i.minWidth=e,i.maxWidth=t)),void 0!==o?o+"":o}function Ye(e,t){return{get:function(){if(!e())return(this.get=t).apply(this,arguments);delete this.get}}}ze=S.createElement("div"),(He=S.createElement("div")).style&&(He.style.backgroundClip="content-box",He.cloneNode(!0).style.backgroundClip="",g.clearCloneStyle="content-box"===He.style.backgroundClip,E.extend(g,{boxSizingReliable:function(){return Ke(),Be},pixelBoxStyles:function(){return Ke(),Ve},pixelPosition:function(){return Ke(),Le},reliableMarginLeft:function(){return Ke(),qe},scrollboxSize:function(){return Ke(),Me},reliableTrDimensions:function(){var e,t,r;return null==Ue&&(e=S.createElement("table"),r=S.createElement("tr"),t=S.createElement("div"),e.style.cssText="position:absolute;left:-11111px",r.style.height="1px",t.style.height="9px",re.appendChild(e).appendChild(r).appendChild(t),r=C.getComputedStyle(r),Ue=3<parseInt(r.height),re.removeChild(e)),Ue}}));var Xe=["Webkit","Moz","ms"],Qe=S.createElement("div").style,Ze={};function et(e){return E.cssProps[e]||Ze[e]||(e in Qe?e:Ze[e]=function(e){for(var t=e[0].toUpperCase()+e.slice(1),r=Xe.length;r--;)if((e=Xe[r]+t)in Qe)return e}(e)||e)}var tt=/^(none|table(?!-c[ea]).+)/,rt=/^--/,nt={position:"absolute",visibility:"hidden",display:"block"},ot={letterSpacing:"0",fontWeight:"400"};function it(e,t,r){var n=ee.exec(t);return n?Math.max(0,n[2]-(r||0))+(n[3]||"px"):t}function at(e,t,r,n,o,i){var a="width"===t?1:0,l=0,s=0;if(r===(n?"border":"content"))return 0;for(;a<4;a+=2)"margin"===r&&(s+=E.css(e,r+te[a],!0,o)),n?("content"===r&&(s-=E.css(e,"padding"+te[a],!0,o)),"margin"!==r&&(s-=E.css(e,"border"+te[a]+"Width",!0,o))):(s+=E.css(e,"padding"+te[a],!0,o),"padding"!==r?s+=E.css(e,"border"+te[a]+"Width",!0,o):l+=E.css(e,"border"+te[a]+"Width",!0,o));return!n&&0<=i&&(s+=Math.max(0,Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-i-s-l-.5))||0),s}function lt(e,t,r){var n=Ie(e),o=(!g.boxSizingReliable()||r)&&"border-box"===E.css(e,"boxSizing",!1,n),i=o,a=Je(e,t,n),l="offset"+t[0].toUpperCase()+t.slice(1);if(We.test(a)){if(!r)return a;a="auto"}return(!g.boxSizingReliable()&&o||!g.reliableTrDimensions()&&j(e,"tr")||"auto"===a||!parseFloat(a)&&"inline"===E.css(e,"display",!1,n))&&e.getClientRects().length&&(o="border-box"===E.css(e,"boxSizing",!1,n),(i=l in e)&&(a=e[l])),(a=parseFloat(a)||0)+at(e,t,r||(o?"border":"content"),i,n,a)+"px"}function st(e,t,r,n,o){return new st.prototype.init(e,t,r,n,o)}E.extend({cssHooks:{opacity:{get:function(e,t){if(t)return""===(e=Je(e,"opacity"))?"1":e}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(e,t,r,n){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var o,i,a,l=W(t),s=rt.test(t),c=e.style;if(s||(t=et(l)),a=E.cssHooks[t]||E.cssHooks[l],void 0===r)return a&&"get"in a&&void 0!==(o=a.get(e,!1,n))?o:c[t];"string"===(i=Pu(r))&&(o=ee.exec(r))&&o[1]&&(r=ae(e,t,o),i="number"),null!=r&&r==r&&("number"!==i||s||(r+=o&&o[3]||(E.cssNumber[l]?"":"px")),g.clearCloneStyle||""!==r||0!==t.indexOf("background")||(c[t]="inherit"),a&&"set"in a&&void 0===(r=a.set(e,r,n))||(s?c.setProperty(t,r):c[t]=r))}},css:function(e,t,r,n){var o,i=W(t);return rt.test(t)||(t=et(i)),"normal"===(o=void 0===(o=(i=E.cssHooks[t]||E.cssHooks[i])&&"get"in i?i.get(e,!0,r):o)?Je(e,t,n):o)&&t in ot&&(o=ot[t]),""===r||r?(t=parseFloat(o),!0===r||isFinite(t)?t||0:o):o}}),E.each(["height","width"],function(e,l){E.cssHooks[l]={get:function(e,t,r){if(t)return!tt.test(E.css(e,"display"))||e.getClientRects().length&&e.getBoundingClientRect().width?lt(e,l,r):Ne(e,nt,function(){return lt(e,l,r)})},set:function(e,t,r){var n,o=Ie(e),i=!g.scrollboxSize()&&"absolute"===o.position,a=(i||r)&&"border-box"===E.css(e,"boxSizing",!1,o),r=r?at(e,l,r,a,o):0;return a&&i&&(r-=Math.ceil(e["offset"+l[0].toUpperCase()+l.slice(1)]-parseFloat(o[l])-at(e,l,"border",!1,o)-.5)),r&&(n=ee.exec(t))&&"px"!==(n[3]||"px")&&(e.style[l]=t,t=E.css(e,l)),it(0,t,r)}}}),E.cssHooks.marginLeft=Ye(g.reliableMarginLeft,function(e,t){if(t)return(parseFloat(Je(e,"marginLeft"))||e.getBoundingClientRect().left-Ne(e,{marginLeft:0},function(){return e.getBoundingClientRect().left}))+"px"}),E.each({margin:"",padding:"",border:"Width"},function(o,i){E.cssHooks[o+i]={expand:function(e){for(var t=0,r={},n="string"==typeof e?e.split(" "):[e];t<4;t++)r[o+te[t]+i]=n[t]||n[t-2]||n[0];return r}},"margin"!==o&&(E.cssHooks[o+i].set=it)}),E.fn.extend({css:function(e,t){return U(this,function(e,t,r){var n,o,i={},a=0;if(Array.isArray(t)){for(n=Ie(e),o=t.length;a<o;a++)i[t[a]]=E.css(e,t[a],!1,n);return i}return void 0!==r?E.style(e,t,r):E.css(e,t)},e,t,1<arguments.length)}}),((E.Tween=st).prototype={constructor:st,init:function(e,t,r,n,o,i){this.elem=e,this.prop=r,this.easing=o||E.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=n,this.unit=i||(E.cssNumber[r]?"":"px")},cur:function(){var e=st.propHooks[this.prop];return(e&&e.get?e:st.propHooks._default).get(this)},run:function(e){var t,r=st.propHooks[this.prop];return this.options.duration?this.pos=t=E.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),(r&&r.set?r:st.propHooks._default).set(this),this}}).init.prototype=st.prototype,(st.propHooks={_default:{get:function(e){return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(e=E.css(e.elem,e.prop,""))&&"auto"!==e?e:0},set:function(e){E.fx.step[e.prop]?E.fx.step[e.prop](e):1!==e.elem.nodeType||!E.cssHooks[e.prop]&&null==e.elem.style[et(e.prop)]?e.elem[e.prop]=e.now:E.style(e.elem,e.prop,e.now+e.unit)}}}).scrollTop=st.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},E.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},E.fx=st.prototype.init,E.fx.step={};var ct,ut,pt=/^(?:toggle|show|hide)$/,ft=/queueHooks$/;function dt(){ut&&(!1===S.hidden&&C.requestAnimationFrame?C.requestAnimationFrame(dt):C.setTimeout(dt,E.fx.interval),E.fx.tick())}function ht(){return C.setTimeout(function(){ct=void 0}),ct=Date.now()}function yt(e,t){var r,n=0,o={height:e};for(t=t?1:0;n<4;n+=2-t)o["margin"+(r=te[n])]=o["padding"+r]=e;return t&&(o.opacity=o.width=e),o}function mt(e,t,r){for(var n,o=(vt.tweeners[t]||[]).concat(vt.tweeners["*"]),i=0,a=o.length;i<a;i++)if(n=o[i].call(r,t,e))return n}function vt(o,e,t){var r,i,n=0,a=vt.prefilters.length,l=E.Deferred().always(function(){delete s.elem}),s=function(){if(i)return!1;for(var e=ct||ht(),t=1-((e=Math.max(0,c.startTime+c.duration-e))/c.duration||0),r=0,n=c.tweens.length;r<n;r++)c.tweens[r].run(t);return l.notifyWith(o,[c,t,e]),t<1&&n?e:(n||l.notifyWith(o,[c,1,0]),l.resolveWith(o,[c]),!1)},c=l.promise({elem:o,props:E.extend({},e),opts:E.extend(!0,{specialEasing:{},easing:E.easing._default},t),originalProperties:e,originalOptions:t,startTime:ct||ht(),duration:t.duration,tweens:[],createTween:function(e,t){return e=E.Tween(o,c.opts,e,t,c.opts.specialEasing[e]||c.opts.easing),c.tweens.push(e),e},stop:function(e){var t=0,r=e?c.tweens.length:0;if(i)return this;for(i=!0;t<r;t++)c.tweens[t].run(1);return e?(l.notifyWith(o,[c,1,0]),l.resolveWith(o,[c,e])):l.rejectWith(o,[c,e]),this}}),u=c.props;for(function(e,t){var r,n,o,i,a;for(r in e)if(o=t[n=W(r)],i=e[r],Array.isArray(i)&&(o=i[1],i=e[r]=i[0]),r!==n&&(e[n]=i,delete e[r]),(a=E.cssHooks[n])&&"expand"in a)for(r in i=a.expand(i),delete e[n],i)r in e||(e[r]=i[r],t[r]=o);else t[n]=o}(u,c.opts.specialEasing);n<a;n++)if(r=vt.prefilters[n].call(c,o,u,c.opts))return y(r.stop)&&(E._queueHooks(c.elem,c.opts.queue).stop=r.stop.bind(r)),r;return E.map(u,mt,c),y(c.opts.start)&&c.opts.start.call(o,c),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always),E.fx.timer(E.extend(s,{elem:o,anim:c,queue:c.opts.queue})),c}E.Animation=E.extend(vt,{tweeners:{"*":[function(e,t){var r=this.createTween(e,t);return ae(r.elem,e,ee.exec(t),r),r}]},tweener:function(e,t){for(var r,n=0,o=(e=y(e)?(t=e,["*"]):e.match(A)).length;n<o;n++)r=e[n],vt.tweeners[r]=vt.tweeners[r]||[],vt.tweeners[r].unshift(t)},prefilters:[function(e,t,r){var n,o,i,a,l,s,c,u="width"in t||"height"in t,p=this,f={},d=e.style,h=e.nodeType&&ie(e),y=$.get(e,"fxshow");for(n in r.queue||(null==(a=E._queueHooks(e,"fx")).unqueued&&(a.unqueued=0,l=a.empty.fire,a.empty.fire=function(){a.unqueued||l()}),a.unqueued++,p.always(function(){p.always(function(){a.unqueued--,E.queue(e,"fx").length||a.empty.fire()})})),t)if(o=t[n],pt.test(o)){if(delete t[n],i=i||"toggle"===o,o===(h?"hide":"show")){if("show"!==o||!y||void 0===y[n])continue;h=!0}f[n]=y&&y[n]||E.style(e,n)}if((s=!E.isEmptyObject(t))||!E.isEmptyObject(f))for(n in u&&1===e.nodeType&&(r.overflow=[d.overflow,d.overflowX,d.overflowY],null==(c=y&&y.display)&&(c=$.get(e,"display")),"none"===(u=E.css(e,"display"))&&(c?u=c:(se([e],!0),c=e.style.display||c,u=E.css(e,"display"),se([e]))),("inline"===u||"inline-block"===u&&null!=c)&&"none"===E.css(e,"float")&&(s||(p.done(function(){d.display=c}),null==c&&(u=d.display,c="none"===u?"":u)),d.display="inline-block")),r.overflow&&(d.overflow="hidden",p.always(function(){d.overflow=r.overflow[0],d.overflowX=r.overflow[1],d.overflowY=r.overflow[2]})),s=!1,f)s||(y?"hidden"in y&&(h=y.hidden):y=$.access(e,"fxshow",{display:c}),i&&(y.hidden=!h),h&&se([e],!0),p.done(function(){for(n in h||se([e]),$.remove(e,"fxshow"),f)E.style(e,n,f[n])})),s=mt(h?y[n]:0,n,p),n in y||(y[n]=s.start,h&&(s.end=s.start,s.start=0))}],prefilter:function(e,t){t?vt.prefilters.unshift(e):vt.prefilters.push(e)}}),E.speed=function(e,t,r){var n=e&&"object"==Pu(e)?E.extend({},e):{complete:r||!r&&t||y(e)&&e,duration:e,easing:r&&t||t&&!y(t)&&t};return E.fx.off?n.duration=0:"number"!=typeof n.duration&&(n.duration in E.fx.speeds?n.duration=E.fx.speeds[n.duration]:n.duration=E.fx.speeds._default),null!=n.queue&&!0!==n.queue||(n.queue="fx"),n.old=n.complete,n.complete=function(){y(n.old)&&n.old.call(this),n.queue&&E.dequeue(this,n.queue)},n},E.fn.extend({fadeTo:function(e,t,r,n){return this.filter(ie).css("opacity",0).show().end().animate({opacity:t},e,r,n)},animate:function(t,e,r,n){var o=E.isEmptyObject(t),i=E.speed(e,r,n);return(n=function(){var e=vt(this,E.extend({},t),i);(o||$.get(this,"finish"))&&e.stop(!0)}).finish=n,o||!1===i.queue?this.each(n):this.queue(i.queue,n)},stop:function(o,e,i){function a(e){var t=e.stop;delete e.stop,t(i)}return"string"!=typeof o&&(i=e,e=o,o=void 0),e&&this.queue(o||"fx",[]),this.each(function(){var e=!0,t=null!=o&&o+"queueHooks",r=E.timers,n=$.get(this);if(t)n[t]&&n[t].stop&&a(n[t]);else for(t in n)n[t]&&n[t].stop&&ft.test(t)&&a(n[t]);for(t=r.length;t--;)r[t].elem!==this||null!=o&&r[t].queue!==o||(r[t].anim.stop(i),e=!1,r.splice(t,1));!e&&i||E.dequeue(this,o)})},finish:function(a){return!1!==a&&(a=a||"fx"),this.each(function(){var e,t=$.get(this),r=t[a+"queue"],n=t[a+"queueHooks"],o=E.timers,i=r?r.length:0;for(t.finish=!0,E.queue(this,a,[]),n&&n.stop&&n.stop.call(this,!0),e=o.length;e--;)o[e].elem===this&&o[e].queue===a&&(o[e].anim.stop(!0),o.splice(e,1));for(e=0;e<i;e++)r[e]&&r[e].finish&&r[e].finish.call(this);delete t.finish})}}),E.each(["toggle","show","hide"],function(e,n){var o=E.fn[n];E.fn[n]=function(e,t,r){return null==e||"boolean"==typeof e?o.apply(this,arguments):this.animate(yt(n,!0),e,t,r)}}),E.each({slideDown:yt("show"),slideUp:yt("hide"),slideToggle:yt("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,n){E.fn[e]=function(e,t,r){return this.animate(n,e,t,r)}}),E.timers=[],E.fx.tick=function(){var e,t=0,r=E.timers;for(ct=Date.now();t<r.length;t++)(e=r[t])()||r[t]!==e||r.splice(t--,1);r.length||E.fx.stop(),ct=void 0},E.fx.timer=function(e){E.timers.push(e),E.fx.start()},E.fx.interval=13,E.fx.start=function(){ut||(ut=!0,dt())},E.fx.stop=function(){ut=null},E.fx.speeds={slow:600,fast:200,_default:400},E.fn.delay=function(n,e){return n=E.fx&&E.fx.speeds[n]||n,this.queue(e=e||"fx",function(e,t){var r=C.setTimeout(e,n);t.stop=function(){C.clearTimeout(r)}})},fe=S.createElement("input"),Z=S.createElement("select").appendChild(S.createElement("option")),fe.type="checkbox",g.checkOn=""!==fe.value,g.optSelected=Z.selected,(fe=S.createElement("input")).value="t",fe.type="radio",g.radioValue="t"===fe.value;var bt,gt=E.expr.attrHandle;E.fn.extend({attr:function(e,t){return U(this,E.attr,e,t,1<arguments.length)},removeAttr:function(e){return this.each(function(){E.removeAttr(this,e)})}}),E.extend({attr:function(e,t,r){var n,o,i=e.nodeType;if(3!==i&&8!==i&&2!==i)return void 0===e.getAttribute?E.prop(e,t,r):(1===i&&E.isXMLDoc(e)||(o=E.attrHooks[t.toLowerCase()]||(E.expr.match.bool.test(t)?bt:void 0)),void 0!==r?null===r?void E.removeAttr(e,t):o&&"set"in o&&void 0!==(n=o.set(e,r,t))?n:(e.setAttribute(t,r+""),r):o&&"get"in o&&null!==(n=o.get(e,t))||null!=(n=E.find.attr(e,t))?n:void 0)},attrHooks:{type:{set:function(e,t){if(!g.radioValue&&"radio"===t&&j(e,"input")){var r=e.value;return e.setAttribute("type",t),r&&(e.value=r),t}}}},removeAttr:function(e,t){var r,n=0,o=t&&t.match(A);if(o&&1===e.nodeType)for(;r=o[n++];)e.removeAttribute(r)}}),bt={set:function(e,t,r){return!1===t?E.removeAttr(e,r):e.setAttribute(r,r),r}},E.each(E.expr.match.bool.source.match(/\w+/g),function(e,t){var a=gt[t]||E.find.attr;gt[t]=function(e,t,r){var n,o,i=t.toLowerCase();return r||(o=gt[i],gt[i]=n,n=null!=a(e,t,r)?i:null,gt[i]=o),n}});var wt=/^(?:input|select|textarea|button)$/i,Ot=/^(?:a|area)$/i;function Ct(e){return(e.match(A)||[]).join(" ")}function St(e){return e.getAttribute&&e.getAttribute("class")||""}function Et(e){return Array.isArray(e)?e:"string"==typeof e&&e.match(A)||[]}E.fn.extend({prop:function(e,t){return U(this,E.prop,e,t,1<arguments.length)},removeProp:function(e){return this.each(function(){delete this[E.propFix[e]||e]})}}),E.extend({prop:function(e,t,r){var n,o,i=e.nodeType;if(3!==i&&8!==i&&2!==i)return 1===i&&E.isXMLDoc(e)||(t=E.propFix[t]||t,o=E.propHooks[t]),void 0!==r?o&&"set"in o&&void 0!==(n=o.set(e,r,t))?n:e[t]=r:o&&"get"in o&&null!==(n=o.get(e,t))?n:e[t]},propHooks:{tabIndex:{get:function(e){var t=E.find.attr(e,"tabindex");return t?parseInt(t,10):wt.test(e.nodeName)||Ot.test(e.nodeName)&&e.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),g.optSelected||(E.propHooks.selected={get:function(e){return(e=e.parentNode)&&e.parentNode&&e.parentNode.selectedIndex,null},set:function(e){(e=e.parentNode)&&(e.selectedIndex,e.parentNode&&e.parentNode.selectedIndex)}}),E.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){E.propFix[this.toLowerCase()]=this}),E.fn.extend({addClass:function(t){var e,r,n,o,i,a,l=0;if(y(t))return this.each(function(e){E(this).addClass(t.call(this,e,St(this)))});if((e=Et(t)).length)for(;r=this[l++];)if(a=St(r),n=1===r.nodeType&&" "+Ct(a)+" "){for(i=0;o=e[i++];)n.indexOf(" "+o+" ")<0&&(n+=o+" ");a!==(a=Ct(n))&&r.setAttribute("class",a)}return this},removeClass:function(t){var e,r,n,o,i,a,l=0;if(y(t))return this.each(function(e){E(this).removeClass(t.call(this,e,St(this)))});if(!arguments.length)return this.attr("class","");if((e=Et(t)).length)for(;r=this[l++];)if(a=St(r),n=1===r.nodeType&&" "+Ct(a)+" "){for(i=0;o=e[i++];)for(;-1<n.indexOf(" "+o+" ");)n=n.replace(" "+o+" "," ");a!==(a=Ct(n))&&r.setAttribute("class",a)}return this},toggleClass:function(o,t){var i=Pu(o),a="string"==i||Array.isArray(o);return"boolean"==typeof t&&a?t?this.addClass(o):this.removeClass(o):y(o)?this.each(function(e){E(this).toggleClass(o.call(this,e,St(this),t),t)}):this.each(function(){var e,t,r,n;if(a)for(t=0,r=E(this),n=Et(o);e=n[t++];)r.hasClass(e)?r.removeClass(e):r.addClass(e);else void 0!==o&&"boolean"!=i||((e=St(this))&&$.set(this,"__className__",e),this.setAttribute&&this.setAttribute("class",!e&&!1!==o&&$.get(this,"__className__")||""))})},hasClass:function(e){for(var t,r=0,n=" "+e+" ";t=this[r++];)if(1===t.nodeType&&-1<(" "+Ct(St(t))+" ").indexOf(n))return!0;return!1}});var kt=/\r/g;function jt(e){e.stopPropagation()}E.fn.extend({val:function(t){var r,e,n,o=this[0];return arguments.length?(n=y(t),this.each(function(e){1===this.nodeType&&(null==(e=n?t.call(this,e,E(this).val()):t)?e="":"number"==typeof e?e+="":Array.isArray(e)&&(e=E.map(e,function(e){return null==e?"":e+""})),(r=E.valHooks[this.type]||E.valHooks[this.nodeName.toLowerCase()])&&"set"in r&&void 0!==r.set(this,e,"value")||(this.value=e))})):o?(r=E.valHooks[o.type]||E.valHooks[o.nodeName.toLowerCase()])&&"get"in r&&void 0!==(e=r.get(o,"value"))?e:"string"==typeof(e=o.value)?e.replace(kt,""):null==e?"":e:void 0}}),E.extend({valHooks:{option:{get:function(e){var t=E.find.attr(e,"value");return null!=t?t:Ct(E.text(e))}},select:{get:function(e){for(var t,r=e.options,n=e.selectedIndex,o="select-one"===e.type,i=o?null:[],a=o?n+1:r.length,l=n<0?a:o?n:0;l<a;l++)if(((t=r[l]).selected||l===n)&&!t.disabled&&(!t.parentNode.disabled||!j(t.parentNode,"optgroup"))){if(t=E(t).val(),o)return t;i.push(t)}return i},set:function(e,t){for(var r,n,o=e.options,i=E.makeArray(t),a=o.length;a--;)((n=o[a]).selected=-1<E.inArray(E.valHooks.option.get(n),i))&&(r=!0);return r||(e.selectedIndex=-1),i}}}}),E.each(["radio","checkbox"],function(){E.valHooks[this]={set:function(e,t){if(Array.isArray(t))return e.checked=-1<E.inArray(E(e).val(),t)}},g.checkOn||(E.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})}),g.focusin="onfocusin"in C;var xt=/^(?:focusinfocus|focusoutblur)$/;E.extend(E.event,{trigger:function(e,t,r,n){var o,i,a,l,s,c,u,p=[r||S],f=b.call(e,"type")?e.type:e,d=b.call(e,"namespace")?e.namespace.split("."):[],h=u=i=r=r||S;if(3!==r.nodeType&&8!==r.nodeType&&!xt.test(f+E.event.triggered)&&(-1<f.indexOf(".")&&(f=(d=f.split(".")).shift(),d.sort()),l=f.indexOf(":")<0&&"on"+f,(e=e[E.expando]?e:new E.Event(f,"object"==Pu(e)&&e)).isTrigger=n?2:3,e.namespace=d.join("."),e.rnamespace=e.namespace?new RegExp("(^|\\.)"+d.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=r),t=null==t?[e]:E.makeArray(t,[e]),c=E.event.special[f]||{},n||!c.trigger||!1!==c.trigger.apply(r,t))){if(!n&&!c.noBubble&&!m(r)){for(a=c.delegateType||f,xt.test(a+f)||(h=h.parentNode);h;h=h.parentNode)p.push(h),i=h;i===(r.ownerDocument||S)&&p.push(i.defaultView||i.parentWindow||C)}for(o=0;(h=p[o++])&&!e.isPropagationStopped();)u=h,e.type=1<o?a:c.bindType||f,(s=($.get(h,"events")||Object.create(null))[e.type]&&$.get(h,"handle"))&&s.apply(h,t),(s=l&&h[l])&&s.apply&&G(h)&&(e.result=s.apply(h,t),!1===e.result&&e.preventDefault());return e.type=f,n||e.isDefaultPrevented()||c._default&&!1!==c._default.apply(p.pop(),t)||!G(r)||l&&y(r[f])&&!m(r)&&((i=r[l])&&(r[l]=null),E.event.triggered=f,e.isPropagationStopped()&&u.addEventListener(f,jt),r[f](),e.isPropagationStopped()&&u.removeEventListener(f,jt),E.event.triggered=void 0,i&&(r[l]=i)),e.result}},simulate:function(e,t,r){e=E.extend(new E.Event,r,{type:e,isSimulated:!0}),E.event.trigger(e,null,t)}}),E.fn.extend({trigger:function(e,t){return this.each(function(){E.event.trigger(e,t,this)})},triggerHandler:function(e,t){var r=this[0];if(r)return E.event.trigger(e,t,r,!0)}}),g.focusin||E.each({focus:"focusin",blur:"focusout"},function(r,n){function o(e){E.event.simulate(n,e.target,E.event.fix(e))}E.event.special[n]={setup:function(){var e=this.ownerDocument||this.document||this,t=$.access(e,n);t||e.addEventListener(r,o,!0),$.access(e,n,(t||0)+1)},teardown:function(){var e=this.ownerDocument||this.document||this,t=$.access(e,n)-1;t?$.access(e,n,t):(e.removeEventListener(r,o,!0),$.remove(e,n))}}});var Pt=C.location,Tt={guid:Date.now()},_t=/\?/;E.parseXML=function(e){var t;if(!e||"string"!=typeof e)return null;try{t=(new C.DOMParser).parseFromString(e,"text/xml")}catch(e){t=void 0}return t&&!t.getElementsByTagName("parsererror").length||E.error("Invalid XML: "+e),t};var Dt=/\[\]$/,Rt=/\r?\n/g,Ft=/^(?:submit|button|image|reset|file)$/i,At=/^(?:input|select|textarea|keygen)/i;E.param=function(e,t){function r(e,t){t=y(t)?t():t,o[o.length]=encodeURIComponent(e)+"="+encodeURIComponent(null==t?"":t)}var n,o=[];if(null==e)return"";if(Array.isArray(e)||e.jquery&&!E.isPlainObject(e))E.each(e,function(){r(this.name,this.value)});else for(n in e)!function r(n,e,o,i){if(Array.isArray(e))E.each(e,function(e,t){o||Dt.test(n)?i(n,t):r(n+"["+("object"==Pu(t)&&null!=t?e:"")+"]",t,o,i)});else if(o||"object"!==h(e))i(n,e);else for(var t in e)r(n+"["+t+"]",e[t],o,i)}(n,e[n],t,r);return o.join("&")},E.fn.extend({serialize:function(){return E.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=E.prop(this,"elements");return e?E.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!E(this).is(":disabled")&&At.test(this.nodeName)&&!Ft.test(e)&&(this.checked||!ce.test(e))}).map(function(e,t){var r=E(this).val();return null==r?null:Array.isArray(r)?E.map(r,function(e){return{name:t.name,value:e.replace(Rt,"\r\n")}}):{name:t.name,value:r.replace(Rt,"\r\n")}}).get()}});var It=/%20/g,Nt=/#.*$/,Lt=/([?&])_=[^&]*/,Bt=/^(.*?):[ \t]*([^\r\n]*)$/gm,Mt=/^(?:GET|HEAD)$/,Vt=/^\/\//,Ut={},qt={},zt="*/".concat("*"),Ht=S.createElement("a");function Wt(i){return function(e,t){"string"!=typeof e&&(t=e,e="*");var r,n=0,o=e.toLowerCase().match(A)||[];if(y(t))for(;r=o[n++];)"+"===r[0]?(r=r.slice(1)||"*",(i[r]=i[r]||[]).unshift(t)):(i[r]=i[r]||[]).push(t)}}function Gt(t,n,o,i){var a={},l=t===qt;function s(e){var r;return a[e]=!0,E.each(t[e]||[],function(e,t){return"string"!=typeof(t=t(n,o,i))||l||a[t]?l?!(r=t):void 0:(n.dataTypes.unshift(t),s(t),!1)}),r}return s(n.dataTypes[0])||!a["*"]&&s("*")}function Kt(e,t){var r,n,o=E.ajaxSettings.flatOptions||{};for(r in t)void 0!==t[r]&&((o[r]?e:n=n||{})[r]=t[r]);return n&&E.extend(!0,e,n),e}Ht.href=Pt.href,E.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Pt.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(Pt.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":zt,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":E.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?Kt(Kt(e,E.ajaxSettings),t):Kt(E.ajaxSettings,e)},ajaxPrefilter:Wt(Ut),ajaxTransport:Wt(qt),ajax:function(e,t){"object"==Pu(e)&&(t=e,e=void 0);var s,c,u,r,p,f,d,n,o,h=E.ajaxSetup({},t=t||{}),y=h.context||h,m=h.context&&(y.nodeType||y.jquery)?E(y):E.event,v=E.Deferred(),b=E.Callbacks("once memory"),g=h.statusCode||{},i={},a={},l="canceled",w={readyState:0,getResponseHeader:function(e){var t;if(f){if(!r)for(r={};t=Bt.exec(u);)r[t[1].toLowerCase()+" "]=(r[t[1].toLowerCase()+" "]||[]).concat(t[2]);t=r[e.toLowerCase()+" "]}return null==t?null:t.join(", ")},getAllResponseHeaders:function(){return f?u:null},setRequestHeader:function(e,t){return null==f&&(e=a[e.toLowerCase()]=a[e.toLowerCase()]||e,i[e]=t),this},overrideMimeType:function(e){return null==f&&(h.mimeType=e),this},statusCode:function(e){if(e)if(f)w.always(e[w.status]);else for(var t in e)g[t]=[g[t],e[t]];return this},abort:function(e){return e=e||l,s&&s.abort(e),O(0,e),this}};if(v.promise(w),h.url=((e||h.url||Pt.href)+"").replace(Vt,Pt.protocol+"//"),h.type=t.method||t.type||h.method||h.type,h.dataTypes=(h.dataType||"*").toLowerCase().match(A)||[""],null==h.crossDomain){o=S.createElement("a");try{o.href=h.url,o.href=o.href,h.crossDomain=Ht.protocol+"//"+Ht.host!=o.protocol+"//"+o.host}catch(e){h.crossDomain=!0}}if(h.data&&h.processData&&"string"!=typeof h.data&&(h.data=E.param(h.data,h.traditional)),Gt(Ut,h,t,w),f)return w;for(n in(d=E.event&&h.global)&&0==E.active++&&E.event.trigger("ajaxStart"),h.type=h.type.toUpperCase(),h.hasContent=!Mt.test(h.type),c=h.url.replace(Nt,""),h.hasContent?h.data&&h.processData&&0===(h.contentType||"").indexOf("application/x-www-form-urlencoded")&&(h.data=h.data.replace(It,"+")):(o=h.url.slice(c.length),h.data&&(h.processData||"string"==typeof h.data)&&(c+=(_t.test(c)?"&":"?")+h.data,delete h.data),!1===h.cache&&(c=c.replace(Lt,"$1"),o=(_t.test(c)?"&":"?")+"_="+Tt.guid+++o),h.url=c+o),h.ifModified&&(E.lastModified[c]&&w.setRequestHeader("If-Modified-Since",E.lastModified[c]),E.etag[c]&&w.setRequestHeader("If-None-Match",E.etag[c])),(h.data&&h.hasContent&&!1!==h.contentType||t.contentType)&&w.setRequestHeader("Content-Type",h.contentType),w.setRequestHeader("Accept",h.dataTypes[0]&&h.accepts[h.dataTypes[0]]?h.accepts[h.dataTypes[0]]+("*"!==h.dataTypes[0]?", "+zt+"; q=0.01":""):h.accepts["*"]),h.headers)w.setRequestHeader(n,h.headers[n]);if(h.beforeSend&&(!1===h.beforeSend.call(y,w,h)||f))return w.abort();if(l="abort",b.add(h.complete),w.done(h.success),w.fail(h.error),s=Gt(qt,h,t,w)){if(w.readyState=1,d&&m.trigger("ajaxSend",[w,h]),f)return w;h.async&&0<h.timeout&&(p=C.setTimeout(function(){w.abort("timeout")},h.timeout));try{f=!1,s.send(i,O)}catch(e){if(f)throw e;O(-1,e)}}else O(-1,"No Transport");function O(e,t,r,n){var o,i,a,l=t;f||(f=!0,p&&C.clearTimeout(p),s=void 0,u=n||"",w.readyState=0<e?4:0,n=200<=e&&e<300||304===e,r&&(a=function(e,t,r){for(var n,o,i,a,l=e.contents,s=e.dataTypes;"*"===s[0];)s.shift(),void 0===n&&(n=e.mimeType||t.getResponseHeader("Content-Type"));if(n)for(o in l)if(l[o]&&l[o].test(n)){s.unshift(o);break}if(s[0]in r)i=s[0];else{for(o in r){if(!s[0]||e.converters[o+" "+s[0]]){i=o;break}a=a||o}i=i||a}if(i)return i!==s[0]&&s.unshift(i),r[i]}(h,w,r)),!n&&-1<E.inArray("script",h.dataTypes)&&(h.converters["text script"]=function(){}),a=function(e,t,r,n){var o,i,a,l,s,c={},u=e.dataTypes.slice();if(u[1])for(a in e.converters)c[a.toLowerCase()]=e.converters[a];for(i=u.shift();i;)if(e.responseFields[i]&&(r[e.responseFields[i]]=t),!s&&n&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),s=i,i=u.shift())if("*"===i)i=s;else if("*"!==s&&s!==i){if(!(a=c[s+" "+i]||c["* "+i]))for(o in c)if((l=o.split(" "))[1]===i&&(a=c[s+" "+l[0]]||c["* "+l[0]])){!0===a?a=c[o]:!0!==c[o]&&(i=l[0],u.unshift(l[1]));break}if(!0!==a)if(a&&e.throws)t=a(t);else try{t=a(t)}catch(e){return{state:"parsererror",error:a?e:"No conversion from "+s+" to "+i}}}return{state:"success",data:t}}(h,a,w,n),n?(h.ifModified&&((r=w.getResponseHeader("Last-Modified"))&&(E.lastModified[c]=r),(r=w.getResponseHeader("etag"))&&(E.etag[c]=r)),204===e||"HEAD"===h.type?l="nocontent":304===e?l="notmodified":(l=a.state,o=a.data,n=!(i=a.error))):(i=l,!e&&l||(l="error",e<0&&(e=0))),w.status=e,w.statusText=(t||l)+"",n?v.resolveWith(y,[o,l,w]):v.rejectWith(y,[w,l,i]),w.statusCode(g),g=void 0,d&&m.trigger(n?"ajaxSuccess":"ajaxError",[w,h,n?o:i]),b.fireWith(y,[w,l]),d&&(m.trigger("ajaxComplete",[w,h]),--E.active||E.event.trigger("ajaxStop")))}return w},getJSON:function(e,t,r){return E.get(e,t,r,"json")},getScript:function(e,t){return E.get(e,void 0,t,"script")}}),E.each(["get","post"],function(e,o){E[o]=function(e,t,r,n){return y(t)&&(n=n||r,r=t,t=void 0),E.ajax(E.extend({url:e,type:o,dataType:n,data:t,success:r},E.isPlainObject(e)&&e))}}),E.ajaxPrefilter(function(e){for(var t in e.headers)"content-type"===t.toLowerCase()&&(e.contentType=e.headers[t]||"")}),E._evalUrl=function(e,t,r){return E.ajax({url:e,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(e){E.globalEval(e,t,r)}})},E.fn.extend({wrapAll:function(e){return this[0]&&(y(e)&&(e=e.call(this[0])),e=E(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&e.insertBefore(this[0]),e.map(function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e}).append(this)),this},wrapInner:function(r){return y(r)?this.each(function(e){E(this).wrapInner(r.call(this,e))}):this.each(function(){var e=E(this),t=e.contents();t.length?t.wrapAll(r):e.append(r)})},wrap:function(t){var r=y(t);return this.each(function(e){E(this).wrapAll(r?t.call(this,e):t)})},unwrap:function(e){return this.parent(e).not("body").each(function(){E(this).replaceWith(this.childNodes)}),this}}),E.expr.pseudos.hidden=function(e){return!E.expr.pseudos.visible(e)},E.expr.pseudos.visible=function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},E.ajaxSettings.xhr=function(){try{return new C.XMLHttpRequest}catch(e){}};var $t={0:200,1223:204},Jt=E.ajaxSettings.xhr();g.cors=!!Jt&&"withCredentials"in Jt,g.ajax=Jt=!!Jt,E.ajaxTransport(function(o){var i,a;if(g.cors||Jt&&!o.crossDomain)return{send:function(e,t){var r,n=o.xhr();if(n.open(o.type,o.url,o.async,o.username,o.password),o.xhrFields)for(r in o.xhrFields)n[r]=o.xhrFields[r];for(r in o.mimeType&&n.overrideMimeType&&n.overrideMimeType(o.mimeType),o.crossDomain||e["X-Requested-With"]||(e["X-Requested-With"]="XMLHttpRequest"),e)n.setRequestHeader(r,e[r]);i=function(e){return function(){i&&(i=a=n.onload=n.onerror=n.onabort=n.ontimeout=n.onreadystatechange=null,"abort"===e?n.abort():"error"===e?"number"!=typeof n.status?t(0,"error"):t(n.status,n.statusText):t($t[n.status]||n.status,n.statusText,"text"!==(n.responseType||"text")||"string"!=typeof n.responseText?{binary:n.response}:{text:n.responseText},n.getAllResponseHeaders()))}},n.onload=i(),a=n.onerror=n.ontimeout=i("error"),void 0!==n.onabort?n.onabort=a:n.onreadystatechange=function(){4===n.readyState&&C.setTimeout(function(){i&&a()})},i=i("abort");try{n.send(o.hasContent&&o.data||null)}catch(e){if(i)throw e}},abort:function(){i&&i()}}}),E.ajaxPrefilter(function(e){e.crossDomain&&(e.contents.script=!1)}),E.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return E.globalEval(e),e}}}),E.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),E.ajaxTransport("script",function(r){var n,o;if(r.crossDomain||r.scriptAttrs)return{send:function(e,t){n=E("<script>").attr(r.scriptAttrs||{}).prop({charset:r.scriptCharset,src:r.url}).on("load error",o=function(e){n.remove(),o=null,e&&t("error"===e.type?404:200,e.type)}),S.head.appendChild(n[0])},abort:function(){o&&o()}}});var fe,Yt=[],Xt=/(=)\?(?=&|$)|\?\?/;E.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Yt.pop()||E.expando+"_"+Tt.guid++;return this[e]=!0,e}}),E.ajaxPrefilter("json jsonp",function(e,t,r){var n,o,i,a=!1!==e.jsonp&&(Xt.test(e.url)?"url":"string"==typeof e.data&&0===(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&Xt.test(e.data)&&"data");if(a||"jsonp"===e.dataTypes[0])return n=e.jsonpCallback=y(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,a?e[a]=e[a].replace(Xt,"$1"+n):!1!==e.jsonp&&(e.url+=(_t.test(e.url)?"&":"?")+e.jsonp+"="+n),e.converters["script json"]=function(){return i||E.error(n+" was not called"),i[0]},e.dataTypes[0]="json",o=C[n],C[n]=function(){i=arguments},r.always(function(){void 0===o?E(C).removeProp(n):C[n]=o,e[n]&&(e.jsonpCallback=t.jsonpCallback,Yt.push(n)),i&&y(o)&&o(i[0]),i=o=void 0}),"script"}),g.createHTMLDocument=((fe=S.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===fe.childNodes.length),E.parseHTML=function(e,t,r){return"string"!=typeof e?[]:("boolean"==typeof t&&(r=t,t=!1),t||(g.createHTMLDocument?((n=(t=S.implementation.createHTMLDocument("")).createElement("base")).href=S.location.href,t.head.appendChild(n)):t=S),n=!r&&[],(r=x.exec(e))?[t.createElement(r[1])]:(r=ve([e],t,n),n&&n.length&&E(n).remove(),E.merge([],r.childNodes)));var n},E.fn.load=function(e,t,r){var n,o,i,a=this,l=e.indexOf(" ");return-1<l&&(n=Ct(e.slice(l)),e=e.slice(0,l)),y(t)?(r=t,t=void 0):t&&"object"==Pu(t)&&(o="POST"),0<a.length&&E.ajax({url:e,type:o||"GET",dataType:"html",data:t}).done(function(e){i=arguments,a.html(n?E("<div>").append(E.parseHTML(e)).find(n):e)}).always(r&&function(e,t){a.each(function(){r.apply(this,i||[e.responseText,t,e])})}),this},E.expr.pseudos.animated=function(t){return E.grep(E.timers,function(e){return t===e.elem}).length},E.offset={setOffset:function(e,t,r){var n,o,i,a,l=E.css(e,"position"),s=E(e),c={};"static"===l&&(e.style.position="relative"),i=s.offset(),n=E.css(e,"top"),a=E.css(e,"left"),a=("absolute"===l||"fixed"===l)&&-1<(n+a).indexOf("auto")?(o=(l=s.position()).top,l.left):(o=parseFloat(n)||0,parseFloat(a)||0),null!=(t=y(t)?t.call(e,r,E.extend({},i)):t).top&&(c.top=t.top-i.top+o),null!=t.left&&(c.left=t.left-i.left+a),"using"in t?t.using.call(e,c):("number"==typeof c.top&&(c.top+="px"),"number"==typeof c.left&&(c.left+="px"),s.css(c))}},E.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each(function(e){E.offset.setOffset(this,t,e)});var e,r=this[0];return r?r.getClientRects().length?(e=r.getBoundingClientRect(),r=r.ownerDocument.defaultView,{top:e.top+r.pageYOffset,left:e.left+r.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var e,t,r,n=this[0],o={top:0,left:0};if("fixed"===E.css(n,"position"))t=n.getBoundingClientRect();else{for(t=this.offset(),r=n.ownerDocument,e=n.offsetParent||r.documentElement;e&&(e===r.body||e===r.documentElement)&&"static"===E.css(e,"position");)e=e.parentNode;e&&e!==n&&1===e.nodeType&&((o=E(e).offset()).top+=E.css(e,"borderTopWidth",!0),o.left+=E.css(e,"borderLeftWidth",!0))}return{top:t.top-o.top-E.css(n,"marginTop",!0),left:t.left-o.left-E.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent;e&&"static"===E.css(e,"position");)e=e.offsetParent;return e||re})}}),E.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,o){var i="pageYOffset"===o;E.fn[t]=function(e){return U(this,function(e,t,r){var n;return m(e)?n=e:9===e.nodeType&&(n=e.defaultView),void 0===r?n?n[o]:e[t]:void(n?n.scrollTo(i?n.pageXOffset:r,i?r:n.pageYOffset):e[t]=r)},t,e,arguments.length)}}),E.each(["top","left"],function(e,r){E.cssHooks[r]=Ye(g.pixelPosition,function(e,t){if(t)return t=Je(e,r),We.test(t)?E(e).position()[r]+"px":t})}),E.each({Height:"height",Width:"width"},function(a,l){E.each({padding:"inner"+a,content:l,"":"outer"+a},function(n,i){E.fn[i]=function(e,t){var r=arguments.length&&(n||"boolean"!=typeof e),o=n||(!0===e||!0===t?"margin":"border");return U(this,function(e,t,r){var n;return m(e)?0===i.indexOf("outer")?e["inner"+a]:e.document.documentElement["client"+a]:9===e.nodeType?(n=e.documentElement,Math.max(e.body["scroll"+a],n["scroll"+a],e.body["offset"+a],n["offset"+a],n["client"+a])):void 0===r?E.css(e,t,o):E.style(e,t,r,o)},l,r?e:void 0,r)}})}),E.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){E.fn[t]=function(e){return this.on(t,e)}}),E.fn.extend({bind:function(e,t,r){return this.on(e,null,t,r)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,r,n){return this.on(t,e,r,n)},undelegate:function(e,t,r){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",r)},hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),E.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(e,r){E.fn[r]=function(e,t){return 0<arguments.length?this.on(r,null,e,t):this.trigger(r)}});var Qt=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;E.proxy=function(e,t){var r,n;if("string"==typeof t&&(n=e[t],t=e,e=n),y(e))return r=l.call(arguments,2),(n=function(){return e.apply(t||this,r.concat(l.call(arguments)))}).guid=e.guid=e.guid||E.guid++,n},E.holdReady=function(e){e?E.readyWait++:E.ready(!0)},E.isArray=Array.isArray,E.parseJSON=JSON.parse,E.nodeName=j,E.isFunction=y,E.isWindow=m,E.camelCase=W,E.type=h,E.now=Date.now,E.isNumeric=function(e){var t=E.type(e);return("number"===t||"string"===t)&&!isNaN(e-parseFloat(e))},E.trim=function(e){return null==e?"":(e+"").replace(Qt,"")},void 0===(nr=function(){return E}.apply(rr,[]))||(tr.exports=nr);var Zt=C.jQuery,er=C.$;return E.noConflict=function(e){return C.$===E&&(C.$=er),e&&C.jQuery===E&&(C.jQuery=Zt),E},void 0===e&&(C.jQuery=C.$=E),E})},function(e,t,r){r(21),e.exports=self.fetch.bind(self)},function(e,t){e.exports=d},function(e,t){e.exports=h},function(e,t){e.exports=y},function(e,t){e.exports=m},function(e,t){e.exports=v},function(e,t){e.exports=b},function(e,t){e.exports=g},function(e,t,r){"use strict";r.r(t),r.d(t,"Headers",function(){return u}),r.d(t,"Request",function(){return v}),r.d(t,"Response",function(){return g}),r.d(t,"DOMException",function(){return O}),r.d(t,"fetch",function(){return C});var n,o,l="undefined"!=typeof globalThis&&globalThis||"undefined"!=typeof self&&self||void 0!==l&&l,s={searchParams:"URLSearchParams"in l,iterable:"Symbol"in l&&"iterator"in Symbol,blob:"FileReader"in l&&"Blob"in l&&function(){try{return new Blob,!0}catch(e){return!1}}(),formData:"FormData"in l,arrayBuffer:"ArrayBuffer"in l};function i(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(e)||""===e)throw new TypeError('Invalid character in header field name: "'+e+'"');return e.toLowerCase()}function c(e){return"string"!=typeof e?String(e):e}function a(t){var e={next:function(){var e=t.shift();return{done:void 0===e,value:e}}};return s.iterable&&(e[Symbol.iterator]=function(){return e}),e}function u(t){this.map={},t instanceof u?t.forEach(function(e,t){this.append(t,e)},this):Array.isArray(t)?t.forEach(function(e){this.append(e[0],e[1])},this):t&&Object.getOwnPropertyNames(t).forEach(function(e){this.append(e,t[e])},this)}function p(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function f(r){return new Promise(function(e,t){r.onload=function(){e(r.result)},r.onerror=function(){t(r.error)}})}function d(e){var t=new FileReader,r=f(t);return t.readAsArrayBuffer(e),r}function h(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function y(){return this.bodyUsed=!1,this._initBody=function(e){var t;this.bodyUsed=this.bodyUsed,(this._bodyInit=e)?"string"==typeof e?this._bodyText=e:s.blob&&Blob.prototype.isPrototypeOf(e)?this._bodyBlob=e:s.formData&&FormData.prototype.isPrototypeOf(e)?this._bodyFormData=e:s.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)?this._bodyText=e.toString():s.arrayBuffer&&s.blob&&(t=e)&&DataView.prototype.isPrototypeOf(t)?(this._bodyArrayBuffer=h(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):s.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(e)||o(e))?this._bodyArrayBuffer=h(e):this._bodyText=e=Object.prototype.toString.call(e):this._bodyText="",this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):s.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},s.blob&&(this.blob=function(){var e=p(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){if(this._bodyArrayBuffer){var e=p(this);return e||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}return this.blob().then(d)}),this.text=function(){var e,t,r=p(this);if(r)return r;if(this._bodyBlob)return e=this._bodyBlob,r=f(t=new FileReader),t.readAsText(e),r;if(this._bodyArrayBuffer)return Promise.resolve(function(e){for(var t=new Uint8Array(e),r=new Array(t.length),n=0;n<t.length;n++)r[n]=String.fromCharCode(t[n]);return r.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},s.formData&&(this.formData=function(){return this.text().then(b)}),this.json=function(){return this.text().then(JSON.parse)},this}s.arrayBuffer&&(n=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],o=ArrayBuffer.isView||function(e){return e&&-1<n.indexOf(Object.prototype.toString.call(e))}),u.prototype.append=function(e,t){e=i(e),t=c(t);var r=this.map[e];this.map[e]=r?r+", "+t:t},u.prototype.delete=function(e){delete this.map[i(e)]},u.prototype.get=function(e){return e=i(e),this.has(e)?this.map[e]:null},u.prototype.has=function(e){return this.map.hasOwnProperty(i(e))},u.prototype.set=function(e,t){this.map[i(e)]=c(t)},u.prototype.forEach=function(e,t){for(var r in this.map)this.map.hasOwnProperty(r)&&e.call(t,this.map[r],r,this)},u.prototype.keys=function(){var r=[];return this.forEach(function(e,t){r.push(t)}),a(r)},u.prototype.values=function(){var t=[];return this.forEach(function(e){t.push(e)}),a(t)},u.prototype.entries=function(){var r=[];return this.forEach(function(e,t){r.push([t,e])}),a(r)},s.iterable&&(u.prototype[Symbol.iterator]=u.prototype.entries);var m=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function v(e,t){if(!(this instanceof v))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');var r,n=(t=t||{}).body;if(e instanceof v){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new u(e.headers)),this.method=e.method,this.mode=e.mode,this.signal=e.signal,n||null==e._bodyInit||(n=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"same-origin",!t.headers&&this.headers||(this.headers=new u(t.headers)),this.method=(e=(r=t.method||this.method||"GET").toUpperCase(),-1<m.indexOf(e)?e:r),this.mode=t.mode||this.mode||null,this.signal=t.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&n)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(n),"GET"!==this.method&&"HEAD"!==this.method||"no-store"!==t.cache&&"no-cache"!==t.cache||((t=/([?&])_=[^&]*/).test(this.url)?this.url=this.url.replace(t,"$1_="+(new Date).getTime()):this.url+=(/\?/.test(this.url)?"&":"?")+"_="+(new Date).getTime())}function b(e){var r=new FormData;return e.trim().split("&").forEach(function(e){var t;e&&(e=(t=e.split("=")).shift().replace(/\+/g," "),t=t.join("=").replace(/\+/g," "),r.append(decodeURIComponent(e),decodeURIComponent(t)))}),r}function g(e,t){if(!(this instanceof g))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');t=t||{},this.type="default",this.status=void 0===t.status?200:t.status,this.ok=200<=this.status&&this.status<300,this.statusText=void 0===t.statusText?"":""+t.statusText,this.headers=new u(t.headers),this.url=t.url||"",this._initBody(e)}v.prototype.clone=function(){return new v(this,{body:this._bodyInit})},y.call(v.prototype),y.call(g.prototype),g.prototype.clone=function(){return new g(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new u(this.headers),url:this.url})},g.error=function(){var e=new g(null,{status:0,statusText:""});return e.type="error",e};var w=[301,302,303,307,308];g.redirect=function(e,t){if(-1===w.indexOf(t))throw new RangeError("Invalid status code");return new g(null,{status:t,headers:{location:e}})};var O=l.DOMException;try{new O}catch(e){(O=function(e,t){this.message=e,this.name=t,e=Error(e),this.stack=e.stack}).prototype=Object.create(Error.prototype),O.prototype.constructor=O}function C(n,a){return new Promise(function(o,e){var t=new v(n,a);if(t.signal&&t.signal.aborted)return e(new O("Aborted","AbortError"));var i=new XMLHttpRequest;function r(){i.abort()}i.onload=function(){var e,r,t={status:i.status,statusText:i.statusText,headers:(e=i.getAllResponseHeaders()||"",r=new u,e.replace(/\r?\n[\t ]+/g," ").split("\r").map(function(e){return 0===e.indexOf("\n")?e.substr(1,e.length):e}).forEach(function(e){var t=e.split(":");(e=t.shift().trim())&&(t=t.join(":").trim(),r.append(e,t))}),r)};t.url="responseURL"in i?i.responseURL:t.headers.get("X-Request-URL");var n="response"in i?i.response:i.responseText;setTimeout(function(){o(new g(n,t))},0)},i.onerror=function(){setTimeout(function(){e(new TypeError("Network request failed"))},0)},i.ontimeout=function(){setTimeout(function(){e(new TypeError("Network request failed"))},0)},i.onabort=function(){setTimeout(function(){e(new O("Aborted","AbortError"))},0)},i.open(t.method,function(t){try{return""===t&&l.location.href?l.location.href:t}catch(e){return t}}(t.url),!0),"include"===t.credentials?i.withCredentials=!0:"omit"===t.credentials&&(i.withCredentials=!1),"responseType"in i&&(s.blob?i.responseType="blob":s.arrayBuffer&&t.headers.get("Content-Type")&&-1!==t.headers.get("Content-Type").indexOf("application/octet-stream")&&(i.responseType="arraybuffer")),!a||"object"!=Pu(a.headers)||a.headers instanceof u?t.headers.forEach(function(e,t){i.setRequestHeader(t,e)}):Object.getOwnPropertyNames(a.headers).forEach(function(e){i.setRequestHeader(e,c(a.headers[e]))}),t.signal&&(t.signal.addEventListener("abort",r),i.onreadystatechange=function(){4===i.readyState&&t.signal.removeEventListener("abort",r)}),i.send(void 0===t._bodyInit?null:t._bodyInit)})}C.polyfill=!0,l.fetch||(l.fetch=C,l.Headers=u,l.Request=v,l.Response=g)},function(t,r,n){!function(m){var e;void 0===(e="function"==typeof(e=function(){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function e(e,t,r){return t&&o(e.prototype,t),r&&o(e,r),e}function i(e){return(i=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function t(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}function l(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function s(r){var n=t();return function(){var e,t=i(r);return e=n?(e=i(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),t=this,!(e=e)||"object"!==Pu(e)&&"function"!=typeof e?l(t):e}}function c(e,t,r){return(c="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,r){e=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=i(e)););return e}(e,t);if(e){t=Object.getOwnPropertyDescriptor(e,t);return t.get?t.get.call(r):t.value}})(e,t,r||e)}var r,u,p=(e(y,[{key:"addEventListener",value:function(e,t){e in this.listeners||(this.listeners[e]=[]),this.listeners[e].push(t)}},{key:"removeEventListener",value:function(e,t){if(e in this.listeners)for(var r=this.listeners[e],n=0,o=r.length;n<o;n++)if(r[n]===t)return void r.splice(n,1)}},{key:"dispatchEvent",value:function(t){var r=this;if(t.type in this.listeners){for(var e=this.listeners[t.type],n=0,o=e.length;n<o;n++)!function(e){setTimeout(function(){return e.call(r,t)})}(e[n]);return!t.defaultPrevented}}}]),y),f=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(r,p);var t=s(r);function r(){var e;return n(this,r),(e=t.call(this)).listeners||p.call(l(e)),Object.defineProperty(l(e),"aborted",{value:!1,writable:!0,configurable:!0}),Object.defineProperty(l(e),"onabort",{value:null,writable:!0,configurable:!0}),e}return e(r,[{key:"toString",value:function(){return"[object AbortSignal]"}},{key:"dispatchEvent",value:function(e){"abort"===e.type&&(this.aborted=!0,"function"==typeof this.onabort&&this.onabort.call(this,e)),c(i(r.prototype),"dispatchEvent",this).call(this,e)}}]),r}(),d=(e(h,[{key:"abort",value:function(){var t;try{t=new Event("abort")}catch(e){"undefined"!=typeof document?document.createEvent?(t=document.createEvent("Event")).initEvent("abort",!1,!1):(t=document.createEventObject()).type="abort":t={type:"abort",bubbles:!1,cancelable:!1}}this.signal.dispatchEvent(t)}},{key:"toString",value:function(){return"[object AbortController]"}}]),h);function h(){n(this,h),Object.defineProperty(this,"signal",{value:new f,writable:!0,configurable:!0})}function y(){n(this,y),Object.defineProperty(this,"listeners",{value:{},writable:!0,configurable:!0})}"undefined"!=typeof Symbol&&Symbol.toStringTag&&(d.prototype[Symbol.toStringTag]="AbortController",f.prototype[Symbol.toStringTag]="AbortSignal"),r="undefined"!=typeof self?self:m,((u=r).__FORCE_INSTALL_ABORTCONTROLLER_POLYFILL?(console.log("__FORCE_INSTALL_ABORTCONTROLLER_POLYFILL=true is set, will force install polyfill"),1):"function"==typeof u.Request&&!u.Request.prototype.hasOwnProperty("signal")||!u.AbortController)&&(r.AbortController=d,r.AbortSignal=f)})?e.call(r,n,r,t):e)||(t.exports=e)}.call(this,n(23))},function(e,t){var r=function(){return this}();try{r=r||new Function("return this")()}catch(e){"object"==("undefined"==typeof window?"undefined":Pu(window))&&(r=window)}e.exports=r},function(e,t){e.exports=w},function(e,t){e.exports=O},function(e,t,r){"use strict";r.r(t),r.d(t,"DWKitForm",function(){return lu}),r.d(t,"GridView",function(){return er}),r.d(t,"CollectionEditor",function(){return De}),r.d(t,"BaseEditControl",function(){return xu});var c=r(0),q=r.n(c);function o(e){return(o="function"==typeof Symbol&&"symbol"==Pu(Symbol.iterator)?function(e){return Pu(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":Pu(e)})(e)}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function u(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var f=r(7),l=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(s,c.Component);var r,n,l=(r=s,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,t=p(r);return function(e,t){if(t&&("object"===o(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return u(e)}(this,n?(e=p(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments))});function s(){var r;!function(e){if(!(e instanceof s))throw new TypeError("Cannot call a class as a function")}(this);for(var e,t,n,o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];return n=function(e,t){r.props.handleChange(r.props.row,e,t)},(t="handleChange")in(e=u(r=l.call.apply(l,[this].concat(i))))?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,r}return i(s.prototype,[{key:"shouldComponentUpdate",value:function(e){return!f(this.props,e)}}]),s}();function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var s=(n(h.prototype,[{key:"register",value:function(e,t){if(s.map[e])throw new Error("Component "+e+" already registered!");s.map[e]=t}},{key:"draw",value:function(e,t){var r=s.map[e];return r?r(t):(r=s.map["null-control"])({"data-buildertype":e,text:"".concat(e," is unsupported")})}}]),new h),d=s.register,z=s.draw;function h(){var e;!function(e){if(!(e instanceof h))throw new TypeError("Cannot call a class as a function")}(this),e={},"map"in this?Object.defineProperty(this,"map",{value:e,enumerable:!0,configurable:!0,writable:!0}):this.map=e}function y(e){return(y="function"==typeof Symbol&&"symbol"==Pu(Symbol.iterator)?function(e){return Pu(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":Pu(e)})(e)}function m(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function v(e,t){return(v=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function b(e){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var k=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&v(e,t)}(t,l);var r,n,e=(r=t,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,t=b(r);return function(e,t){if(t&&("object"===y(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}()}(this,n?(e=b(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments))});function t(){return function(e){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),e.apply(this,arguments)}return m(t.prototype,[{key:"render",value:function(){return z("collection-checkbox",{me:this,props:this.props})}}]),t}();function g(e){return(g="function"==typeof Symbol&&"symbol"==Pu(Symbol.iterator)?function(e){return Pu(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":Pu(e)})(e)}function w(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function O(e,t){return(O=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function C(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function S(e){return(S=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function E(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var j=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&O(e,t)}(i,c.Component);var r,n,o=(r=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,t=S(r);return function(e,t){if(t&&("object"===g(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return C(e)}(this,n?(e=S(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments))});function i(){var n;!function(e){if(!(e instanceof i))throw new TypeError("Cannot call a class as a function")}(this);for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return E(C(n=o.call.apply(o,[this].concat(t))),"handleEvent",function(e){e.parameters||(e.parameters={}),e.parameters.row||(e.parameters.row=n.props.row),"onChange"===e.eventName?n.props.handleChange(n.props.row,e.syntheticEvent,e):n.props.handleEvent(e)}),E(C(n),"getAdditionalDataForControl",function(e,t,r){return(t=t||{}).row||(t.row=n.props.row),n.props.getAdditionalDataForControl(e,t,r)}),n}return w(i.prototype,[{key:"render",value:function(){return z("collection-custom-control",{getAdditionalDataForControl:this.getAdditionalDataForControl,handleEvent:this.handleEvent,props:this.props})}}]),i}();function x(e){return(x="function"==typeof Symbol&&"symbol"==Pu(Symbol.iterator)?function(e){return Pu(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":Pu(e)})(e)}function P(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function T(e,t){return(T=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _(e){return(_=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var D=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&T(e,t)}(t,l);var r,n,e=(r=t,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,t=_(r);return function(e,t){if(t&&("object"===x(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}()}(this,n?(e=_(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments))});function t(){return function(e){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),e.apply(this,arguments)}return P(t.prototype,[{key:"render",value:function(){return z("collection-date-time",{me:this,props:this.props})}}]),t}();function R(e){return(R="function"==typeof Symbol&&"symbol"==Pu(Symbol.iterator)?function(e){return Pu(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":Pu(e)})(e)}function F(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function A(e,t){return(A=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function I(e){return(I=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var N=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&A(e,t)}(t,l);var r,n,e=(r=t,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,t=I(r);return function(e,t){if(t&&("object"===R(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}()}(this,n?(e=I(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments))});function t(){return function(e){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),e.apply(this,arguments)}return F(t.prototype,[{key:"render",value:function(){return z("collection-dropdown",{me:this,props:this.props})}}]),t}();function L(e){return(L="function"==typeof Symbol&&"symbol"==Pu(Symbol.iterator)?function(e){return Pu(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":Pu(e)})(e)}function B(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function M(e,t){return(M=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function V(e){return(V=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var U=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&M(e,t)}(t,l);var r,n,e=(r=t,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,t=V(r);return function(e,t){if(t&&("object"===L(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}()}(this,n?(e=V(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments))});function t(){return function(e){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),e.apply(this,arguments)}return B(t.prototype,[{key:"render",value:function(){return z("collection-input",{me:this,props:this.props})}}]),t}();function H(e){return(H="function"==typeof Symbol&&"symbol"==Pu(Symbol.iterator)?function(e){return Pu(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":Pu(e)})(e)}function W(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function G(e,t){return(G=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function K(e){return(K=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var $=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&G(e,t)}(t,l);var r,n,e=(r=t,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,t=K(r);return function(e,t){if(t&&("object"===H(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}()}(this,n?(e=K(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments))});function t(){return function(e){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),e.apply(this,arguments)}return W(t.prototype,[{key:"render",value:function(){return z("collection-upload",{me:this,props:this.props})}}]),t}();function J(e){return(J="function"==typeof Symbol&&"symbol"==Pu(Symbol.iterator)?function(e){return Pu(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":Pu(e)})(e)}function Y(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function X(e,t){return(X=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Q(e){return(Q=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Z=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&X(e,t)}(t,l);var r,n,e=(r=t,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,t=Q(r);return function(e,t){if(t&&("object"===J(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}()}(this,n?(e=Q(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments))});function t(){return function(e){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),e.apply(this,arguments)}return Y(t.prototype,[{key:"render",value:function(){return z("collection-camera",{me:this,props:this.props})}}]),t}();function ee(e){return(ee="function"==typeof Symbol&&"symbol"==Pu(Symbol.iterator)?function(e){return Pu(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":Pu(e)})(e)}function te(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function re(e,t){return(re=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ne(e){return(ne=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var oe=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&re(e,t)}(t,l);var r,n,e=(r=t,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,t=ne(r);return function(e,t){if(t&&("object"===ee(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}()}(this,n?(e=ne(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments))});function t(){return function(e){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),e.apply(this,arguments)}return te(t.prototype,[{key:"render",value:function(){return z("collection-signature",{me:this,props:this.props})}}]),t}();function ie(e){return(ie="function"==typeof Symbol&&"symbol"==Pu(Symbol.iterator)?function(e){return Pu(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":Pu(e)})(e)}function ae(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function le(e,t){return(le=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function se(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ce(e){return(ce=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ue(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var pe=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&le(e,t)}(i,c.Component);var r,n,o=(r=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,t=ce(r);return function(e,t){if(t&&("object"===ie(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return se(e)}(this,n?(e=ce(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments))});function i(){var n;!function(e){if(!(e instanceof i))throw new TypeError("Cannot call a class as a function")}(this);for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return ue(se(n=o.call.apply(o,[this].concat(t))),"onUpload",function(e,t){var r=se(n),e={name:e.name,token:t.result.properties.Token,success:t.success,properties:t.result.properties};t.success?r.props.onChange&&r.props.onChange(null,{name:r.props.name,propertyName:r.props.propertyName,value:t.result.properties.Token,parameters:e}):r.props.onUploadFail&&r.props.onUploadFail(null,{name:r.props.name,propertyName:r.props.propertyName,message:t.result.message,details:t.result.details,success:!1})}),ue(se(n),"onClear",function(e){var t=se(n);t.props.onChange&&t.props.onChange(null,{name:t.props.name,propertyName:t.props.propertyName,value:null})}),n}return ae(i.prototype,[{key:"render",value:function(){var e=this.onClear,t=this.onUpload;return z("camera",{handleChange:this.handleChange,me:this,onClear:e,onUpload:t,props:this.props,state:this.state})}}]),i}();function fe(e){return void 0===e}function de(e){return!fe(e)&&null!==e}function he(e){return de(e)&&""!==e}function ye(e){if(!e)return 1;for(var t in e)if(e.hasOwnProperty(t))return;return JSON.stringify(e)===JSON.stringify({})}r(7);var me=r(4),ve=r.n(me),be=r(8),ge=r.n(be),we=r(12),Oe=r.n(we);function Ce(t,e){var r,n=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)),n}function Se(e){return(Se="function"==typeof Symbol&&"symbol"==Pu(Symbol.iterator)?function(e){return Pu(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":Pu(e)})(e)}function Ee(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ke(e,t){return(ke=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function je(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function xe(e){return(xe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Pe(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Te=r(7),_e=r(10),De=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ke(e,t)}(a,c.Component);var e,t,r,n,o,i=(n=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,t=xe(n);return function(e,t){if(t&&("object"===Se(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return je(e)}(this,o?(e=xe(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments))});function a(e){var u;return function(e){if(!(e instanceof a))throw new TypeError("Cannot call a class as a function")}(this),Pe(je(u=i.call(this,e)),"btnAdd",function(){var e=fe(u.props.defaultrow)?{}:u.props.defaultrow;e.__id="CLIENT_"+ge.a.v1(),u.fillDefaultValues(e,u.props.columns,u.props.placeholders),u.state.data.push(e),u.props.handleEvent&&u.props.handleEvent({key:u.props.name,propertyName:u.props.propertyName,eventName:"onAdd",parameters:{rowIdx:u.state.data.length-1,row:e}}),u.sendChangesToParent()}),Pe(je(u),"handleChange",function(e,t,r){var n=r.name,o=r.propertyName,i=r.value,a=r.checked,l=r.additionalValues;if(u.props.handleEvent||u.props.onChange){var s=o||n;if(fe(i)&&de(a)?e[s]=a:e[s]=i,"object"==Se(l))for(var c in l)e[s+"_"+c]=l[c];u.sendChangesToParent(),t&&t.preventDefault?t.preventDefault():u.forceUpdate()}}),u.state={expanded:{},data:[]},u}return r=[{key:"getDerivedStateFromProps",value:function(e,t){var r=null;return Te(t.originalValue,e.value)||((r={}).originalValue=_e(e.value),e=null==e.value?[]:e.value,Array.isArray(e)?(r.data=_e(e),r.stringmode=!1):(r.data=e.length?ve.a.parse(e):[],r.stringmode=!0)),r}}],t=[{key:"applyCollapseAll",value:function(e){for(var t in e)fe(this.state.expanded[t])&&(this.state.expanded[t]=!1)}},{key:"getFilteredItems",value:function(e,t){return void 0===e?[]:void 0!==t?e.filter(function(e){return t.IsRowMatched(e)}):e}},{key:"btnDelete",value:function(e,t){var r;(this.props.handleEvent||this.props.onChange)&&(r=(t=void 0===t?this.state.data:t)[e],t.splice(e,1),this.props.handleEvent&&this.props.handleEvent({key:this.props.name,propertyName:this.props.propertyName,eventName:"onDelete",parameters:{rowIdx:e,row:r}}),this.sendChangesToParent())}},{key:"btnAddChild",value:function(e,t){var r=(t=void 0===t?fe(this.state.data)?[]:this.state.data:t)[e];(e=fe(this.props.defaultrow)?{}:function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Ce(Object(r),!0).forEach(function(e){Pe(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Ce(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}({},this.props.defaultrow)).__id="CLIENT_"+ge.a.v1(),this.fillDefaultValues(e,this.props.columns,this.props.placeholders),this.props.parentIdField?(e[this.props.parentIdField]=r[this.props.idField]||r.__id,t.push(e)):(Array.isArray(r[this.props.childrenField])||(r[this.props.childrenField]=[]),r[this.props.childrenField].push(e)),this.props.handleEvent&&this.props.handleEvent({key:this.props.name,propertyName:this.props.propertyName,eventName:"onAddChild",parameters:{rowIdx:t.length-1,row:e}}),this.sendChangesToParent()}},{key:"fillDefaultValues",value:function(e,t,r){if(t&&r)for(var n=0;n<t.length;n++){var o=void 0,i=r[o="object"===Se(t[n])?t[n].key:t[n]];Array.isArray(i)&&0<i.length&&(i=i[0])&&(i.propertyName&&(o=i.propertyName),i.defaultValue&&(e[o]=i.defaultValue))}}},{key:"copyForParentId",value:function(t,r,e){var n=this,o=_e(r);return o.__id="CLIENT_"+ge.a.v1(),delete o[this.props.idField],o[this.props.parentIdField]=e,t.filter(function(e){return e[n.props.parentIdField]===(r[n.props.idField]||r.__id)}).forEach(function(e){return n.copyForParentId(t,e,o.__id)}),t.push(o),o}},{key:"resetIdsRecursive",value:function(e){var t=this;e.__id="CLIENT_"+ge.a.v1(),delete e[this.props.idField],Array.isArray(e[this.props.childrenField])&&e[this.props.childrenField].forEach(function(e){return t.resetIdsRecursive(e)})}},{key:"btnCopy",value:function(e,t){var r,e=(t=t||this.state.data)[e];this.props.parentIdField&&e.hasOwnProperty(this.props.parentIdField)?r=this.copyForParentId(t,e,e[this.props.parentIdField]):(r=_e(e),this.resetIdsRecursive(r),t.push(r)),this.props.handleEvent&&this.props.handleEvent({key:this.props.name,propertyName:this.props.propertyName,eventName:"onCopy",parameters:{rowIdx:t.length-1,row:r}}),this.sendChangesToParent()}},{key:"onExpand",value:function(e,t){this.state.expanded[e]=t,this.forceUpdate()}},{key:"onDragOver",value:function(e){e.preventDefault()}},{key:"onDragStart",value:function(e,t,r){r.dataTransfer.setData("index",e);var n=r.target;(n=(n=n&&n.parentElement)&&n.parentElement)&&r.dataTransfer.setDragImage(Oe()(r.target).parent().parent()[0],0,0),this.state.dragElementIndex=e,this.state.dragRows=t}},{key:"onDragEnd",value:function(e,t){this.state.dragElementIndex=void 0,this.state.dragRows=void 0}},{key:"onDrop",value:function(e,t,r){var n=this.state.dragElementIndex,o=this.state.dragRows,e=e,t=t;return de(n)&&(e!==n&&(void 0!==this.props.parentIdField&&""!==this.props.parentIdField&&(o[n][this.props.parentIdField]=t[e][this.props.parentIdField]),t.splice(e,0,o.splice(n,1)[0]),this.sendChangesToParent()),r.preventDefault()),!1}},{key:"sendChangesToParent",value:function(){var e=this.state.data,e=this.state.stringmode?e.length?ve.a.stringify(e):[]:e;this.props.buildermode||(this.props.onChange?this.props.onChange(null,{name:this.props.name,propertyName:this.props.propertyName,value:e}):this.props.handleEvent({syntheticEvent:null,key:this.props.name,eventName:"onChange",name:this.props.name,value:e,propertyName:this.props.propertyName}))}},{key:"render",value:function(){return z("collection-editor",{applyCollapseAll:this.applyCollapseAll,btnAdd:this.btnAdd,btnAddChild:this.btnAddChild,btnCopy:this.btnCopy,btnDelete:this.btnDelete,getFilteredItems:this.getFilteredItems,handleChange:this.handleChange,me:this,onExpand:this.onExpand,onDragStart:this.onDragStart,onDragEnd:this.onDragEnd,onDragOver:this.onDragOver,onDrop:this.onDrop,props:this.props,state:this.state})}}],Ee((e=a).prototype,t),Ee(e,r),a}();function Re(e){return(Re="function"==typeof Symbol&&"symbol"==Pu(Symbol.iterator)?function(e){return Pu(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":Pu(e)})(e)}function Fe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Ae(e,t){return(Ae=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ie(e){return(Ie=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Ne=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ae(e,t)}(o,c.Component);var r,n,t=(r=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,t=Ie(r);return function(e,t){if(t&&("object"===Re(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}()}(this,n?(e=Ie(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments))});function o(e){return function(e){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this),(e=t.call(this,e)).state={},e}return Fe(o.prototype,[{key:"render",value:function(){return z("container",{props:this.props})}}]),o}(),Le=r(6),Be=r.n(Le);function Me(e){return window.DWKitLang&&window.DWKitLang.common&&window.DWKitLang.common.dateFormat?window.DWKitLang.common.dateFormat:e}function Ve(e){return window.DWKitLang&&window.DWKitLang.common&&window.DWKitLang.common.timeFormat?window.DWKitLang.common.timeFormat:e}function Ue(){if(window.DWKitAdminLang&&window.DWKitAdminLang.workflowbar)return window.DWKitAdminLang.workflowbar}function qe(e){return(qe="function"==typeof Symbol&&"symbol"==Pu(Symbol.iterator)?function(e){return Pu(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":Pu(e)})(e)}function ze(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function He(e,t){return(He=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function We(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ge(e){return(Ge=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ke(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var $e=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&He(e,t)}(o,c.Component);var r,n,t=(r=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,t=Ge(r);return function(e,t){if(t&&("object"===qe(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return We(e)}(this,n?(e=Ge(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments))});function o(e){var r;return function(e){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this),Ke(We(r=t.call(this,e)),"handleChangeRaw",function(e){e=Be()(e.target.value,r.state.dateFormat),r.onChange(e)}),Ke(We(r),"onChange",function(e){var t;r.props.readOnly||de(r.props.onChange)&&((t=null)!=e&&de(e)&&(t="date"===r.props.type?e.format("YYYY-MM-DD"):e.toJSON()),r.props.onChange(null,{propertyName:r.props.propertyName,name:r.props.name,value:t}))}),r.state={},r}return ze(o.prototype,[{key:"render",value:function(){var e=this.props.type,t=this.props.value&&"time"!==e?Be()(this.props.value):void 0;t&&!t.isValid()&&(t=void 0);var r={style:this.props.style,className:this.props.className,onBlur:this.props.onBlur,onClick:this.props.onClick,onFocus:this.props.onFocus,onMouseEnter:this.props.onMouseEnter,onMouseLeave:this.props.onMouseLeave},n={};return"date"===e?n.dateFormat=Me("DD.MM.YYYY"):"time"===e?(n.showTimeSelect=!0,n.showTimeSelectOnly=!0,n.timeIntervals=10,n.dateFormat=Ve(),n.dateFormat||(n.dateFormat="HH:mm",n.timeFormat="HH:mm")):"datetime"===e&&(n.showTimeSelect=!0,Me()?n.dateFormat=Me()+" "+Ve("HH:ss"):(n.dateFormat="DD.MM.YYYY HH:mm",n.timeFormat="HH:mm")),this.state.dateFormat=n.dateFormat,z("date-picker",{controlProps:r,date:t,datePickerProps:n,handleChangeRaw:this.handleChangeRaw,onChange:this.onChange,state:this.state,placeholder:this.placeholder,props:this.props})}}]),o}();function Je(e){return(Je="function"==typeof Symbol&&"symbol"==Pu(Symbol.iterator)?function(e){return Pu(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":Pu(e)})(e)}function Ye(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Xe(e,t){return(Xe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Qe(e){return(Qe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Ze=r(7),et=r(10),tt=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Xe(e,t)}(a,c.Component);var e,t,r,n,o,i=(n=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,t=Qe(n);return function(e,t){if(t&&("object"===Je(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}()}(this,o?(e=Qe(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments))});function a(e){var t;return function(e){if(!(e instanceof a))throw new TypeError("Cannot call a class as a function")}(this),(t=i.call(this,e)).state={options:[],value:t.props.value},t.pageSize=e.pageSize,t.pageSize||(t.pageSize=100),t}return r=[{key:"getDerivedStateFromProps",value:function(e,t){return e.dataModel!==t.dataModel?{getAdditionalDataForControl:e.getAdditionalDataForControl,dataModel:e.dataModel,needFetch:!0,needValueFetch:!0,filters:e.filters}:e.paging&&e.value!==t.value&&void 0!==e.value?{needValueFetch:!0,value:e.value}:e.filters!=t.filters?{needFetch:!0,filters:e.filters}:null}}],t=[{key:"componentDidMount",value:function(){this.GetAdditionalData()}},{key:"shouldComponentUpdate",value:function(e,t){return!Ze(this.state,t)||!Ze(this.props,e)}},{key:"componentDidUpdate",value:function(e,t){this.GetAdditionalData()}},{key:"GetAdditionalData",value:function(){var r,e,n=this;void 0===this.state.dataModel?void 0!==console&&!0===this.props.buildermode&&console.log("Dictionary: Set DataModel label!"):void 0===this.state.getAdditionalDataForControl?void 0!==console&&!0===this.props.buildermode&&console.log("Dictionary: For paging on server need to set getAdditionalDataForControl func!"):this.state.needFetch?(e={model:(r=this).state.dataModel,filters:this.state.filters},this.props.paging&&(e.startIndex=0,e.pageSize=this.pageSize),this.state.isFetching=!0,this.state.needFetch=!1,this.state.getAdditionalDataForControl(this,e,function(e){var t=e.items,e=e.rowsCount;r.setData({items:t,rowsCount:e,page:0},!0),n.state.needValueFetch&&(n.state.needValueFetch=!1,n.loadCurrentValue())})):this.state.needValueFetch&&(this.state.needValueFetch=!1,this.loadCurrentValue())}},{key:"render",value:function(){var e,t=this,r={};for(e in this.props)"parentIsForm"!==e&&"getAdditionalDataForControl"!==e&&"dataModel"!==e&&"clearable"!==e&&"columns"!==e&&"paging"!==e&&"pageSize"!==e&&"handleEvent"!==e&&"propertyName"!==e&&"textAsValue"!==e&&(r[e]=this.props[e]);return this.props.readOnly&&(r.disabled=!0),r.options=this.state.options,r.onChange=this.onChange.bind(this),this.props.paging&&(r.onSearchChange=this.handleSearchChange.bind(this),r.onClose=this.onClose.bind(this),null!=this.state.open&&(this.state.open?r.open=!0:(r.open=!1,this.state.open=void 0,setTimeout(function(){t.forceUpdate()})))),r.multiple&&(void 0!==r.value&&null!==r.value||(r.value=[]),Array.isArray(r.value)||(r.value=this.getArrayValues(r.value))),r.loading=this.state.isFetching,r.searchQuery=this.state.searchQuery,z("dictionary",{propsControl:r,props:this.props})}},{key:"onChange",value:function(e,t){var r,n=this,o=(t.name,t.value),t=!1;this.props.multiple?Array.isArray(o)&&(r=!1,o.forEach(function(e){"string"==typeof e&&0===e.lastIndexOf("__load",0)&&(r=!0)}),r&&(t=!0)):"string"==typeof o&&0===o.lastIndexOf("__load",0)&&(t=!0),t?(this.state.open=!0,this.setState({isFetching:!0}),this.loadNextPage(),o=this.props.value):de(this.state.open)&&(this.state.open=!1);var i=null;this.props.textAsValue||(Array.isArray(o)?(i=new Array,o.forEach(function(t){var e;"string"!=typeof t||0!==t.lastIndexOf("__load",0)||0<(e=n.state.options.filter(function(e){return e.key===t})).length&&i.push(e[0].values)})):0<(t=this.state.options.filter(function(e){return e.key===o})).length?i=t[0].values:(t=this.getCollumnsForFilter())&&(i={},t.split(",").forEach(function(e){i[e]=null}))),this.props.handleEvent&&this.props.handleEvent({syntheticEvent:e,key:this.props.name,eventName:"onChange",name:this.props.name,propertyName:this.props.propertyName,value:o,additionalValues:i})}},{key:"onClose",value:function(){1!=this.state.open&&this.state.searchQuery?(this.state.isFetching=!0,this.state.searchQuery="",this.state.lastLoadPage=-1,this.loadNextPage(!0)):!1===this.state.open&&this.forceUpdate()}},{key:"handleSearchChange",value:function(e,t){var r=t.searchQuery,n=this;n.searchTimeout&&clearTimeout(n.searchTimeout),n.searchTimeout=setTimeout(function(){n.searchTimeout=void 0,n.setState({isFetching:!0,searchQuery:r,lastLoadPage:-1}),n.loadNextPage(!0)},100)}},{key:"loadNextPage",value:function(r){var n=this,e={model:this.state.dataModel},o=this.state.lastLoadPage+1;e.filters=n.state.filters,n.state.searchQuery&&(e.filters=[{column:this.getCollumnsForFilter(),term:"like",value:n.state.searchQuery}]),e.startIndex=o*this.pageSize,e.pageSize=this.pageSize,this.state.getAdditionalDataForControl(this,e,function(e){var t=e.items,e=e.rowsCount;n.setData({items:t,rowsCount:e,page:o},r),r&&n.loadCurrentValue()})}},{key:"setData",value:function(e,t){var r,n=e.items,o=e.rowsCount,e=e.page;if(t){if(o>(r=et(n)).length&&(u=(null!=this.state.searchQuery?this.state.searchQuery:"")+"...",r.push({key:"__load",value:"__load",text:u})),this.props.clearable&&!this.props.multiple&&r.unshift({key:"__reset",value:"",text:"   "}),this.props.multiple)for(var i=this.getArrayValues(this.props.value),a=0;a<i.length;a++)for(var l=i[a],s=0;s<this.state.options.length;s++){var c=this.state.options[s];l==c.value&&r.unshift(c)}}else{var u=void 0;0<(r=this.state.options).length&&"__load"===r[r.length-1].key&&((u=r.pop()).value="__load_"+e);for(var p=0;p<n.length;p++){for(var f=n[p],d=0;d<r.length;d++)if(r[d].key===f.key){r.splice(d,1);break}r.push(f)}void 0!==u&&o>r.length&&r.push(u)}this.props.textAsValue&&r.forEach(function(e){"__load"!=e.key&&(e.value=e.text)}),this.setState({needFetch:!1,options:r,rowsCount:o,isFetching:!1,lastLoadPage:e}),this.props.handleEvent&&this.props.handleEvent({syntheticEvent:void 0,key:this.props.name,eventName:"onDataReceived",name:this.props.name,propertyName:this.props.propertyName,value:this.props.value,parameters:{options:r}})}},{key:"getArrayValues",value:function(e){var t,e=e;if(!Array.isArray(e)){try{t=JSON.parse(e)}catch(e){}e=t=Array.isArray(t)?t:[e]}return e}},{key:"loadCurrentValue",value:function(){var t=this;if(this.props.value)if(this.props.multiple){for(var r,e=this.getArrayValues(this.props.value),n=[],o=0;o<e.length;o++){for(var i=e[o],a=!1,l=0;l<this.state.options.length;l++)if(this.state.options[l].value==i){a=!0;break}a||n.push(i)}0<n.length&&(this.props.textAsValue?(r=this.state.options,n.forEach(function(e){r.push({value:e,text:e})})):((s={model:this.state.dataModel}).filters=[{column:"__id",term:"in",value:n}],this.state.isFetching=!0,this.state.getAdditionalDataForControl(this,s,function(e){e=e.items,t.addAdditionalOptions(e)})))}else{for(var s,c=!1,u=0;u<this.state.options.length;u++)if(this.state.options[u].value==this.props.value){c=!0;break}c||(this.props.textAsValue?this.state.options.push({value:t.props.value,text:t.props.value}):((s={model:this.state.dataModel}).filters=[{column:"__id",term:"=",value:t.props.value}],this.state.isFetching=!0,this.state.getAdditionalDataForControl(this,s,function(e){e=e.items,t.addAdditionalOptions(e)})))}}},{key:"addAdditionalOptions",value:function(e){if(this.state.isFetching=!1,Array.isArray(e)&&e.length){for(var t=this.state.options,r=e.length-1;0<=r;r--){for(var n=!1,o=0;o<t.length;o++)if(t[o].key==e[r].key){n=!0;break}n||t.unshift(e[r])}this.forceUpdate()}}},{key:"getCollumnsForFilter",value:function(){if(this.props.columns){var e=new RegExp(" asc","gi"),t=this.props.columns.replace(e,""),e=new RegExp(" desc","gi"),t=t.replace(e,"");return e=new RegExp(" ","gi"),t.replace(e,"")}}}],Ye((e=a).prototype,t),Ye(e,r),a}();function rt(e){return(rt="function"==typeof Symbol&&"symbol"==Pu(Symbol.iterator)?function(e){return Pu(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":Pu(e)})(e)}function nt(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ot(e,t){return(ot=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function it(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function at(e){return(at=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function lt(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var st=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ot(e,t)}(o,c.Component);var r,n,t=(r=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,t=at(r);return function(e,t){if(t&&("object"===rt(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return it(e)}(this,n?(e=at(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments))});function o(e){var r;return function(e){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this),lt(it(r=t.call(this,e)),"onChange",function(e,t){t.name,t=t.value,1!=r.state.opendialog?de(r.props.handleEvent)&&r.props.handleEvent({e:e,key:r.props.name,propertyName:r.props.propertyName,eventName:"onItemClick",parameters:{target:t}}):r.state.opendialog=!1}),lt(it(r),"onMouseDown",function(e){r.state.opendialog=!Boolean(r.state.opendialog)}),r.state={},r}return nt(o.prototype,[{key:"render",value:function(){var e,n={};for(e in this.props)"imageUrl"!==e&&"defaultValue"!==e&&"value"!==e&&"handleEvent"!==e&&"items"!==e&&"propertyName"!==e&&(n[e]=this.props[e]);return n.options=[],this.props.items.forEach(function(e){var t=!1;if(void 0!==e.visibleCondition&&null!==e.visibleCondition&&""!==e.visibleCondition){var r="return "+e.visibleCondition;try{new Function("",r)()||(t=!0)}catch(e){}}t||n.options.push({value:e.target,text:e.title,target:e.target})}),n.value="",n.onChange=this.onChange,z("dropdown-trigger",{controlProps:n,onMouseDown:this.onMouseDown,props:this.props})}}]),o}();function ct(e){return(ct="function"==typeof Symbol&&"symbol"==Pu(Symbol.iterator)?function(e){return Pu(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":Pu(e)})(e)}function ut(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function pt(e,t){return(pt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ft(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function dt(e){return(dt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var ht=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&pt(e,t)}(i,c.Component);var e,r,n,o=(r=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,t=dt(r);return function(e,t){if(t&&("object"===ct(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return ft(e)}(this,n?(e=dt(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments))});function i(e){var a,t,r,n;return function(e){if(!(e instanceof i))throw new TypeError("Cannot call a class as a function")}(this),n=function(e,t){var r,n=a.props.additionalParams.handleEvent,o=a.props.onSuccess,i=a.props.onFail;(n||o||i)&&(t.success?(r={name:e.name,size:e.size,token:t.result.properties.Token,success:t.success,properties:t.result.properties},o?o(a.props.name,a.props.propertyName,r):n&&n({key:a.props.name,eventName:"success",name:a.props.name,propertyName:a.props.propertyName,value:t.message,parameters:r})):(t={name:e.name,size:e.size,message:t.message,success:t.success,details:t.details},i?i(a.props.name,a.props.propertyName,t):n&&n({key:a.props.name,eventName:"fail",name:a.props.name,propertyName:a.props.propertyName,parameters:t})),a.props.addRemoveLinks&&setTimeout(function(){e._removeLink.click()},500))},(r="fileUploadSuccess")in(t=ft(a=o.call(this,e)))?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n,a.state={commands:e.commands,states:e.states},a}return e=[{key:"componentDidMount",value:function(){this.isMount=!0}},{key:"componentWillUnmount",value:function(){this.isMount=!1}},{key:"render",value:function(){var e=this.props.additionalParams.parentItem,t=void 0;this.props.iconFiletypes&&(o=this.props.iconFiletypes.split(","),Array.isArray(o)&&0<o.length&&(t=[],o.forEach(function(e){t.push(e.trim())})));var r={addRemoveLinks:this.props.addRemoveLinks,autoProcessQueue:this.props.autoProcessQueue&&de(this.props.postUrl)},n={iconFiletypes:t,showFiletypeIcon:this.props.showFiletypeIcon,postUrl:fe(this.props.postUrl)?"no-url":this.props.postUrl},o={success:this.fileUploadSuccess};return z("dropzone",{componentConfig:n,djsConfig:r,eventHandlers:o,isForm:this.isForm(e),props:this.props})}},{key:"isForm",value:function(e){return e&&("form"===e["data-buildertype"]||"formgroup"===e["data-buildertype"])}},{key:"getEvents",value:function(){return["drop","dragstart","dragend","dragenter","dragover","dragleave","addedfile","removedfile","thumbnail","error","processing","uploadprogress","sending","success","complete","canceled","maxfilesreached","maxfilesexceeded","processingmultiple","sendingmultiple","successmultiple","completemultiple","canceledmultiple","totaluploadprogress","reset","queuecompleted"]}}],ut(i.prototype,e),i}();function yt(e){return(yt="function"==typeof Symbol&&"symbol"==Pu(Symbol.iterator)?function(e){return Pu(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":Pu(e)})(e)}function mt(e){return function(e){if(Array.isArray(e))return vt(e)}(e)||function(){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}()||function(e){if(e){if("string"==typeof e)return vt(e,void 0);var t=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(t="Object"===t&&e.constructor?e.constructor.name:t)||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?vt(e,void 0):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function vt(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function bt(t,e){var r,n=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)),n}function gt(n){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?bt(Object(o),!0).forEach(function(e){var t,r=n;e=o[t=e],t in r?Object.defineProperty(r,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):r[t]=e}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(o)):bt(Object(o)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(o,e))})}return n}function wt(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Ot(e,t){return(Ot=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ct(e){return(Ct=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var St=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ot(e,t)}(o,c.Component);var r,n,t=(r=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,t=Ct(r);return function(e,t){if(t&&("object"===yt(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}()}(this,n?(e=Ct(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments))});function o(e){var n;return function(e){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this),(n=t.call(this,e)).state={},n.props.events.forEach(function(e){var t,r=n.props.data[e]||{triggers:[]};(fe(r)||(t=r).actions||t.parameters||t.targets||fe(r.triggers[0]))&&(r=n.props.data[e]={active:r.active||!1,triggers:[{actions:r.actions||[],parameters:r.parameters||[{name:"",value:""}],targets:r.targets||[]}]},n.handleChange(e,{},{name:"triggers",checked:r.active||!1,value:r.triggers}))}),n}return wt(o.prototype,[{key:"render",value:function(){var n=[];Array.isArray(this.props.actions)&&this.props.actions.forEach(function(e){"string"==typeof e?n.push({text:e,value:e}):n.push(gt(gt({},e),{},{value:e.text}))});var r=this.props.data,e=this.props.events,o=mt(this.props.targets);return e.forEach(function(e){var t;de(r)&&(t=r[e])&&t.triggers&&Array.isArray(t.triggers)&&t.triggers.forEach(function(e){e.actions&&e.actions.forEach(function(e){for(var t=!1,r=0;r<n.length;r++)if(e==n[r].value){t=!0;break}t||n.push({text:e,value:e})}),e.targets&&e.targets.forEach(function(e){for(var t=!1,r=0;r<o.length;r++)if(e===o[r].value){t=!0;break}t||o.push({text:e,value:e})})})}),z("events-editor",{actionOptions:[].concat(n),targetOptions:mt(o),items:this.items,me:this,props:this.props})}},{key:"initNewTrigger",value:function(e){var t=this.props.data;t&&(t[e]||(t[e]={}),fe((t=t[e]).triggers)&&(t.triggers=[]),t.triggers.push({actions:[],targets:[],parameters:[{name:"",value:""}]}),this.handleChange(e,{},{name:"triggers",checked:t.active||!1,value:t.triggers}))}},{key:"handleChange",value:function(e,t,r){var n=r.name,o=r.value,i=r.checked;fe(r=this.props.data[e])&&(this.props.data[e]=r={triggers:[]}),fe(o)&&de(i)?r[n]=i:r[n]=o,de(this.props.onChange)&&this.props.onChange(t,{name:this.props.name,value:this.props.data})}},{key:"actionsOnAddItem",value:function(e,t){t=t.value,de(this.props.onAdditionActions)&&this.props.onAdditionActions(e,{value:t})}}]),o}();function Et(e){return(Et="function"==typeof Symbol&&"symbol"==Pu(Symbol.iterator)?function(e){return Pu(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":Pu(e)})(e)}function kt(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function jt(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function xt(e,t){return(xt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Pt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Tt(e){return(Tt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _t(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Dt=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&xt(e,t)}(o,c.Component);var e,r,n,t=(r=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,t=Tt(r);return function(e,t){if(t&&("object"===Et(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Pt(e)}(this,n?(e=Tt(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments))});function o(e){var n;return function(e){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this),_t(Pt(n=t.call(this,e)),"onDropzoneUploadSuccess",function(e,t,r){n.onFileUploaded(r)}),_t(Pt(n),"onDropzoneUploadFail",function(e,t,r){n.onFail(r)}),_t(Pt(n),"onCollectionEditorChange",function(e){var t=e.eventName,r=e.parameters,e=e.value;"onDelete"===t&&n.props.additionalParams.handleEvent({key:n.props.name,propertyName:n.props.propertyName,eventName:t,parameters:r}),"onChange"===t&&n.props.additionalParams.handleEvent({syntheticEvent:null,key:n.props.name,eventName:t,name:n.props.name,value:e,propertyName:n.props.propertyName})}),_t(Pt(n),"onUploadChange",function(e,t){t=t.parameters,n.onFileUploaded(t)}),_t(Pt(n),"onUploadFail",function(e,t){n.onFail(t)}),_t(Pt(n),"nameGetter",function(e){return e[n.props.columns.find(function(e){return"Name"===e.property}).field]}),_t(Pt(n),"contentTypeGetter",function(e){return e[n.props.columns.find(function(e){return"ContentType"===e.property}).field]}),_t(Pt(n),"setDisabled",function(e){n.setState({disabled:!n.state.disabled})}),n.state={},n}return e=[{key:"onFileUploaded",value:function(e){var t,r=this.props.value?function(e){if(Array.isArray(e))return kt(e)}(t=this.props.value)||function(){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}()||function(e){if(e){if("string"==typeof e)return kt(e,void 0);var t=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(t="Object"===t&&e.constructor?e.constructor.name:t)||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?kt(e,void 0):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}():[],n=e.properties,o={__id:"CLIENT_"+ge.a.v1()};this.props.columns.filter(function(e){return e.field}).forEach(function(e){o[e.field]=n[e.property]}),r.push(o),this.props.additionalParams.handleEvent({syntheticEvent:null,key:this.props.name,eventName:"onChange",name:this.props.name,value:r,propertyName:this.props.propertyName}),this.props.additionalParams.handleEvent({syntheticEvent:null,key:this.props.name,eventName:"onUploadSuccess",name:this.props.name,parameters:e,propertyName:this.props.propertyName})}},{key:"onFail",value:function(e){this.props.additionalParams.handleEvent({syntheticEvent:null,key:this.props.name,eventName:"onUploadFail",name:this.props.name,parameters:e,propertyName:this.props.propertyName})}},{key:"render",value:function(){var r=this,n=[];this.props.columns.filter(function(e){return e.showcolumn}).forEach(function(e){var t={key:e.field,name:e.title,control:e.control};"Token"===e.property&&(t.additionalData={customNameGetter:r.nameGetter,customContentTypeGetter:r.contentTypeGetter}),n.push(t)});var e={readOnly:this.props.readOnly,value:this.props.value,idField:this.props.idField,downloadUrl:this.props.downloadUrl,columns:n,handleEvent:this.onCollectionEditorChange};return z("files",{editorProps:e,onDropzoneUploadSuccess:this.onDropzoneUploadSuccess,onDropzoneUploadFail:this.onDropzoneUploadFail,onUploadChange:this.onUploadChange,onUploadFail:this.onUploadFail,state:this.state,props:this.props})}}],jt(o.prototype,e),o}();function Rt(e){return(Rt="function"==typeof Symbol&&"symbol"==Pu(Symbol.iterator)?function(e){return Pu(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":Pu(e)})(e)}function Ft(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function At(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function It(e,t,r){return t&&At(e.prototype,t),r&&At(e,r),e}var Nt=(It(Mt,null,[{key:"Greater",get:function(){return">"}},{key:"Less",get:function(){return">"}},{key:"Equal",get:function(){return"="}},{key:"GreaterOrEqual",get:function(){return">="}},{key:"LessOrEqual",get:function(){return"<="}},{key:"NotEqual",get:function(){return"!="}},{key:"Like",get:function(){return"like"}},{key:"StartsWith",get:function(){return"like*"}},{key:"EndsWith",get:function(){return"*like"}},{key:"IsGreater",value:function(e){return e===Mt.Greater}},{key:"IsLess",value:function(e){return e===Mt.Less}},{key:"IsEqual",value:function(e){return e===Mt.Equal}},{key:"IsGreaterOrEqual",value:function(e){return e===Mt.GreaterOrEqual}},{key:"IsLessOrEqual",value:function(e){return e===Mt.LessOrEqual}},{key:"IsNotEqual",value:function(e){return e===Mt.NotEqual}},{key:"IsLike",value:function(e){return e.toLowerCase()===Mt.Like||"*like*"===e.toLowerCase()}},{key:"IsStartsWith",value:function(e){return e.toLowerCase()===Mt.StartsWith}},{key:"IsEndsWith",value:function(e){return e.toLowerCase()===Mt.EndsWith}},{key:"Evaluate",value:function(e,t,r){if(Mt.IsGreater(r))return Mt.compareWithTypeCheck(e,t,function(e,t){return t<e});if(Mt.IsLess(r))return Mt.compareWithTypeCheck(e,t,function(e,t){return e<t});if(Mt.IsEqual(r))return Mt.compareWithTypeCheck(e,t,function(e,t){return e===t});if(Mt.IsGreaterOrEqual(r))return Mt.compareWithTypeCheck(e,t,function(e,t){return t<=e});if(Mt.IsLessOrEqual(r))return Mt.compareWithTypeCheck(e,t,function(e,t){return e<=t});if(Mt.IsNotEqual(r))return Mt.compareWithTypeCheck(e,t,function(e,t){return e!==t});if(Mt.IsLike(r))return Mt.likeCompare(e,t,function(e,t){return 0<=e.indexOf(t)});if(Mt.IsStartsWith(r))return Mt.likeCompare(e,t,function(e,t){return e.startsWith(t)});if(Mt.IsEndsWith(r))return Mt.likeCompare(e,t,function(e,t){return e.endsWith(t)});throw"Unknown term "+r}},{key:"likeCompare",value:function(e,t,r){return null===e&&null===t||void 0===e&&void 0===t||null!=e&&null!=t&&r(e.toString().toLowerCase(),t.toString().toLowerCase())}},{key:"compareWithTypeCheck",value:function(e,t,r){return null===e&&null===t||void 0===e&&void 0===t||null!=e&&null!=t&&(e instanceof Date&&"string"==typeof t?r(e.getTime(),new Date(t).getTime()):"string"==typeof e&&t instanceof Date?r(new Date(e).getTime(),t.getTime()):e instanceof Date&&t instanceof Date?r(e.getTime(),t.getTime()):Rt(e)===Rt(t)?r(e,t):r(e,"number"==typeof e&&"string"==typeof t?parseFloat(t):"string"==typeof e&&"number"==typeof t?t.toString():t))}}]),Mt),Lt=(It(Bt,[{key:"AddFilter",value:function(e){var r,t,n,o=this,i=e.names,a=e.expected,l=e.term,s=e.id;i.length<1||(r=1===i.length?i[0]:i.sort().join(","),this._innerFilter.hasOwnProperty(r)?t=this._innerFilter[r]:((t=this._innerFilter[r]={}).funcs=[],t.items=[],t.test=function(t){return o._innerFilter[r].funcs.every(function(e){return e(t)})}),n=function(e,t){var r=Object.keys(e).find(function(e){return e.toString().toLowerCase()===t.toLowerCase()});return void 0!==r&&Nt.Evaluate(e[r],a,l)},e=1===i.length?function(e){return n(e,i[0])}:function(t){return i.some(function(e){return n(t,e)})},t.funcs.push(e),t.items.push({expected:a,term:l,id:s}))}},{key:"RemoveFilter",value:function(e){var t,r,n,o=this,i=e.name,a=e.id;void 0!==i&&(r=Array.isArray(i)?(t=1===i.length?i[0]:i.sort().join(","),i):[t=i]),void 0!==i&&void 0===a?delete this._innerFilter[t]:void 0===i&&void 0===a?this._innerFilter={}:(n=function(e,t,r){var n;!o._innerFilter.hasOwnProperty(e)||(n=o._innerFilter[e].items.filter(function(e){return e.id!==r})).length<o._innerFilter[e].items.length&&(delete o._innerFilter[e],n.forEach(function(e){o.AddFilter({names:t,expected:e.expected,term:e.term,id:e.id})}))},void 0!==i&&void 0!==a?n(t,r,a):Object.keys(this._innerFilter).forEach(function(e){n(e,e.split(","),a)}))}},{key:"IsRowMatched",value:function(e){var t=Object.keys(this._innerFilter);if(t.length<=0)return!0;for(var r=0;r<t.length;r++)if(!this._innerFilter[t[r]].test(e))return!1;return!0}},{key:"GetFilterAsObjects",value:function(){var e=this;if(void 0===this._innerFilter)return[];var r=[];return Object.keys(this._innerFilter).forEach(function(t){e._innerFilter[t].items.forEach(function(e){r.push({column:t,value:e.expected,term:e.term})})}),r}}]),Bt);function Bt(e,r){var n=this;if(Ft(this,Bt),this._innerFilter={},void 0!==e&&Array.isArray(e)){if(void 0===r||!Array.isArray(r))throw"columns must be array";e.forEach(function(e){var t;void 0!==e&&(t="*"===e.column?r:e.column.split(",").map(function(e){return e.trim()}),n.AddFilter({names:t,expected:e.value,term:e.term}))})}}function Mt(){Ft(this,Mt)}function Vt(e){return(Vt="function"==typeof Symbol&&"symbol"==Pu(Symbol.iterator)?function(e){return Pu(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":Pu(e)})(e)}function Ut(t,e){var r,n=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)),n}function qt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function zt(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Ht(e,t,r){return t&&zt(e.prototype,t),r&&zt(e,r),e}function Wt(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Gt(e,t)}function Gt(e,t){return(Gt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Kt(r){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=$t(r);return function(e,t){if(t&&("object"===Vt(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}()}(this,n?(e=$t(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments))}}function $t(e){return($t=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Jt=function(){Wt(t,c.Component);var e=Kt(t);function t(){return qt(this,t),e.apply(this,arguments)}return Ht(t,[{key:"render",value:function(){return z("checkbox-formatter",{props:this.props})}}]),t}(),Yt=function(){Wt(t,c.Component);var e=Kt(t);function t(){return qt(this,t),e.apply(this,arguments)}return Ht(t,[{key:"render",value:function(){return z("number-formatter",{props:this.props})}}]),t}(),Xt=function(){Wt(t,c.Component);var e=Kt(t);function t(){return qt(this,t),e.apply(this,arguments)}return Ht(t,[{key:"render",value:function(){var e,t=Be()(this.props.value),r="";return t.isValid()&&(e=Me("L"),r=t.format(e)),z("date-formatter",{props:this.props,strValue:r})}}]),t}(),Qt=function(){Wt(t,c.Component);var e=Kt(t);function t(){return qt(this,t),e.apply(this,arguments)}return Ht(t,[{key:"render",value:function(){var e,t,r,n=Be()(this.props.value),o="";return n.isValid()&&(r="DD.MM.YYYY HH:mm",(e=Me())&&(t=Ve("HH:mm"),r="".concat(e," ").concat(t)),o=n.format(r)),z("datetime-formatter",{props:this.props,strValue:o})}}]),t}(),Zt=function(){Wt(t,c.Component);var e=Kt(t);function t(){return qt(this,t),e.apply(this,arguments)}return Ht(t,[{key:"render",value:function(){var e,t=Be()(this.props.value),r="";return t.isValid()&&(e=de(window.DWKitLang)&&de(window.DWKitLang.common)&&de(window.DWKitLang.common.timeFormat)?window.DWKitLang.common.timeFormat:"HH:mm",r=t.format(e)),z("time-formatter",{props:this.props,strValue:r})}}]),t}(),er=function(){Wt(a,c.Component);var r=Kt(a);function a(e){var t;qt(this,a),(t=r.call(this,e)).state={items:[],sort:"",defaultSort:e.defaultSort,filter:e.filter,pageSize:20,selectedIndexes:[],rowsCount:a.staticIsServerMode(e)?void 0:0};try{t.state.isrtl="rtl"==getComputedStyle(document.getElementsByTagName("html")[0]).direction}catch(e){}return t}return Ht(a,[{key:"isEditFormModal",value:function(){return"modal"===this.props.editFormShowType}},{key:"isEditFormSidebar",value:function(){return"sidebar"===this.props.editFormShowType}},{key:"isServerMode",value:function(){return a.staticIsServerMode(this.props)}},{key:"refresh",value:function(){var e;this.isServerMode()?this.setState({items:[],selectedIndexes:[],rowsCount:void 0}):(e=Array.isArray(this.props.value)?a.staticGetSortedAndFilteredItems(this.props.value,this.state.filter,this.state.sort,this.props.defaultSort):[],this.setState({items:e,rowsCount:e.length,selectedIndexes:[],originalItems:this.props.value}))}},{key:"resetSelection",value:function(){this.setState({selectedIndexes:[]})}},{key:"render",value:function(){return z("grid-view",{gridColumns:this.getColumns(),gridProps:this.getGridPropsByPagerType(this.props.pagerType),me:this,onRowsSelected:this.onRowsSelected.bind(this),onRowsDeselected:this.onRowsDeselected.bind(this),selectBy:{indexes:this.state.selectedIndexes},gridRowGetter:this.gridRowGetter.bind(this),gridOnRowClick:this.gridOnRowClick.bind(this),handleGridSort:this.handleGridSort.bind(this),state:this.state,props:this.props})}},{key:"getColumns",value:function(){var n=this,e=void 0===this.props.columns?[]:Array.isArray(this.props.columns)?this.props.columns:JSON.parse(this.props.columns);return e.forEach(function(r){null!==r.width&&""!==r.width&&void 0!==r.width&&(r.width=Number(r.width)),!1!==r.sortable&&(r.sortable=!n.props.disableSort),r.filterable=Boolean(n.props.filterRow),r.resizable=Boolean(r.resizable),"number"===r.type?r.formatter=Yt:"checkbox"===r.type?r.formatter=Jt:"date"===r.type?r.formatter=Xt:"time"===r.type?r.formatter=Zt:"datetime"===r.type?r.formatter=Qt:"custom"===r.type&&(r.getRowMetaData=function(e){return e},r.formatter=function(e){if(fe(r.customFormatter)||"function"!=typeof r.customFormatter){if(n.props.placeholders&&Array.isArray(n.props.placeholders[r.key])&&0<n.props.placeholders[r.key].length){var t=n.props.placeholders[r.key][0];return void 0!==t.propertyName&&""!==t.propertyName||(t.propertyName=r.key),q.a.createElement(j,{key:r.key+"_"+e.dependentValues.__id,model:t,parent:n,row:e.dependentValues,errorOnRow:{},name:n.props.name,buildermode:n.props.buildermode,handleChange:function(){},handleEvent:n.props.handleEvent,getAdditionalDataForControl:n.props.getAdditionalDataForControl,readOnly:n.props.readOnly,uploadUrl:n.props.uploadUrl,downloadUrl:n.props.downloadUrl,data:n.props.data,adaptiveViewType:n.props.adaptiveViewType,controlBarParams:n.props.controlBarParams,createControl:n.props.createControl})}return n.props.buildermode?n.props.createBuilderDropzone(n.props.name,n.props.name,void 0,r.key,r.key):""}return r.customFormatter({row:e.dependentValues,value:e.value,column:r})})}),this.state.isrtl?e.reverse():e}},{key:"getGridPropsByPagerType",value:function(){var e,t={};return"server"===this.props.pagerType&&((e=parseInt(this.props.pageSize))&&(this.state.pageSize=e),t.rowRenderer=q.a.createElement(tr,{error:this.props.error}),fe(this.state.rowsCount)&&(this.state.rowsCount=1)),t}},{key:"getSeletedRowKeys",value:function(){var r=this,n=[];return this.state.selectedIndexes.forEach(function(e){var t;void 0!==(e=r.gridRowGetter(e))&&null!=(t=null==(t=null!==r.props.rowKey&&void 0!==r.props.rowKey&&e.hasOwnProperty(r.props.rowKey)?e[r.props.rowKey]:t)||fe(t)?e.__id:t)&&n.push(t)}),n}},{key:"gridRowGetter",value:function(e){if(!(e<0)){var t,r=this.props.pagerType;return"server"===r&&void 0===this.state.items[e]&&(t=this.state.pageSize,this.loadPage(e,t)),"server"===r?this.state.items[e]:function(n){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?Ut(Object(o),!0).forEach(function(e){var t,r=n;e=o[t=e],t in r?Object.defineProperty(r,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):r[t]=e}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(o)):Ut(Object(o)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(o,e))})}return n}({},this.state.items[e])}}},{key:"getSort",value:function(){var e=this.state.sort;return""===e&&void 0!==this.props.defaultSort?this.props.defaultSort:e}},{key:"getFilters",value:function(){return void 0!==this.state.filter?this.state.filter.GetFilterAsObjects():[]}},{key:"loadPage",value:function(e,t){for(var r,a=this,n=0;n<t;n++)this.state.items[n+e]={__loading:!0};void 0===this.props.getAdditionalDataForControl?void 0!==console&&console.log("GridView: For paging on server need to set getAdditionalDataForControl func!"):(r=this.getSort(),this.props.getAdditionalDataForControl(this,{startIndex:e,pageSize:t,filters:this.getFilters(),sort:r},function(e){var t=e.sIndex,r=e.pSize,n=e.rowsCount,o=e.items;if(void 0===n||void 0===o)a.state.rowsCount=0,a.setState({rowsCount:0,items:[]});else{a.state.rowsCount=n;for(var i=0;i<r;i++)i<o.length?a.state.items[t+i]=o[i]:a.state.items[t+i]=void 0;a.forceUpdate()}}))}},{key:"gridOnRowClick",value:function(e,t){var r;void 0!==t&&(r=Date.now(),void 0!==this.rowClickTime&&this.rowClickTime.rowIdx===e&&r-this.rowClickTime.time<=1e3?(this.rowClickTime=void 0,this.onRowDblClick(e,t)):(this.rowClickTime={rowIdx:e,time:r},void 0!==this.props.handleEvent&&this.props.handleEvent({key:this.props.name,propertyName:this.props.propertyName,eventName:"onRowClick",parameters:{rowIdx:e,row:t}})))}},{key:"onRowDblClick",value:function(e,t){void 0!==this.props.handleEvent&&this.props.handleEvent({key:this.props.name,propertyName:this.props.propertyName,eventName:"onRowDblClick",parameters:{rowIdx:e,row:t}})}},{key:"onRowsSelected",value:function(e){this.state.selectedIndexes=this.state.selectedIndexes.concat(e.map(function(e){return e.rowIdx})),void 0!==this.props.handleEvent&&this.props.handleEvent({key:this.props.name,eventName:"onSelectionChanged",propertyName:this.props.propertyName,parameters:{selectedIndexes:this.state.selectedIndexes}}),this.forceUpdate()}},{key:"onRowsDeselected",value:function(e){var t=e.map(function(e){return e.rowIdx});this.state.selectedIndexes=this.state.selectedIndexes.filter(function(e){return-1===t.indexOf(e)}),void 0!==this.props.handleEvent&&this.props.handleEvent({key:this.props.name,eventName:"onSelectionChanged",propertyName:this.props.propertyName,parameters:{selectedIndexes:this.state.selectedIndexes}}),this.forceUpdate()}},{key:"handleGridSort",value:function(e,t){var r={};r.sort="NONE"===t?"":e+" "+t,t=this.props.pagerType,r.items="server"===t?[]:a.staticGetSortedAndFilteredItems(this.props.value,this.state.filter,r.sort,this.props.defaultSort),r.selectedIndexes=[],this.setState(r)}},{key:"handleFilterChange",value:function(e){var t={},r=e.column.key,n="columnfilter_"+r;t.filter=void 0!==this.state.filter?this.state.filter:new Lt([],this.props.columns.map(function(e){return e.key})),t.filter.RemoveFilter({name:r,id:n}),""!==e.filterTerm&&t.filter.AddFilter({names:[r],expected:e.filterTerm,term:Nt.Like,id:n}),a.staticIsServerMode(this.props)?(t.items=[],t.selectedIndexes=[],t.rowsCount=void 0):(t.items=a.staticGetSortedAndFilteredItems(this.props.value,t.filter,this.state.sort,this.props.defaultSort),t.selectedIndexes=[],t.rowsCount=t.items.length),this.setState(t)}},{key:"onClearFilters",value:function(){this.setState({filter:this.props.filter})}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"componentDidMount",value:function(){this._isMounted=!0,this.recalcSizeParams()}},{key:"recalcSizeParams",value:function(){var e;this._isMounted&&this.props.autoHeight&&(e=window.innerHeight,this.setState({gridHeight:e-this.props.deltaHeight}))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var r,n=null,o=t.filter,i=e.filter;return JSON.stringify(o)!==JSON.stringify(i)?(n={filter:e.filter},a.staticIsServerMode(e)?(n.items=[],n.selectedIndexes=t.selectedIndexes,n.rowsCount=void 0):(r=Array.isArray(e.value)?a.staticGetSortedAndFilteredItems(e.value,e.filter,t.sort,e.defaultSort):[],n.items=r,n.selectedIndexes=t.selectedIndexes,n.rowsCount=r.length)):a.staticIsServerMode(e)||t.originalItems===e.value||(n={},r=Array.isArray(e.value)?a.staticGetSortedAndFilteredItems(e.value,t.filter,t.sort,e.defaultSort):[],n.items=r,n.rowsCount=r.length,n.selectedIndexes=t.selectedIndexes,n.originalItems=e.value),n}},{key:"staticIsServerMode",value:function(e){return"server"===e.pagerType}},{key:"staticGetSortedAndFilteredItems",value:function(e,t,r,n){var o=[];if(void 0===e)return o;if(o=void 0!==t?e.filter(function(e){return t.IsRowMatched(e)}):e,"NONE"===(e=r)||""===r){if(void 0===n)return o;e=n}var n=e.indexOf(" "),i=e.substring(0,n),a=e.substring(n+1,e.length);return o.slice(0).sort(function(e,t){return(e=void 0!==e[i]&&null!==e[i]&&void 0!==e[i].toLowerCase?e[i].toLowerCase():e[i])===(t=void 0!==t[i]&&null!==t[i]&&void 0!==t[i].toLowerCase?t[i].toLowerCase():t[i])?0:null==e?1:null==t?-1:"ASC"===a?t<e?1:-1:"DESC"===a?e<t?1:-1:void 0})}}]),a}(),tr=function(){Wt(t,c.Component);var e=Kt(t);function t(){return qt(this,t),e.apply(this,arguments)}return Ht(t,[{key:"setScrollLeft",value:function(e){this.row.setScrollLeft(e)}},{key:"getClassName",value:function(){var t=this;return this.props.row.__loading?"dwkit-gridview-rowloading":void 0!==this.props.row.__id&&null!==this.props.row.__id&&void 0!==this.props.error&&null!==this.props.error&&Array.isArray(this.props.error)&&void 0!==this.props.error.find(function(e){return e.__id===t.props.row.__id})?"dwkit-gridview-rowerror":""}},{key:"render",value:function(){return z("row-loading-renderer",{className:this.getClassName(),me:this,props:this.props,row:this.row})}}]),t}();function rr(e){return(rr="function"==typeof Symbol&&"symbol"==Pu(Symbol.iterator)?function(e){return Pu(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":Pu(e)})(e)}function nr(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function or(e,t){return(or=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ir(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ar(e){return(ar=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var lr=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&or(e,t)}(a,c.Component);var e,t,r,n,o,i=(n=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,t=ar(n);return function(e,t){if(t&&("object"===rr(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return ir(e)}(this,o?(e=ar(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments))});function a(e){var r,t,n,o;return function(e){if(!(e instanceof a))throw new TypeError("Cannot call a class as a function")}(this),o=function(e,t){t=t.name,de(r.props.handleEvent)&&0!=r.props.handleEvent({e:e,key:r.props.name,eventName:"onItemClick",parameters:{target:t}})&&r.setState({activeitem:t})},(n="handleItemClick")in(t=ir(r=i.call(this,e)))?Object.defineProperty(t,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[n]=o,r.state={},de(e.value)?r.state.activeitem=e.value:null!=e.activeitem&&(r.state.activeitem=e.activeitem),r}return r=[{key:"getDerivedStateFromProps",value:function(e,t){return t.activeitem!==e.value?{activeitem:e.value}:null}}],t=[{key:"handleItemClick2",value:function(e,t){this.handleItemClick(t,e),t.preventDefault()}},{key:"render",value:function(){var e=this.props["data-items"];return fe(e)||""==e?e=[]:Array.isArray(e)||(e=ve.a.parse(e)),z("menu-group",{handleItemClick:this.handleItemClick,handleItemClick2:this.handleItemClick2,items:e,me:this,props:this.props,state:this.state})}}],nr((e=a).prototype,t),nr(e,r),a}();function sr(e){return(sr="function"==typeof Symbol&&"symbol"==Pu(Symbol.iterator)?function(e){return Pu(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":Pu(e)})(e)}function cr(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ur(e,t){return(ur=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function pr(e){return(pr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var fr=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ur(e,t)}(t,c.Component);var r,n,e=(r=t,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,t=pr(r);return function(e,t){if(t&&("object"===sr(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}()}(this,n?(e=pr(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments))});function t(){return function(e){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),e.apply(this,arguments)}return cr(t.prototype,[{key:"render",value:function(){var e,t={};for(e in this.props)"additionalParams"!==e&&"items"!==e&&"propertyName"!==e&&(t[e]=this.props[e]);var r=this.props.additionalParams.model,n=this.props.additionalParams.parentItem,o=this.props.additionalParams.handleEvent;return t.defaultValue=r.defaultvalue,t.size=r.size,he(r.label)&&(t.label=r.label),t.labelPosition=r.labelPosition,t.type=r.type,t.disabled=r.disabled,t.transparent=r.transparent,t.fluid=r.fluid,t.readOnly=r.readOnly||this.props.readOnly,t.placeholder=r.placeholder,null==t.value&&(t.value=""),t.error=Boolean(this.props.error),t.format=r.format||void 0,t.mask=r.mask||void 0,t.onValueChange=function(e){o({key:t.name,propertyName:t.propertyName,eventName:"onChange",name:t.name,value:Number(e.value)})},z("number-format",{isForm:this.isForm(n),props:this.props,propsControl:t})}},{key:"isForm",value:function(e){return null!=e&&("form"===e["data-buildertype"]||"formgroup"===e["data-buildertype"])}}]),t}();function dr(e){return(dr="function"==typeof Symbol&&"symbol"==Pu(Symbol.iterator)?function(e){return Pu(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":Pu(e)})(e)}function hr(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function yr(e,t){return(yr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function mr(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function vr(e){return(vr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var br=r(7),gr=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&yr(e,t)}(l,c.Component);var r,n,a=(r=l,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,t=vr(r);return function(e,t){if(t&&("object"===dr(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return mr(e)}(this,n?(e=vr(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments))});function l(){var n;!function(e){if(!(e instanceof l))throw new TypeError("Cannot call a class as a function")}(this);for(var e,t,r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return t=function(e,t){var r=t.name,t=t.value;n.props.onChange?n.props.onChange(e,{name:n.props.name,propertyName:n.props.propertyName,value:t}):n.props.handleEvent?n.props.handleEvent({syntheticEvent:e,key:n.props.name,eventName:"onChange",name:r,value:t,propertyName:n.props.propertyName}):console.error("Set onChange property for RadioGroup!")},"onChange"in(e=mr(n=a.call.apply(a,[this].concat(o))))?Object.defineProperty(e,"onChange",{value:t,enumerable:!0,configurable:!0,writable:!0}):e.onChange=t,n}return hr(l.prototype,[{key:"shouldComponentUpdate",value:function(e){return!br(this.props,e)}},{key:"render",value:function(){return z("radio-group",{props:this.props,onChange:this.onChange.bind(this)})}}]),l}();function wr(e){return(wr="function"==typeof Symbol&&"symbol"==Pu(Symbol.iterator)?function(e){return Pu(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":Pu(e)})(e)}function Or(t,e){var r,n=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)),n}function Cr(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Sr(e,t){return(Sr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Er(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function kr(e){return(kr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function jr(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var xr=r(7),Pr=r(10),Tr=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Sr(e,t)}(s,c.Component);var e,t,r,n,o=(r=s,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,t=kr(r);return function(e,t){if(t&&("object"===wr(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Er(e)}(this,n?(e=kr(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments))});function s(e){var l;return function(e){if(!(e instanceof s))throw new TypeError("Cannot call a class as a function")}(this),jr(Er(l=o.call(this,e)),"handleChange",function(e,t,r){var n=r.name,o=r.propertyName,i=r.value,a=r.checked,r=r.parameters;(l.props.controlProps.handleEvent||l.props.controlProps.buildermode)&&(void 0===o&&(o=n),r&&void 0!==r.index&&((n=l.state.items)[r.index]=function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Or(Object(r),!0).forEach(function(e){jr(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Or(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}({},e),e=n[r.index]),fe(i)&&de(a)?e[o]=a:e[o]=i,l.isServerMode()?l.forceUpdate():(l.sendChangesToParent(),t&&t.preventDefault?t.preventDefault():l.forceUpdate()))}),jr(Er(l),"loadNextPage",function(){var e=l.state.pageSize,t=0;de(l.state.items)&&(t=l.state.items.length),l.loadPage(t,e)}),l.psTemplate="template",l.state={items:[],sort:"",filter:e.filter,firstLoad:!e.controlProps.buildermode&&s.staticIsServerMode(e),pageSize:e.pageSize||20},l}return t=[{key:"getDerivedStateFromProps",value:function(e,t){var r,n={needUpdate:!1};return xr(t.filter,e.filter)?s.staticIsServerMode(e)||xr(t.originalItems,e.value)||(r=s.staticGetSortedAndFilteredItems(e.value,t.filter,t.sort,e.defaultSort),n.items=r,n.rowsCount=r.length,n.selectedIndexes=[],n.originalItems=s.copyObj(e.value),n.needUpdate=!0):(n.filter=e.filter,n.needUpdate=!0,s.staticIsServerMode(e)?(n.items=[],n.firstLoad=!0,n.rowsCount=void 0):(e=s.staticGetSortedAndFilteredItems(e.value,e.filter,t.sort,e.defaultSort),n.items=e,n.selectedIndexes=[],n.rowsCount=e.length)),n}},{key:"staticIsServerMode",value:function(e){return e.pagerType&&"server"===e.pagerType.toLowerCase()}},{key:"staticCheckData",value:function(e){if(e=e||[],Array.isArray(e))e=Pr(e);else try{e=ve.a.parse(e)}catch(e){}return e}},{key:"staticGetSortedAndFilteredItems",value:function(e,t,r,n){var o=s.staticCheckData(e);if(void 0===o)return o;if(Array.isArray(o)&&0<o.length)for(var i in o)o[i].__originalIndex=i,i++;if(void 0!==t&&(o=o.filter(function(e){return t.IsRowMatched(e)})),"NONE"===(e=r)||""===r){if(void 0===n)return o;e=n}var n=e.indexOf(" "),a=e.substring(0,n),l=e.substring(n+1,e.length);return o.sort(function(e,t){return(e=void 0!==e[a]&&null!==e[a]&&void 0!==e[a].toLowerCase?e[a].toLowerCase():e[a])===(t=void 0!==t[a]&&null!==t[a]&&void 0!==t[a].toLowerCase?t[a].toLowerCase():t[a])?0:null==e?1:null==t?-1:"ASC"===l?t<e?1:-1:"DESC"===l?e<t?1:-1:void 0})}},{key:"copyObj",value:function(e){if(null==e||"object"!=wr(e))return e;var t,r=e.constructor();for(t in e)e.hasOwnProperty(t)&&(r[t]=this.copyObj(e[t]));return r}}],Cr((e=s).prototype,[{key:"shouldComponentUpdate",value:function(e,t){return!!t.needUpdate||!xr(this.props,e)}},{key:"render",value:function(){return z("repeater",{isServerMode:this.isServerMode(),loadNextPage:this.loadNextPage,me:this,props:this.props,psTemplate:this.psTemplate,state:this.state,handleChange:this.handleChange})}},{key:"sendChangesToParent",value:function(){var e=s.copyObj(this.state.items);if(Array.isArray(e)&&0<e.length)for(var t in e)delete e[t].__originalIndex;var r="string"==typeof this.props.value?ve.a.stringify(e):e;this.props.controlProps.buildermode?this.props.value=r:this.props.controlProps.handleEvent({syntheticEvent:null,key:this.props.name,propertyName:this.props.propertyName,eventName:"onChange",name:this.name,value:r})}},{key:"loadPage",value:function(o,e){var t,i=this;this.props.controlProps&&void 0!==this.props.controlProps.getAdditionalDataForControl?(""===(t=this.state.sort)&&void 0!==this.props.defaultSort&&(t=this.props.defaultSort),this.state.loading=!0,this.forceUpdate(),this.props.controlProps.getAdditionalDataForControl(this,{startIndex:o,pageSize:e,filters:void 0!==this.state.filter?this.state.filter.GetFilterAsObjects():[],sort:t},function(e){e.sIndex,e.pageSize;var t=e.rowsCount,r=e.items;if(void 0!==t&&void 0!==r&&(i.state.rowsCount=t,i.state.items.length==o))for(var n=0;n<r.length;n++)i.state.items.push(r[n]);i.state.loading=!1,i.forceUpdate()})):void 0!==console&&console.log("Repeater: For paging on server need to set getAdditionalDataForControl func!")}},{key:"isServerMode",value:function(){return s.staticIsServerMode(this.props)}}]),Cr(e,t),s}(),_r=r(5);function Dr(e){return(Dr="function"==typeof Symbol&&"symbol"==Pu(Symbol.iterator)?function(e){return Pu(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":Pu(e)})(e)}function Rr(t,e){var r,n=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)),n}function Fr(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Rr(Object(r),!0).forEach(function(e){Br(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Rr(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}function Ar(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Ir(e,t){return(Ir=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Nr(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Lr(e){return(Lr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Br(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Mr=r(7),Vr=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ir(e,t)}(i,c.Component);var r,n,o=(r=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,t=Lr(r);return function(e,t){if(t&&("object"===Dr(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Nr(e)}(this,n?(e=Lr(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments))});function i(){var n;!function(e){if(!(e instanceof i))throw new TypeError("Cannot call a class as a function")}(this);for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return Br(Nr(n=o.call.apply(o,[this].concat(t))),"handleEvent",function(e){e.parameters||(e.parameters={}),e.parameters.row||(e.parameters.row=n.props.item),"onChange"===e.eventName?(e.parameters.index||(e.parameters.index=n.props.index),n.props.handleChange(n.props.item,e.syntheticEvent,e)):(e.parameters.index||(n.props.item&&n.props.item.__originalIndex?e.parameters.index=n.props.item.__originalIndex:e.parameters.index=n.props.index),n.props.controlProps.handleEvent(e))}),Br(Nr(n),"getAdditionalDataForControl",function(e,t,r){return(t=t||{}).row||(t.row=n.props.item),n.props.controlProps.getAdditionalDataForControl(e,t,r)}),n}return Ar(i.prototype,[{key:"shouldComponentUpdate",value:function(e){return!Mr(this.props,e)}},{key:"render",value:function(){var e,t=this.props.controlProps.createBuilderDropzone,r=this.props.model,n=this.props.index+"_",o=this.props.psTemplate,i=this.props.item,a=void 0,l=void 0;return this.props.controlProps.buildermode||(a=(e=Object(_r.checkConditions)({model:r,data:i})).hideControls,l=e.readOnlyControls),l=this.props.controlProps.createControls(this.props.parent,Fr(Fr({},this.props.controlProps),{},{model:r,parentPlaceholder:o,data:i,errors:this.props.errors,needCheckReplace:!this.props.controlProps.buildermode,formData:this.props.data,parentItem:this.props.parentItem,handleEvent:this.handleEvent,getAdditionalDataForControl:this.getAdditionalDataForControl,hideControls:a,readOnlyControls:l})),this.props.includeDropzone&&t&&(0<l.length&&0<r.length&&l.unshift(t(n+"repeter_dropzone_header",this.props.parentItem.key,void 0,void 0,o)),l.push(t(n+"repeter_dropzone_footer",this.props.parentItem.key,r[r.length-1].key,void 0,o))),l}}]),i}(),Ur=r(13),qr=r.n(Ur);function zr(e){return(zr="function"==typeof Symbol&&"symbol"==Pu(Symbol.iterator)?function(e){return Pu(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":Pu(e)})(e)}function Hr(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Wr(e,t){return(Wr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Gr(e){return(Gr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Kr=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Wr(e,t)}(o,c.Component);var r,n,t=(r=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,t=Gr(r);return function(e,t){if(t&&("object"===zr(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}()}(this,n?(e=Gr(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments))});function o(e){return function(e){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this),(e=t.call(this,e)).state={value:""},e}return Hr(o.prototype,[{key:"render",value:function(){var e,t={};for(e in this.props)"value"!==e&&"handleEvent"!==e&&(t[e]=this.props[e]);return z("search",{controlProps:t,handleResultSelect:this.handleResultSelect.bind(this),handleSearchChange:this.handleSearchChange.bind(this),state:this.state})}},{key:"resetSearch",value:function(){this.setState({isLoading:!1,results:[]})}},{key:"handleResultSelect",value:function(e,t){t=t.result,de(this.props.handleEvent)&&this.props.handleEvent({key:this.props.name,propertyName:this.props.propertyName,eventName:"onSelect",parameters:t})}},{key:"handleSearchChange",value:function(e,t){var t=t.value,r=this;r.setState({isLoading:!0,value:t}),setTimeout(function(){return null===r.state.value||void 0===r.state.value||r.state.value.length<2?r.resetSearch():void r.search(r.state.value)},200)}},{key:"search",value:function(e){var t=this,r=this.props.url;r+=this.props.url.includes("?")?"&":"?",r+="term="+e,qr()(r,{credentials:"same-origin"}).then(function(e){return e.json()}).then(function(e){t.setState({isLoading:!1,results:e})}).catch(function(e){fe(console)?alert(e):console.error(e)})}}]),o}();function $r(e){return($r="function"==typeof Symbol&&"symbol"==Pu(Symbol.iterator)?function(e){return Pu(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":Pu(e)})(e)}function Jr(t,e){var r,n=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)),n}function Yr(n){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?Jr(Object(o),!0).forEach(function(e){var t,r=n;e=o[t=e],t in r?Object.defineProperty(r,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):r[t]=e}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(o)):Jr(Object(o)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(o,e))})}return n}function Xr(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Qr(e,t){return(Qr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Zr(e){return(Zr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var en=r(10),tn=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Qr(e,t)}(o,c.Component);var e,r,n,t=(r=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,t=Zr(r);return function(e,t){if(t&&("object"===$r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}()}(this,n?(e=Zr(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments))});function o(e){return function(e){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this),(e=t.call(this,e)).state={},e}return e=[{key:"render",value:function(){var e,n=this,i=this,a={};for(e in this.props)"additionalParams"!==e&&"items"!==e&&"propertyName"!==e&&(a[e]=this.props[e]);var t,r,o=this.props.additionalParams.model,l=this.props.additionalParams.data,s=this.props.additionalParams.errors,c=this.props.additionalParams.children,u=this.props.additionalParams.parentItem,p=this.props.additionalParams.handleEvent,f=o["data-buildertype"];if("header"===f)t=z(f,{props:this.props,propsControl:a,model:o});else if("button"===f)a.floated=o.floated,a.size=""!==o.size?o.size:null,a.content=this.props.content,a.basic=o.basic,a.circular=o.circular,a.compact=o.compact,a.disabled=o.disabled,a.fluid=o.fluid,a.primary=o.primary,a.secondary=o.secondary,a.link=o.link,o.icon&&(a.icon=o.icon),void 0!==p&&(r=a.onClick,a.onClick=function(e){r&&r(e),e.currentTarget&&e.currentTarget.classList&&e.currentTarget.classList.add("loading");var t=p({syntheticEvent:e,key:a.name,eventName:"onClick"});return e.currentTarget&&e.currentTarget.classList&&e.currentTarget.classList.remove("loading"),t}),t=z(f,{propsControl:a,isForm:this.isForm(u)});else if("label"===f)t=z(f,{props:this.props,propsControl:a,model:o});else if("message"===f)t=z(f,{props:this.props,propsControl:a,model:o});else if("input"===f)a.defaultValue=o.defaultvalue,a.size=o.size,he(o.label)&&(a.label=o.label),a.labelPosition=o.labelPosition,a.placeholder=o.placeholder,a.type=o.type,a.disabled=o.disabled,a.transparent=o.transparent,a.fluid=o.fluid,a.readOnly=o.readOnly||this.props.readOnly,null!=p&&(a.onChange=function(e,t){var r=t.name,n=t.value,o=n;"number"===a.type&&(""==o?o=void 0:"string"!=typeof o||"."!=(t=o[o.length-1])&&","!=t&&(o=Number(o),Number.isNaN(o)&&(o=n))),p({syntheticEvent:e,key:a.name,propertyName:i.props.propertyName,eventName:"onChange",name:r,value:o})}),null==a.value&&(a.value=""),a.error=Boolean(this.props.error),t=z(f,{isForm:this.isForm(u),props:this.props,propsControl:a});else if("textarea"===f)delete a.autoHeight,a.placeholder=o.placeholder,a.rows=null!==o.rows&&void 0!==o.rows?Number(o.rows):void 0,void 0!==o.label&&""!==o.label&&(a.label=o.label),a.readOnly=o.readOnly||this.props.readOnly,null!==p&&(a.onChange=function(e,t){var r=t.name,t=t.value;p({syntheticEvent:e,key:a.name,propertyName:i.props.propertyName,eventName:"onChange",name:r,value:t})}),null==a.value&&(a.value=""),t=z(f,{isForm:this.isForm(u),props:this.props,propsControl:a});else if("checkbox"===f)void 0!==o.label&&""!==o.label&&(a.label=o.label),a.placeholder=o.placeholder,a.type=o.type,a.disabled=o.disabled,a.fitted=o.fitted,a.indeterminate=o.indeterminate,a.readOnly=o.readOnly||this.props.readOnly,a.slider=o.slider,a.toggle=o.toggle,null!==p&&(a.onChange=function(e,t){var r=t.name,t=t.checked;p({syntheticEvent:e,key:a.name,propertyName:i.props.propertyName,eventName:"onChange",name:r,value:t})}),void 0!==l&&(h=l[i.props.propertyName],"boolean"==typeof variable?a.checked=h:a.checked="true"===h||"1"===h||"false"!==h&&"0"!==h&&Boolean(h)),s&&de(s[o.key])&&1==Boolean(s[o.key])&&(he(a.className)?a.className+=" error":a.className="error"),t=z(f,{isForm:this.isForm(u),propsControl:a});else if("dropdown"===f){var d,h=[];if(void 0!==o["data-elements"]&&(h=Array.isArray(o["data-elements"])?o["data-elements"]:ve.a.parse(o["data-elements"])),void 0!==o.label&&""!==o.label&&(a.label=o.label),o.clearable&&!o.multiple&&(h=en(h)).unshift({key:"__reset",value:"",text:"[ Clear ]"}),a.defaultValue=o.defaultvalue,a.placeholder=o.placeholder,a.options=h,a.fluid=o.fluid,a.selection=o.selection,a.clearable=o.clearable,a.multiple=o.multiple,a.search=o.search,a.disabled=o.disabled||o.readOnly||this.props.readOnly,s&&void 0!==s[o.key]&&(a.error=Boolean(a.error)),null!==p&&(a.onChange=function(e,t){var r=t.name,t=t.value;p({syntheticEvent:e,key:a.name,propertyName:i.props.propertyName,eventName:"onChange",name:r,value:t})}),a.allowAdditions=o.allowAddItems,a.allowAdditions&&(a.onAddItem=function(e,t){var r=t.value,t=en(a.value);Array.isArray(t)?t.includes(r)||t.push(r):t=[r],a.onChange(e,{name:a.name,value:t})}),a.multiple){if(void 0!==a.value&&null!==a.value||(a.value=[]),!Array.isArray(a.value)){try{d=ve.a.parse(a.value)}catch(e){}Array.isArray(d)||(d=[a.value]),a.value=d}a.allowAdditions&&this.dropdownCheckAdditional(a.value,a.options)}t=z(f,{isForm:this.isForm(u),props:this.props,propsControl:a})}else if("statistic"===f)u=[],null!==(u=void 0!==o["data-elements"]?Array.isArray(o["data-elements"])?o["data-elements"]:ve.a.parse(o["data-elements"]):u)&&void 0!==u&&u.forEach(function(e,t){return e.key=e.key||t}),t=z(f,{items:u,model:o,propsControl:a});else if("image"===f)t=z(f,{me:i,model:o,props:this.props,propsControl:a});else if("form"===f)t=z(f,{propsControl:a,children:c,model:o});else if("formgroup"===f)t=z(f,{propsControl:a,widths:o.widths,widthsCustom:o.widthsCustom,children:c,orientation:o.orientation});else if("breadcrumb"===f){var y=[];if(Array.isArray(this.props.items))for(var m=0;m<this.props.items.length;m++)!function(e){var t=n.props.items[e],r={key:e};r.active=t.active,r.href=t.url,null!==p&&(r.onClick=function(e){p({syntheticEvent:e,key:a.name,eventName:"onItemClick",parameters:{target:t.url}}),e.preventDefault()}),y.push({childProps:Yr({},r),text:de(t.text)?t.text:"<not set>"}),e<n.props.items.length-1&&(e={key:e+"_d"},""!==t.divider&&(e.icon=t.divider),y.push({dividerProps:Yr({},e),isDivider:!0}))}(m);t=z(f,{children:y,propsControl:a})}else t=z("unknown",{props:this.props,type:f});return t}},{key:"isForm",value:function(e){return null!=e&&("form"===e["data-buildertype"]||"formgroup"===e["data-buildertype"])}},{key:"dropdownCheckAdditional",value:function(e,n){Array.isArray(e)&&e.forEach(function(e){for(var t=!1,r=0;r<n.length;r++)if(e===n[r].value){t=!0;break}0==t&&n.push({value:e,text:e})})}}],Xr(o.prototype,e),o}();function rn(e){return(rn="function"==typeof Symbol&&"symbol"==Pu(Symbol.iterator)?function(e){return Pu(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":Pu(e)})(e)}function nn(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function on(e,t){return(on=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function an(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ln(e){return(ln=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function sn(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var cn=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&on(e,t)}(i,c.Component);var r,n,o=(r=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,t=ln(r);return function(e,t){if(t&&("object"===rn(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return an(e)}(this,n?(e=ln(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments))});function i(){var n;!function(e){if(!(e instanceof i))throw new TypeError("Cannot call a class as a function")}(this);for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return sn(an(n=o.call.apply(o,[this].concat(t))),"onUpload",function(e,t){var r=an(n),e={name:e.name,token:t.result.properties.Token,success:t.success,properties:t.result.properties};t.success?r.props.onChange&&r.props.onChange(null,{name:r.props.name,propertyName:r.props.propertyName,value:t.result.properties.Token,parameters:e}):r.props.onUploadFail&&r.props.onUploadFail(null,{name:r.props.name,propertyName:r.props.propertyName,message:t.result.message,details:t.result.details,success:!1})}),sn(an(n),"onClear",function(e){var t=an(n);t.props.onChange&&t.props.onChange(null,{name:t.props.name,propertyName:t.props.propertyName,value:null})}),n}return nn(i.prototype,[{key:"render",value:function(){var e=this.onClear,t=this.onUpload;return z("signature",{handleChange:this.handleChange,me:this,onClear:e,onUpload:t,props:this.props,state:this.state})}}]),i}();function un(e){return(un="function"==typeof Symbol&&"symbol"==Pu(Symbol.iterator)?function(e){return Pu(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":Pu(e)})(e)}function pn(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function fn(e,t){return(fn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function dn(e){return(dn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var hn=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&fn(e,t)}(o,c.Component);var r,n,t=(r=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,t=dn(r);return function(e,t){if(t&&("object"===un(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}()}(this,n?(e=dn(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments))});function o(e){return function(e){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this),(e=t.call(this,e)).state={},e}return pn(o.prototype,[{key:"render",value:function(){var e={name:this.props.name,className:this.props["style-customcss"],style:this.props.style,"data-buildertype":this.props["data-buildertype"]};return z("static-content",{props:this.props,spanProps:e})}}]),o}();function yn(e){return(yn="function"==typeof Symbol&&"symbol"==Pu(Symbol.iterator)?function(e){return Pu(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":Pu(e)})(e)}function mn(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function vn(e,t){return(vn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function bn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function gn(e){return(gn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function wn(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var On=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&vn(e,t)}(i,c.Component);var e,t,r,n,o=(r=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,t=gn(r);return function(e,t){if(t&&("object"===yn(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return bn(e)}(this,n?(e=gn(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments))});function i(e){var n;return function(e){if(!(e instanceof i))throw new TypeError("Cannot call a class as a function")}(this),wn(bn(n=o.call(this,e)),"tabChange",function(e){var t=n.state.activeIndex,r=n.getPanes(n.props["data-panes"]),t=null!=e?e:t+1<r.length?t+1:0;n.onTabChange({},{activeIndex:t})}),wn(bn(n),"onTabChange",function(e,t){t=t.activeIndex,n.setState({activeIndex:t}),n.props.buildermode&&n.forceUpdate(),window&&window.document&&setTimeout(function(){var e=window.document.createEvent("UIEvents");e.initUIEvent("resize",!0,!1,window,0),window.dispatchEvent(e)},50),de(n.props.handleEvent)&&n.props.handleEvent({e:e,key:n.props.name,eventName:"onTabChange",parameters:{targetIndex:t,pane:n.props["data-panes"][t]}})}),n.state={activeIndex:0},de(e.value)?n.state.activeitem=e.value:null!=e.activeitem&&(n.state.activeitem=e.activeitem),n}return t=[{key:"getDerivedStateFromProps",value:function(e,t){return t.activeitem!==e.value?{activeitem:e.value}:null}}],mn((e=i).prototype,[{key:"render",value:function(){var e=this.getPanes(this.props["data-panes"]);return z("tab-group",{onTabChange:this.onTabChange,panes:e,activeIndex:this.state.activeIndex,props:this.props})}},{key:"getPanes",value:function(e){var t=[];if(Array.isArray(e))for(var r=0;r<e.length;r++){var n=e[r];if(void 0!==n.visibleCondition&&null!==n.visibleCondition&&""!==n.visibleCondition){var o="return "+n.visibleCondition;try{if(!new Function("data",o)(this.props.data))continue}catch(e){}}t.push({menuItem:n.title,pane:{key:n.psid,className:"top",content:this.renderPanel(n)}})}return t}},{key:"renderPanel",value:function(e){var t,r,n=void 0;return de(this.props.placeholders)&&Array.isArray(this.props.placeholders[e.psid])&&0<this.props.placeholders[e.psid].length?(t=this.props.placeholders[e.psid])&&(n=this.props.createControls(this,{model:t,parentPlaceholder:e.psid,data:this.props.data,formData:this.props.data,errors:this.props.errors,buildermode:this.props.buildermode,parentItem:this.props.model,children:this.props.children,handleEvent:this.props.handleEvent,readOnlyControls:this.props.readOnlyControls,hideControls:this.props.hideControls,getFormFunc:this.props.getFormFunc,getAdditionalDataForControl:this.props.getAdditionalDataForControl,readOnly:this.props.readOnly,disableRefs:this.props.disableRefs,uploadUrl:this.props.uploadUrl,downloadUrl:this.props.downloadUrl,extendedData:this.props.extendedData,controlsToReplace:this.props.controlsToReplace,needCheckReplace:this.props.needCheckReplace,eventOnEdit:this.props.eventOnEdit,eventOnDelete:this.props.eventOnDelete,eventOnCopy:this.props.eventOnCopy,externalControlRender:this.props.externalControlRender,externalControlList:this.props.externalControlList,adaptiveViewType:this.props.adaptiveViewType}),r=e.psid,this.props.buildermode&&this.props.createBuilderDropzone&&(0<n.length&&0<t.length&&n.unshift(this.props.createBuilderDropzone(r+"tab_dropzone_header",this.props.name,void 0,e.title,e.psid)),n.push(this.props.createBuilderDropzone(r+"tab_dropzone_footer",this.props.name,t[t.length-1].key,e.title,e.psid)))):this.props.buildermode&&this.props.createBuilderDropzone&&(n=this.props.createBuilderDropzone("tab_dropzone_footer",this.props.name,void 0,e.title,e.psid)),n}}]),mn(e,t),i}();function Cn(e){return(Cn="function"==typeof Symbol&&"symbol"==Pu(Symbol.iterator)?function(e){return Pu(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":Pu(e)})(e)}function Sn(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function En(e,t){return(En=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function kn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function jn(e){return(jn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var xn=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&En(e,t)}(i,c.Component);var e,t,r,n,o=(r=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,t=jn(r);return function(e,t){if(t&&("object"===Cn(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return kn(e)}(this,n?(e=jn(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments))});function i(e){var t,r,n;return function(e){if(!(e instanceof i))throw new TypeError("Cannot call a class as a function")}(this),t=o.call(this,e),n=function(e){null!=t.props.handleEvent&&t.props.handleEvent({syntheticEvent:e,key:t.props.name,propertyName:t.props.propertyName,eventName:"onClick"})},(e="onClick")in(r=kn(t))?Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[e]=n,t.state={},t}return t=[{key:"copyObj",value:function(e){if(null==e||"object"!=Cn(e))return e;var t,r=e.constructor();for(t in e)e.hasOwnProperty(t)&&(r[t]=this.copyObj(e[t]));return r}}],Sn((e=i).prototype,[{key:"render",value:function(){var e={className:this.props.className,style:this.props.style};return this.props.activeEvent&&(e.onClick=this.onClick.bind(this)),z("card",{props:this.props,propsControls:e,me:this})}},{key:"renderPanel",value:function(e){var t,r,n=void 0;return null!=this.props.placeholders&&Array.isArray(this.props.placeholders[e])&&0<this.props.placeholders[e].length?(t=this.props.placeholders[e])&&(n=this.props.createControls(this,{model:t,parentPlaceholder:e,data:this.props.data,formData:this.props.data,errors:this.props.errors,buildermode:this.props.buildermode,parentItem:this.props.model,children:this.props.children,handleEvent:this.props.handleEvent,hideControls:this.props.hideControls,readOnlyControls:this.props.readOnlyControls,getFormFunc:this.props.getFormFunc,getAdditionalDataForControl:this.props.getAdditionalDataForControl,readOnly:this.props.readOnly,disableRefs:this.props.disableRefs,uploadUrl:this.props.uploadUrl,downloadUrl:this.props.downloadUrl,extendedData:this.props.extendedData,controlsToReplace:this.props.controlsToReplace,needCheckReplace:this.props.needCheckReplace,eventOnEdit:this.props.eventOnEdit,eventOnDelete:this.props.eventOnDelete,eventOnCopy:this.props.eventOnCopy,externalControlRender:this.props.externalControlRender,externalControlList:this.props.externalControlList,adaptiveViewType:this.props.adaptiveViewType}),r=e,this.props.buildermode&&this.props.createBuilderDropzone&&(0<n.length&&0<t.length&&n.unshift(this.props.createBuilderDropzone(r+"tab_dropzone_header",this.props.name,void 0,e,e)),n.push(this.props.createBuilderDropzone(r+"tab_dropzone_footer",this.props.name,t[t.length-1].key,e,e)))):this.props.buildermode&&this.props.createBuilderDropzone&&(n=this.props.createBuilderDropzone("tab_dropzone_footer",this.props.name,void 0,e,e)),n}}]),Sn(e,t),i}();function Pn(e){return(Pn="function"==typeof Symbol&&"symbol"==Pu(Symbol.iterator)?function(e){return Pu(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":Pu(e)})(e)}function Tn(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function _n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Dn(e,t){return(Dn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Rn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Fn(e){return(Fn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function An(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var In=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Dn(e,t)}(i,c.Component);var r,n,o=(r=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,t=Fn(r);return function(e,t){if(t&&("object"===Pn(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Rn(e)}(this,n?(e=Fn(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments))});function i(){var a;!function(e){if(!(e instanceof i))throw new TypeError("Cannot call a class as a function")}(this);for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return An(Rn(a=o.call.apply(o,[this].concat(t))),"additionalDataContext",function(){var e,t,r;return null===(e=a.props)||void 0===e||null===(t=e.me)||void 0===t||null===(r=t.props)||void 0===r?void 0:r.row}),An(Rn(a),"getCustomFileName",function(){return a.props.additionalData&&a.additionalDataContext()&&a.props.additionalData.customNameGetter?a.props.additionalData.customNameGetter(a.additionalDataContext()):null}),An(Rn(a),"getCustomContentType",function(){return a.props.additionalData&&a.additionalDataContext()&&a.props.additionalData.customContentTypeGetter?a.props.additionalData.customContentTypeGetter(a.additionalDataContext()):null}),An(Rn(a),"onChange",function(t){var e,r=Rn(a),n=function(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e){if(e){if("string"==typeof e)return Tn(e,void 0);var t=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(t="Object"===t&&e.constructor?e.constructor.name:t)||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?Tn(e,void 0):void 0}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0;return{s:t=function(){},n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:t}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,a=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return i=e.done,e},e:function(e){a=!0,o=e},f:function(){try{i||null==r.return||r.return()}finally{if(a)throw o}}}}(t.target.files);try{for(n.s();!(e=n.n()).done;){var o=e.value,i=new FormData;i.append(r.props.name,o),Oe.a.ajax({url:r.props.uploadUrl,type:"POST",processData:!1,contentType:!1,dataType:"json",data:i,success:function(e){e.success?r.props.onChange&&r.props.onChange(t,{name:r.props.name,propertyName:r.props.propertyName,value:e.result.properties.Token,parameters:{success:!0,properties:e.result.properties}}):r.props.onUploadFail&&r.props.onUploadFail(t,{name:r.props.name,propertyName:r.props.propertyName,message:e.message,details:e.details,success:!1})}})}}catch(e){n.e(e)}finally{n.f()}}),An(Rn(a),"onClear",function(){a.props.onChange&&a.props.onChange(void 0,{name:a.props.name,propertyName:a.props.propertyName,value:null})}),a}return _n(i.prototype,[{key:"render",value:function(){return z("upload",{getCustomContentType:this.getCustomContentType,getCustomFileName:this.getCustomFileName,me:this,onChange:this.onChange,onClear:this.onClear,props:this.props})}}]),i}();function Nn(e){return(Nn="function"==typeof Symbol&&"symbol"==Pu(Symbol.iterator)?function(e){return Pu(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":Pu(e)})(e)}function Ln(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Bn(e,t){return(Bn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Mn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Vn(e){return(Vn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Un(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var qn=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Bn(e,t)}(o,c.Component);var r,n,t=(r=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,t=Vn(r);return function(e,t){if(t&&("object"===Nn(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Mn(e)}(this,n?(e=Vn(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments))});function o(e){var n;return function(e){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this),Un(Mn(n=t.call(this,e)),"selectWorkflowScheme",function(e,t){t=t.value,n.props.handleEvent({key:n.props.name,eventName:"onSchemeSelected",parameters:{scheme:t}})}),Un(Mn(n),"handleChanged",function(e,t){var r=t.name,t=t.value;n.setState(Un({},r,t))}),n.state={commands:e.commands,states:e.states,processExists:e.processExists},n.checkGetAdditionalDataForControl(),n}return Ln(o.prototype,[{key:"componentDidMount",value:function(){this.isMount=!0}},{key:"componentWillUnmount",value:function(){this.isMount=!1}},{key:"checkGetAdditionalDataForControl",value:function(){var o=this;this.props.getAdditionalDataForControl||this.props.commands||this.props.states?this.props.getAdditionalDataForControl(this,{loadParameters:!this.props.blockLoadParameters},function(e){var t=e.commands,r=e.states,n=e.processExists,e=e.processParameters;o.setState({commands:t,states:r,processExists:n}),o.props.handleEvent&&o.props.handleEvent({key:o.props.name,eventName:"onReceivedCommands",parameters:{commands:t,states:r,processParameters:e}}),o.isMount&&o.forceUpdate()}):console&&console.log("WorkflowBar: This control requires getAdditionalDataForControl or commands and states not undefined parameters!")}},{key:"onCommand",value:function(e,t){de(this.props.handleEvent)&&(t.currentTarget&&t.currentTarget.classList&&t.currentTarget.classList.add("loading"),this.props.handleEvent({key:this.props.name,eventName:"onCommandClick",parameters:{command:e}}),t.currentTarget&&t.currentTarget.classList&&t.currentTarget.classList.remove("loading"))}},{key:"onSetState",value:function(e){if(de(this.props.handleEvent)){e.currentTarget&&e.currentTarget.classList&&e.currentTarget.classList.add("loading");for(var t=(de(this.state.states)?this.state:this.props).states,r=void 0,n=0;n<t.length;n++)if(t[n].value==this.state.setstate){r=t[n];break}this.props.handleEvent({key:this.props.name,eventName:"onSetStateClick",parameters:{state:r}}),e.currentTarget&&e.currentTarget.classList&&e.currentTarget.classList.remove("loading")}}},{key:"render",value:function(){return z("workflow-bar",{handleChanged:this.handleChanged.bind(this),me:this,props:this.props,selectWorkflowScheme:this.selectWorkflowScheme.bind(this),state:this.state,onCommand:this.onCommand.bind(this),onSetState:this.onSetState.bind(this)})}}]),o}(),zn=r(14),Hn=r.n(zn);var Wn=r(15),Gn=r.n(Wn);function Kn(e){return(Kn="function"==typeof Symbol&&"symbol"==Pu(Symbol.iterator)?function(e){return Pu(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":Pu(e)})(e)}function $n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Jn(e,t){return(Jn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Yn(e){return(Yn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Xn=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Jn(e,t)}(o,c.Component);var r,n,t=(r=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,t=Yn(r);return function(e,t){if(t&&("object"===Kn(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}()}(this,n?(e=Yn(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments))});function o(e){return function(e){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this),(e=t.call(this,e)).state={},e.controlRef=q.a.createRef(),e.barRef=q.a.createRef(),e}return $n(o.prototype,[{key:"render",value:function(){return z("control-bar",{props:this.props,onCopyControl:this.onCopyControl.bind(this,this.props.model),me:this})}},{key:"onCopyControl",value:function(e,t){var r=ve.a.stringify(e);(e=document.createElement("textarea")).value=r,e.setAttribute("readonly",""),e.style.position="absolute",e.style.left="-9999px",document.body.appendChild(e),r=0<document.getSelection().rangeCount&&document.getSelection().getRangeAt(0),e.select(),document.execCommand("copy"),document.body.removeChild(e),r&&(document.getSelection().removeAllRanges(),document.getSelection().addRange(r))}},{key:"componentDidMount",value:function(){this.updateBarPosition&&(window.addEventListener("resize",this.updateBarPosition),this.updateBarPosition())}},{key:"componentDidUpdate",value:function(){this.updateBarPosition&&this.updateBarPosition()}},{key:"componentWillUnmount",value:function(){this.updateBarPosition&&window.removeEventListener("resize",this.updateBarPosition)}}]),o}();function Qn(t,e){var r,n=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)),n}function Zn(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Qn(Object(r),!0).forEach(function(e){no(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Qn(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}function eo(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e){if(e){if("string"==typeof e)return to(e,void 0);var t=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(t="Object"===t&&e.constructor?e.constructor.name:t)||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?to(e,void 0):void 0}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0;return{s:t=function(){},n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:t}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,a=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return i=e.done,e},e:function(e){a=!0,o=e},f:function(){try{i||null==r.return||r.return()}finally{if(a)throw o}}}}function to(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ro(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function no(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var oo=(Ol=[{key:"isAdaptiveRender",value:function(e,t){return!e["style-adaptive"]||null==t||""===t||!e["style-renderwhen"]||t===e["style-renderwhen"]}},{key:"isForm",value:function(e){return null!=e&&("form"===e["data-buildertype"]||"formgroup"===e["data-buildertype"])}},{key:"getFormattedDate",value:function(e,t){if(null==t)return"";var r,n=void 0,o=e.indexOf(":");return 0<o?(r=e.substring(0,o),n=e.substring(o+1,e.length)):r=e,null==(e=t[r])&&(e=""),de(n)&&("number"==typeof e?e=Gn()(e).format(n):(t=Be()(e)).isValid()&&(e="local"===n?(r=Me("L"),t.format(r)):t.format(n))),e}},{key:"getStyle",value:function(e,t,r){var n={};return e["style-marginTop"]&&(n.marginTop=e["style-marginTop"]),e["style-marginBottom"]&&(n.marginBottom=e["style-marginBottom"]),e["style-marginLeft"]&&(n.marginLeft=e["style-marginLeft"]),e["style-marginRight"]&&(n.marginRight=e["style-marginRight"]),e["style-width"]&&(n.width=e["style-width"]),e["style-height"]&&(n.height=e["style-height"]),void 0!==e["style-float"]&&(n.float=e["style-float"]),void 0!==e["style-display"]&&(n.display=e["style-display"]),e["style-hidden"]&&(t?n.opacity=.2:n.display="none"),void 0!==e["style-source"]&&io.getCustomStyle(e["style-source"],n),void 0!==e["style-font-size"]&&(n.fontSize=e["style-font-size"]),e["style-adaptive"]&&void 0!==e["style-mobilesource"]&&"mobile"===r&&io.getCustomStyle(e["style-mobilesource"],n),n}},{key:"getCustomStyle",value:function(e,r){e.split(";").forEach(function(e){var t=e.split(":");2===t.length&&(e=t[0].replace(/^\s+|\s+$/g,""),r[e]=t[1].replace(/^\s+|\s+$/g,""))})}},{key:"getClassName",value:function(e,t){var r=e["style-customcss"];return t&&de(io.containers["data-buildertype"])&&(r=(null==r?"":r+" ")+"dwkit-formbuilder-item-container"),1==e["other-required"]&&(t="dwkit-required-field",r=null==r||""==r?t:r+t),1==e["style-hiddeninprint"]?(null==r?"":r+" ")+"dwkit-notprint":r}},{key:"fillDefaultValues",value:function(e,t){for(var r in t)void 0===e[r]&&(e[r]=t[r]);return e}}],Tc=[{key:"createBuilderDropzone",value:function(t,r,n,e,o){var i="";return z("builder-dropzone",{key:t,elementToInsert:r,elementAfter:n,onChangeDZ:function(e,t){t.name,t=t.value,i=t},onClosePopup:function(){try{var e=ve.a.parse(i);this.builderActions.insert(e,t,r,n,o)}catch(e){}},placeholderKey:o,text:"DROP ZONE"})}},{key:"isContainer",value:function(e){return de(io.containers[e])}},{key:"getItems",value:function(){return this.items}},{key:"setItems",value:function(e){this.items=e||[]}},{key:"getControlInfoByType",value:function(e,t){var r,n=eo(this.items);try{for(n.s();!(r=n.n()).done;){var o=r.value;if(o.key===e)return o}}catch(e){n.e(e)}finally{n.f()}if(t=t||function(){if(window.DWKitFormSettings)return window.DWKitFormSettings.externalControlList}()){var i,a=eo(t);try{for(a.s();!(i=a.n()).done;){var l=i.value;if(l.key===e)return l}}catch(e){a.e(e)}finally{a.f()}}}},{key:"getControlByType",value:function(e,t){return(t=this.getControlInfoByType(e,t))?t.control:null}},{key:"getEditControlByType",value:function(e,t){return(t=this.getControlInfoByType(e,t))?t.editControl:null}},{key:"createControls",value:function(e,t){var r=t.model,n=t.data,o=t.errors,i=t.eventOnEdit,a=t.eventOnDelete,l=t.eventOnCopy,s=t.handleEvent,c=t.parentItem,u=t.getFormFunc,p=t.getAdditionalDataForControl,f=t.buildermode,d=t.hideControls,h=t.readOnlyControls,y=t.readOnly,m=t.disableRefs,v=t.uploadUrl,b=t.downloadUrl,g=t.extendedData,w=t.controlsToReplace,O=t.needCheckReplace,C=t.parentPlaceholder,S=t.formItem,E=t.externalControlRender,k=t.externalControlList,j=t.adaptiveViewType,x=t.formData,P=[];if(null==r)return P;for(var T=0;T<r.length;T++)if(!(Array.isArray(d)&&d.includes(r[T].key)||!f&&!io.isAdaptiveRender(r[T],j))){var _=void 0,D=r[T]["data-buildertype"];if("customcontrol"===D)if(void 0===r[T].type||""===r[T].type)_=z("empty",{key:r[T].key,text:"Fill Type property for rendering the control."});else{var R=Zn(Zn({},void 0===r[T].props?{}:ve.a.parse(r[T].props)),{},{key:r[T].key,name:r[T].key,className:io.getClassName(r[T],f),style:io.getStyle(r[T],f,j),"data-buildertype":r[T]["data-buildertype"],getAdditionalDataForControl:p,uploadUrl:v,downloadUrl:b});(y||Array.isArray(h)&&h.includes(R.key))&&(R.readOnly=!0);var F=r[T].children;if(void 0!==r[T].children)try{F=ve.a.parse(r[T].children)}catch(e){}_=void 0===F||Array.isArray(F)&&0===F.length?q.a.createElement(r[T].type,R):q.a.createElement(r[T].type,R,F)}else if("customblock"===D){var A=[],I=!1,N=!1,L=!1,B=r[T],M=C,R=S;if("form"===r[T].sourceType||void 0===r[T].sourceType)if(void 0!==r[T].children&&""!==r[T].children)A=r[T].children;else{if(void 0===u){console.error('Error: "getFormFunc" parameter is undefined!. Please, set "getFormFunc" parameter for DWKitBuilder or DWKitForm!');continue}void 0!==r[T].formname&&""!==r[T].formname?A=JSON.parse(JSON.stringify(null!==(F=u(r[T].formname))&&void 0!==F?F:{})):I=!0}else if("placeholder"===r[T].sourceType)L=N=void 0!==i,B=c,void 0===M&&(M=r[T].key),void 0!==(R=void 0===R?c:R)&&void 0!==R.placeholders&&void 0!==R.placeholders[r[T].key]&&(A=R.placeholders[r[T].key]);else if(void 0!==r[T].source&&""!==r[T].source)try{A=ve.a.parse(r[T].source)}catch(e){I=!0}else I=!0;I?_=z("empty",{key:r[T].key,text:"Set a form name or source in properties."}):(V=this.createControls(e,{model:A,data:n,errors:o,buildermode:N,eventOnEdit:i,eventOnDelete:a,eventOnCopy:l,parentItem:B,handleEvent:s,getFormFunc:u,getAdditionalDataForControl:p,hideControls:d,readOnlyControls:h,readOnly:y,disableRefs:m,uploadUrl:v,downloadUrl:b,controlsToReplace:w,needCheckReplace:O,parentPlaceholder:M,formItem:R,extendedData:g,externalControlRender:E,externalControlList:k,adaptiveViewType:j,formData:x}),M={key:r[T].key,name:r[T].key,className:io.getClassName(r[T],f),style:io.getStyle(r[T],f,j),"data-buildertype":r[T]["data-buildertype"]},L&&(0<(V=void 0===V?[]:V).length&&(L=this.createBuilderDropzone(r[T].key+"_dropzone_footer",void 0===R?void 0:R.key,V[V.length-1].key,r[T].key,r[T].key),V.push(L)),R=this.createBuilderDropzone(r[T].key+"_dropzone_header",void 0===R?void 0:R.key,void 0,r[T].key,r[T].key),V.unshift(R)),_=q.a.createElement(this.getPlatformContainerControl(),M,V),!r[T].children&&A&&(r[T].children=A))}else var V,U=this.getControlByType(D,k),_=null===U?z("null-control",{key:r[T].key,text:"".concat(D," is unsupported")}):this.isContainer(D)?(fe(V=S)&&de(c)&&"form"===c.sourceType&&(V=c),(A=void 0)!==r[T].readOnly&&(A=r[T].readOnly),(y||Array.isArray(h)&&h.includes(r[T].key))&&(A=!0),D=f&&("formgroup"===r[T]["data-buildertype"]&&"grouped"!==r[T].orientation||"container"===r[T]["data-buildertype"]&&"flex"===r[T]["style-display"]),A=this.createControls(e,{model:r[T].children,data:n,errors:o,buildermode:f,eventOnEdit:i,eventOnDelete:a,eventOnCopy:l,parentItem:r[T],handleEvent:s,getFormFunc:u,getAdditionalDataForControl:p,hideControls:d,readOnlyControls:h,readOnly:A,disableRefs:m,uploadUrl:v,downloadUrl:b,controlsToReplace:w,needCheckReplace:O,parentPlaceholder:void 0,formItem:V,extendedData:g,externalControlRender:E,externalControlList:k,adaptiveViewType:j,formData:x}),f&&(0<A.length&&(V=D?"...":"... "+r[T].key+" down ...",V=this.createBuilderDropzone(r[T].key+"-dropzone_footer",r[T].key,void 0,V),A.push(V)),D=D?"...":"... "+r[T].key+" up ...",D=this.createBuilderDropzone(r[T].key+"-dropzone_header",r[T].key,void 0,D),A.unshift(D)),this.createControl(e,U,{model:r[T],data:n,errors:o,parentItem:c,buildermode:f,children:A,handleEvent:s,getFormFunc:u,getAdditionalDataForControl:p,hideControls:d,readOnlyControls:h,readOnly:y,disableRefs:m,uploadUrl:v,downloadUrl:b,extendedData:g,parentPlaceholder:C,controlsToReplace:w,needCheckReplace:O,eventOnEdit:i,eventOnDelete:a,eventOnCopy:l,externalControlRender:E,externalControlList:k,adaptiveViewType:j,formData:x})):this.createControl(e,U,{model:r[T],data:n,errors:o,parentItem:c,buildermode:f,handleEvent:s,getFormFunc:u,getAdditionalDataForControl:p,hideControls:d,readOnlyControls:h,readOnly:y,disableRefs:m,uploadUrl:v,downloadUrl:b,extendedData:g,parentPlaceholder:C,controlsToReplace:w,needCheckReplace:O,eventOnEdit:i,eventOnDelete:a,eventOnCopy:l,externalControlRender:E,externalControlList:k,adaptiveViewType:j,formData:x});f?(0<T&&T<r.length&&(U=this.createBuilderDropzone(r[T].key+"-dropzone_bw",void 0===c?void 0:c.key,r[T].key,"...",C),P.push(U)),P.push(q.a.createElement(Xn,{key:_.key+"_controlbar",control:_,text:r[T]["data-buildertype"],model:r[T],parent:e,onDelete:a,onEdit:i,onCopy:l,isGroup:"formgroup"===r[T]["data-buildertype"],builderActions:this.builderActions}))):P.push(_)}return P}},{key:"createControl",value:function(e,t,r){throw r.model,r.data,r.errors,r.parentItem,r.buildermode,r.children,r.handleEvent,r.getAdditionalDataForControl,r.getFormFunc,r.hideControls,r.readOnlyControls,r.readOnly,r.disableRefs,r.uploadUrl,r.downloadUrl,r.extendedData,r.controlsToReplace,r.needCheckReplace,r.eventOnEdit,r.eventOnDelete,r.eventOnCopy,r.externalControlRender,r.externalControlList,r.adaptiveViewType,r.formData,new Error("You must implement this method in subclass")}},{key:"setCreateControlsProps",value:function(e,t){Object.assign(e,t),e.buildermode&&(e.createBuilderDropzone=this.createBuilderDropzone.bind(this)),e.createControls=this.createControls.bind(this)}},{key:"getPlatformContainerControl",value:function(){}}],ro((ll=io).prototype,Tc),ro(ll,Ol),io);function io(e,t){!function(e){if(!(e instanceof io))throw new TypeError("Cannot call a class as a function")}(this),this.builderActions=e,this.items=t||[]}function ao(r,n,e,t,o){var i=2<arguments.length&&void 0!==e?e:null;return((3<arguments.length&&void 0!==t?t:null)||qr.a)(r,4<arguments.length&&void 0!==o?o:null).then(function(e){var t=e.json();return e.ok?t.then(n):i?t.then(i):void console.log(error+" url: "+r)}).catch(function(e){return i?i(e):void console.log(e+" url: "+r)})}function lo(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}no(oo,"containers",{form:"",formgroup:"",grid:"",gridcolumn:"",container:"",div:"",repeater:""});var so=(lo(fo.prototype,[{key:"registerItems",value:function(e){so.items=e}},{key:"getItems",value:function(){return so.items}}]),new fo),co=so.registerItems,uo=so.getItems,po=q.a.createContext({visible:!1});function fo(){var e;!function(e){if(!(e instanceof fo))throw new TypeError("Cannot call a class as a function")}(this),e=[],"items"in this?Object.defineProperty(this,"items",{value:e,enumerable:!0,configurable:!0,writable:!0}):this.items=e}function ho(){!function(e){if(!(e instanceof ho))throw new TypeError("Cannot call a class as a function")}(this)}function yo(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}Hs=/{\S[A-z,0-9,_,-,.,:, ,/]+?}/gm,(Ns="regexForReplace")in(Zl=ho)?Object.defineProperty(Zl,Ns,{value:Hs,enumerable:!0,configurable:!0,writable:!0}):Zl[Ns]=Hs;var mo={},vo=(kc=bo,Pc=[{key:"Set",value:function(e,t,r){mo.hasOwnProperty(e)&&clearTimeout(mo[e]),mo[e]=setTimeout(t,r)}},{key:"Clear",value:function(e){mo.hasOwnProperty(e)&&(clearTimeout(mo[e]),delete mo[e])}}],null&&yo(kc.prototype,null),yo(kc,Pc),bo);function bo(){!function(e){if(!(e instanceof bo))throw new TypeError("Cannot call a class as a function")}(this)}function go(e){return(go="function"==typeof Symbol&&"symbol"==Pu(Symbol.iterator)?function(e){return Pu(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":Pu(e)})(e)}r(22);var wo=["children","placeholders"];function Oo(t,e){var r,n=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)),n}function Co(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Oo(Object(r),!0).forEach(function(e){xo(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Oo(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}function So(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Eo(e,t){return(Eo=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ko(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function jo(e){return(jo=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function xo(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Po=r(7),To=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Eo(e,t)}(a,c.Component);var e,t,r,n,o,i=(n=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,t=jo(n);return function(e,t){if(t&&("object"===go(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return ko(e)}(this,o?(e=jo(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments))});function a(e){var f;return function(e){if(!(e instanceof a))throw new TypeError("Cannot call a class as a function")}(this),xo(ko(f=i.call(this,e)),"_asyncGetData",null),xo(ko(f),"_asyncGetModel",null),xo(ko(f),"handleEvent",function(e){e.e;var o,i,a=e.key,t=e.propertyName,l=e.eventName,s=e.parameters,r=e.name,c=e.value,n=e.additionalValues,u=ko(f),p="onChange"===l;p&&(f.props.onlyExternalDataChanged||(void 0===f.state.data&&(f.state.data={}),(e=f.state.data)[t||a]=c,f.setState({data:e})),void 0!==f.props.dataChanged&&f.props.dataChanged(ko(f),{key:a,propertyName:t,value:c,additionalValues:n}),f.onConditions(a,l,s,r,c)),void 0===f.props.eventFunc||void 0!==(o=f.findModelItembyKey(a))&&void 0!==o.events&&void 0!==o.events[l]&&o.events[l].active&&(o.events=Object(_r.updateEventsFormat)(o.events),r=o.events[l],i=Co({},s),Array.isArray(r.triggers)&&0<r.triggers.length&&r.triggers.forEach(function(t){Array.isArray(t.parameters)&&0<t.parameters.length&&t.parameters.forEach(function(e){"string"==typeof e.value?i[e.name]=e.value.replace(ho.regexForReplace,function(e){return u.applySubstitution(e,s?s.row:void 0,u.state.data)}):i[e.name]=e.value});var r=u.findRefs(a),n=c,e=Array.isArray(t.targets)&&0<t.targets.length?function(){return t.targets.forEach(function(e){u.props.eventFunc({key:e,sourceControlRef:r,sourceControlValue:n,controlRef:u.findRefs(e),formName:u.props.formName,component:u,eventName:l,actions:t.actions,parameters:i})})}:function(){return u.props.eventFunc({key:a,sourceControlRef:r,sourceControlValue:n,controlRef:r,formName:u.props.formName,component:u,eventName:l,actions:t.actions,parameters:i})};!p||void 0===o.onChangeTimeout||""===o.onChangeTimeout||Number(o.onChangeTimeout)<1?e():vo.Set(a,e,Number(o.onChangeTimeout))}))}),f.state={data:e.data,model:e.model,extendedData:e.extendedData,controlsToReplace:null,adaptiveViewType:f.getAdaptiveViewType()},f.checkConditions(f.state.model),f.checkLoadedState(f.state.data,f.state.model,!0),f.abortController=new AbortController,f.abortSignal=f.abortController.signal,f}return r=[{key:"getDerivedStateFromProps",value:function(e,t){var r={};e.adaptiveViewType&&t.adaptiveViewType!==e.adaptiveViewType&&(r.adaptiveViewType=e.adaptiveViewType),void 0!==e.modelurl&&""!==e.modelurl&&e.modelurl!==t.modelurl&&(r.modelurl=e.modelurl,r.needFetchModel=!0);var n,o=t.enableCheckConditions;if(void 0!==e.model&&e.model!==t.model&&(r.controlsToReplace=null,r.model=e.model,o=_o(e.model)),void 0!==e.dataurl&&""!==e.dataurl&&e.dataurl!==t.dataurl&&(r.dataurl=e.dataurl,r.needFetchData=!0),void 0!==e.data&&(r.data=e.data,e.autoCheckConditions&&o&&(n=Object(_r.checkConditions)({data:r.data,model:r.model||t.model}),r.hideControls=n.hideControls,r.readOnlyControls=n.readOnlyControls),e.autoValidate))if((n=Object(_r.validate)({data:r.data,model:r.model||t.model})).valid)r.errors=void 0;else if(r.errors=n.errors,e.errors)for(var i in e.errors)r.errors[i]=e.errors[i];return e.objectId!==t.objectId&&(r.objectId=e.objectId,r.isLoaded=!1),r}}],t=[{key:"createControls",value:function(){throw new Error("Function createControls must be implemented in ancestor!")}},{key:"componentDidMount",value:function(){this.PrepareState()}},{key:"componentDidUpdate",value:function(e,t){var r;this.PrepareState(),Po(t.errors,this.state.errors)||null!==(t=(r=this.props).handleChangeErrors)&&void 0!==t&&t.call(r,this.state.errors)}},{key:"componentWillUnmount",value:function(){(this._asyncGetData||this._asyncGetModel)&&this.abortController.abort()}},{key:"PrepareState",value:function(){var t=this;this.state.needFetchModel&&(t.setState({needFetchModel:!1}),this._asyncGetModel=ao(this.state.modelurl,function(e){t._asyncGetModel=null,t.modelChanged(e)},function(e){t._asyncGetModel=null,t.handleErrEvent(e)},this.props.fetchFunc,{signal:this.abortSignal})),this.state.needFetchData&&(t.setState({needFetchData:!1}),this._asyncGetData=ao(this.state.modelurl,function(e){t._asyncGetData=null,t.dataChanged(e)},function(e){t._asyncGetData=null,t.handleErrEvent(e)},this.props.fetchFunc,{signal:this.abortSignal})),this.checkConditions(this.state.model),this.checkLoadedState(this.state.data,this.state.model)}},{key:"modelChanged",value:function(e){this.setState({model:e,controlsToReplace:null}),this.checkConditions(e)}},{key:"dataChanged",value:function(e){this.setState({data:e}),this.checkLoadedState(e,this.state.model)}},{key:"checkLoadedState",value:function(e,t,r){var n;!this.state.isLoaded&&ye(e)&&null!=t&&t.length&&(n={},Object(_r.initDefaultState)({model:t,data:n}),this.state.data=n),this.state.isLoaded||ye(e)||null==t||!t.length||(r?this.state.isLoaded=!0:this.setState({isLoaded:!0}),e=Co({},e),Object(_r.initDefaultState)({model:t,data:e}),null==this||null!==(t=this.props)&&void 0!==t&&t.eventFunc({key:void 0,controlRef:this,formName:this.props.formName,component:this,eventName:"init",actions:["initSystem","init"],parameters:{initialData:e}}))}},{key:"findRefs",value:function(e,t){if(t=t||this.refs){var r=t[e];if(!r)for(var n in t)if(r=t[n].refs?this.findRefs(e,t[n].refs):r)break;return r}}},{key:"checkConditions",value:function(e){this.state.enableCheckConditions=_o(e)}},{key:"onConditions",value:function(e,t,r,n,o){var i;this.state.enableCheckConditions&&(this.props.autoCheckConditions&&this.state.enableCheckConditions?(i=Object(_r.checkConditions)({data:this.state.data,model:this.state.model}),this.setState({hideControls:i.hideControls,readOnlyControls:i.readOnlyControls})):this.props.eventFunc({key:e,controlRef:this.findRefs(e),formName:this.props.formName,component:this,eventName:t,actions:["checkConditions"],parameters:r}))}},{key:"handleErrEvent",value:function(e){this.props.eventErrFunc&&this.props.eventErrFunc(this,e)}},{key:"findModelItembyKey",value:function(e,t){void 0===t&&(t=this.state.model);for(var r=0;r<t.length;r++){if(t[r].key===e)return t[r];if(void 0!==t[r].children){var n=this.findModelItembyKey(e,t[r].children);if(void 0!==n)return n}if(void 0!==t[r].placeholders)for(var o in t[r].placeholders)if(void 0!==(o=this.findModelItembyKey(e,t[r].placeholders[o])))return o;if("customblock"===t[r]["data-buildertype"]&&"source"===t[r].sourceType&&null!=t[r].source&&(n=ve.a.parse(t[r].source),void 0!==(n=this.findModelItembyKey(e,n))))return n;if("customblock"===t[r]["data-buildertype"]&&"form"===t[r].sourceType&&void 0!==t[r].formname&&""!==t[r].formname){var i=t[r].children||JSON.parse(JSON.stringify(null!==(i=this.props.getFormFunc(t[r].formname))&&void 0!==i?i:{}));if(void 0!==(i=this.findModelItembyKey(e,i)))return i}}}},{key:"getAdaptiveViewType",value:function(){return"mobile"}},{key:"handleResize",value:function(){var e=this.getAdaptiveViewType();this.state.adaptiveViewType!==e&&this.setState({adaptiveViewType:e})}},{key:"applySubstitution",value:function(e,t,r){var n=e;return null!=t&&"row."==e.slice(1,5)?null==(n=t[e.slice(5,e.length-1)])?"":n:null!=r&&null==(n=r[e.slice(1,e.length-1)])?"":n}}],So((e=a).prototype,t),So(e,r),a}(),_o=function n(e){var t;return!(null==e||null===(t=e.some)||void 0===t||!t.call(e,function(e){var t=e.children,r=e.placeholders;return!(!(e=function(e,t){if(null==e)return{};var r,n=function(e,t){if(null==e)return{};for(var r,n={},o=Object.keys(e),i=0;i<o.length;i++)r=o[i],0<=t.indexOf(r)||(n[r]=e[r]);return n}(e,t);if(Object.getOwnPropertySymbols)for(var o=Object.getOwnPropertySymbols(e),i=0;i<o.length;i++)r=o[i],0<=t.indexOf(r)||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r]);return n}(e,wo))["other-visibleConition"]&&!e["other-readOnlyConition"])||n(t)||Object.values(r||{}).some(n)}))};function Do(e){return(Do="function"==typeof Symbol&&"symbol"==Pu(Symbol.iterator)?function(e){return Pu(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":Pu(e)})(e)}function Ro(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Fo(e,t,r){return(Fo="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,r){if(e=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Io(e)););return e}(e,t))return(t=Object.getOwnPropertyDescriptor(e,t)).get?t.get.call(r):t.value})(e,t,r||e)}function Ao(e,t){return(Ao=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Io(e){return(Io=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var No=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ao(e,t)}(o,To);var e,r,n,t=(r=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,t=Io(r);return function(e,t){if(t&&("object"===Do(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}()}(this,n?(e=Io(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments))});function o(){return function(e){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this),t.apply(this,arguments)}return e=[{key:"componentDidMount",value:function(){Fo(Io(o.prototype),"componentDidMount",this).call(this),window.addEventListener&&window.addEventListener("resize",this.handleResize.bind(this))}},{key:"componentWillUnmount",value:function(){Fo(Io(o.prototype),"componentWillUnmount",this).call(this),window.removeEventListener&&window.removeEventListener("resize",this.handleResize.bind(this))}},{key:"getItemsForRender",value:function(){var e=[],t=!1;null!==this.state.model&&void 0!==this.state.model&&(e=null===this.state.controlsToReplace?[]:this.state.controlsToReplace,t=null===this.state.controlsToReplace);var r=this.createControls(this,{model:this.state.model,data:this.state.data,errors:this.state.errors||this.props.errors,handleEvent:this.handleEvent,getFormFunc:this.props.getFormFunc,getAdditionalDataForControl:this.props.getAdditionalDataForControl,hideControls:(this.props.autoCheckConditions?this.state:this.props).hideControls,readOnlyControls:(this.props.autoCheckConditions?this.state:this.props).readOnlyControls,readOnly:this.props.readOnly,uploadUrl:this.props.uploadUrl,downloadUrl:this.props.downloadUrl,extendedData:this.props.extendedData,controlsToReplace:e,needCheckReplace:t,externalControlRender:this.props.externalControlRender,externalControlList:this.props.externalControlList,adaptiveViewType:this.props.adaptiveViewType||this.state.adaptiveViewType});return t&&(this.state.controlsToReplace=e),r}},{key:"getAdaptiveViewType",value:function(){return window.matchMedia&&window.matchMedia("(max-width: 997px)").matches?"mobile":"desktop"}}],Ro(o.prototype,e),o}(),Lo=r(1);d("collection-camera",function(e){return q.a.createElement(pe,{name:e.props.colName,error:e.props.errorFlag,value:e.props.value,readOnly:e.props.readOnly,onChange:e.me.handleChange,downloadUrl:e.props.downloadUrl,uploadUrl:e.props.uploadUrl,additionalData:e.props.additionalData,getAdditionalDataForControl:e.props.getAdditionalDataForControl,showPreview:!0,compact:!0,fluid:!0,isForm:!0})}),d("collection-signature",function(e){return q.a.createElement(cn,{name:e.props.colName,error:e.props.errorFlag,value:e.props.value,readOnly:e.props.readOnly,onChange:e.me.handleChange,downloadUrl:e.props.downloadUrl,uploadUrl:e.props.uploadUrl,additionalData:e.props.additionalData,getAdditionalDataForControl:e.props.getAdditionalDataForControl,showPreview:!0,compact:!0,fluid:!0,isForm:!0})});var Bo=r(2);function Mo(t,e){var r,n=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)),n}function Vo(n){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?Mo(Object(o),!0).forEach(function(e){var t,r=n;e=o[t=e],t in r?Object.defineProperty(r,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):r[t]=e}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(o)):Mo(Object(o)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(o,e))})}return n}var Uo=Lo.Dimensions.get("window").width,qo=Lo.StyleSheet.create({buttonTitle:{fontSize:14},primary:{backgroundColor:"#1262E2"},dwkitFormBuilderHeader:{flex:1,flexDirection:"row",paddingLeft:20,paddingRight:20,height:80},dwkitFormBuilderHeaderLeft:{marginTop:12,width:200,justifyContent:"center"},dwkitFormBuilderHeaderCenter:{marginTop:18,marginRight:3.5,flexDirection:"row",paddingLeft:21,paddingRight:21,justifyContent:"space-between",minWidth:425},dwkitFormBuilderHeaderRight:{paddingRight:4,flex:1,flexDirection:"row-reverse",alignItems:"flex-end",justifyContent:"flex-start",alignSelf:"center",maxWidth:200,marginLeft:"auto"},dwkitFormBuilderHeaderButton:{height:38,minWidth:78},dwkitFormBuilder:{flexDirection:"row"},dwkitFormBuilderContent:{zIndex:1,flexGrow:1,margin:15,width:"calc(100% - 230px)",height:"calc(100vh - 10px)",overflow:"scroll"},dwkitFormBuilderToolbar:{width:200},dwkitFormBuilderZone:{alignItems:"center",padding:8,paddingTop:7,borderStyle:"dashed",borderWidth:1,borderColor:"rgba(0, 0, 0, 0.1)",marginTop:8,marginBottom:8,backgroundColor:"#F4F4F4",height:28},dwkitFormBuilderZoneActive:{backgroundColor:"lightblue"},dwkitFormBuilderZoneHover:{backgroundColor:"blue"},dwkitFormBuilderZoneText:{fontSize:10,fontWeight:"bold",color:"rgba(46, 46, 46, 0.4)"},dwKitModalBody:{padding:20,minWidth:860,backgroundColor:"white",margin:"auto"},dwKitModalHeader:{flexDirection:"row-reverse"},dwKitModalContent:{flexWrap:"wrap",flex:1},dwKitModalActions:{flexDirection:"row",alignSelf:"flex-end",marginTop:20},dwKitModalComponentName:{fontSize:12,backgroundColor:"#e8e8e8",color:"rgba(0, 0, 0, .6)",fontWeight:"700",borderRadius:4,padding:4,margin:4},formGroupEqual:{flexGrow:1,marginBottom:10,marginTop:10,flexDirection:"row"},formGroup:{flexGrow:1,flexWrap:"wrap",alignItems:"stretch"},dragView:Vo({left:0,top:0,width:"100%",height:"100%",zIndex:-1e3},Lo.Platform.select({web:{position:"fixed"}})),dwKitMessage:{flexDirection:"row",marginBottom:14,alignItems:"center",paddingTop:14,paddingBottom:14,paddingLeft:21,paddingRight:21,borderStyle:"solid",borderWidth:1,borderRadius:4,borderColor:"#cecfcf"},dwKitMessageContent:{marginLeft:15},dwKitMessageIcon:{width:32,height:32},formGroupWidthEqual:{flexGrow:1},emptyView:{backgroundColor:"#EEF4FD",padding:5,marginTop:5,marginBottom:5},emptyText:{color:"#9B9B9B",textAlign:"center"},fullSize:{width:"100%"},halfSize:{flexDirection:"row",width:"50%"},itemContainer:{backgroundColor:"rgba(0,0,0,0.02)",borderStyle:"solid",borderWidth:1,borderColor:"rgba(18, 98, 226,0.5)",padding:"16px",marginLeft:"0",marginRight:"0",overflow:"hidden"},controlWrapper:{flexGrow:1},controlWrapperHovered:Vo({},Lo.Platform.select({web:{outlineStyle:"solid",outlineWidth:2,outlineColor:"rgba(242, 77, 0, 0.5)"}}))});qo.controlWrapper={flexGrow:1,hovered:{borderStyle:"solid",borderWidth:1,borderColor:"rgba(242, 77, 0, 0.5)"}},qo.baseMargin={marginBottom:5},qo.controlParams=function(e){return{style:{flexGrow:e.fluid?1:0,alignSelf:e.fluid?"stretch":e.floated||"flex-start"},props:{appearance:e.secondary?"outline":"filled",status:e.primary||e.secondary?"primary":"basic"}}},qo.eventsEditor={actions:{flexGrow:1,width:240,maxWidth:240},parameters:{flexGrow:1,width:450,maxWidth:450,marginRight:12},targets:{flexGrow:1,width:240,maxWidth:240},addButton:{appearance:"outline",status:"basic",size:"tiny",style:{padding:5,marginLeft:15,marginRight:40,marginTop:5,backgroundColor:"rgb(247, 249, 252)",borderColor:"rgb(228, 233, 242)"}}};var zo={flexGrow:1};qo.layout={elementInRow:{marginRight:10},elementInColumn:{marginBottom:10}},qo.controls={button:Vo({},zo),tabBarChild:{marginTop:20},dropzonePopover:{container:{boxShadow:"rgba(18, 83, 204, 0.12) 0px 6px 10px"}},dropdown:Vo({select:Vo(Vo({},zo),{},{marginLeft:0,marginRight:0,flexShrink:1}),labels:{backdrop:{borderRadius:4,margin:1,padding:4,paddingTop:0,paddingBottom:4,backgroundColor:"color-primary-default"},text:{color:"white"},container:{display:"flex",flexWrap:"wrap",flexDirection:"row"}}},zo),tooltip:{container:{maxWidth:400<Uo?Uo/2:Uo-20},title:{textAlign:"center"}},dropzoneModalIcons:{width:20,height:20},dwKitInput:Vo({marginBottom:5},zo),dwKitCheckBox:{marginRight:5,marginTop:5,marginBottom:5}},qo.repeater=Lo.StyleSheet.create({container:{}}),qo.controlBar={container:{marginTop:4,padding:4,paddingRight:8,paddingLeft:8,flexDirection:"row",justifyContent:"flex-end",opacity:.2,zIndex:100,right:0,position:"absolute",backgroundColor:"white",borderRadius:20},iconTouchable:{marginLeft:8},icon:{top:2,width:15,height:15}},qo.controlBar.containerHovered=Lo.StyleSheet.compose(qo.controlBar.container,{opacity:1,boxShadow:"0px 6px 10px rgba(18, 83, 204, 0.12), 0px 1px 18px rgba(18, 83, 204, 0.12), 0px 3px 5px rgba(18, 83, 204, 0.15)"}),qo.formGroupWidthCustom=[];for(var Ho=1;Ho<=16;Ho++)qo.formGroupWidthCustom[Ho]=Lo.StyleSheet.create({style:{width:"".concat(6.25*Ho,"%")}});qo.toolbarCssStyles={sectionItem:Vo({cursor:"grab",listStyle:"none",margin:"4px",marginTop:"7.5px",marginBottom:"7.5px",padding:"6px",paddingLeft:"16px",border:"1px solid #FFFFFF",borderRadius:"2px",fontFamily:"'Lato', 'sans-serif'",fontSize:"14px",color:"rgba(255, 255, 255, 0.8)"},Lo.StyleSheet.flatten(qo.primary))},qo.toolbarStyles=Lo.StyleSheet.create({container:Lo.StyleSheet.flatten(qo.primary),sectionList:{padding:10,paddingTop:0},sectionText:{color:"rgba(255, 255, 255, 0.8)"},sectionIcon:{width:22,height:22},toolbarTextView:{flexDirection:"row",flexShrink:1,alignItems:"center"},sectionHeader:{flexDirection:"row",alignItems:"center",justifyContent:"space-between"},sectionHeaderText:{fontSize:16,fontWeight:"bold",padding:6,marginTop:5,marginBottom:5,color:"rgba(255, 255, 255, 1)"},searchContainer:{padding:10,paddingBottom:0},searchResults:{margin:6,opacity:.8}}),qo.dwKitModalOverlayProps={overlayStyle:{left:0,top:0,width:"100%",height:"100%",overflow:"auto",position:"fixed",backgroundColor:"rgba(255, 255, 255, .35)"},containerStyle:{left:0,top:0,width:"100%",height:"100%",overflow:"auto",position:"fixed"},borderColor:"rgba(0, 0, 0, 1)"},qo.dwKitButtonProps={containerStyle:{marginRight:4,marginLeft:12},type:"outline"},qo.grouped={inColumn:{control:{marginLeft:16,marginRight:16},dropzone:{container:{marginTop:0,flexDirection:"row",alignItems:"center"}}}},qo.dwKitInputProps={containerStyle:{marginBottom:14,flex:1},labelStyle:{fontSize:13,fontWeight:"700",color:"black",marginBottom:4},inputContainerStyle:{borderWidth:1,borderStyle:"solid",borderColor:"rgba(34, 36, 38, .15)",borderRadius:4},inputStyle:{paddingLeft:14,paddingRight:14,paddingTop:9.5,paddingBottom:9.5,fontSize:14,fontWeight:"400",minHeight:38}},qo.dwKitDisabledInputProps={labelStyle:Vo(Vo({},qo.dwKitInputProps.labelStyle),{},{color:"#d2d2d2"})},qo.dwKitCheckDisabledProps={titleProps:{style:{color:"#d2d2d2"}},checkedColor:"#d2d2d2",uncheckedColor:"#d2d2d2"},qo.dwKitFocusedInputProps={inputContainerStyle:{borderWidth:1,borderStyle:"solid",borderColor:"#85b7d9",borderRadius:4}},qo.dwKitCheckBoxProps={checkedColor:"black",size:20,containerStyle:{backgroundColor:"white",borderWidth:0,paddingTop:0,paddingBottom:0,paddingLeft:7,paddingRight:7,marginBottom:14},titleProps:{style:{fontSize:14,fontWeight:"500"}}},qo.dwKitTextareaProps={multiline:!0,numberOfLines:4},qo.dwKitDropdown={labelStyle:qo.dwKitInputProps.labelStyle,containerStyle:{paddingLeft:10,paddingRight:10,marginBottom:14,flex:1},dropdown:{style:{borderWidth:1,borderStyle:"solid",borderColor:"rgba(34, 36, 38, .15)",borderRadius:4}}},qo.dwKitRadioGroup={labelStyle:qo.dwKitInputProps.labelStyle,containerStyle:qo.dwKitDropdown.containerStyle},qo.collectionEditor={container:{flexGrow:1},column:{notLast:{paddingRight:10}},editButtonsColumn:{flexDirection:"row",margin:"auto",marginLeft:0,marginRight:0},editButton:{height:30},icon:{width:20,height:20,marginTop:10},dragIcon:{backgroundImage:"url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0iYmxhY2siIHdpZHRoPSIxOHB4IiBoZWlnaHQ9IjE4cHgiPjxwYXRoIGQ9Ik0wIDBoMjR2MjRIMFYweiIgZmlsbD0ibm9uZSIvPjxwYXRoIGQ9Ik0xMSAxOGMwIDEuMS0uOSAyLTIgMnMtMi0uOS0yLTIgLjktMiAyLTIgMiAuOSAyIDJ6bS0yLThjLTEuMSAwLTIgLjktMiAycy45IDIgMiAyIDItLjkgMi0yLS45LTItMi0yem0wLTZjLTEuMSAwLTIgLjktMiAycy45IDIgMiAyIDItLjkgMi0yLS45LTItMi0yem02IDRjMS4xIDAgMi0uOSAyLTJzLS45LTItMi0yLTIgLjktMiAyIC45IDIgMiAyem0wIDJjLTEuMSAwLTIgLjktMiAycy45IDIgMiAyIDItLjkgMi0yLS45LTItMi0yem0wIDZjLTEuMSAwLTIgLjktMiAycy45IDIgMiAyIDItLjkgMi0yLS45LTItMi0yeiIvPjwvc3ZnPg==)",backgroundRepeat:"no-repeat",backgroundSize:"contain",opacity:.6,backgroundPosition:"right",width:15,height:15,cssFloat:"inherit"},input:Vo({minWidth:50,width:"100%"},zo),addLinkProps:{style:{color:"rgb(242, 77, 0)",fontWeight:"700"}},image:{style:{width:15,height:15}},droppable:{defaultStyle:{backgroundColor:"transparent"},activeStyle:{backgroundColor:"#ffff0059"},hoverStyle:{backgroundColor:"lightgreen"}}},qo.dictionaryEditor={iconProps:{size:14,containerStyle:{marginLeft:4}}},qo.containerView={base:{alignSelf:"stretch",flexGrow:1},rows:{flexDirection:"column"},columns:{display:"flex",flexDirection:"row"},columnswrap:{display:"flex",flexDirection:"row",flexWrap:"wrap",alignItems:"flex-start"}};var Wo=qo;function Go(){return(Go=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r,n=arguments[t];for(r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Ko(t,e){var r,n=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)),n}function $o(n){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?Ko(Object(o),!0).forEach(function(e){var t,r=n;e=o[t=e],t in r?Object.defineProperty(r,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):r[t]=e}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(o)):Ko(Object(o)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(o,e))})}return n}function Jo(e){var t=!0===e.disabled?Wo.dwKitCheckDisabledProps:{},t=$o($o($o({},e),Wo.dwKitCheckBoxProps),t);return e.error&&(t.status="danger"),t.style=[Wo.controls.dwKitCheckBox,t.style],q.a.createElement(Bo.CheckBox,Go({},t,{checked:!!t.checked,children:e.label}))}d("collection-checkbox",function(e){return q.a.createElement(Jo,{name:e.props.colName,checked:e.props.checked,error:e.props.errorFlag,disabled:e.props.disabled,onChange:function(){e.me.handleChange(null,{name:e.props.colName,checked:!e.props.checked})}})}),d("collection-custom-control",function(e){var t=e.props.model;return e.props.createControl(e.props.parent,t["data-buildertype"],{model:t,data:e.props.row,errors:e.props.errorOnRow,parentItem:e.props.name,buildermode:e.props.buildermode,handleEvent:e.handleEvent,getAdditionalDataForControl:e.getAdditionalDataForControl,readOnly:e.props.readOnly,uploadUrl:e.props.uploadUrl,downloadUrl:e.props.downloadUrl,controlsToReplace:[],formData:e.props.data,adaptiveViewType:e.props.adaptiveViewType},e.props.controlBarParams)}),d("collection-date-time",function(e){return q.a.createElement($e,{name:e.props.colName,error:e.props.errorFlag,value:e.props.value,disabled:e.props.disabled,onChange:e.me.handleChange,type:e.props.type})});var Yo=function(e){var t=Object.assign({},e);return t.style=Object(Bo.useStyleSheet)(Bo.StyleService.create({st:t.style})).st,q.a.createElement(Lo.View,t,e.children)};function Xo(e){return(Xo="function"==typeof Symbol&&"symbol"==Pu(Symbol.iterator)?function(e){return Pu(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":Pu(e)})(e)}function Qo(){return(Qo=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r,n=arguments[t];for(r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Zo(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ei(e,t){return(ei=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ti(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ri(e){return(ri=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ni(t,r,e){var n=void 0;return e?(n=[],Array.isArray(t)&&t.forEach(function(t){var e=r.findIndex(function(e){return e.value===t});void 0===e&&(r.push({text:t,value:t}),e=r.length-1),n.push(new Bo.IndexPath(e))})):0<=(e=r.findIndex(function(e){return e.value===t}))&&(n=new Bo.IndexPath(e)),n}function oi(e,t,r){if(void 0!==e){if(r&&Array.isArray(e)){var n=[];return Array.isArray(e)&&e.forEach(function(e){0<=e.row&&n.push(t[e.row].value)}),n}return void 0!==e.row&&t[e.row]?t[e.row].value:t[e]?t[e].value||t[e].text||t[e]:void 0}}function ii(t,r,e,n){var o,i;return void 0===t||Array.isArray(t)&&!t.length?i=function(e){return q.a.createElement(Bo.Text,{appearance:"hint"},n||li)}:"string"==typeof t||"number"==typeof t?i=(o=r.find(function(e){return e.value===t}))?o.text:t:e&&(i=q.a.createElement(Lo.View,null,q.a.createElement(Lo.View,{style:Wo.controls.dropdown.labels.container},t.map(function(t){var e=r.find(function(e){return e.value===t});return e&&q.a.createElement(Yo,{style:Wo.controls.dropdown.labels.backdrop},q.a.createElement(Bo.Text,{children:e.text,style:Wo.controls.dropdown.labels.text}))})))),{value:i}}var ai=r(7),li="",si=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ei(e,t)}(a,q.a.Component);var e,r,n,i=(r=a,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,t=ri(r);return function(e,t){if(t&&("object"===Xo(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return ti(e)}(this,n?(e=ri(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments))});function a(e){var t;!function(e){if(!(e instanceof a))throw new TypeError("Cannot call a class as a function")}(this),o=function(){var e=t.state.value;return Array.isArray(e)?!(null==e||!e.length):!!e},(n="hasSelectedValue")in(r=ti(t=i.call(this,e)))?Object.defineProperty(r,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):r[n]=o;var r=Array.isArray(e.options)?e.options:[],n=ni(e.value,r,e.multiple),o=oi(n,r,e.multiple);return t.state={ids:n,value:o,preview:ii(o,r,e.multiple,e.placeholder)},t.onValueChange=e.onValueChange,e.onChange&&(t.onValueChange=e.onChange),t}return e=[{key:"onSelect",value:function(e){var t=(r=[this.state,this.props])[1],r=oi(e,t.options,t.multiple);this.props.onSelect&&this.props.onSelect(e),this.onValueChange(r),this.setState({value:r}),this.setState({ids:ni(r,t.options,t.multiple)}),this.setState({preview:ii(r,t.options,t.multiple,t.placeholder)})}},{key:"onChangeText",value:function(t){var e=this.props.options;this.setState({preview:{value:t}}),this.setState({options:t?e.filter(function(e){return e.text&&e.text.toLowerCase().includes(t.toLowerCase())}):e})}},{key:"componentDidUpdate",value:function(){var e=[this.props,this.state],t=e[0],r=e[1];ai(r.value,t.value)&&ai(r.options,t.options)||(r=oi(e=ni(t.value,t.options,t.multiple),t.options,t.multiple),this.setState({options:t.options,value:t.value,ids:e,preview:ii(r,t.options,t.multiple,t.placeholder)}))}},{key:"render",value:function(){var t=this,e=this.props,r=Lo.StyleSheet.flatten([Wo.controls.dropdown.select,e.style]),n=this.hasSelectedValue()?{accessoryRight:function(e){return q.a.createElement(Lo.TouchableOpacity,{onPress:function(){return t.onSelect(void 0)}},q.a.createElement(Bo.Icon,Qo({},e,{name:"close-outline"})))}}:{},o=e.search?Bo.Autocomplete:Bo.Select,i=e.search?Bo.AutocompleteItem:Bo.SelectItem;return q.a.createElement(o,Qo({status:this.props.error?"danger":void 0,label:e.label,style:r},this.props,n,{multiSelect:e.multiple,placeholder:e.placeholder||"",selectedIndex:this.state.ids},this.state.preview,{prompt:e.placeholder,onSelect:this.onSelect.bind(this),onChangeText:this.onChangeText.bind(this)}),this.props.options.map(function(e){var t=e.text||e.title||("string"==typeof e?e:"");return q.a.createElement(i,Qo({key:t,title:t},void 0))}))}},{key:"getMaterialCommunityIconsIcon",value:function(e){return"lightning"==e?"language-javascript":"browser"==e?"file-document-outline":e}}],Zo(a.prototype,e),a}();function ci(){return(ci=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r,n=arguments[t];for(r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function ui(e,t){if(!e)return t;switch(e){case"mini":return 8;case"tiny":return 12;case"small":return 16;case"medium":return 24;case"large":return 32;case"huge":return 48;default:return t}}function pi(e){e.className&&delete e.className}function fi(){return(fi=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r,n=arguments[t];for(r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function di(e){return q.a.createElement(Bo.Text,fi({style:Lo.StyleSheet.compose(e.style,{paddingBottom:4}),category:"label",appearance:"hint"},e))}function hi(e){return(hi="function"==typeof Symbol&&"symbol"==Pu(Symbol.iterator)?function(e){return Pu(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":Pu(e)})(e)}function yi(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mi(){return(mi=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r,n=arguments[t];for(r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function vi(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function bi(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function gi(e,t,r){return t&&bi(e.prototype,t),r&&bi(e,r),e}function wi(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Oi(e,t)}function Oi(e,t){return(Oi=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ci(r){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=Si(r);return function(e,t){if(t&&("object"===hi(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}()}(this,n?(e=Si(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments))}}function Si(e){return(Si=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}d("collection-dropdown",function(t){var e=Wo.controlParams(t.props),r=Object.assign({},t.props);return r.style=[e.style,t.props.style],t.props.onChange&&(r.onValueChange=function(e){return t.props.onChange(null,{name:r.name,value:e})}),delete r.onChange,q.a.createElement(si,ci({name:t.props.colName,multiple:t.props.multiple,placeholder:t.props.placeholder,options:t.props.options,error:t.props.errorFlag,value:t.props.value,disabled:t.props.readOnly},r))}),d("label",function(e){var t={backgroundColor:"#e8e8e8",fontSize:ui(e.model.size,14),paddingLeft:10,paddingRight:10,paddingTop:7,paddingBottom:7,marginLeft:2,marginRight:2};return!0===e.model.basic&&(t.backgroundColor="#fff",t.borderColor="rgba(34,36,38,.15)",t.borderWidth=1,t.borderStyle="solid"),e.model.circular&&(t.borderRadius="500rem"),q.a.createElement(Lo.View,{style:{flexDirection:"row"}},q.a.createElement(di,fi({},e.propsControl,{style:Lo.StyleSheet.compose(t,e.propsControl.style)}),e.props.content))});var Ei=Lo.StyleSheet.create({tr:{flexDirection:"row",alignContent:"stretch",flexGrow:1},td:{flexDirection:"row",flexGrow:1},tHeader:{flexDirection:"row",alignContent:"stretch",flexGrow:1},tBody:{maxWidth:"100%"},table:{alignContent:"stretch"}}),ki=q.a.createContext({style:{}}),ji=function(){wi(t,c.Component);var e=Ci(t);function t(){return vi(this,t),e.apply(this,arguments)}return gi(t,[{key:"render",value:function(){var e=100/this.props.children.length+"%",e={style:Lo.StyleSheet.compose({maxWidth:e},this.props.style)};return q.a.createElement(ki.Provider,{value:e},q.a.createElement(Lo.View,mi({},this.props,{style:Ei.tr})))}}]),t}(),xi=function(){wi(t,c.Component);var e=Ci(t);function t(){return vi(this,t),e.apply(this,arguments)}return gi(t,[{key:"render",value:function(){var t=this;return q.a.createElement(ki.Consumer,null,function(e){return e=e.style,q.a.createElement(Lo.View,mi({},t.props,{style:Lo.StyleSheet.compose([Ei.td,e],t.props.style)}))})}}]),t}(),Pi=function(){wi(t,c.Component);var e=Ci(t);function t(){return vi(this,t),e.apply(this,arguments)}return gi(t,[{key:"render",value:function(){return q.a.createElement(Lo.View,mi({},this.props,{style:Ei.tbody}))}}]),t}(),Ti=function(){wi(t,c.Component);var e=Ci(t);function t(){return vi(this,t),e.apply(this,arguments)}return gi(t,[{key:"render",value:function(){return q.a.createElement(Lo.View,mi({},this.props,{style:Ei.tHeader}))}}]),t}(),_i=function(){wi(t,c.Component);var e=Ci(t);function t(){return vi(this,t),e.apply(this,arguments)}return gi(t,[{key:"render",value:function(){return q.a.createElement(Lo.View,mi({},this.props,{style:Ei.table}))}}]),t}();function Di(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e){if(e){if("string"==typeof e)return Ri(e,void 0);var t=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(t="Object"===t&&e.constructor?e.constructor.name:t)||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?Ri(e,void 0):void 0}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0;return{s:t=function(){},n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:t}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,a=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return i=e.done,e},e:function(e){a=!0,o=e},f:function(){try{i||null==r.return||r.return()}finally{if(a)throw o}}}}function Ri(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Fi(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Ai(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}yi(_i,"Tr",ji),yi(_i,"Td",xi),yi(_i,"THeader",Ti),yi(_i,"TBody",Pi);var Ii=(Tc=[{key:"registerDroppable",value:function(e,t){var r=this.droppables.indexOf(e);if(0<=r)return this.droppables[r]=e,void(this.layouts[r]=t);this.droppables.push(e),this.layouts.push(t)}},{key:"unregisterDroppable",value:function(e){0<=(e=this.droppables.indexOf(e))&&(this.droppables.splice(e,1),this.layouts.splice(e,1))}},{key:"getZoneIndex",value:function(e){for(var t in this.layouts)if(this.layouts.hasOwnProperty(t)){var r=this.layouts[t];if(e.moveY>r.y&&e.moveY<r.y+r.height&&e.moveX>r.x&&e.moveX<r.x+r.width)return t}return null}},{key:"onBeginDrag",value:function(){var e,t=Di(this.droppables);try{for(t.s();!(e=t.n()).done;)e.value.onBeginDrag()}catch(e){t.e(e)}finally{t.f()}}},{key:"onEndDrag",value:function(e,t){var r,n=Di(this.droppables);try{for(n.s();!(r=n.n()).done;)r.value.onEndDrag()}catch(e){n.e(e)}finally{n.f()}null!==(e=this.getZoneIndex(e))&&this.droppables[e].onDrop(t),this.activeIndex=null}},{key:"onMove",value:function(e){(e=this.getZoneIndex(e))!==this.activeIndex&&(null!==this.activeIndex&&this.droppables[this.activeIndex].onLeave(),null!==e&&this.droppables[e].onEnter(),this.activeIndex=e)}},{key:"hideZones",value:function(){var e,t=Di(this.droppables);try{for(t.s();!(e=t.n()).done;)e.value.hide()}catch(e){t.e(e)}finally{t.f()}}},{key:"showZones",value:function(){var e,t=Di(this.droppables);try{for(t.s();!(e=t.n()).done;)e.value.show()}catch(e){t.e(e)}finally{t.f()}}}],Fi(Li.prototype,Tc),Li),Ni=q.a.createContext({setComponent:function(e){}});function Li(){!function(e){if(!(e instanceof Li))throw new TypeError("Cannot call a class as a function")}(this),Ai(this,"droppables",[]),Ai(this,"layouts",[]),Ai(this,"activeIndex",null)}function Bi(e){return(Bi="function"==typeof Symbol&&"symbol"==Pu(Symbol.iterator)?function(e){return Pu(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":Pu(e)})(e)}function Mi(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Vi(e,t){return(Vi=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ui(e){return(Ui=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var qi=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Vi(e,t)}(o,c.Component);var r,n,t=(r=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,t=Ui(r);return function(e,t){if(t&&("object"===Bi(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}()}(this,n?(e=Ui(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments))});function o(e){return function(e){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this),(e=t.call(this,e)).deltaX=0,e.deltaY=0,e}return Mi(o.prototype,[{key:"onLayout",value:function(e){this.deltaX=this.props.pageX-e.nativeEvent.layout.x,this.deltaY=this.props.pageY-e.nativeEvent.layout.y,this.forceUpdate()}},{key:"render",value:function(){var e={transform:this.props.pan.getTranslateTransform(),zIndex:1e3,position:"absolute",left:this.props.pageX+this.deltaX,top:this.props.pageY+this.deltaY};return q.a.createElement(Lo.Animated.View,{style:e,onLayout:this.onLayout.bind(this)},this.props.children)}}]),o}();function zi(e){return(zi="function"==typeof Symbol&&"symbol"==Pu(Symbol.iterator)?function(e){return Pu(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":Pu(e)})(e)}function Hi(){return(Hi=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r,n=arguments[t];for(r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Wi(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Gi(e,t){return(Gi=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ki(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function $i(e){return($i=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Ji=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Gi(e,t)}(o,c.Component);var e,r,n,t=(r=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,t=$i(r);return function(e,t){if(t&&("object"===zi(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Ki(e)}(this,n?(e=$i(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments))});function o(e){return function(e){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this),(e=t.call(this,e)).state={pan:new Lo.Animated.ValueXY},e.dragging=!1,e.panResponder=Lo.PanResponder.create({onStartShouldSetPanResponder:function(){return!0},onPanResponderGrant:e.onBeginDrag.bind(Ki(e)),onPanResponderMove:e.onMove.bind(Ki(e)),onPanResponderRelease:e.onEndDrag.bind(Ki(e))}),e}return e=[{key:"onMove",value:function(e,t){return this.props.context.onMove(t),Lo.Animated.event([null,{dx:this.state.pan.x,dy:this.state.pan.y}])(e,t)}},{key:"onBeginDrag",value:function(){var a=this;return!(!this.setDraggableComponent||!this.instance||(this.instance.measure(function(e,t,r,n,o,i){a.dragging=!0,a.props.context.onBeginDrag(),i=q.a.createElement(qi,Hi({},a.props,{pageX:o,pageY:i,pan:a.state.pan})),a.setDraggableComponent(i),a.forceUpdate()}),this.props.onBeginDrag&&this.props.onBeginDrag(),0))}},{key:"onEndDrag",value:function(e,t){this.dragging=!1,this.props.context.onEndDrag(t,this),this.props.onEndDrag&&this.props.onEndDrag(),this.setDraggableComponent(null),Lo.Animated.spring(this.state.pan,{toValue:{x:0,y:0},friction:5,useNativeDriver:!1}).start(),this.forceUpdate()}},{key:"getAnimatedView",value:function(){var e=[{transform:this.state.pan.getTranslateTransform()}];return this.dragging&&e.push({zIndex:1e3,position:"absolute"}),q.a.createElement(Lo.Animated.View,Hi({},this.panResponder.panHandlers,{style:e}),this.getChildrenView())}},{key:"getChildrenView",value:function(){return this.props.children}},{key:"draw",value:function(e){return e&&(this.setDraggableComponent=e),this.dragging?this.getChildrenView():this.getAnimatedView()}},{key:"render",value:function(){var t=this;return q.a.createElement(Lo.TouchableOpacity,{ref:function(e){t.instance=e}},q.a.createElement(Ni.Consumer,null,function(e){return e=e.setComponent,t.draw(e)}))}}],Wi(o.prototype,e),o}();function Yi(e){return(Yi="function"==typeof Symbol&&"symbol"==Pu(Symbol.iterator)?function(e){return Pu(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":Pu(e)})(e)}function Xi(){return(Xi=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r,n=arguments[t];for(r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Qi(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Zi(e,t){return(Zi=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ea(e){return(ea=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var ta=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Zi(e,t)}(o,c.Component);var e,r,n,t=(r=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,t=ea(r);return function(e,t){if(t&&("object"===Yi(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}()}(this,n?(e=ea(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments))});function o(e){return function(e){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this),(e=t.call(this,e)).state={hovered:!1,waitForEntity:!1},e}return e=[{key:"componentWillUnmount",value:function(){this.props.context.unregisterDroppable(this)}},{key:"render",value:function(){var t=this;return q.a.createElement(Lo.View,Xi({},this.props,{onLayout:this.setDropZoneValues.bind(this),ref:function(e){return t.instance=e}}))}},{key:"setDropZoneValues",value:function(e){this.props.context.registerDroppable(this,e.nativeEvent.layout)}},{key:"measure",value:function(){var a=this;this.instance&&this.instance.measure(function(e,t,r,n,o,i){a.props.context.registerDroppable(a,{x:o,y:i,width:r,height:n})})}},{key:"onEnter",value:function(){this.setState({hovered:!0}),this.props.onEnter&&this.props.onEnter()}},{key:"onLeave",value:function(){this.setState({hovered:!1}),this.props.onLeave&&this.props.onLeave()}},{key:"onDrop",value:function(e){this.setState({hovered:!1}),this.props.onDrop&&this.props.onDrop(e)}},{key:"onBeginDrag",value:function(){this.measure(),this.props.onBeginDrag&&this.props.onBeginDrag()}},{key:"onEndDrag",value:function(){this.props.onEndDrag&&this.props.onEndDrag()}},{key:"hide",value:function(){this.props.onHide&&this.props.onHide()}},{key:"show",value:function(){this.props.onShow&&this.props.onShow()}}],Qi(o.prototype,e),o}();function ra(t,e){var r,n=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)),n}function na(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?ra(Object(r),!0).forEach(function(e){da(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ra(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}function oa(){return(oa=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r,n=arguments[t];for(r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function ia(e){return(ia="function"==typeof Symbol&&"symbol"==Pu(Symbol.iterator)?function(e){return Pu(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":Pu(e)})(e)}function aa(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&la(e,t)}function la(e,t){return(la=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function sa(r){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=ca(r);return function(e,t){if(t&&("object"===ia(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}()}(this,n?(e=ca(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments))}}function ca(e){return(ca=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ua(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function pa(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function fa(e,t,r){return t&&pa(e.prototype,t),r&&pa(e,r),e}function da(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var ha=(fa(va,[{key:"preventDefault",value:function(){}}]),va),ya=function(){aa(r,c.Component);var t=sa(r);function r(e){return ua(this,r),(e=t.call(this,e)).state={active:!1,hover:!1,visible:!0},e}return fa(r,[{key:"onBeginDrag",value:function(){this.setState({active:!0,hovered:!1})}},{key:"onEndDrag",value:function(){this.setState({active:!1,hovered:!1})}},{key:"onEnter",value:function(){this.setState({hovered:!0})}},{key:"onLeave",value:function(){this.setState({hovered:!1})}},{key:"render",value:function(){var e=this.state.active?Wo.collectionEditor.droppable.activeStyle:{},t=this.state.hovered?Wo.collectionEditor.droppable.hoverStyle:{};return q.a.createElement(ta,{context:this.props.context,onDrop:this.props.onDrop,onBeginDrag:this.onBeginDrag.bind(this),onEndDrag:this.onEndDrag.bind(this),onEnter:this.onEnter.bind(this),onLeave:this.onLeave.bind(this),style:{marginBottom:5,justifyContent:"center"}},q.a.createElement(Lo.View,{style:[Wo.collectionEditor.droppable.defaultStyle,e,t]},this.props.children))}}]),r}(),ma=function(){aa(n,c.Component);var r=sa(n);function n(e){var t;return ua(this,n),(t=r.call(this,e)).state={context:new Ii},e=e.options.props.columns,t.defaultHeaderStyle={maxWidth:void 0},t.hasNestedCollectionEditor=e.some(function(e){return e.customControl&&"CollectionEditor"==e.customControl.name}),t}return fa(n,[{key:"isDraggable",value:function(){var e=this.props.options;return!e.props.readOnly&&Boolean(e.props.draggable)}},{key:"getDragColumn",value:function(e,t){var r=this;if(this.isDraggable()){var n=this.props.options;return q.a.createElement(ya,{context:this.state.context,onDrop:n.onDrop.bind(n.me,t,e,new ha)},q.a.createElement(Lo.View,{key:"celldrag"},q.a.createElement(Ji,{context:this.state.context,onBeginDrag:n.onDragStart.bind(n.me,t,e,new ha),onEndDrag:function(){n.onDragEnd(t,e),r.forceUpdate()}},q.a.createElement(Lo.View,{style:Wo.collectionEditor.dragIcon}))))}}},{key:"renderHeaderRow",value:function(e){var n=this,t=this.props.options,o=[],i=0,r=!0!==t.props.disableAdd,a=!0!==t.props.disableCopy,l=!0!==t.props.disableDelete;return e.forEach(function(e){var t;"object"===ia(e)?(t=e.name,e.width):t=e,de(t)&&2<=t.length&&(t=t.charAt(0).toUpperCase()+t.slice(1));var r=0==i&&n.isDraggable()?{paddingLeft:15}:{};o.push(q.a.createElement(_i.Td,{key:i,style:[n.defaultHeaderStyle,e.style,r]},q.a.createElement(di,{style:{fontWeight:"700"}},t))),i++}),!t.props.readOnly&&(r||a||l)&&(e=!!t.props.hierarchical*!t.props.disableAdd*20+20*!t.props.disableCopy+20*!t.props.disableDelete,a="Add",de(l=function(){if(window.DWKitAdminLang&&window.DWKitAdminLang.collectioneditor)return window.DWKitAdminLang.collectioneditor}())&&(a=l.add),o.push(q.a.createElement(_i.Td,{style:{maxWidth:e}},r&&q.a.createElement(Lo.TouchableOpacity,{onPress:function(){t.btnAdd.apply(t,arguments),n.forceUpdate()}},q.a.createElement(di,Wo.collectionEditor.addLinkProps,a))))),q.a.createElement(_i.Tr,{key:"headertr"},o)}},{key:"renderRows",value:function(h,e,r,t,y,n){var m=this,v=this.props.options,b=v.me,o=[];if(null==e)return o;var g=e;fe(y)&&(y=0),void 0===n&&(n=""),v.props.filter&&(g=v.getFilteredItems(g,v.props.filter));for(var i=!0!==v.props.disableAdd,a=!0!==v.props.disableCopy,l=!0!==v.props.disableDelete,w=0;w<g.length;w++)if(void 0!==v.props.childrenField||!v.props.hierarchical||g[w][v.props.parentIdField]==t){var s,O=this.getDragColumn(g,w),C=void 0,c=void 0;v.props.hierarchical&&(f=void 0,u=n+String(w+"_"),he(v.props.parentIdField)?he(s=g[w][v.props.idField]||g[w].__id)&&0<(c=this.renderRows(h,e,r,s,y+1,u)).length&&(fe(s=v.state.expanded[n+w])||s?f=q.a.createElement(Lo.TouchableOpacity,{onPress:v.onExpand.bind(v.me,n+w,!1)},q.a.createElement(Lo.Image,{source:{uri:"/images/collapse.svg"},style:Wo.collectionEditor.image.style})):(f=q.a.createElement(Lo.TouchableOpacity,{onPress:v.onExpand.bind(v.me,n+w,!0)},q.a.createElement(Lo.Image,{source:{uri:"/images/expand.svg"},style:Wo.collectionEditor.image.style})),c=void 0)):Array.isArray(g[w][v.props.childrenField])&&0<g[w][v.props.childrenField].length?0<(c=this.renderRows(h,g[w][v.props.childrenField],r,void 0,y+1,u)).length&&(fe(p=v.state.expanded[n+w])||p?f=q.a.createElement(Lo.TouchableOpacity,{onPress:v.onExpand.bind(v.me,n+w,!1)},q.a.createElement(Lo.Image,{source:{uri:"/images/collapse.svg"},style:Wo.collectionEditor.image.style})):(f=q.a.createElement(Lo.TouchableOpacity,{onPress:v.onExpand.bind(v.me,n+w,!0)},q.a.createElement(Lo.Image,{source:{uri:"/images/expand.svg"},style:Wo.collectionEditor.image.style})),c=void 0)):f=q.a.createElement(Lo.Image,{source:{uri:"/images/collapse.svg"},style:Wo.collectionEditor.image.style}),C=q.a.createElement(Lo.View,null,f));var S=[],E=void 0;Array.isArray(r)&&0<r.length&&(void 0!==r[0].__id&&null!==r[0].__id?function(){var t=g[w].__id;void 0!==t&&null!=t&&(E=r.find(function(e){return e.__id===t}))}():E=r[w]);for(var u,p,f,d=0;d<h.length;d++)!function(e){var r=void 0,t=v.props.readOnly?"":"input",n=void 0,o=void 0;"object"===ia(h[e])?(r=h[e].key,t=h[e].control,n=h[e].customControl,Array.isArray(h[e].options)&&(o=h[e].options)):r=h[e];var i=void 0;de(E)&&(i=Boolean(E[r]));var a,l,s,c,u,p=e<h.length-1||!v.props.readOnly?na({},Wo.collectionEditor.column.notLast):{},f=void 0;"checkbox"===t?f=q.a.createElement(k,{key:w+"_"+e,row:g[w],handleChange:v.handleChange,colName:r,checked:g[w][r],errorFlag:i,disabled:v.props.readOnly}):"span"===t?(p.verticalAlign="middle",f=q.a.createElement(Lo.Text,{key:w+"_"+e,name:r},g[w][r])):"number"===t?(a=null===g[w][r]||void 0===g[w][r]?"":g[w][r],a={name:r,keyboardType:"numeric",error:i,value:a,disabled:v.props.readOnly},f=q.a.createElement(U,{key:w+"_"+e,row:g[w],inputProps:a,handleChange:v.handleChange})):"date"===t?(a=null===g[w][r]||void 0===g[w][r]?"":g[w][r],f=q.a.createElement(D,{key:w+"_"+e,row:g[w],colName:r,value:a,errorFlag:i,disabled:v.props.readOnly,handleChange:v.handleChange,type:"date"})):"datetime"===t?(l=null===g[w][r]||void 0===g[w][r]?"":g[w][r],f=q.a.createElement(D,{key:w+"_"+e,row:g[w],colName:r,value:l,errorFlag:i,disabled:v.props.readOnly,handleChange:v.handleChange,type:"datetime"})):"dropdown"===t?(l=null==g[w][r]?h[e].multiple?[]:"":g[w][r],f=q.a.createElement(N,{key:w+"_"+e,row:g[w],colName:r,multiple:h[e].multiple,placeholder:h[e].placeholder,errorFlag:i,value:l,options:o,disabled:v.props.readOnly,handleChange:v.handleChange})):"file"===t||"file2"===t?(o=null===g[w][r]||void 0===g[w][r]?"":g[w][r],f=q.a.createElement($,{key:w+"_"+e,row:g[w],colName:r,errorFlag:i,value:o,disabled:v.props.readOnly,handleChange:v.handleChange,downloadUrl:v.props.downloadUrl,uploadUrl:v.props.uploadUrl,control:t,additionalData:h[e].additionalData})):"camera"===t?(s=null===g[w][r]||void 0===g[w][r]?"":g[w][r],f=q.a.createElement(Z,{key:w+"_"+e,row:g[w],colName:r,errorFlag:i,value:s,disabled:v.props.readOnly,handleChange:v.handleChange,downloadUrl:v.props.downloadUrl,uploadUrl:v.props.uploadUrl,control:t,showPreview:!0,getAdditionalDataForControl:v.props.getAdditionalDataForControl,additionalData:h[e].additionalData})):"signature"===t?(s=null===g[w][r]||void 0===g[w][r]?"":g[w][r],f=q.a.createElement(oe,{key:w+"_"+e,row:g[w],colName:r,errorFlag:i,value:s,disabled:v.props.readOnly,handleChange:v.handleChange,downloadUrl:v.props.downloadUrl,uploadUrl:v.props.uploadUrl,control:t,showPreview:!0,getAdditionalDataForControl:v.props.getAdditionalDataForControl,additionalData:h[e].additionalData})):"custom"===t?n?(u=g[w][r]||"",t={},c=na(na({},t=h[e].customControlGetPropsFunc?h[e].customControlGetPropsFunc(g[w]):t),{},{key:w+"_"+e,name:r,error:i,value:u,colName:r,row:g[w],readOnly:v.props.readOnly,onChange:function(e,t){b.handleChange(c.row,e,t=t||{name:r,value:e})}}),f=q.a.createElement(n,c)):de(v.props.placeholders)&&Array.isArray(v.props.placeholders[r])&&0<v.props.placeholders[r].length?(u=v.props.placeholders[r][0])&&(n=g[w],void 0!==u.propertyName&&""!==u.propertyName||(u.propertyName=r),f=q.a.createElement(j,{model:u,parent:v.me,row:n,errorOnRow:E,name:v.props.name,buildermode:v.props.buildermode,handleChange:v.handleChange,handleEvent:v.props.handleEvent,getAdditionalDataForControl:v.props.getAdditionalDataForControl,readOnly:v.props.readOnly,uploadUrl:v.props.uploadUrl,downloadUrl:v.props.downloadUrl,data:v.props.data,adaptiveViewType:v.props.adaptiveViewType,controlBarParams:v.props.controlBarParams,createControl:v.props.createControl})):v.props.buildermode&&v.props.createBuilderDropzone&&(f=v.props.createBuilderDropzone(v.props.name,v.props.name,void 0,r,r)):(d=null===g[w][r]||void 0===g[w][r]?"":g[w][r],d={name:r,dataList:h[e].dataList,error:i,value:d,disabled:v.props.readOnly},f=q.a.createElement(U,{key:w+"_"+e,row:g[w],inputProps:d,handleChange:v.handleChange}));var d=h[e].style;p.maxWidth=m.defaultHeaderStyle.maxWidth,m.hasNestedCollectionEditor&&(p.paddingTop=40),0===e?(y&&(p.paddingLeft=String(15*y+5)+"px"),S.push(q.a.createElement(_i.Td,{key:w+"_"+e+"td",style:[p,d]},C,O,f))):S.push(q.a.createElement(_i.Td,{key:w+"_"+e+"td",style:[p,d]},f))}(d);!v.props.readOnly&&(i||a||l)&&(u=function(e){return q.a.createElement(Lo.TouchableOpacity,{onPress:function(){e.handler(),m.forceUpdate()}},q.a.createElement(Bo.Icon,oa({},e,{fill:"#000000",style:Wo.collectionEditor.icon})))},p=[Wo.collectionEditor.editButtonsColumn,this.hasNestedCollectionEditor?{paddingTop:30}:{}],f=15*a+15*l,v.props.hierarchical?(f+=15*i,S.push(q.a.createElement(_i.Td,{key:"celldelete",style:{width:f}},q.a.createElement(Lo.View,{style:p},i&&q.a.createElement(u,{key:"addchild",name:"plus-outline",handler:v.btnAddChild.bind(v.me,w,g)}),a&&q.a.createElement(u,{key:"copy",name:"copy-outline",handler:v.btnCopy.bind(v.me,w,g)}),l&&q.a.createElement(u,{key:"delete",name:"close-outline",handler:v.btnDelete.bind(v.me,w,g)}))))):S.push(q.a.createElement(_i.Td,{key:"celldelete",style:{width:f}},q.a.createElement(Lo.View,{style:p},a&&q.a.createElement(u,{key:"copy",name:"copy-outline",handler:v.btnCopy.bind(v.me,w,void 0)}),l&&q.a.createElement(u,{key:"delete",name:"close-outline",handler:v.btnDelete.bind(v.me,w,void 0)}))))),o.push(q.a.createElement(_i.Tr,{key:n+w,"data-rowindex":w},S)),o=o.concat(c)}return o}},{key:"render",value:function(){var e=this.props.options,t=e.props.columns,r=e.props.value,n=e.props.error,o=t.length,i=!0!==this.props.disableAdd,a=!0!==this.props.disableCopy,l=!0!==this.props.disableDelete;return!e.props.readOnly&&(i||a||l)&&o++,this.defaultHeaderStyle={maxWidth:100/o+"%"},e.props.collapseAll&&Array.isArray(r)&&e.applyCollapseAll(r),t&&t.length?(r={style:[Wo.collectionEditor.container,e.props.style],onBlur:e.props.onBlur,onClick:e.props.onClick,onFocus:e.props.onFocus,onMouseEnter:e.props.onMouseEnter,onMouseLeave:e.props.onMouseLeave},q.a.createElement(Lo.View,r,q.a.createElement(di,null,e.props.label),q.a.createElement(_i,null,q.a.createElement(_i.THeader,null,this.renderHeaderRow(t)),q.a.createElement(_i.TBody,null,this.renderRows(t,e.state.data,n))))):q.a.createElement(Lo.View,null,q.a.createElement(Lo.Text,null,"Fill columns property!"))}}]),n}();function va(){ua(this,va),da(this,"dataTransfer",{setData:function(){}})}d("collection-editor",function(e){return q.a.createElement(ma,{options:e})});var ba=q.a.createContext({formWidthStyle:null}),ga=q.a.createContext({formSizeStyle:null});function wa(e){return(wa="function"==typeof Symbol&&"symbol"==Pu(Symbol.iterator)?function(e){return Pu(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":Pu(e)})(e)}function Oa(){return(Oa=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r,n=arguments[t];for(r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Ca(t,e){var r,n=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)),n}function Sa(n){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?Ca(Object(o),!0).forEach(function(e){var t,r=n;e=o[t=e],t in r?Object.defineProperty(r,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):r[t]=e}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(o)):Ca(Object(o)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(o,e))})}return n}function Ea(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ka(e,t){return(ka=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ja(e){return(ja=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var xa=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ka(e,t)}(o,c.Component);var r,n,t=(r=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,t=ja(r);return function(e,t){if(t&&("object"===wa(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}()}(this,n?(e=ja(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments))});function o(e){return function(e){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this),(e=t.call(this,e)).state={hideResults:!0},e}return Ea(o.prototype,[{key:"render",value:function(){var t=this,e=this.props.data,r=this.props.dataList;return q.a.createElement(si,{options:r,value:e,hideResults:this.state.hideResults,onFocus:function(){return t.setState({hideResults:!1})},onBlur:function(){return t.setState({hideResults:!0})},search:!0,onValueChange:this.props.onChangeText,onSelect:function(e){t.props.onItemPress(r[e])}})}}]),o}();d("collection-input",function(t){function r(e){t.me.handleChange(null,{name:t.props.inputProps.name,value:e})}return q.a.createElement(ba.Consumer,null,function(e){return e.formWidthStyle,q.a.createElement(ga.Consumer,null,function(e){return e.formSize,e=Sa(Sa({},t.props.inputProps),{},{style:Wo.collectionEditor.input}),Array.isArray(e.dataList)?q.a.createElement(xa,{data:e.value,dataList:e.dataList,onChangeText:r,onItemPress:r}):q.a.createElement(Bo.Input,Oa({},e,{onChangeText:r}))})})}),d("collection-upload",function(e){return q.a.createElement(In,{name:e.props.colName,error:e.props.errorFlag,value:e.props.value,readOnly:e.props.readOnly,onChange:e.me.handleChange,downloadUrl:e.props.downloadUrl,uploadUrl:e.props.uploadUrl,additionalData:e.props.additionalData,me:e.me,isForm:!0,hideClearButton:"file2"===e.props.control})});var Pa=r(3);function Ta(e){return(Ta="function"==typeof Symbol&&"symbol"==Pu(Symbol.iterator)?function(e){return Pu(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":Pu(e)})(e)}function _a(){return(_a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r,n=arguments[t];for(r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Da(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ra(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Fa(e,t,r){return t&&Ra(e.prototype,t),r&&Ra(e,r),e}function Aa(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ia(e,t)}function Ia(e,t){return(Ia=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Na(r){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=La(r);return function(e,t){if(t&&("object"===Ta(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}()}(this,n?(e=La(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments))}}function La(e){return(La=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Ba=function(){Aa(t,c.Component);var e=Na(t);function t(){return Da(this,t),e.apply(this,arguments)}return Fa(t,[{key:"render",value:function(){var e={paddingHorizontal:4};return this.props.icon?q.a.createElement(Pa.Icon,_a({},this.props,{name:this.props.icon,type:"font-awesome",containerStyle:[this.props.style,e]},Wo.collectionEditor.iconProps)):q.a.createElement(Pa.Text,_a({},this.props,{style:[this.props.style,e]}),"/")}}]),t}(),Ma=function(){Aa(t,c.Component);var e=Na(t);function t(){return Da(this,t),e.apply(this,arguments)}return Fa(t,[{key:"render",value:function(){var t=this,e=!0===this.props.active?{fontWeight:"600",color:"#1e70bf"}:{color:"#1e70bf"};return q.a.createElement(Lo.TouchableOpacity,{onPress:function(e){return t.props.onClick(e)}},q.a.createElement(Pa.Text,_a({},this.props,{style:[this.props.style,e]})))}}]),t}();d("breadcrumb",function(e){for(var t=[],r=0;r<e.children.length;r++){var n=e.children[r];n.isDivider?t.push(q.a.createElement(Ba,n.dividerProps)):t.push(q.a.createElement(Ma,n.childProps,n.text))}return q.a.createElement(Lo.View,_a({},e.propsControl,{style:[e.propsControl.style,{flexDirection:"row",alignItems:"center"}]}),t)});var Va=new Ii;function Ua(e){return(Ua="function"==typeof Symbol&&"symbol"==Pu(Symbol.iterator)?function(e){return Pu(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":Pu(e)})(e)}function qa(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function za(e,t){return(za=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ha(e){return(Ha=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Wa=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&za(e,t)}(a,c.Component);var e,t,r,n,o,i=(n=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,t=Ha(n);return function(e,t){if(t&&("object"===Ua(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}()}(this,o?(e=Ha(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments))});function a(e){return function(e){if(!(e instanceof a))throw new TypeError("Cannot call a class as a function")}(this),(e=i.call(this,e)).state={active:!1,hover:!1,visible:!0,modalVisible:!1},e}return r=[{key:"attr",value:function(e){if(!fe(e))return{value:e}}}],t=[{key:"onBeginDrag",value:function(){this.setState({active:!0,hovered:!1})}},{key:"onEndDrag",value:function(){this.setState({active:!1,hovered:!1})}},{key:"onEnter",value:function(){this.setState({hovered:!0})}},{key:"onLeave",value:function(){this.setState({hovered:!1})}},{key:"onDrop",value:function(e){var t={attributes:{name:a.attr(this.props.name),elementafter:a.attr(this.props.elementAfter),elementtoinsert:a.attr(this.props.elementToInsert),placeholderkey:a.attr(this.props.placeholderKey)}};e.props.onDrop&&e.props.onDrop(this,t)}},{key:"onHide",value:function(){this.setState({visible:!1})}},{key:"onShow",value:function(){this.setState({visible:!0})}},{key:"showModal",value:function(){this.props.options.onChangeDZ(null,{value:""}),this.setState({modalVisible:!0})}},{key:"save",value:function(){this.props.options.onClosePopup(),this.setState({modalVisible:!1})}},{key:"cancel",value:function(){this.setState({modalVisible:!1})}},{key:"drawModal",value:function(e){var t=this;return q.a.createElement(Bo.Tooltip,{appearance:"white",visible:this.state.modalVisible,anchor:e,style:Wo.controls.dropzonePopover.container,onBackdropPress:this.save.bind(this)},q.a.createElement(Lo.View,null,q.a.createElement(Pa.Input,{multiline:!0,numberOfLines:4,onChangeText:function(e){return t.props.options.onChangeDZ(null,{value:e})},placeholder:"Insert here a model control \n(for copy - double click by control title)"})))}},{key:"render",value:function(){var t=this,r=this.state.active?Wo.dwkitFormBuilderZoneActive:{},n=this.state.hovered?Wo.dwkitFormBuilderZoneHover:{},o=!0===this.state.visible?{}:{display:"none"},i=Wo.dwkitFormBuilderZoneText;return q.a.createElement(Lo.TouchableOpacity,{onPress:function(){return t.showModal()}},q.a.createElement(ba.Consumer,null,function(e){return e.isColumn&&(o=[o,Wo.grouped.inColumn.dropzone.container],i=[i,Wo.grouped.inColumn.dropzone.text]),q.a.createElement(ta,{name:t.props.name,key:t.props.keyValue,elementafter:t.props.elementAfter,elementtoinsert:t.props.elementToInsert,placeholderkey:t.props.placeholderKey,style:[Wo.dwkitFormBuilderZone,o,r,n],onDrop:t.onDrop.bind(t),onBeginDrag:t.onBeginDrag.bind(t),onEndDrag:t.onEndDrag.bind(t),onEnter:t.onEnter.bind(t),onLeave:t.onLeave.bind(t),onHide:t.onHide.bind(t),onShow:t.onShow.bind(t),context:Va,onPress:t.showModal.bind(t)},q.a.createElement(Lo.View,null,t.drawModal(function(){return q.a.createElement(Pa.Text,{style:i},t.props.text)})))}))}}],qa((e=a).prototype,t),qa(e,r),a}();function Ga(){return(Ga=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r,n=arguments[t];for(r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Ka(t,e){var r,n=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)),n}d("builder-dropzone",function(e){return q.a.createElement(Wa,{name:e.key,key:e.key+"_bdz",keyValue:e.key,elementAfter:e.elementAfter,elementToInsert:e.elementToInsert,placeholderKey:e.placeholderKey,text:e.text,options:e})}),d("button",function(t){var e=Wo.controlParams(t.propsControl),e=function(n){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?Ka(Object(o),!0).forEach(function(e){var t,r=n;e=o[t=e],t in r?Object.defineProperty(r,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):r[t]=e}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(o)):Ka(Object(o)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(o,e))})}return n}({onPress:t.propsControl.onClick,children:t.propsControl.content,style:[Wo.baseMargin,{display:"flex"},t.propsControl.style,e.style]},e.props);return t.propsControl.icon&&(e.accessoryLeft=function(e){return q.a.createElement(Bo.Icon,Ga({name:t.propsControl.icon},e))}),q.a.createElement(Bo.Button,e)});var $a=r(9);function Ja(e){var r=e.children,t=e.style,n=e.notStretchItems;return q.a.createElement(Lo.View,{style:[{flexDirection:"row"},t]},r.map(function(e,t){return e?q.a.cloneElement(e,{style:[t<r.length-1&&Wo.layout.elementInRow,{flexGrow:n?0:1},e.props.style]}):null}))}function Ya(e){var r=e.children,t=e.style,n=e.notStretchItems;return q.a.createElement(Lo.View,{style:[{flexDirection:"column"},t]},r.map(function(e,t){return e?q.a.cloneElement(e,{style:[t<r.length-1&&Wo.layout.elementInColumn,{flexGrow:n?0:1},e.props.style]}):null}))}function Xa(e){return q.a.createElement(Lo.View,e,e.children,e.isLoading&&q.a.createElement(Qa,null))}var Qa=function(e){return q.a.createElement(Lo.View,{style:Za.container},q.a.createElement(Lo.View,{style:Za.spinnerBox},q.a.createElement(Bo.Spinner,e)))},Za={container:{width:"100%",height:"100%",alignItems:"center",justifyContent:"center",position:"absolute",backgroundColor:"white",opacity:.6},spinnerBox:{padding:2,backgroundColor:"white",borderRadius:28}};function el(e){return(el="function"==typeof Symbol&&"symbol"==Pu(Symbol.iterator)?function(e){return Pu(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":Pu(e)})(e)}function tl(){return(tl=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r,n=arguments[t];for(r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function rl(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function nl(e,t){return(nl=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ol(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function il(e){return(il=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function al(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var ll=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&nl(e,t)}(o,q.a.Component);var e,r,n,t=(r=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,t=il(r);return function(e,t){if(t&&("object"===el(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return ol(e)}(this,n?(e=il(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments))});function o(e){var n;return function(e){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this),al(ol(n=t.call(this,e)),"labels",function(){return n.props.compact?{}:{open:n.props.openLabel||"Open",clear:n.props.clearLabel||"Clear"}}),al(ol(n),"load",function(){var e=ol(n).props;e.value&&e.getAdditionalDataForControl(ol(n),{type:"fetch",fetchUrl:e.downloadUrl+e.value,fetchOptions:{method:"get"},fetchResponseType:"blob"},function(e){var t=new FileReader;t.readAsDataURL(e),t.onload=function(){n.setState({image:{uri:t.result}}),n.setState({loading:!1})}})}),al(ol(n),"clear",function(){n.props.clear(),n.setState({image:null})}),al(ol(n),"openFullscreen",function(){var e=ol(n),t=e.state;e.props.value&&!t.image&&(n.setState({loading:!0}),n.load()),n.setState({fullscreenView:!0})}),al(ol(n),"fullscreenView",function(){var e=ol(n).state,t=(r=Lo.Dimensions.get("window")).width,r=r.height;return q.a.createElement(Lo.Modal,null,q.a.createElement(Xa,{isLoading:e.loading},q.a.createElement(Lo.Image,{source:e.image,resizeMode:"contain",style:{backgroundColor:"white",width:t,height:r}}),q.a.createElement(Bo.Button,{onPress:function(){return n.setState({fullscreenView:!1})},accessoryLeft:function(e){return q.a.createElement(Bo.Icon,tl({},e,{name:"close-outline"}))},appearance:"outline",status:"basic",style:cl})))}),al(ol(n),"preview",function(){var e=(t=ol(n)).props,t=t.state;return e.showPreview&&q.a.createElement(Xa,{isLoading:t.loading},q.a.createElement(Lo.TouchableOpacity,{onPress:n.openFullscreen},e.compact?q.a.createElement(Bo.Avatar,{source:t.image,shape:"rounded"}):q.a.createElement(Lo.Image,{source:t.image,resizeMode:"contain",style:sl})))}),n.state={image:null,fullscreenView:!1,loading:!!e.showPreview},e.value&&e.showPreview&&n.load(),n}return e=[{key:"componentDidUpdate",value:function(e){var t=this.props;t.value!==e.value&&(t.value?t.showPreview&&(this.setState({loading:!0}),this.load()):this.setState({image:null}))}},{key:"render",value:function(){var e=this.props,t=this.state,r=this.labels,n=e.showPreview&&!e.compact?Ya:Ja;return q.a.createElement(Lo.View,null,q.a.createElement(Lo.View,{style:{flexDirection:e.compact?"row":"column"}},t.fullscreenView&&this.fullscreenView(),q.a.createElement(n,{status:"basic",size:"medium",style:{flexGrow:1}},e.showPreview?this.preview():q.a.createElement(Bo.Button,{children:r().open,onPress:this.openFullscreen,status:"basic",size:"medium",accessoryLeft:function(e){return q.a.createElement(Bo.Icon,tl({},e,{name:"maximize-outline"}))}}),q.a.createElement(Bo.Button,{onPress:this.clear,children:r().clear,accessoryLeft:function(e){return q.a.createElement(Bo.Icon,tl({},e,{name:"close-outline"}))},status:"basic",size:"medium"}))))}}],rl(o.prototype,e),o}(),sl={flex:1,height:Lo.Dimensions.get("window").height/2,backgroundColor:"white"},cl={position:"absolute",width:40,height:40,borderRadius:40,top:10,right:20};"ios"===Lo.Platform.OS&&Lo.NativeModules.StatusBarManager.getHeight(function(e){cl.top=10+e.height});var ul=ll;function pl(e){return(pl="function"==typeof Symbol&&"symbol"==Pu(Symbol.iterator)?function(e){return Pu(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":Pu(e)})(e)}function fl(){return(fl=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r,n=arguments[t];for(r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function dl(e,t,r,n,o,i,a){try{var l=e[i](a),s=l.value}catch(e){return r(e),0}l.done?t(s):Promise.resolve(s).then(n,o)}function hl(l){return function(){var e=this,a=arguments;return new Promise(function(t,r){var n=l.apply(e,a);function o(e){dl(n,t,r,o,i,"next",e)}function i(e){dl(n,t,r,o,i,"throw",e)}o(void 0)})}}function yl(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ml(e,t){return(ml=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function vl(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function bl(e){return(bl=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function gl(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var wl=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ml(e,t)}(o,q.a.Component);var e,r,n,t=(r=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,t=bl(r);return function(e,t){if(t&&("object"===pl(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return vl(e)}(this,n?(e=bl(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments))});function o(e){var n;return function(e){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this),gl(vl(n=t.call(this,e)),"labels",function(){return n.props.compact?{}:{takeShot:n.props.shotLabel||"Take shot",getFromGallery:n.props.galleryLabel||"Get from gallery"}}),gl(vl(n),"getFromCamera",hl(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("web"===Lo.Platform.OS)return alert("The Camera control works only on mobile devices"),e.abrupt("return");e.next=5;break;case 5:return e.next=7,$a.requestCameraPermissionsAsync();case 7:if(!1===e.sent.granted)return alert("Permission to access camera roll is required!"),e.abrupt("return");e.next=11;break;case 11:return e.next=13,$a.launchCameraAsync({mediaTypes:$a.MediaTypeOptions.Images,allowsEditing:!0,quality:n.props.compression||.75});case 13:(t=e.sent).cancelled||n.upload(t.uri);case 15:case"end":return e.stop()}},e)}))),gl(vl(n),"getFromGallery",hl(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("web"===Lo.Platform.OS)return alert("Camera opens only on real mobile device"),e.abrupt("return");e.next=5;break;case 5:return e.next=7,$a.requestCameraRollPermissionsAsync();case 7:if(!1===e.sent.granted)return alert("Permission to access camera roll is required!"),e.abrupt("return");e.next=11;break;case 11:return e.next=13,$a.launchImageLibraryAsync({mediaTypes:$a.MediaTypeOptions.Images,allowsEditing:!0,quality:n.props.compression||.75});case 13:(t=e.sent).cancelled||n.upload(t.uri);case 15:case"end":return e.stop()}},e)}))),gl(vl(n),"upload",function(e){n.setState({loading:!0}),e="android"===Lo.Platform.OS?e:e.replace("file://",""),(t=new FormData).append("name","photo.jpg"),t.append("file_attachment",{uri:e,name:"image.jpg",type:"image/jpeg"});var t={method:"post",headers:{"Content-Type":"multipart/form-data"},body:t},r=vl(n);n.props.getAdditionalDataForControl(vl(n),{type:"fetch",fetchUrl:n.props.uploadUrl,fetchOptions:t,fetchResponseType:"json"},function(e){n.setState({loading:!1}),r.props.onUpload({name:"photo.jpg"},e)})}),n.state={loading:!1},n}return e=[{key:"render",value:function(){var e=this.props,t=this.state,r=this.labels,n=e.compact?Bo.ButtonGroup:Ja;return q.a.createElement(Xa,{isLoading:t.loading},e.value?q.a.createElement(ul,fl({},e,{clear:e.onClear})):q.a.createElement(n,{status:"basic",size:"medium"},q.a.createElement(Bo.Button,{onPress:this.getFromCamera,children:r().takeShot,accessoryLeft:function(e){return q.a.createElement(Bo.Icon,fl({},e,{name:"camera-outline"}))},status:"basic",size:"medium"}),q.a.createElement(Bo.Button,{onPress:this.getFromGallery,children:r().getFromGallery,accessoryLeft:function(e){return q.a.createElement(Bo.Icon,fl({},e,{name:"folder-outline"}))},status:"basic",size:"medium"})))}}],yl(o.prototype,e),o}();d("camera",function(e){var t=e.props,r={width:t.compact&&t.showPreview?130:null};return q.a.createElement(Lo.View,{style:r},!!t.label&&q.a.createElement(di,null,t.label),q.a.createElement(wl,fl({},t,{onUpload:e.onUpload,onClear:e.onClear})))});var Ol=r(16),Cl=r.n(Ol),Sl=r(11);function El(e){return(El="function"==typeof Symbol&&"symbol"==Pu(Symbol.iterator)?function(e){return Pu(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":Pu(e)})(e)}function kl(){return(kl=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r,n=arguments[t];for(r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function jl(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function xl(e,t){return(xl=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Pl(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Tl(e){return(Tl=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _l(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Dl=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&xl(e,t)}(o,q.a.Component);var e,r,n,t=(r=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,t=Tl(r);return function(e,t){if(t&&("object"===El(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Pl(e)}(this,n?(e=Tl(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments))});function o(e){var r;return function(e){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this),_l(Pl(r=t.call(this,e)),"labels",function(){return{draw:r.props.compact?null:r.props.drawLabel||"Draw signature",clearCanvas:r.props.clearCanvasLabel||"Clear canvas",upload:r.props.uploadLabel||"Upload"}}),_l(Pl(r),"upload",function(e){r.setState({loading:!0});var t=Sl.cacheDirectory+"sign.png";Sl.writeAsStringAsync(t,e.replace("data:image/png;base64,",""),{encoding:Sl.EncodingType.Base64}).then(function(e){Sl.getInfoAsync(t,{size:!0,md5:!0}).then(function(e){var t="android"===Lo.Platform.OS?e.uri:e.uri.replace("file://","");(e=new FormData).append("name",Al+".jpg"),e.append("file_attachment",{uri:t,name:"image.jpg",type:Fl}),e={method:"post",headers:{"Content-Type":"multipart/form-data"},body:e},r.props.getAdditionalDataForControl(Pl(r),{type:"fetch",fetchUrl:r.props.uploadUrl,fetchOptions:e,fetchResponseType:"json"},function(e){r.setState({loading:!1}),r.props.onUpload({name:Al+".jpg"},e)})})}).catch(function(e){console.log("err",e)}),r.cancel()}),_l(Pl(r),"showCanvasModal",function(){"web"!==Lo.Platform.OS?r.setState({showCanvas:!0}):alert("Signature opens only on real mobile device")}),_l(Pl(r),"clearCanvas",function(){r.ref.current.clearSignature()}),_l(Pl(r),"cancel",function(){r.setState({showCanvas:!1})}),_l(Pl(r),"canvasModal",function(){var e=(t=Pl(r)).state,t=t.labels;return e.showCanvas&&q.a.createElement(Lo.Modal,null,q.a.createElement(Cl.a,{ref:r.ref,onOK:r.upload,autoClear:!0,backgroundColor:"rgb(255,255,255)",penColor:"black",webStyle:Ll,style:{height:Rl}}),q.a.createElement(Ja,{style:{margin:20,position:"absolute",bottom:0,left:0}},q.a.createElement(Bo.Button,{onPress:r.clearCanvas,children:t().clearCanvas,accessoryLeft:function(e){return q.a.createElement(Bo.Icon,kl({},e,{name:"close-outline"}))},appearance:"outline",status:"primary"}),q.a.createElement(Bo.Button,{onPress:function(){return r.ref.current.readSignature()},children:t().upload,accessoryLeft:function(e){return q.a.createElement(Bo.Icon,kl({},e,{name:"cloud-upload-outline"}))},status:"primary"})),q.a.createElement(Bo.Button,{onPress:r.cancel,accessoryLeft:function(e){return q.a.createElement(Bo.Icon,kl({},e,{name:"close-outline"}))},appearance:"outline",status:"basic",style:Il}))}),r.state={showCanvas:!1,loading:!1},r.ref=q.a.createRef(),r}return e=[{key:"render",value:function(){var e=this.props,t=this.state,r=this.labels;return q.a.createElement(Xa,{isLoading:t.loading},e.value?q.a.createElement(ul,kl({},e,{clear:e.onClear})):q.a.createElement(Lo.View,null,this.canvasModal(),q.a.createElement(Bo.Button,{onPress:this.showCanvasModal,children:r().draw,accessoryLeft:function(e){return q.a.createElement(Bo.Icon,kl({},e,{name:"edit-2-outline"}))},status:"basic",size:"medium"})))}}],jl(o.prototype,e),o}();d("signature",function(e){var t=e.props,r={width:t.compact&&t.showPreview?130:null};return q.a.createElement(Lo.View,{style:r},!!t.label&&q.a.createElement(di,null,t.label),q.a.createElement(Dl,kl({},t,{onUpload:e.onUpload,onClear:e.onClear})))});var Rl=Lo.Dimensions.get("window").height/2,Fl="image/jpeg",Al="signature-image",Il={position:"absolute",width:40,height:40,borderRadius:40,top:10,right:20},Nl=0;"ios"===Lo.Platform.OS&&Lo.NativeModules.StatusBarManager.getHeight(function(e){Nl=e.height,Il.top=10+Nl});var Ll="\n.m-signature-pad--footer {\n    display: none;\n}\n.m-signature-pad--body {\n    top: ".concat(60+Nl,"px;\n    bottom: 100px;\n}\n");function Bl(){return(Bl=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r,n=arguments[t];for(r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Ml(t,e){var r,n=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)),n}function Vl(e){var t=e.children;return q.a.createElement(po.Consumer,null,function(e){return(e=e.visible)?q.a.createElement(Lo.View,{style:e?Wo.itemContainer:{}},t):t})}function Ul(t,e){var r,n=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)),n}d("checkbox",function(e){var t=function(n){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?Ml(Object(o),!0).forEach(function(e){var t,r=n;e=o[t=e],t in r?Object.defineProperty(r,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):r[t]=e}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(o)):Ml(Object(o)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(o,e))})}return n}({},e.propsControl);return t.onChange=!0===e.propsControl.readOnly?void 0:t.onChange.bind(void 0,null,{name:t.name,checked:!t.checked}),!0===e.propsControl.toggle?(t.style=Lo.StyleSheet.flatten([t.style,Wo.controls.dwKitCheckBox]),q.a.createElement(Bo.Toggle,Bl({},t,{children:t.label}))):q.a.createElement(Jo,t)}),d("container",function(e){var t=function(n){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?Ul(Object(o),!0).forEach(function(e){var t,r=n;e=o[t=e],t in r?Object.defineProperty(r,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):r[t]=e}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(o)):Ul(Object(o)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(o,e))})}return n}({},e.props);return t.notStretchItems=!0,t.style=[Wo.containerView.base,t.style],e.props.childrenView&&t.style.push(Wo.containerView[e.props.childrenView]),delete t.childrenView,e="rows"!==e.props.childrenView&&e.props.childrenView?Ja:Ya,pi(t),q.a.createElement(Vl,null,q.a.createElement(e,t))}),r(24);var ql=r(17);function zl(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Hl(e){var t,r,p=e.options,n=(t=Object(c.useState)(!1),r=2,(e=function(e){if(Array.isArray(e))return e}(t)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i=[],a=!0,l=!1;try{for(r=r.call(e);!(a=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);a=!0);}catch(e){l=!0,o=e}finally{try{a||null==r.return||r.return()}finally{if(l)throw o}}return i}}(t,r)||function(e,t){if(e){if("string"==typeof e)return zl(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(r="Object"===r&&e.constructor?e.constructor.name:r)||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?zl(e,t):void 0}}(t,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())[0]),o=e[1],f={form:"",formgroup:"",grid:"",gridcolumn:"",container:"",div:"",repeater:""};function i(e,t){p.props.builderActions.move(p.props.model.key,t)}return p.me.updateBarPosition=function(){p.me.controlRef&&p.me.barRef&&p.me.controlRef.measure(function(s,c,u,e,t,r){p.me.barRef&&p.me.barRef.measure(function(e,t,r,n,o,i){var a=s+u-r;a<15&&(a=15);var l=c-n/2;null!=f[p.props.control.props["data-buildertype"]]&&(l-=20),r=!p.me.state.x||!p.me.state.y,n=1<Math.abs(p.me.state.x-a)||1<Math.abs(p.me.state.y-l),(r||n)&&p.me.setState({x:a,y:l})})})},q.a.createElement(po.Consumer,null,function(e){var t=e.visible,e=function(e){return o(e),e=[e?Wo.controlBar.containerHovered:Wo.controlBar.container,{left:(e=p.me.state).x+"px",top:e.y+"px",right:"auto"}],t&&q.a.createElement(Lo.View,{ref:function(e){p.me.barRef=e},style:e},q.a.createElement(Lo.View,{title:p.props.text,style:Wo.controlBar.title},q.a.createElement(Pa.Text,{onPress:p.onCopyControl},p.props.model.key)),q.a.createElement(Lo.TouchableOpacity,{style:Wo.controlBar.iconTouchable},q.a.createElement(Ji,{onDrop:i,context:Va},q.a.createElement(Lo.Image,{source:{uri:"/images/dwkitbuilder-move.svg"},style:Wo.controlBar.icon}))),q.a.createElement(Lo.TouchableOpacity,{style:Wo.controlBar.iconTouchable,onPress:p.props.onEdit.bind(p.props.parent,p.props.model)},q.a.createElement(Lo.Image,{source:{uri:"/images/dwkitbuilder-edit.svg"},style:Wo.controlBar.icon})),q.a.createElement(Lo.TouchableOpacity,{style:Wo.controlBar.iconTouchable,onPress:p.props.onCopy.bind(p.props.parent,p.props.model)},q.a.createElement(Lo.Image,{source:{uri:"/images/dwkitbuilder-copy.svg"},style:Wo.controlBar.icon})),q.a.createElement(Lo.TouchableOpacity,{style:Wo.controlBar.iconTouchable,onPress:p.props.onDelete.bind(p.props.parent,p.props.model)},q.a.createElement(Lo.Image,{source:{uri:"/images/dwkitbuilder-delete.svg"},style:Wo.controlBar.icon})))};return[q.a.createElement(Lo.View,{style:[Wo.controlWrapper,n?Wo.controlWrapperHovered:void 0],ref:function(e){p.me.controlRef=e}},q.a.cloneElement(p.props.control)),q.a.createElement(ql.Hoverable,null,e)]})}function Wl(e){return(Wl="function"==typeof Symbol&&"symbol"==Pu(Symbol.iterator)?function(e){return Pu(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":Pu(e)})(e)}function Gl(){return(Gl=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r,n=arguments[t];for(r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Kl(t,e){var r,n=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)),n}function $l(n){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?Kl(Object(o),!0).forEach(function(e){var t,r=n;e=o[t=e],t in r?Object.defineProperty(r,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):r[t]=e}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(o)):Kl(Object(o)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(o,e))})}return n}function Jl(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Yl(e,t){return(Yl=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Xl(e){return(Xl=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}d("control-bar",function(e){return q.a.createElement(Hl,{options:e})});var Ql=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Yl(e,t)}(o,c.Component);var e,r,n,t=(r=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,t=Xl(r);return function(e,t){if(t&&("object"===Wl(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}()}(this,n?(e=Xl(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments))});function o(e){return function(e){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this),(e=t.call(this,e)).state={focused:!1},e}return e=[{key:"onFocus",value:function(){this.setState({focused:!0})}},{key:"onBlur",value:function(){this.setState({focused:!1})}},{key:"render",value:function(){var e=this.state.focused&&!this.props.disabled?Wo.dwKitFocusedInputProps:{},t=this.props.disabled?Wo.dwKitDisabledInputProps:{};return(e=$l($l($l($l($l({},this.props),Wo.dwKitInputProps),e),t),{},{disabled:this.props.disabled||this.props.readOnly})).onChange&&(e.onChangeText=e.onChange,delete e.onChange),this.props.error&&(e.status="danger"),"number"!=this.props.type?q.a.createElement(Bo.Input,Gl({onFocus:this.onFocus.bind(this),onBlur:this.onBlur.bind(this)},e)):("number"==typeof(t=e.value)&&(t=Number(t).toString()),e.keyboardType&&"default"!=e.keyboardType||(e.keyboardType="decimal-pad"),q.a.createElement(Bo.Input,Gl({onFocus:this.onFocus.bind(this),onBlur:this.onBlur.bind(this),textStyle:{textAlign:"right"}},e,{value:t})))}}],Jl(o.prototype,e),o}(),Zl=r(18),es=r.n(Zl);function ts(t,e){var r,n=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)),n}function rs(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?ts(Object(r),!0).forEach(function(e){cs(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ts(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}function ns(){return(ns=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r,n=arguments[t];for(r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function os(e){return(os="function"==typeof Symbol&&"symbol"==Pu(Symbol.iterator)?function(e){return Pu(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":Pu(e)})(e)}function is(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function as(e,t){return(as=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ls(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ss(e){return(ss=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function cs(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var us=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&as(e,t)}(i,q.a.Component);var e,r,n,o=(r=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,t=ss(r);return function(e,t){if(t&&("object"===os(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return ls(e)}(this,n?(e=ss(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments))});function i(e){var t;return function(e){if(!(e instanceof i))throw new TypeError("Cannot call a class as a function")}(this),cs(ls(t=o.call(this,e)),"convertCurrentValue",function(){var e=t.props;if(e.value)return e.datePickerProps&&e.datePickerProps.dateFormat?Be()(e.value).format(e.datePickerProps.dateFormat):Be()(e.value).format("YYYY-MM-DD")}),t.state={isDatePickerVisible:!1},t}return e=[{key:"render",value:function(){function t(){n.props.disabled||n.props.readOnly||n.setState({isDatePickerVisible:!0})}function r(e){a(),n.props.disabled||n.props.readOnly||n.props.onValueChange&&n.props.onValueChange(e)}var n=this,e=this.state.isDatePickerVisible,o=this.props,i=Wo.controlParams(o),a=function(){n.setState({isDatePickerVisible:!1})},l=o.value,s=new Date;return"[object Date]"!==Object.prototype.toString.call(l)&&(l=null==l||""==l?s:"object"==os(l)?Be()(l).toDate():"string"==typeof l&&(l=Be()(l))&&l.isValid()?l.toDate():s),q.a.createElement(Lo.View,null,q.a.createElement(Lo.TouchableOpacity,{onPress:t,accessible:!1},q.a.createElement(Ql,ns({},o,{onFocus:function(){Lo.Keyboard.dismiss(),t()},value:o.value?this.convertCurrentValue():void 0,style:[o.style,{display:"flex"},i.style],textStyle:{color:"black"},accessoryRight:function(e){return n.props.disabled||n.props.readOnly?q.a.createElement(Lo.View,null):q.a.createElement(Lo.View,{style:{display:"flex",flexWrap:"wrap",flexDirection:"row"}},q.a.createElement(Lo.TouchableOpacity,{onPress:t,accessible:!1},q.a.createElement(Bo.Icon,ns({},e,{name:"calendar-outline"}))),q.a.createElement(Lo.TouchableOpacity,{onPress:function(){return r(null)},accessible:!1},q.a.createElement(Bo.Icon,ns({},e,{name:"close-circle-outline"}))))}}))),q.a.createElement(es.a,{date:l,isVisible:e,mode:o.type,onConfirm:r,onCancel:a}))}}],is(i.prototype,e),i}();function ps(t,e){var r,n=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)),n}function fs(n){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?ps(Object(o),!0).forEach(function(e){var t,r=n;e=o[t=e],t in r?Object.defineProperty(r,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):r[t]=e}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(o)):ps(Object(o)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(o,e))})}return n}function ds(t,e){var r,n=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)),n}function hs(n){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?ds(Object(o),!0).forEach(function(e){var t,r=n;e=o[t=e],t in r?Object.defineProperty(r,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):r[t]=e}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(o)):ds(Object(o)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(o,e))})}return n}function ys(e){return(ys="function"==typeof Symbol&&"symbol"==Pu(Symbol.iterator)?function(e){return Pu(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":Pu(e)})(e)}function ms(t,e){var r,n=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)),n}function vs(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?ms(Object(r),!0).forEach(function(e){Os(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ms(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}function bs(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function gs(e,t){return(gs=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ws(e){return(ws=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Os(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}d("date-picker",function(e){var t=rs(rs({},e.props),{},{status:e.props.error?"danger":void 0}),r=e.props.onChange||e.props.onValueChange;return r&&(t.onValueChange=function(e){return r(e,{name:t.name,value:e})},delete e.props.onChange),e.props.isForm||(t["data-buildertype"]=e.props.type),Lo.Platform.select({native:function(){return q.a.createElement(us,ns({},t,{datePickerProps:e.datePickerProps}))},default:function(){return q.a.createElement(Ql,ns({type:e.type,value:e.date},t,{placeholder:"Time/Date picker shows only on mobile device"}))}})()}),d("dictionary",function(t){var e=Wo.controlParams(t.propsControl),r=fs(fs({},t.propsControl),{},{style:[t.propsControl.style,e.style]});return t.propsControl.onChange&&(r.onValueChange=function(e){return t.propsControl.onChange(null,{name:r.name,value:e})}),delete r.onChange,q.a.createElement(si,r)}),d("dropdown",function(t){var e=Wo.controlParams(t.propsControl),r=hs(hs({},t.propsControl),{},{style:[t.propsControl.style,e.style]});return t.propsControl.onChange&&(r.onValueChange=function(e){return t.propsControl.onChange(null,{name:r.name,value:e})}),delete r.onChange,q.a.createElement(si,r)}),d("dropzone",function(e){return e.props.readOnly?q.a.createElement(Lo.View,null):q.a.createElement(Lo.View,null,q.a.createElement(Pa.Text,null,"dropzone"))});var Cs=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&gs(e,t)}(o,c.Component);var e,r,n,t=(r=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,t=ws(r);return function(e,t){if(t&&("object"===ys(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}()}(this,n?(e=ws(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments))});function o(){return function(e){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this),t.apply(this,arguments)}return e=[{key:"render",value:function(){if(!this.props.visible)return null;var e=vs(vs({},Wo.dwKitModalOverlayProps),{},{isVisible:this.props.visible,onRequestClose:this.props.onClose,onBackdropPress:this.props.onClose});return q.a.createElement(Pa.Overlay,e,q.a.createElement(Lo.View,{style:Wo.dwKitModalBody},this.props.children))}}],bs(o.prototype,e),o}();function Ss(t,e){var r,n=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)),n}function Es(n){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?Ss(Object(o),!0).forEach(function(e){var t,r=n;e=o[t=e],t in r?Object.defineProperty(r,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):r[t]=e}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(o)):Ss(Object(o)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(o,e))})}return n}function ks(e){return(e=Es(Es({},Wo.dwKitButtonProps),e)).children=e.title,e.size||(e.size="small"),e.style=Lo.StyleSheet.compose(e.style,Lo.StyleSheet.flatten(Wo.controls.button)),q.a.createElement(Bo.Button,e)}function js(){return(js=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r,n=arguments[t];for(r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function xs(t,e){var r,n=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)),n}function Ps(n){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?xs(Object(o),!0).forEach(function(e){var t,r=n;e=o[t=e],t in r?Object.defineProperty(r,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):r[t]=e}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(o)):xs(Object(o)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(o,e))})}return n}function Ts(){return(Ts=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r,n=arguments[t];for(r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function _s(){return(_s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r,n=arguments[t];for(r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Ds(e){return Lo.Platform.select({native:function(){return q.a.createElement(Lo.TouchableOpacity,_s({},e,{onPress:function(){return Lo.Linking.openURL(e.href)}}))},default:function(){return q.a.createElement("a",_s({},e,{target:e.target,href:e.href,rel:e.rel,onClick:e.onPress}),e.children)}})()}function Rs(){return(Rs=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r,n=arguments[t];for(r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Fs(t,e){var r,n=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)),n}function As(n){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?Fs(Object(o),!0).forEach(function(e){var t,r=n;e=o[t=e],t in r?Object.defineProperty(r,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):r[t]=e}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(o)):Fs(Object(o)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(o,e))})}return n}function Is(){return(Is=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r,n=arguments[t];for(r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}Os(Cs,"Header",function(e){return q.a.createElement(Lo.View,{style:Wo.dwKitModalHeader},e.children)}),Os(Cs,"Content",function(e){return q.a.createElement(Lo.View,{style:Wo.dwKitModalContent},e.children)}),Os(Cs,"Actions",function(e){return q.a.createElement(Ja,{style:Wo.dwKitModalActions},e.children)}),d("edit-form",function(e){if(fe(e.state.item))return q.a.createElement(Lo.View,null);var t=e.dwKitControls.getEditControlByType(e.state.item["data-buildertype"],e.props.externalControlList);if(!t)return o="Close",de(e.props.localization)&&(o=e.props.localization.base.closebutton),q.a.createElement(Cs,{visible:e.state.open,onClose:e.onClose},q.a.createElement(Cs.Header,null,q.a.createElement(Pa.Text,null,"Error")),q.a.createElement(Cs.Content,null,q.a.createElement(Pa.Text,null,"EditForm is not found for this control!")),q.a.createElement(Cs.Actions,null,q.a.createElement(ks,{onPress:e.onClose,title:o})));var r="OK",n="Cancel",o="Question";return de(e.props.localization)&&(r=e.props.localization.base.okbutton,n=e.props.localization.base.cancelbutton,o=e.props.localization.base.questiontitle),q.a.createElement(Lo.View,null,q.a.createElement(t,{key:"editform",data:e.state.item,parent:e.parent,open:e.state.open,onSave:e.onSave,onClose:e.onClose,actions:e.props.actions,localization:e.props.localization}),q.a.createElement(Cs,{visible:e.state.confirm,onClose:e.confirmHandleCancel},q.a.createElement(Cs.Header,null,q.a.createElement(Pa.Text,null,o)),q.a.createElement(Cs.Content,null,q.a.createElement(Pa.Text,null,e.state.confirmtext)),q.a.createElement(Cs.Actions,null,q.a.createElement(ks,{onPress:e.state.confirmHandle,title:r}),q.a.createElement(ks,{onPress:e.confirmHandleCancel,title:n,appearance:"outline"}))))}),d("empty",function(e){return q.a.createElement(Lo.View,{key:e.key,style:Wo.emptyView},q.a.createElement(Lo.Text,{style:Wo.emptyText},e.text))}),d("events-editor",function(a){function l(r,n){return function(e){var t=a.me.props.data[r];fe(t)&&(a.me.props.data[r]=t={}),t[n]=e,de(a.me.props.onChange)&&a.me.props.onChange(n)(e)}}var e=a.props.data,t=a.props.events,s=[];return t.forEach(function(t){var r,n=de(e)?e[t]:void 0,o={element:si,props:{className:"dwkit-action-dropdown",multiple:!0}},i={element:De,props:{className:"parameters-editor",style:{marginRight:40,marginTop:-20}}};s.push(q.a.createElement(Lo.View,{key:t+"_events"},q.a.createElement(Jo,{width:3,key:"active",label:q.a.createElement(Bo.Text,n.active?{category:"label",style:{fontSize:14}}:{},t),name:"active",checked:n.active,onChange:(r=t,function(e){var t=a.me.props.data[r];fe(t)&&(a.me.props.data[r]=t={}),de(t.active=e)&&(t.active=e),de(a.me.props.onChange)&&a.me.props.onChange("active")(e)})}),n.active&&q.a.createElement(Lo.View,{key:"divGroup",style:[Wo.formGroupEqual,{flexDirection:"column",marginBottom:30,marginLeft:15}]},q.a.createElement(De,{draggable:!0,columns:[{key:"actions",name:"Actions",control:"custom",customControl:o.element,style:Wo.eventsEditor.actions,customControlGetPropsFunc:function(e){return Ps({options:a.actionOptions,value:e.actions,onValueChange:l(t,"actions",n.actions)},o.props)}},{key:"parameters",name:"Parameters",control:"custom",customControl:i.element,style:Wo.eventsEditor.parameters,customControlGetPropsFunc:function(e){return Ps({value:e.parameters,columns:[{key:"name",name:"Name"},{key:"value",name:"Value"}],onValueChange:l(t,"parameters",n.parameters)},i.props)}},{key:"targets",name:"Targets",control:"custom",customControl:o.element,style:Wo.eventsEditor.targets,customControlGetPropsFunc:function(e){return Ps({options:a.targetOptions,value:e.targets,onValueChange:l(t,"targets",n.targets)},o.props)}}],name:"triggers",disableAdd:!0,style:{flexShrink:1},value:n.triggers,onChange:a.me.handleChange.bind(a.me,t)}),q.a.createElement(Bo.Button,js({onPress:function(){a.me.initNewTrigger.call(a.me,t),a.me.forceUpdate()}},Wo.eventsEditor.addButton),q.a.createElement(Bo.Text,{category:"label",style:{fontSize:18}},"+")))))}),q.a.createElement(Lo.View,null,s)}),d("form",function(e){pi(e.propsControl);var t={formSize:e.model.size},r=e.propsControl;return r.style=[Wo.containerView.base,r.style],q.a.createElement(Vl,null,q.a.createElement(ga.Provider,{value:t},q.a.createElement(Lo.View,Ts({},r,{children:e.children}))))}),d("formgroup",function(e){var t=e.propsControl;t.style.flexDirection="grouped"===e.orientation?"column":"row",t.style=[Wo.containerView.base,t.style],pi(e.propsControl);var r="custom"===e.widths&&e.widthsCustom&&1<=e.widthsCustom&&e.widthsCustom<=16?Wo.formGroupWidthCustom[e.widthsCustom].style:Wo.formGroupWidthEqual,n="grouped"!==e.orientation;return q.a.createElement(Vl,null,q.a.createElement(ba.Provider,{value:{formWidthStyle:r,isColumn:n}},q.a.createElement(n?Ja:Ya,t,e.children)))}),d("header",function(e){var t={fontSize:ui(e.model.size,24),textAlign:e.model.textAlign},r={fontSize:ui(e.model.size,24)/1.4,textAlign:e.model.textAlign};return q.a.createElement(Lo.View,null,q.a.createElement(Bo.Text,{style:t,category:"h1"},e.props.content),q.a.createElement(Bo.Text,{style:r,category:"h6"},e.props.subheader))}),d("image",function(e){var t={width:e.props.style.width,height:e.props.style.height},r=!0===e.model.avatar?{width:28,height:28,borderRadius:"500rem"}:{},n=!0===e.model.bordered?{borderWidth:1,borderColor:"lightgrey"}:{},o=e.props.src;o&&"/"==o[0]&&window.DWKitApp&&window.DWKitApp.backendUrl&&(o=window.DWKitApp.backendUrl+o);var i=void 0;return delete(o=As(As({},e.propsControl),{},{source:{uri:o}})).src,i=q.a.createElement(Pa.Image,Rs({},o,{style:[o.style,r],containerStyle:[t,o.containerStyle,r,n]})),e.props.href&&(i=q.a.createElement(Ds,{href:e.props.href},i)),n={flexDirection:"row",flexGrow:1,justifyContent:"center"},"left"===e.model.floated&&(n.justifyContent="flex-start"),"right"===e.model.floated&&(n.justifyContent="flex-end"),"top"===e.model.verticalAlign&&(n.alignItems="flex-start"),"middle"===e.model.verticalAlign&&(n.alignItems="center"),"bottom"===e.model.verticalAlign&&(n.alignItems="flex-end"),q.a.createElement(Lo.View,{style:n},i)}),d("input",function(n){var t;return n.propsControl.onChange&&(t=n.propsControl.onChange,n.propsControl.onChange=function(e){return t(e,{name:n.propsControl.name,value:e})}),q.a.createElement(ba.Consumer,null,function(e){var r=e.formWidthStyle;return q.a.createElement(ga.Consumer,null,function(e){return e=e.formSize,t=r,e=e,q.a.createElement(Lo.View,{style:[{flexGrow:1},t]},(t=e,e=Wo.controlParams(n.propsControl),n.propsControl.style=[e.style,n.propsControl.style],n.propsControl.keyboardType=n.props.additionalParams.model.keyboardType,t&&(n.propsControl.size=t),n.propsControl.onChange&&(n.propsControl.onChangeText=n.propsControl.onChange,n.propsControl.onValueChange=n.propsControl.onChange,delete n.propsControl.onChange),"file"===n.propsControl.type?(n.propsControl.isForm=n.isForm,q.a.createElement(In,Is({},n.propsControl,{downloadUrl:n.props.additionalParams.downloadUrl,uploadUrl:n.props.additionalParams.uploadUrl}))):"date"===n.propsControl.type||"time"===n.propsControl.type||"datetime"===n.propsControl.type?(n.propsControl.isForm=n.isForm,q.a.createElement($e,n.propsControl)):"number"!==n.propsControl.type?("password"===n.propsControl.type&&(n.propsControl.secureTextEntry=!0),q.a.createElement(Ql,Is({label:n.propsControl.label},n.propsControl))):(t=Number.isInteger(n.propsControl.value)?n.propsControl.value.toString():n.propsControl.value,q.a.createElement(Ql,Is({label:n.propsControl.label},n.propsControl,{value:t})))));var t})})});var Ns=r(19),Ls=r.n(Ns);function Bs(e){var t=Lo.StyleSheet.create({a:{fontWeight:"300",color:"#FF3366"}});return q.a.createElement(Ls.a,{html:e.content,stylesheet:t})}function Ms(e){return{element:e}}function Vs(e){return q.a.createElement(Pa.Text,e)}function Us(e){var t=!0===e.active?{fontWeight:"600"}:{};return q.a.createElement(Lo.View,e,q.a.createElement(Pa.Text,{style:[e.style,t]},e.label),e.children)}function qs(e){return q.a.createElement(Pa.ButtonGroup,e)}d("menu-group",function(u){var e,t={};for(e in u.props)"data-items"!==e&&"activeItem"!==e&&"handleEvent"!==e&&"link"!==e&&(t[e]=u.props[e]);return t.buttons=function a(l,s){var c=[];fe(s)&&(s="");for(var e=0;e<l.length;e++)!function(e){var t=l[e];if(de(t.visibleCondition)&&null!==t.visibleCondition&&""!==t.visibleCondition){var r="return "+t.visibleCondition;try{if(!new Function("",r)())return}catch(e){}}var n,o=String(s)+String(e),i=q.a.createElement(Bs,{content:t.title});Array.isArray(t.children)&&0<t.children.length?c.push(Ms(function(){return q.a.createElement(Us,{key:o},q.a.createElement(Vs,null,i),q.a.createElement(qs,{buttons:a(t.children,o+"_")}))})):(n=u.props.link?q.a.createElement(Ds,{style:{color:"inherit"},href:t.target,onPress:u.handleItemClick2.bind(u.me,{name:t.target})},i):i,u.props.link?c.push(Ms(function(){return q.a.createElement(Us,{key:o,name:t.target,active:u.state.activeitem===t.target},n)})):c.push(Ms(function(){return q.a.createElement(Us,{key:o,name:t.target,active:u.state.activeitem===t.target,onPress:u.handleItemClick},n)})))}(e);return c}(u.items),q.a.createElement(Pa.ButtonGroup,t)});var zs=Lo.StyleSheet.create({headerContainerStyle:{flexDirection:"row",marginTop:20},contentContainerStyle:{flexDirection:"row",marginVertical:10}});d("message",function(e){var t,r={fontSize:ui(e.model.size,24)},n={fontSize:ui(e.model.size,24)/1.4};!0!==e.model.error&&!0!==e.model.negative||(t="danger"),!0!==e.model.success&&!0!==e.model.positive||(t="success"),!0===e.model.info&&(t="info"),!0===e.model.warning&&(t="warning");var o=Wo.controlParams(e.propsControl);return e.propsControl.style=[o.style,e.propsControl.style],q.a.createElement(Bo.Card,{style:[e.propsControl.style],status:t},q.a.createElement(Lo.View,e.propsControl,q.a.createElement(Bo.Text,{style:r,category:"h6"},e.props.header),q.a.createElement(Bo.Text,{style:[zs.contentStyle,n],category:"s1"},e.props.content)))}),d("null-control",function(e){var t=""+e["data-buildertype"];return q.a.createElement(Pa.Text,{style:{color:"red",fontSize:24}},e.text," null-control ",t)});var Hs=r(20),Ws=r.n(Hs);function Gs(e){return(Gs="function"==typeof Symbol&&"symbol"==Pu(Symbol.iterator)?function(e){return Pu(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":Pu(e)})(e)}function Ks(t,e){var r,n=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)),n}function $s(n){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?Ks(Object(o),!0).forEach(function(e){var t,r=n;e=o[t=e],t in r?Object.defineProperty(r,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):r[t]=e}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(o)):Ks(Object(o)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(o,e))})}return n}function Js(){return(Js=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r,n=arguments[t];for(r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Ys(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Xs(e,t){return(Xs=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Qs(e){return(Qs=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Zs=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Xs(e,t)}(o,q.a.Component);var e,r,n,t=(r=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,t=Qs(r);return function(e,t){if(t&&("object"===Gs(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}()}(this,n?(e=Qs(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments))});function o(e){return function(e){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this),(e=t.call(this,e)).state={value:""},e}return e=[{key:"render",value:function(){var t=this,e=[this.props,this.state],r=e[0],n=e[1];return q.a.createElement(Ws.a,Js({},r,{displayType:"text",renderText:function(e){return n.value.endsWith(".")&&!e.includes(".")&&(e+="."),!n.value.endsWith(".")&&e.endsWith(".")&&(e=e.slice(0,-1)),q.a.createElement(Ql,Js({},r,{onChangeText:function(e){return t.setState({value:e})},keyboardType:r.keyboardType||"number-pad",placeholder:r.placeholder,value:e}))},value:n.value}))}}],Ys(o.prototype,e),o}();function ec(t){var e=t.selectedIndex;fe(e)&&(e=de(t.selectedValue)?t.items.findIndex(function(e){return e.value===t.selectedValue}):t.items.findIndex(function(e){return!e.value}));var r=t.items.map(function(e){return q.a.createElement(Bo.Radio,{status:t.error?"danger":void 0,children:e.label||e.text})});return q.a.createElement(Lo.View,{style:[Wo.dwKitRadioGroup.containerStyle,{paddingLeft:0,marginBottom:0}]},t.label&&q.a.createElement(di,null,t.label),q.a.createElement(Bo.RadioGroup,{disabled:t.readonly,onChange:function(e){t.onChange(t.items[e].value)},selectedIndex:e,style:t.style},r))}function tc(){return(tc=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r,n=arguments[t];for(r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function rc(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function nc(e){var t,r,n=e.options.trigger,t=(t=q.a.useState(!1),r=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i=[],a=!0,l=!1;try{for(r=r.call(e);!(a=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);a=!0);}catch(e){l=!0,o=e}finally{try{a||null==r.return||r.return()}finally{if(l)throw o}}return i}}(t,r)||function(e,t){if(e){if("string"==typeof e)return rc(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(r="Object"===r&&e.constructor?e.constructor.name:r)||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?rc(e,t):void 0}}(t,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),r=t[0],o=t[1];return q.a.createElement(Bo.Tooltip,tc({},e,{onBackdropPress:function(){return o(!1)},visible:r,anchor:"button"===n.props["data-buildertype"]?function(){return q.a.cloneElement(n,{onClick:function(){return o(!0)}})}:function(){return q.a.createElement(Lo.TouchableWithoutFeedback,{onPress:function(){return o(!0)}},n)}}))}function oc(){return(oc=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r,n=arguments[t];for(r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function ic(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ac(){return(ac=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r,n=arguments[t];for(r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function lc(){return(lc=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r,n=arguments[t];for(r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function sc(e){return(sc="function"==typeof Symbol&&"symbol"==Pu(Symbol.iterator)?function(e){return Pu(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":Pu(e)})(e)}function cc(){return(cc=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r,n=arguments[t];for(r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function uc(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function pc(e,t){return(pc=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function fc(e){return(fc=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}d("number-format",function(e){var t=$s($s({},e.propsControl),{},{status:e.propsControl.error?"danger":void 0});return(e.propsControl.onChange||e.propsControl.onValueChange)&&(t.onValueChange=e.propsControl.onChange||e.propsControl.onValueChange,delete e.propsControl.onChange),delete t.type,q.a.createElement(Zs,t)}),d("radio-group",function(t){var e="v"===t.props.direction;return q.a.createElement(Lo.View,null,q.a.createElement(di,null,t.props.label),q.a.createElement(ec,{error:t.props.error,style:t.props.style,vertical:e,items:t.props.items,disabled:t.props.readOnly,name:t.props.name,onChange:function(e){t.onChange(void 0,{name:t.props.name,value:e})},selectedValue:t.props.value,values:t.props.items}))}),d("popup",function(e){return q.a.createElement(nc,{options:e,style:Wo.controls.tooltip.container,placement:e.popupPosition,children:q.a.createElement(Lo.View,null,q.a.createElement(Bo.Text,{category:"s1",status:"control",style:Wo.controls.tooltip.title},e.header),q.a.createElement(Bo.Text,{status:"control"},e.content))})}),d("repeater",function(a){function r(e,t,r){if(!a.props.controlProps.buildermode&&""!==a.props["item-visibleCondition"]&&void 0!==a.props["item-visibleCondition"]&&null!==a.props["item-visibleCondition"]){var n="return "+a.props["item-visibleCondition"];try{if(!new Function("data",n)(t))return}catch(e){return}}var o=void 0,i=a.props.controlProps.createBuilderDropzone;return de(a.props.placeholders)&&Array.isArray(a.props.placeholders[a.psTemplate])&&0<a.props.placeholders[a.psTemplate].length?de(n=a.props.placeholders[a.psTemplate])&&(o=q.a.createElement(Vr,{key:e,parent:a.me,model:n,psTemplate:a.psTemplate,item:t,controlProps:a.props.controlProps,includeDropzone:r,errors:Array.isArray(a.props.error)?a.props.error[e]:void 0,index:e,handleChange:a.handleChange,data:a.props.data,parentItem:a.props.model})):r&&i&&(o=i("repeater_dropzone_footer",a.props.model.key,void 0,void 0,a.psTemplate)),o}if(a.isServerMode&&a.state.firstLoad)return a.state.firstLoad=!1,a.loadNextPage(),q.a.createElement(Lo.View,{style:a.props.style},a.state.loading&&q.a.createElement(Lo.ActivityIndicator,null));var e,t,n,o,i,l=a.props.style;return a.props.childrenView&&(l=Lo.StyleSheet.compose(a.props.style,Lo.StyleSheet.flatten(Wo.containerView[a.props.childrenView]))),q.a.createElement(Lo.View,{style:l},(e=a.state.items,t=a.state.rowsCount,o=a.me,i=[],l=[a.props.slider?Wo.repeater.container.horizontal:Wo.repeater.container.vertical],a.props.style&&l.push(a.props.style),Array.isArray(e)&&0<e.length?i.push(q.a.createElement(Lo.FlatList,{data:e,horizontal:a.props.slider,style:l,renderItem:function(e){var t=e.index;return r(t,e=e.item,!t&&o.props.controlProps.buildermode)},keyExtractor:function(e,t){return t}})):a.props.controlProps.buildermode?de(n=r(0,{},!0))&&i.push(n):!a.state.loading&&a.isServerMode&&(!fe(n=a.props.noRecordsLabel)&&""!==n||(n="No records. Refresh..."),n=q.a.createElement(Lo.View,{key:"norecords"},q.a.createElement(ks,{onPress:function(){a.state.firstLoad=!0,a.loadNextPage()},title:n})),i.push(n)),!a.state.loading&&a.isServerMode&&t>e.length&&0<e.length&&(!fe(e=a.props.loadButtonLabel)&&""!==e||(e="Load more..."),l.height=l.height+40,e=q.a.createElement(Lo.View,{key:"loadmore"},q.a.createElement(ks,{onPress:a.loadNextPage,title:e})),i.push(e)),q.a.createElement(Vl,null,i)),a.state.loading&&q.a.createElement(Lo.ActivityIndicator,null))}),d("search",function(i){function a(e){var t=[];if(!e)return t;var r,n=function(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e){if(e){if("string"==typeof e)return ic(e,void 0);var t=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(t="Object"===t&&e.constructor?e.constructor.name:t)||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?ic(e,void 0):void 0}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0;return{s:t=function(){},n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:t}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,a=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return i=e.done,e},e:function(e){a=!0,o=e},f:function(){try{i||null==r.return||r.return()}finally{if(a)throw o}}}}(e);try{for(n.s();!(r=n.n()).done;){var o=r.value;t.push({item:o,title:o.title})}}catch(e){n.e(e)}finally{n.f()}return t}return q.a.createElement(Lo.View,null,q.a.createElement(Pa.SearchBar,oc({},i.controlProps,{showLoading:i.state.isLoading,onChangeText:function(e){return i.handleSearchChange(null,{value:e})},value:i.state.value})),q.a.createElement(Lo.View,null,function(){if(!fe(i.state.results)&&null!==i.state.results){var e=function(e){if(!0!==i.controlProps.category)return[{title:"",separator:{title:"Search results"},data:a(e)}];var t,r,n,o=[];for(t in e)e.hasOwnProperty(t)&&(n=a((r=e[t]).results),o.push({title:r.name,separator:r,data:n}));return o}(i.state.results);return q.a.createElement(Lo.SectionList,{sections:e,keyExtractor:function(e,t){return e+t},renderItem:function(e){return e=e.item.item,q.a.createElement(Lo.View,null,q.a.createElement(Pa.Text,{style:{fontWeight:"500"}},e.title),q.a.createElement(Pa.Text,null,e.description),q.a.createElement(Pa.Image,{source:{uri:e.image},style:{width:32,height:32}}),q.a.createElement(Pa.Text,null,e.price))},renderSectionHeader:function(e){return q.a.createElement(Pa.Text,{h4:!0},e.section.title)}})}}()))}),d("static-content",function(e){var t=de(e.props.content)?e.props.content.replace("\n","<br/>"):void 0;return t?(pi(e.spanProps),e.props.isHtml?q.a.createElement(Bs,ac({},e.spanProps,{content:e.props.content})):q.a.createElement(Bo.Text,e.spanProps,t)):null}),d("statistic",function(n){var e=[];n.items&&(e=n.items.map(function(e){return t=e,r={fontSize:ui(n.model.size,24)/1.4},e={fontSize:ui(n.model.size,24)},q.a.createElement(Lo.View,{style:{margin:10}},q.a.createElement(Bo.Text,{style:e,category:"label"},t.value),q.a.createElement(Bo.Text,{style:r,category:"label",appearance:"hint"},t.label));var t,r}));var t=!0!==n.model.horizontal?{flexDirection:"row"}:{};return q.a.createElement(Lo.View,lc({},n.propsControl,{style:[n.propsControl.style,t]}),e)});var dc=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&pc(e,t)}(i,c.Component);var e,r,n,o=(r=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,t=fc(r);return function(e,t){if(t&&("object"===sc(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}()}(this,n?(e=fc(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments))});function i(e){var t;return function(e){if(!(e instanceof i))throw new TypeError("Cannot call a class as a function")}(this),(t=o.call(this,e)).state={selectedIndex:e.activeitem||0},t}return e=[{key:"onTabChange",value:function(e){this.setState({selectedIndex:e}),this.props.onTabChange(null,{activeIndex:e})}},{key:"render",value:function(){var e="top"===this.props.model.position?Bo.TabBar:Bo.BottomNavigation,t="top"===this.props.model.position?Bo.Tab:Bo.BottomNavigationTab,r=q.a.createElement(e,{selectedIndex:this.state.selectedIndex,onSelect:this.onTabChange.bind(this)},this.props.panes.map(function(e){return q.a.createElement(t,{title:e.menuItem})})),e=this.props.panes[this.state.selectedIndex].pane,e=q.a.createElement(Lo.View,{key:e.key},e.content);return q.a.createElement(Vl,null,q.a.createElement(Lo.View,{style:this.props.style},"top"===this.props.model.position?[r,e]:[e,r]))}}],uc(i.prototype,e),i}();function hc(){return(hc=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r,n=arguments[t];for(r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function yc(){return(yc=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r,n=arguments[t];for(r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function mc(){return(mc=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r,n=arguments[t];for(r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function vc(){!function(e){if(!(e instanceof vc))throw new TypeError("Cannot call a class as a function")}(this)}function bc(e){return(bc="function"==typeof Symbol&&"symbol"==Pu(Symbol.iterator)?function(e){return Pu(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":Pu(e)})(e)}function gc(e,t){return(gc=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function wc(e){return(wc=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Oc(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Cc(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Sc(e,t,r){return t&&Cc(e.prototype,t),r&&Cc(e,r),e}function Ec(e,t,r,n){return{key:e,defaultValue:t,formName:r,value:n}}d("tab-group",function(e){return q.a.createElement(dc,cc({},e.props,{panes:e.panes,onTabChange:e.onTabChange}))}),d("textarea",function(t){var e={multiline:!0,numberOfLines:t.propsControl.rows||3,disabled:t.propsControl.readOnly,onChange:function(e){return t.propsControl.onChange(e,{name:t.propsControl.name,value:e})},value:t.propsControl.value,placeholder:t.propsControl.placeholder,style:{marginTop:7},error:t.propsControl.error,keyboardType:t.props.additionalParams.model.keyboardType};return q.a.createElement(Ql,hc({label:t.propsControl.label},e))}),d("upload",function(i){var e,t,r=i.props.type,n=[],o=i.props.value;return de(o)&&null!=o&&""!==o?(e="Download",t="Clear",de(o=function(){if(window.DWKitAdminLang&&window.DWKitAdminLang.button)return window.DWKitAdminLang.button}())&&(e=o.download,t=o.clear),o=i.props.disabled||i.props.disabled||i.props.hideClearButton,n.push(q.a.createElement(Lo.TouchableOpacity,{key:"download",onPress:function(e){e.preventDefault();var e=i.props.value,o=new XMLHttpRequest;o.open("POST",i.props.downloadUrl+e,!0),o.responseType="arraybuffer",o.onload=function(){var e,t=i.getCustomFileName();t||!(e=o.getResponseHeader("Content-Disposition"))||-1===e.indexOf("attachment")||(r=/filename[^;=\n]*=((['"]).*?\2|[^;\n]*)/.exec(e))&&r[1]&&(t=r[1].replace(/['"]/g,""));var r=(r=i.getCustomContentType())||o.getResponseHeader("Content-Type"),n=document.createElement("a");n.setAttribute("href",window.URL.createObjectURL(new Blob([o.response],{type:r}))),n.setAttribute("download",t||"unknown"),document.body.appendChild(n),n.onclick=function(){document.body.removeChild(n)},n.click()},o.send(null)}},q.a.createElement(Pa.Text,null,e))),o||(n.push(q.a.createElement(Pa.Text,{key:"sparator"},"Â Â ")),n.push(q.a.createElement(Pa.Button,{key:"clear",onPress:i.onClear,title:t})))):i.props.disabled||i.props.readOnly?n.push(q.a.createElement(Pa.Text,null)):(t=Lo.Platform.select({native:function(){return q.a.createElement(Pa.Text,{h1:!0,style:{color:"red"}},"Implement me!")},default:function(){return q.a.createElement(Pa.Text,null,"This control is unavailable on web.")}}),n.push(t)),q.a.createElement(Lo.View,{"data-buildertype":r},i.props.label&&q.a.createElement(di,null,i.props.label),n)}),d("workflow-bar",function(o){var e=o.props.style,t=o.state.commands||o.props.commands;o.props.selectedScheme&&t&&(t=t.filter(function(e){return e.scheme===o.props.selectedScheme}));var r=o.state.states||o.props.states;return q.a.createElement(Lo.View,{style:e},q.a.createElement(Lo.View,{style:{flexDirection:"row"}},function(){if(o.state.processExists||o.props.blockSelectScheme||o.props.schemes.length<=1)return null;var e,t="Select scheme";o.props.selectSchemeDropdown?t=o.props.selectSchemeDropdown:(e=Ue())&&e.selectscheme&&(t=e.startworkflow);var r=[];return r.push({value:null,text:""}),o.props.schemes.forEach(function(e){return r.push({value:e,text:e})}),q.a.createElement(N,{key:"setstate",name:"setstate",options:r,placeholder:t,onChange:o.selectWorkflowScheme,value:o.props.selectedScheme,style:Wo.layout.elementInRow})}(),function(e){if(o.props.blockCommands)return null;if(!o.props.blockSelectScheme&&!o.props.selectedScheme&&1<o.props.schemes.length)return null;if(Array.isArray(e)&&0<e.length){var r=[];return e.forEach(function(e){var t=Wo.controlParams({floated:"flex-start",primary:1===e.type,secondary:2===e.type});r.push(q.a.createElement(Bo.Button,yc({key:e.value,onPress:o.onCommand.bind(o.me,e),children:e.text,style:[t.style,Wo.layout.elementInRow]},t.props)))}),r}}(t),function(e){if(!o.props.blockSetState&&Array.isArray(e)&&0<e.length){var t=fe(o.state.setstate)||""===o.state.setstate,r="Set state";he(o.props.setStateButton)?r=o.props.setStateButton:(n=Ue())&&(r=n.setstate);var n=Wo.controlParams({floated:"flex-start"});return[q.a.createElement(N,{key:"setstate",name:"setstate",placeholder:"States",options:e,onChange:o.handleChanged,style:Wo.layout.elementInRow}),q.a.createElement(Bo.Button,yc({key:"btnsetstate",disabled:t,onPress:o.onSetState.bind(o.me),children:r,style:[n.style,Wo.layout.elementInRow]},n.props))]}}(r)))}),d("card",function(e){var t=Lo.StyleSheet.create({topContainer:{margin:10},card:{},footerContainer:{margin:10}}),r={style:[Wo.baseMargin,t.card],onPress:e.propsControls.onClick},n=e.me.renderPanel("extra");return q.a.createElement(Bo.Card,mc({},r,{header:function(){return q.a.createElement(Lo.View,{style:t.topContainer},q.a.createElement(Bo.Text,{category:"h6"},e.props.header),q.a.createElement(Bo.Text,{category:"s1"},e.props.subheader))},footer:function(){return q.a.createElement(Lo.View,{style:t.footerContainer},n)}}),e.me.renderPanel("description"))}),co([].concat([{key:"sepContainers",title:"Containers",isseparate:!0,defaultopen:!0},{key:"container",title:"View",control:Ne},{key:"staticcontent",title:"Static Content",control:hn,defaultValues:{content:"Text..."}},{key:"form",title:"Form",control:tn},{key:"formgroup",title:"Form Group",control:tn,defaultValues:{widths:"equal",orientation:"grouped"}},{key:"tab",title:"Tab",control:On,defaultValues:{position:"top",panes:[{title:"Tab 1",psid:"t1"},{title:"Tab 2",psid:"t2"},{title:"Tab 3",psid:"t3"}]}},{key:"card",title:"Card",control:xn,defaultValues:{header:"Card",subheader:"Description"}},{key:"customblock",title:"Custom block",control:void 0,defaultValues:{sourceType:"form"}},{key:"sepCollection",title:"Collections",isseparate:!0},{key:"collectioneditor",title:"Collection Editor",control:De,defaultValues:{columns:[{key:"Id",name:"ID"},{key:"Title",name:"Title"},{key:"Count",name:"Count"}]}},{key:"repeater",title:"Repeater",control:Tr,defaultValues:{}},{key:"sepControls",title:"Controls",isseparate:!0},{key:"header",title:"Header",control:tn,defaultValues:{content:"Header",size:"medium"}},{key:"input",title:"Input",control:tn,defaultValues:{label:"Input",onChangeTimeout:200,fluid:!0}},{key:"numberformat",title:"Number Format",control:fr,defaultValues:{label:"NumberFormat",onChangeTimeout:200}},{key:"textarea",title:"TextArea",control:tn,defaultValues:{label:"TextArea"}},{key:"dictionary",title:"Dictionary",control:tt,defaultValues:{label:"Dictionary",selection:!0}},{key:"dropdown",title:"Dropdown",control:tn,defaultValues:{label:"Dropdown",selection:!0,fluid:!0,"data-elements":[{value:1,text:"Item 1"},{value:2,text:"Item 2"},{value:3,text:"Item 3"}]}},{key:"checkbox",title:"CheckBox",control:tn,defaultValues:{label:"Checkbox"}},{key:"radiogroup",title:"Radio group",control:gr,defaultValues:{label:"Radio","data-elements":[{value:1,text:"Item 1"},{value:2,text:"Item 2"},{value:3,text:"Item 3"}]}},{key:"button",title:"Button",control:tn,defaultValues:{content:"Button",fluid:!0,floated:"flex-start",basic:!0}},{key:"label",title:"Label",control:tn,defaultValues:{content:"Label"}},{key:"message",title:"Message",control:tn,defaultValues:{header:"Message",content:"Description...",size:"medium",fluid:!0}},{key:"image",title:"Image",control:tn,defaultValues:{src:"/images/unknown.png","style-width":128,"style-height":128}},{key:"camera",title:"Camera",control:pe,defaultValues:{showPreview:!0,compression:.75}},{key:"signature",title:"Signature",control:cn,defaultValues:{showPreview:!0}},{key:"workflowbar",title:"Workflow bar",control:qn,defaultValues:{blockSetState:!0,blockLoadParameters:!0,events:{onCommandClick:{active:!0,actions:["workflowExecuteCommand"]},onSetStateClick:{active:!0,actions:["workflowSetState"]},onSchemeSelected:{active:!0,actions:["workflowSelectScheme"]}}}}]));var kc=(Sc(Dc,[{key:"build",value:function(){return new this.subType(this.name,this.description,this.values)}},{key:"locKey",value:function(e){return this.name+e}},{key:"description",value:function(e){var t=this.locKey("typedescription");return this.description=Ec(t,e,this.locFormName),this}},{key:"withValue",value:function(e,t,r){return fe(this.values)&&(this.values=[]),r=Ec(this.locKey(e),t,this.locFormName,r),this.values.push(r),this}}],[{key:"from",value:function(e){return new Dc(e)}},{key:"enum",value:function(e){return new Dc(e,xc)}}]),Dc),jc=(Sc(_c,[{key:"getDescription",value:function(){return this.description}},{key:"getValues",value:function(){return this.values}}]),_c),xc=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&gc(e,t)}(t,jc);var r,n,e=(r=t,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,t=wc(r);return function(e,t){if(t&&("object"===bc(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}()}(this,n?(e=wc(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments))});function t(){return Oc(this,t),e.apply(this,arguments)}return t}(),Pc=kc.from("any").description("any").build(),Tc=kc.from("array").description("array of values").build(),t=kc.enum("bool").description("true or false").withValue("default","Default").withValue("true","True",!0).withValue("false","False",!0).build(),me=kc.from("color").description("red|green|rgba(10,20,30,0.5)").build(),be=kc.from("component").description("react component").build(),we=kc.from("function").build(),Le=kc.from("number").description("any number").build(),Ur=kc.from("object").description("any object").build(),zn=kc.from("string").description("any string").build(),Wn=kc.from("style").description("/*** Example Code ***/\ncolor:red;\npaddingTop:5;").build();function _c(e,t){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:[];Oc(this,_c),this.name=e,this.description=t,this.values=r}function Dc(e,t){Oc(this,Dc),this.name=e,this.locFormName="_"+this.name+"Type",this.subType=de(t)?t:jc}function Rc(e){return function(e){if(Array.isArray(e))return Ic(e)}(e)||function(){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}()||Ac(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Fc(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=Ac(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0;return{s:t=function(){},n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:t}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,a=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return i=e.done,e},e:function(e){a=!0,o=e},f:function(){try{i||null==r.return||r.return()}finally{if(a)throw o}}}}function Ac(e,t){if(e){if("string"==typeof e)return Ic(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(r="Object"===r&&e.constructor?e.constructor.name:r)||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Ic(e,t):void 0}}function Ic(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Nc(e){var t,r="",n=Fc(e.split(""));try{for(n.s();!(t=n.n()).done;){var o=t.value;o.toUpperCase()===o&&(r+=" "),r+=o}}catch(e){n.e(e)}finally{n.f()}return r.charAt(0).toUpperCase()+r.substr(1)}function Lc(e,t){if(null===t||!(t instanceof jc))throw new Error("name "+e+" "+t);return{name:e,type:t,defaultLabel:Nc(e)}}function Bc(e,t,r){if(null===t||!(t instanceof jc))throw new Error("name "+e+" "+t);return{name:e,type:t,defaultValue:r,defaultLabel:Nc(e)}}function Mc(e){var t,r={},n={},o=Fc(e.propertyTypes);try{for(o.s();!(t=o.n()).done;){var i=t.value;de((r[i.name]=i).defaultValue)&&(n[i.name]=i.defaultValue)}}catch(e){o.e(e)}finally{o.f()}return e.propertyByName=r,e.defaultProps=n,e}Uo={renderer:Lo.View,propertyTypes:[Lc("onStartShouldSetResponder",we),Lc("accessible",t),Lc("accessibilityLabel",zn),Lc("accessibilityHint",zn),Lc("accessibilityRole",zn),Lc("accessibilityState",Ur),Lc("accessibilityValue",Ur),Lc("accessibilityActions",Tc),Lc("onAccessibilityAction",we),Lc("onAccessibilityTap",we),Lc("onMagicTap",we),Lc("onAccessibilityEscape",we),Lc("accessibilityViewIsModal",t),Lc("accessibilityElementsHidden",t),Lc("accessibilityIgnoresInvertColors",t),Lc("accessibilityLiveRegion",zn),Lc("importantForAccessibility",zn),Lc("hitSlop",Ur),Lc("nativeID",zn),Lc("onLayout",we),Lc("onMoveShouldSetResponder",we),Lc("onMoveShouldSetResponderCapture",we),Lc("onResponderGrant",we),Lc("onResponderMove",we),Lc("onResponderReject",we),Lc("onResponderRelease",we),Lc("onResponderTerminate",we),Lc("onResponderTerminationRequest",we),Lc("onStartShouldSetResponderCapture",we),Lc("pointerEvents",zn),Lc("removeClippedSubviews",t),Lc("style",Wn),Lc("testID",zn),Lc("collapsable",t),Lc("needsOffscreenAlphaCompositing",t),Lc("renderToHardwareTextureAndroid",t),Lc("shouldRasterizeIOS",t),Lc("nextFocusDown",Le),Lc("nextFocusForward",Le),Lc("nextFocusLeft",Le),Lc("nextFocusRight",Le),Lc("nextFocusUp",Le),Lc("focusable",t)]},zo={renderer:Lo.ActivityIndicator,propertyTypes:[].concat(Rc(Uo.propertyTypes),[Lc("animating",t),Lc("color",me),Lc("hidesWhenStopped",t),Lc("size",Le)])},ji={renderer:Lo.Button,propertyTypes:[Bc("onPress",we,function(){return console.log("Set me a handler!")}),Bc("title",zn,"Button"),Lc("accessibilityLabel",zn),Lc("color",me),Lc("disabled",t),Lc("testID",zn),Lc("hasTVPreferredFocus",t),Lc("nextFocusDown",Le),Lc("nextFocusForward",Le),Lc("nextFocusLeft",Le),Lc("nextFocusRight",Le),Lc("nextFocusUp",Le),Lc("touchSoundDisabled",t)]},xi={renderer:Lo.FlatList,propertyTypes:[Lc("renderItem",we),Lc("data",Tc),Lc("ItemSeparatorComponent",be),Lc("ListEmptyComponent",be),Lc("ListFooterComponent",be),Lc("ListFooterComponentStyle",Wn),Lc("ListHeaderComponent",be),Lc("ListHeaderComponentStyle",Wn),Lc("columnWrapperStyle",Wn),Lc("extraData",Pc),Lc("getItemLayout",we),Lc("horizontal",t),Lc("initialNumToRender",Le),Lc("initialScrollIndex",Le),Lc("inverted",t),Lc("keyExtractor",we),Lc("numColumns",Le),Lc("onEndReached",we),Lc("onEndReachedThreshold",we),Lc("onRefresh",we),Lc("onViewableItemsChanged",we),Lc("progressViewOffset",Le),Lc("legacyImplementation",t),Lc("refreshing",t),Lc("removeClippedSubviews",t),Lc("viewabilityConfig",Ur),Lc("viewabilityConfigCallbackPairs",Tc)],methods:["scrollToEnd","scrollToIndex","scrollToItem","scrollToOffset","recordInteraction","flashScrollIndicators","getNativeScrollRef","getScrollResponder","getScrollableNode"]},Ti={renderer:Lo.Image,propertyTypes:[Bc("style",Wn,{width:128,height:128}),Lc("accessible",t),Lc("accessibilityLabel",zn),Lc("blurRadius",Le),Lc("capInsets",Ur),Lc("defaultSource",Ur),Lc("fadeDuration",Le),Lc("loadingIndicatorSource",Tc),Lc("onError",we),Lc("onLayout",we),Lc("onLoad",we),Lc("onLoadEnd",we),Lc("onLoadStart",we),Lc("onPartialLoad",we),Lc("onProgress",we),Lc("progressiveRenderingEnabled",t),Lc("resizeMethod",kc.enum("imageResizeMethod").description("Resize mechanism").withValue("default","Default").withValue("auto","Auto","auto").withValue("resize","Resize","resize").withValue("Scale","Scale","scale").build()),Lc("resizeMode",kc.enum("imageResizeMode").description("Resize mode").withValue("default","Default").withValue("cover","Cover","cover").withValue("contain","Contain","contain").withValue("stretch","Stretch","stretch").withValue("repeat","Repeat","repeat").withValue("center","Center","center").build()),Bc("source",Pc,{uri:"/images/unknown.png"}),Lc("testID",zn)]},Pi={renderer:Lo.ImageBackground,propertyTypes:[].concat(Rc(Ti.propertyTypes),[Lc("imageStyle",Wn),Lc("imageRef",Pc)])},ll={renderer:Lo.KeyboardAvoidingView,propertyTypes:[].concat(Rc(Uo.propertyTypes),[Lc("behavior",zn),Lc("contentContainerStyle",Wn),Lc("enabled",t),Lc("keyboardVerticalOffset",Le)])},Ol={renderer:Lo.RefreshControl,propertyTypes:[].concat(Rc(Uo.propertyTypes),[Bc("refreshing",t,!0),Lc("onRefresh",we),Lc("colors",Tc),Lc("enabled",t),Lc("progressBackgroundColor",me),Lc("progressViewOffset",Le),Lc("size",Le),Lc("tintColor",me),Lc("title",zn),Lc("titleColor",me)])},Zl={renderer:Lo.SafeAreaView,propertyTypes:[].concat(Rc(Uo.propertyTypes),[Lc("emulateUnlessSupported",t)])},Ns={renderer:Lo.ScrollView,propertyTypes:[].concat(Rc(Uo.propertyTypes),[Lc("alwaysBounceHorizontal",t),Lc("alwaysBounceVertical",t),Lc("automaticallyAdjustContentInsets",t),Lc("bounces",t),Lc("bouncesZoom",t),Lc("canCancelContentTouches",t),Lc("centerContent",t),Lc("contentContainerStyle",Wn),Lc("contentInset",Ur),Lc("contentInsetAdjustmentBehavior",zn),Lc("contentOffset",Ur),Lc("decelerationRate",zn),Lc("directionalLockEnabled",t),Lc("disableIntervalMomentum",t),Lc("disableScrollViewPanResponder",t),Lc("endFillColor",me),Lc("fadingEdgeLength",Le),Lc("horizontal",t),Lc("indicatorStyle",zn),Lc("invertStickyHeaders",t),Lc("keyboardDismissMode",zn),Lc("keyboardShouldPersistTaps",zn),Lc("maintainVisibleContentPosition",Ur),Lc("maximumZoomScale",Le),Lc("minimumZoomScale",Le),Lc("nestedScrollEnabled",t),Lc("onContentSizeChange",we),Lc("onMomentumScrollBegin",we),Lc("onMomentumScrollEnd",we),Lc("onScroll",we),Lc("onScrollBeginDrag",we),Lc("onScrollEndDrag",we),Lc("onScrollToTop",we),Lc("overScrollMode",zn),Lc("pagingEnabled",t),Lc("persistentScrollbar",t),Lc("pinchGestureEnabled",t),Lc("refreshControl",Ur),Lc("removeClippedSubviews",t),Lc("scrollBarThumbImage",Le),Lc("scrollEnabled",t),Lc("scrollEventThrottle",Le),Lc("scrollIndicatorInsets",Ur),Lc("scrollPerfTag",zn),Lc("scrollToOverflowEnabled",t),Lc("scrollsToTop",t),Lc("showsHorizontalScrollIndicator",t),Lc("showsVerticalScrollIndicator",t),Lc("snapToAlignment",zn),Lc("snapToEnd",t),Lc("snapToInterval",Le),Lc("snapToOffsets",Tc),Lc("snapToStart",t),Lc("stickyHeaderIndices",Tc),Lc("zoomScale",Le)])},Hs={propertyTypes:[].concat(Rc(Ns.propertyTypes),[Bc("renderItem",we,function(){return null}),Bc("data",Pc,function(){return[]}),Bc("getItem",we,function(){return null}),Bc("getItemCount",we,function(){return 0}),Lc("debug",t),Lc("extraData",Pc),Lc("getItemLayout",we),Lc("initialScrollIndex",Le),Lc("inverted",t),Lc("CellRendererComponent",Pc),Lc("ItemSeparatorComponent",Pc),Lc("listKey",zn),Lc("ListEmptyComponent",Pc),Lc("ListItemComponent",Pc),Lc("ListFooterComponent",Pc),Lc("ListFooterComponentStyle",Wn),Lc("ListHeaderComponent",Pc),Lc("ListHeaderComponentStyle",Wn),Lc("onRefresh",we),Lc("onScrollToIndexFailed",we),Lc("onViewableItemsChanged",we),Lc("refreshing",t),Lc("refreshControl",Pc),Lc("removeClippedSubviews",t),Lc("renderScrollComponent",we),Lc("viewabilityConfig",Ur),Lc("viewabilityConfigCallbackPairs",Tc),Lc("horizontal",t),Bc("initialNumToRender",Le,0),Lc("keyExtractor",we),Lc("maxToRenderPerBatch",Le),Lc("onEndReached",we),Lc("onEndReachedThreshold",Le),Lc("updateCellsBatchingPeriod",Le),Lc("windowSize",Le),Lc("persistentScrollbar",t),Lc("progressViewOffset",Le)]),renderer:Lo.VirtualizedList},d={renderer:Lo.SectionList,propertyTypes:[].concat(Rc(Ns.propertyTypes),Rc(Hs.propertyTypes),[Lc("renderItem",we),Bc("sections",Tc,[]),Lc("extraData",Pc),Lc("initialNumToRender",Le),Lc("inverted",t),Lc("ItemSeparatorComponent",Pc),Lc("keyExtractor",we),Lc("ListEmptyComponent",Pc),Lc("ListFooterComponent",Pc),Lc("ListHeaderComponent",Pc),Lc("onEndReached",we),Lc("onEndReachedThreshold",Le),Lc("onRefresh",we),Lc("onViewableItemsChanged",we),Lc("refreshing",t),Lc("removeClippedSubviews",t),Lc("renderSectionFooter",we),Lc("renderSectionHeader",we),Lc("SectionSeparatorComponent",Pc),Lc("stickySectionHeadersEnabled",t)])},co={renderer:Lo.StatusBar,propertyTypes:[Lc("animated",t),Lc("backgroundColor",me),Lc("barStyle",zn),Lc("hidden",t),Lc("networkActivityIndicatorVisible",t),Lc("showHideTransition",zn),Lc("translucent",t)]},be={renderer:Lo.Switch,propertyTypes:[].concat(Rc(Uo.propertyTypes),[Lc("disabled",t),Lc("ios_backgroundColor",me),Lc("onChange",we),Lc("onValueChange",we),Lc("thumbColor",me),Lc("trackColor",Ur),Lc("value",t)])},kc={renderer:Lo.Text,getDataProps:function(e){return{children:e.content}},propertyTypes:[Lc("accessibilityHint",zn),Lc("accessibilityLabel",zn),Lc("accessibilityRole",zn),Lc("accessibilityState",Ur),Lc("accessible",t),Lc("adjustsFontSizeToFit",t),Lc("allowFontScaling",t),Lc("dataDetectorType",zn),Lc("disabled",t),Lc("ellipsizeMode",zn),Lc("maxFontSizeMultiplier",Le),Lc("minimumFontScale",Le),Lc("nativeID",zn),Lc("numberOfLines",Le),Lc("onLayout",we),Lc("onLongPress",we),Lc("onMoveShouldSetResponder",we),Lc("onPress",we),Lc("onResponderGrant",we),Lc("onResponderMove",we),Lc("onResponderRelease",we),Lc("onResponderTerminate",we),Lc("onResponderTerminationRequest",we),Lc("onStartShouldSetResponderCapture",we),Lc("onTextLayout",we),Lc("pressRetentionOffset",Ur),Lc("selectable",t),Lc("selectionColor",me),Lc("style",Wn),Lc("suppressHighlighting",t),Lc("testID",zn),Lc("textBreakStrategy",zn)]},Pc={renderer:Lo.TextInput,propertyTypes:[].concat(Rc(Uo.propertyTypes),[Lc("allowFontScaling",t),Lc("autoCapitalize",zn),Lc("autoCompleteType",zn),Lc("autoCorrect",t),Lc("autoFocus",t),Lc("blurOnSubmit",t),Lc("caretHidden",t),Lc("clearButtonMode",zn),Lc("clearTextOnFocus",t),Lc("contextMenuHidden",t),Lc("dataDetectorTypes",zn),Lc("defaultValue",zn),Lc("disableFullscreenUI",t),Lc("editable",t),Lc("enablesReturnKeyAutomatically",t),Lc("importantForAutofill",zn),Lc("inlineImageLeft",zn),Lc("inlineImagePadding",Le),Lc("inputAccessoryViewID",zn),Lc("keyboardAppearance",zn),Lc("keyboardType",zn),Lc("maxFontSizeMultiplier",Le),Lc("maxLength",Le),Lc("multiline",t),Lc("numberOfLines",Le),Lc("onBlur",we),Lc("onChange",we),Lc("onChangeText",we),Lc("onContentSizeChange",we),Lc("onEndEditing",we),Lc("onFocus",we),Lc("onKeyPress",we),Lc("onLayout",we),Lc("onScroll",we),Lc("onSelectionChange",we),Lc("onSubmitEditing",we),Lc("onTextInput",we),Lc("placeholder",zn),Lc("placeholderTextColor",me),Lc("returnKeyLabel",zn),Lc("returnKeyType",zn),Lc("rejectResponderTermination",t),Lc("scrollEnabled",t),Lc("secureTextEntry",t),Lc("selection",Ur),Lc("selectionColor",me),Lc("selectTextOnFocus",t),Lc("showSoftInputOnFocus",t),Lc("spellCheck",t),Lc("textAlign",zn),Lc("textContentType",zn),Lc("passwordRules",zn),Lc("style",Wn),Lc("textBreakStrategy",zn),Lc("underlineColorAndroid",me),Lc("value",zn)]),methods:["focus","blur","clear","isFocused"]},zn={renderer:Lo.TouchableWithoutFeedback,propertyTypes:[Lc("accessibilityIgnoresInvertColors",t),Lc("accessible",t),Lc("accessibilityLabel",zn),Lc("accessibilityHint",zn),Lc("accessibilityRole",zn),Lc("accessibilityState",Ur),Lc("accessibilityActions",Tc),Lc("onAccessibilityAction",we),Lc("accessibilityValue",Ur),Lc("delayLongPress",Le),Lc("delayPressIn",Le),Lc("delayPressOut",Le),Lc("disabled",t),Lc("hitSlop",Ur),Lc("onBlur",we),Lc("onFocus",we),Lc("onLayout",we),Lc("onLongPress",we),Lc("onPress",we),Lc("onPressIn",we),Lc("onPressOut",we),Lc("pressRetentionOffset",Ur),Lc("nativeID",zn),Lc("testID",zn),Lc("touchSoundDisabled",t),Bc("children",Tc,q.a.createElement(Lo.View))]},Tc={renderer:Lo.TouchableHighlight,propertyTypes:[].concat(Rc(zn.propertyTypes),[Lc("activeOpacity",Le),Lc("onHideUnderlay",we),Lc("onShowUnderlay",we),Lc("style",Wn),Lc("underlayColor",me),Lc("hasTVPreferredFocus",t),Lc("nextFocusDown",t),Lc("nextFocusForward",t),Lc("nextFocusLeft",t),Lc("nextFocusRight",t),Lc("nextFocusUp",t),Lc("testOnly_pressed",t),Bc("children",Tc,q.a.createElement(Lo.View))])},t={renderer:Lo.TouchableOpacity,propertyTypes:[].concat(Rc(zn.propertyTypes),[Lc("style",Wn),Lc("activeOpacity",Le),Lc("tvParallaxProperties",Ur),Lc("hasTVPreferredFocus",t),Lc("nextFocusDown",t),Lc("nextFocusForward",t),Lc("nextFocusLeft",t),Lc("nextFocusRight",t),Lc("nextFocusUp",t)]),methods:["setOpacityTo"]};var Vc={rnactivityindicator:Mc(zo),rnbutton:Mc(ji),rnflatlist:Mc(xi),rnimage:Mc(Ti),rnimagebackground:Mc(Pi),rnkeyboardavoidingview:Mc(ll),rnrefreshcontrol:Mc(Ol),rnsafeareaview:Mc(Zl),rnscrollview:Mc(Ns),rnsectionlist:Mc(d),rnstatusbar:Mc(co),rnswitch:Mc(be),rntext:Mc(kc),rntextinput:Mc(Pc),rntouchablehighlight:Mc(Tc),rntouchableopacity:Mc(t),rntouchablewithoutfeedback:Mc(zn),rnview:Mc(Uo),rnvirtualizedlist:Mc(Hs)};function Uc(e){return(Uc="function"==typeof Symbol&&"symbol"==Pu(Symbol.iterator)?function(e){return Pu(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":Pu(e)})(e)}function qc(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function zc(t,e){var r,n=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)),n}function Hc(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?zc(Object(r),!0).forEach(function(e){Jc(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):zc(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}function Wc(){return(Wc=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r,n=arguments[t];for(r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Gc(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Kc(e,t){return(Kc=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function $c(e){return($c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Jc(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Yc=r(25),Xc=r(10),Qc=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Kc(e,t)}(o,oo);var e,r,n,t=(r=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,t=$c(r);return function(e,t){if(t&&("object"===Uc(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}()}(this,n?(e=$c(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments))});function o(){return function(e){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this),t.apply(this,arguments)}return e=[{key:"getStyle",value:function(e,t,r){var n=oo.getStyle(e,t,r);return["marginTop","marginBottom","marginLeft","marginRight","width","height"].forEach(function(e){return n[e]&&(n[e]=parseFloat(n[e]))}),n}},{key:"getCustomStyle",value:function(e,r){if(oo.getCustomStyle(e,r),r){var t,n=["margin","padding","width","height","bottom","top","left","right","flex","zIndex","radius"];for(t in r)!function(t){n.forEach(function(e){!t.toLowerCase().includes(e)||(e=parseFloat(r[t]))&&(r[t]=e)})}(t)}}},{key:"createControl",value:function(e,t,r){var l=r.model,s=r.data,n=r.errors,o=r.parentItem,c=r.buildermode,i=r.children,a=r.handleEvent,u=r.getAdditionalDataForControl,p=r.getFormFunc,f=r.hideControls,d=r.readOnlyControls,h=r.readOnly,y=r.disableRefs,m=r.uploadUrl,v=r.downloadUrl,b=r.extendedData,g=r.controlsToReplace,w=r.needCheckReplace,O=r.eventOnEdit,C=r.eventOnDelete,S=r.eventOnCopy,E=r.externalControlRender,k=r.externalControlList,j=r.adaptiveViewType,x=r.formData,P=void 0,T={key:l.key,name:l.key,style:this.getStyle(l,c,j),"data-buildertype":l["data-buildertype"],propertyName:l.propertyName||l.key};T.key||console.log(l);var _=T["data-buildertype"],D=w||g.includes(l.key);c&&this.isContainer(T["data-buildertype"])&&(T.isContainer=!0),y||(T.ref=l.key),void 0!==l.readOnly&&(T.readOnly=l.readOnly),(h||Array.isArray(d)&&d.includes(l.key))&&(T.readOnly=!0);var R=ho.regexForReplace,r=function n(e){if(!D||null==e||c)return e;function o(e){return null!=x?"row."===e.slice(1,5)?oo.getFormattedDate(e.slice(5,e.length-1),s):oo.getFormattedDate(e.slice(1,e.length-1),x):oo.getFormattedDate(e.slice(1,e.length-1),s)}if(Array.isArray(e)){var i=[],a=!1;return e.forEach(function(e){var t,r={};for(t in e)e.hasOwnProperty(t)&&(void 0!==e[t]&&null!==e[t]&&"string"==typeof e[t]?(r[t]=e[t].replace(R,o),!a&&w&&r[t]!==e[t]&&(a=!0)):Array.isArray(e[t])?r[t]=n(e[t]):r[t]=e[t]);i.push(r)}),a&&g.push(l.key),i}if("string"!=typeof e)return e;var t=e.replace(R,o);return w&&e!==t&&g.push(l.key),t};if(void 0!==s&&(l.propertyName?T.value=s[l.propertyName]:T.value=s[T.key]),null!=n&&(l.propertyName?T.error=n[l.propertyName]:T.error=n[T.key]),t===tn)"header"===_?(T.content=r(l.content),T.subheader=r(l.subheader)):"label"===_?T.content=r(l.content):"message"===_?(T.content=r(l.content),T.header=r(l.header),T.fluid=r(l.fluid)):"image"===_?(T.src=r(l.src),T.href=r(l.href)):"breadcrumb"===_?T.items=r(l.items):"button"===_&&(T.content=r(l.content)),P=q.a.createElement(tn,Wc({},T,{additionalParams:{model:l,data:s,errors:n,children:i,handleEvent:a,parentItem:o,uploadUrl:m,downloadUrl:v}}));else if(t===fr)T.format=l.format,T.mask=l.mask,T.thousandSeparator=l.thousandSeparator,T.prefix=l.prefix,T.suffix=l.suffix,T.keyboardType=l.keyboardType,P=q.a.createElement(fr,Wc({},T,{additionalParams:{model:l,data:s,errors:n,children:i,handleEvent:a,parentItem:o,uploadUrl:m,downloadUrl:v}}));else if(t===vc)P=this.getControlJsx(t,T,{model:l,data:s,errors:n,children:i,handleEvent:a,parentItem:o,uploadUrl:m,downloadUrl:v});else if(t===tt)T.label=l.label,T.defaultValue=l.defaultValue,T.placeholder=l.placeholder,T.disabled=l.disabled,T.fluid=l.fluid,T.selection=l.selection,T.multiple=l.multiple,T.search=l.search,T.dataModel=l.dataModel,T.clearable=l.clearable,T.columns=l.columns,T.paging=l.paging,T.pageSize=l.pageSize,T.getAdditionalDataForControl=u,T.filters=r(l.filters),T.textAsValue=l.textAsValue,l.text&&(T.textFunc=new Function("data","return ".concat(l.text,";"))),n&&void 0!==n[l.key]&&(T.error=n[l.key]),T.handleEvent=a,T.parentIsForm=oo.isForm(o),P=q.a.createElement(tt,T);else if(t===st)T.defaultValue=l.defaultValue,T.items=l.items,T.imageUrl=l.imageUrl,T.handleEvent=a,P=q.a.createElement(st,T);else if(t===Kr)T.url=l.url,T.category=l.category,T.placeholder=l.placeholder,T.handleEvent=a,P=q.a.createElement(Kr,T);else if(t===gr){var F=[];void 0!==l["data-elements"]&&(F=Array.isArray(l["data-elements"])?l["data-elements"]:ve.a.parse(l["data-elements"])),T.handleEvent=a,n&&void 0!==n[l.key]&&(T.error=n[l.key]),P=q.a.createElement(gr,Wc({},T,{label:l.label,direction:l.direction,placeholder:l.placeholder,items:F}))}else if(t===De){if(T.columns=l.columns,T.draggable=l.draggable,T.hierarchical=l.hierarchical,T.parentIdField=l.parentIdField,T.idField=l.idField,T.childrenField=l.childrenField,T.collapseAll=l.collapseAll,T.disableAdd=l.disableAdd,T.disableCopy=l.disableCopy,T.disableDelete=l.disableDelete,T.placeholders=Xc(l.placeholders),T.getAdditionalDataForControl=u,T.placeholders&&(T.data=s,T.adaptiveViewType=j,T.controlBarParams={adaptiveViewType:j,eventOnDelete:C,eventOnEdit:O,eventOnCopy:S,parentComponent:e},T.createControl=this.createCollectionEditorControl.bind(this)),T.handleEvent=a,T.downloadUrl=v,T.uploadUrl=m,c&&void 0===T.value&&void 0!==T.columns){T.buildermode=c,T.createBuilderDropzone=oo.createBuilderDropzone,T.value=[];for(var A=0;A<5;A++)T.value.push({});if(Boolean(l.hierarchical)&&void 0!==l.parentIdField&&""!==l.parentIdField&&void 0!==l.idField&&""!==l.idField)for(var I=1;I<5;I++){var N=T.value[I];void 0===N[l.idField]&&(N[l.idField]=I);for(var L=0;L<2;L++){var B={};B[l.parentIdField]=N[l.idField],T.value.push(B)}}}void 0!==b&&void 0!==b.filters&&void 0!==b.filters[T.key]&&(T.filter=new Lt(b.filters[T.key],T.columns.map(function(e){return e.key}))),P=q.a.createElement(De,T)}else if(t===lr)T["data-items"]=r(l.items),T.pointing=l.pointing,T.secondary=l.secondary,T.tabular=l.tabular,T.fluid=l.fluid,T.vertical=l.vertical,T.activeitem=l.activeitem,T.link=l.link,T.handleEvent=a,P=q.a.createElement(lr,T);else if(t===On)T["data-panes"]=l.panes,T.pointing=l.pointing,T.secondary=l.secondary,T.tabular=l.tabular,T.fluid=l.fluid,T.vertical=l.vertical,T.activeitem=l.activeitem,T.placeholders=l.placeholders,this.setCreateControlsProps(T,{data:s,buildermode:c,model:l,children:i,getFormFunc:p,getAdditionalDataForControl:u,disableRefs:y,uploadUrl:m,downloadUrl:v,extendedData:b,controlsToReplace:g,eventOnEdit:O,eventOnDelete:C,eventOnCopy:S,adaptiveViewType:j,handleEvent:a,externalControlList:k,externalControlRender:E,needCheckReplace:w,readOnly:h,hideControls:f,readOnlyControls:d,errors:n}),P=q.a.createElement(On,T);else if(t===qn)T.blockSetState=l.blockSetState,T.blockCommands=l.blockCommands,T.setStateButton=l.setStateButton,T.handleEvent=a,T.getAdditionalDataForControl=u,T.blockLoadParameters=void 0===l.blockLoadParameters||l.blockLoadParameters,T.blockSelectScheme=l.blockSelectScheme,T.selectSchemeDropdown=l.selectSchemeDropdown,s&&(T.selectedScheme=s.__wf_selectedscheme),T.schemes=b&&b.schemes||[],n&&void 0!==n[l.key]&&(T.error=n[l.key]),c&&(T.commands=[{value:"approve",text:"Approve",type:1},{value:"back",text:"Back",type:2}],T.states=[{value:"draft",text:"Draft"},{value:"state1",text:"State 1"},{value:"state2",text:"State 2"},{value:"state3",text:"State 3"},{value:"finish",text:"Finish"}],T.schemes=[]),P=q.a.createElement(qn,T);else if(t===Ne){if(T.style&&"flex"===l["style-display"]&&(l["style-display-horizontalalign"]&&(T.style.justifyContent=l["style-display-horizontalalign"]),l["style-display-verticalalign"]?T.style.alignItems=l["style-display-verticalalign"]:T.style.alignItems="baseline"),T.childrenView=l.childrenView,o&&o["children-style-source"]){var M,V={};for(M in this.getCustomStyle(o["children-style-source"],V),V)T.style[M]||(T.style[M]=V[M])}delete T.propertyName,P=q.a.createElement(Ne,Wc({},T,{children:i}))}else t===Tr?(T.slider=l.slider,T["item-visibleCondition"]=l["item-visibleCondition"],T.pageSize=l.pageSize,T.pagerType=l.pagerType,T.loadButtonLabel=l.loadButtonLabel,T.noRecordsLabel=l.noRecordsLabel,T.defaultSort=l.defaultSort,void 0!==b&&void 0!==b.filters&&void 0!==b.filters[T.key]&&(T.filter=new Lt(b.filters[T.key],["*"])),T.placeholders=Xc(l.placeholders),T.controlProps={readOnly:"server"===l.pagerType||h},T.model=l,T.data=s,F=T.controlProps,this.setCreateControlsProps(F,{children:i,getFormFunc:p,getAdditionalDataForControl:u,disableRefs:y,uploadUrl:m,downloadUrl:v,extendedData:b,controlsToReplace:g,eventOnEdit:O,eventOnDelete:C,eventOnCopy:S,adaptiveViewType:j,handleEvent:a,externalControlList:k,externalControlRender:E,hideControls:f,readOnlyControls:d,buildermode:c}),T.childrenView=l.childrenView,P=q.a.createElement(Tr,T)):t===hn?(T.content=r(l.content),T.isHtml=l.isHtml,P=q.a.createElement(hn,T)):t===ht?(T.iconFiletypes=l.iconFiletypes,T.postUrl=m,T.showFiletypeIcon=l.showFiletypeIcon,T.autoProcessQueue=l.autoProcessQueue,T.addRemoveLinks=l.addRemoveLinks,P=q.a.createElement(ht,Wc({},T,{additionalParams:{model:l,data:s,errors:n,children:i,handleEvent:a,parentItem:o}}))):t===Dt?(T.iconFiletypes=l.iconFiletypes,T.postUrl=m,T.showFiletypeIcon=l.showFiletypeIcon,T.autoProcessQueue=l.autoProcessQueue,T.useDropzone=l.useDropzone,T.columns=l.columns,T.idField=l.idField,T.downloadUrl=v,P=q.a.createElement(Dt,Wc({},T,{additionalParams:{model:l,data:s,errors:n,children:i,handleEvent:a,parentItem:o}}))):t===pe?(T.downloadUrl=v,T.uploadUrl=m,T.showPreview=l.showPreview,T.compact=l.compact,T.compression=l.compression,T.label=l.label,T.shotLabel=l.shotLabel,T.galleryLabel=l.galleryLabel,T.openLabel=l.openLabel,T.clearLabel=l.clearLabel,T.getAdditionalDataForControl=u,null!=a&&(T.onChange=function(e,t){var r=t.name,n=t.value,t=t.parameters;a({syntheticEvent:e,key:T.name,propertyName:T.propertyName,eventName:"onChange",name:r,value:n,parameters:t})}),P=q.a.createElement(pe,Wc({},T,{additionalParams:{model:l,data:s,errors:n,children:i,handleEvent:a,parentItem:o}}))):t===cn?(T.downloadUrl=v,T.uploadUrl=m,T.showPreview=l.showPreview,T.compact=l.compact,T.label=l.label,T.drawLabel=l.drawLabel,T.clearCanvasLabel=l.clearCanvasLabel,T.uploadLabel=l.uploadLabel,T.openLabel=l.openLabel,T.clearLabel=l.clearLabel,T.getAdditionalDataForControl=u,null!=a&&(T.onChange=function(e,t){var r=t.name,n=t.value,t=t.parameters;a({syntheticEvent:e,key:T.name,propertyName:T.propertyName,eventName:"onChange",name:r,value:n,parameters:t})}),P=q.a.createElement(cn,Wc({},T,{additionalParams:{model:l,data:s,errors:n,children:i,handleEvent:a,parentItem:o}}))):t===xn?(T.header=r(l.header),T.subheader=r(l.subheader),T.imgurl=r(l.imgurl),T.placeholders=l.placeholders,T.activeEvent=l.events&&l.events.onClick&&l.events.onClick.active,this.setCreateControlsProps(T,{data:s,buildermode:c,model:l,children:i,getFormFunc:p,getAdditionalDataForControl:u,disableRefs:y,uploadUrl:m,downloadUrl:v,extendedData:b,controlsToReplace:g,eventOnEdit:O,eventOnDelete:C,eventOnCopy:S,adaptiveViewType:j,handleEvent:a,externalControlList:k,externalControlRender:E,needCheckReplace:w,readOnly:h,hideControls:f,readOnlyControls:d,errors:n}),P=q.a.createElement(xn,T)):((E=E||function(){if(window.DWKitFormSettings)return window.DWKitFormSettings.externalControlRender}())&&(T.parentIsForm=oo.isForm(o),P=E(e,t,{model:l,data:s,errors:n,parentItem:o,buildermode:c,children:i,handleEvent:a,getAdditionalDataForControl:u,hideControls:f,readOnlyControls:d,readOnly:h,disableRefs:y,uploadUrl:m,downloadUrl:v,extendedData:b,controlsToReplace:g,needCheckReplace:w,eventOnEdit:O,eventOnDelete:C,eventOnCopy:S,controlProps:T,replaceControlValue:r})),P||console.error("Control is unsupported!",t,l));return P}},{key:"isContainer",value:function(e){return de(o.containers[e])}},{key:"getPlatformContainerControl",value:function(){return Lo.View}},{key:"getControlJsx",value:function(e,t,r){var n=r.model,o=(r.data,r.errors,r.children),i=(r.handleEvent,r.parentItem,r.uploadUrl,r.downloadUrl,n["data-buildertype"]),a=Vc[i];return a?(r=Object.assign({},a.defaultProps),de(o)&&(r.children=o),i=a.renderer,o=a.getDataProps?a.getDataProps(n):{},(o=Hc(Hc(Hc({},Yc(r,t)),this.getControlProps(n,a.propertyTypes)),o)).className&&delete o.className,q.a.createElement(i,o)):z("null-control",{key:n.key,text:"".concat(i," is unsupported")})}},{key:"getControlProps",value:function(e,t){var r,n=e&&e["control-model"]||{},o={},i=function(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e){if(e){if("string"==typeof e)return qc(e,void 0);var t=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(t="Object"===t&&e.constructor?e.constructor.name:t)||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?qc(e,void 0):void 0}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0;return{s:t=function(){},n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:t}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,a=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return i=e.done,e},e:function(e){a=!0,o=e},f:function(){try{i||null==r.return||r.return()}finally{if(a)throw o}}}}(t);try{for(i.s();!(r=i.n()).done;){var a=r.value;de(n[a.name])&&(o[a.name]=n[a.name])}}catch(e){i.e(e)}finally{i.f()}return o}},{key:"createCollectionEditorControl",value:function(e,t,r,n){if(i=this.getControlByType(t)){var o=this.createControl(e,i,Hc(Hc({},r),{},{needCheckReplace:!0})),i=[];return r.buildermode?(n=q.a.createElement(Xn,{key:r.model.key+"_controlbar",model:r.model,parent:n.parentComponent,onDelete:n.eventOnDelete,onEdit:n.eventOnEdit,onCopy:n.eventOnCopy,control:o,builderActions:this.builderActions}),i.push(n),i):o}console.error("Control is unsupported!",t,e,r)}}],Gc(o.prototype,e),o}();function Zc(e){return(Zc="function"==typeof Symbol&&"symbol"==Pu(Symbol.iterator)?function(e){return Pu(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":Pu(e)})(e)}function eu(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function tu(e,t){return(tu=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ru(e){return(ru=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}Jc(Qc,"containers",{form:"",formgroup:"",grid:"",gridcolumn:"",container:"",rnview:"",View:"",repeater:""});var nu=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&tu(e,t)}(i,No);var r,n,o=(r=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,t=ru(r);return function(e,t){if(t&&("object"===Zc(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}()}(this,n?(e=ru(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments))});function i(e){!function(e){if(!(e instanceof i))throw new TypeError("Cannot call a class as a function")}(this);var t,r=o.call(this,e),n=(e=t=Hn.a.createActions(["add","showEditForm","remove","saveData","save","move","insert"]),t=uo(),new Qc(e,t));return r.createControls=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return n.createControls.apply(n,t)},r}return eu(i.prototype,[{key:"render",value:function(){var e=this.getItemsForRender();return q.a.createElement(Lo.View,{style:{margin:5}},e)}}]),i}();function ou(e){return(ou="function"==typeof Symbol&&"symbol"==Pu(Symbol.iterator)?function(e){return Pu(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":Pu(e)})(e)}function iu(e,t){return(iu=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function au(e){return(au=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var lu=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&iu(e,t)}(t,nu);var r,n,e=(r=t,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,t=au(r);return function(e,t){if(t&&("object"===ou(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}()}(this,n?(e=au(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments))});function t(){return function(e){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),e.apply(this,arguments)}return t}();function su(e){return q.a.createElement(Lo.View,null,q.a.createElement(Bo.TabBar,{selectedIndex:e.selectedIndex,onSelect:e.onPress},e.items.map(function(e){return q.a.createElement(Bo.Tab,{title:e})})),q.a.createElement(Lo.View,{style:Lo.StyleSheet.flatten(Wo.controls.tabBarChild)},e.children))}function cu(e){return(cu="function"==typeof Symbol&&"symbol"==Pu(Symbol.iterator)?function(e){return Pu(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":Pu(e)})(e)}function uu(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function pu(e,t){return(pu=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function fu(e){return(fu=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var du=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&pu(e,t)}(o,c.Component);var e,r,n,t=(r=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,t=fu(r);return function(e,t){if(t&&("object"===cu(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}()}(this,n?(e=fu(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments))});function o(){return function(e){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this),t.apply(this,arguments)}return e=[{key:"render",value:function(){return q.a.createElement(Lo.View,{style:Wo.dwKitMessage},this.props.children)}}],uu(o.prototype,e),o}();function hu(t,e){var r,n=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)),n}function yu(n){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?hu(Object(o),!0).forEach(function(e){var t,r=n;e=o[t=e],t in r?Object.defineProperty(r,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):r[t]=e}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(o)):hu(Object(o)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(o,e))})}return n}function mu(e){var t={};return e.flex&&(t.flex=e.flex),e=yu(yu({},e),Wo.dwKitTextareaProps),q.a.createElement(Lo.View,{style:t},q.a.createElement(Ql,e))}function vu(e){return(vu="function"==typeof Symbol&&"symbol"==Pu(Symbol.iterator)?function(e){return Pu(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":Pu(e)})(e)}function bu(){return(bu=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r,n=arguments[t];for(r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function gu(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function wu(e,t){return(wu=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ou(e){return(Ou=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}Hs=function(e){return q.a.createElement(Lo.View,{style:Wo.dwKitMessageContent},e.children)},"Content"in(r=du)?Object.defineProperty(r,"Content",{value:Hs,enumerable:!0,configurable:!0,writable:!0}):r.Content=Hs;var Cu=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&wu(e,t)}(o,c.Component);var e,r,n,t=(r=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,t=Ou(r);return function(e,t){if(t&&("object"===vu(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}()}(this,n?(e=Ou(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments))});function o(){return function(e){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this),t.apply(this,arguments)}return e=[{key:"render",value:function(){return q.a.createElement(Bo.Text,bu({},this.props,{category:"label",appearance:"hint"}),this.props.children)}}],gu(o.prototype,e),o}();function Su(e){return(Su="function"==typeof Symbol&&"symbol"==Pu(Symbol.iterator)?function(e){return Pu(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":Pu(e)})(e)}function Eu(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ku(e,t){return(ku=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ju(e){return(ju=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var xu=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ku(e,t)}(o,c.Component);var e,r,n,t=(r=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,t=ju(r);return function(e,t){if(t&&("object"===Su(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}()}(this,n?(e=ju(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments))});function o(e){return function(e){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this),(e=t.call(this,e)).state={activeItem:"general",defaultValuePreferInt:!1},e.menuItems=[{key:"general",name:"general",content:e.getLocalValue("generaltab","General")},{key:"style",name:"style",content:e.getLocalValue("styletab","Style")},{key:"events",name:"events",content:e.getLocalValue("eventstab","Events")},{key:"other",name:"other",content:e.getLocalValue("othertab","Other")}],e}return e=[{key:"getLocalValue",value:function(e,t,r){var n=this.props.localization,r=de(r)?r:"base";return fe(n)||fe(n[r])||fe(n[r][e])?t:n[r][e]}},{key:"handleItemClick",value:function(e){e=this.menuItems[e],this.setState({activeItem:e.name})}},{key:"getDescription",value:function(){var r=this.state.activeItem,n=0,e=this.menuItems.map(function(e,t){return n=e.name===r?t:n,e.content});return q.a.createElement(su,{items:e,onPress:this.handleItemClick.bind(this),selectedIndex:n},this.getDetailDescription(r))}},{key:"getDetailDescription",value:function(e){var t;return"general"===e?t=this.getGeneralDescription():"style"===e?t=this.getStyleDescription():"events"===e?t=this.getEventsDescription():"tooltip"===e?t=this.getToolTipDescription():"other"===e&&(t=this.getOtherDescription()),t}},{key:"getGeneralDescription",value:function(){var e=this.props.data,t=this.props.parent.handleTextChange.bind(this.props.parent);return q.a.createElement(Lo.View,{key:"generalDescriptionForm",style:Wo.formGroupEqual},q.a.createElement(Ql,{label:"Name",value:e.key,onChange:t("key")}))}},{key:"getStyleDescription",value:function(){var e=this.props.data,t=this.props.parent.handleTextChange.bind(this.props.parent),r=this.props.parent.handleIntChange.bind(this.props.parent);return this.getLocalValue("adaptivedefault","Any"),this.getLocalValue("adaptivedesctop","Desktop"),this.getLocalValue("adaptivemobile","Mobile"),q.a.createElement(Ya,{key:"styleDescriptionForm"},q.a.createElement(Ja,null,q.a.createElement(Ql,{label:this.getLocalValue("widthfield","Width"),placeholder:"100",value:e["style-width"],onChange:r("style-width")}),q.a.createElement(Ql,{label:this.getLocalValue("heightfield","Height"),placeholder:"100",value:e["style-height"],onChange:r("style-height")})),q.a.createElement(Ja,null,q.a.createElement(Ql,{label:this.getLocalValue("margintopfield","Margin Top"),placeholder:"0",value:e["style-marginTop"],onChange:r("style-marginTop")}),q.a.createElement(Ql,{label:this.getLocalValue("marginbottomfield","Margin Bottom"),placeholder:"0",value:e["style-marginBottom"],onChange:r("style-marginBottom")}),q.a.createElement(Ql,{label:this.getLocalValue("marginleftfield","Margin Left"),placeholder:"0",value:e["style-marginLeft"],onChange:r("style-marginLeft")}),q.a.createElement(Ql,{label:this.getLocalValue("marginrightfield","Margin Right"),placeholder:"0",value:e["style-marginRight"],onChange:r("style-marginRight")})),q.a.createElement(mu,{label:this.getLocalValue("stylefield","Style"),placeholder:"/*** Example Code ***/\ncolor:red;\npaddingTop:5px;",value:e["style-source"],onChangeText:t("style-source")}),q.a.createElement(Jo,{label:this.getLocalValue("hiddenfield","Hidden"),checked:e["style-hidden"],onChange:t("style-hidden")}))}},{key:"getEventsList",value:function(){return[]}},{key:"getEventsDescription",value:function(){var e=this.props.data;fe(e.events)&&(e.events={});var t,r=this.props.parent.handleTextChange.bind(this.props.parent),n=this.props.parent.handleIntChange.bind(this.props.parent),o=this.props.actions,i=this.getEventsList();if(Array.isArray(i)&&0!==i.length){for(var a=this.props.parent.getControlsList(),l=[],s=0;s<a.length;s++)e.key!=a[s]&&l.push({text:a[s],value:a[s]});t=q.a.createElement(St,{key:"events",name:"events",data:e.events,events:i,actions:o,targets:l,onAdditionActions:this.handleAdditionActions.bind(this),onChange:r})}else t=q.a.createElement(du,null,q.a.createElement(Pa.Image,{source:{uri:"/images/dwkitbuilder-info.png"},style:Wo.dwKitMessageIcon}),q.a.createElement(du.Content,null,q.a.createElement(Pa.Text,null,this.getLocalValue("controlhasnoeventsmsg","This control has no events."))));return r=null,i.includes("onChange")&&(r=q.a.createElement(Ql,{placeholder:"0",label:this.getLocalValue("onchangetimeout","onChange timeout"),value:e.onChangeTimeout,onChange:n("onChangeTimeout",!0)})),q.a.createElement(Ya,{key:"eventsDescriptionForm"},q.a.createElement(du,null,q.a.createElement(Pa.Image,{source:{uri:"/images/dwkitbuilder-info.png"},style:{width:32,height:32}}),q.a.createElement(du.Content,null,q.a.createElement(Pa.Text,null,this.getLocalValue("eventsinfomsg","These flags enable processing from this element.")))),r,t)}},{key:"getToolTipDescription",value:function(){var e=[{text:this.getLocalValue("tooltipdefault","Default"),value:""},{text:this.getLocalValue("tooltiptopcenter","Top Center"),value:"top"},{text:this.getLocalValue("tooltiptopleft","Top Left"),value:"top start"},{text:this.getLocalValue("tooltiptopright","Top Right"),value:"top end"},{text:this.getLocalValue("tooltipbottomcenter","Bottom Center"),value:"bottom"},{text:this.getLocalValue("tooltipbottomleft","Bottom Left"),value:"bottom start"},{text:this.getLocalValue("tooltipbottomright","Bottom right"),value:"bottom end"},{text:this.getLocalValue("tooltipleftcenter","Left Center"),value:"left"},{text:this.getLocalValue("tooltiprightright","Right Center"),value:"right"}],t=(this.getLocalValue("tooltipdefault","Default"),this.getLocalValue("tooltiphover","Hover"),this.getLocalValue("tooltipclick","Click"),this.getLocalValue("tooltipfocus","Focus"),this.props.data),r=this.props.parent.handleTextChange.bind(this.props.parent);return q.a.createElement(Ya,{key:"tooltipDescriptionForm"},q.a.createElement(Jo,{label:this.getLocalValue("tooltipenabledfield","Enabled"),checked:t["tooltip-enabled"],onChange:r("tooltip-enabled")}),q.a.createElement(Ja,null,q.a.createElement(Ql,{label:this.getLocalValue("tooltipheaderfield","Tooltip Header"),value:t["tooltip-header"],onChange:r("tooltip-header"),disabled:!t["tooltip-enabled"]}),q.a.createElement(Ql,{label:this.getLocalValue("tooltipcontentfield","Tooltip Content"),value:t["tooltip-content"],onChange:r("tooltip-content"),disabled:!t["tooltip-enabled"]})),q.a.createElement(si,{options:e,placeholder:"Default",label:this.getLocalValue("tooltippositionfield","Tooptip position"),value:t["tooltip-position"],onChange:r("tooltip-position"),disabled:!t["tooltip-enabled"]}),q.a.createElement(Lo.View,{style:{marginTop:30}},q.a.createElement(Cu,null,this.getLocalValue("errortooltipfield","Error-tooltip")),q.a.createElement(Bo.Divider,{style:{marginBottom:10}}),q.a.createElement(Ja,null,q.a.createElement(Jo,{label:this.getLocalValue("errortooltipdisabledfield","Disable error tooptip"),checked:t["tooltip-errordisabled"],onChange:r("tooltip-errordisabled")}),q.a.createElement(si,{options:e,placeholder:"Default",label:this.getLocalValue("errortooltippositionfield","Error tooptip position"),value:t["tooltip-errorposition"],onChange:r("tooltip-errorposition")}))))}},{key:"getOtherDescription",value:function(){var e=this.props.data,t=this.props.parent.handleTextChange.bind(this.props.parent),r=this.props.parent.handleIntChange.bind(this.props.parent),r=this.state.defaultValuePreferInt?r:t;return q.a.createElement(Ya,{key:"otherDescriptionForm"},q.a.createElement(Ql,{label:this.getLocalValue("propertynamefield","Property Name"),value:e.propertyName,onChange:t("propertyName")}),q.a.createElement(Jo,{label:this.getLocalValue("requiredfield","Required"),checked:e["other-required"],onChange:t("other-required")}),q.a.createElement(Ql,{label:this.getLocalValue("defaultvaluefield","Default value"),value:e.defaultValue,onChange:r("defaultValue")}),q.a.createElement(mu,{label:this.getLocalValue("customvalidationfield","Custom Validation"),placeholder:"/*** Example Code ***/\nvalue > 10 ? true : 'Must be more 10'",value:e["other-customValidation"],onChangeText:t("other-customValidation")}),q.a.createElement(mu,{label:this.getLocalValue("visibleconditionfield","Visible condition"),placeholder:"/*** Example Code ***/\ndata.type == 1 ? true : false",value:e["other-visibleConition"],onChangeText:t("other-visibleConition")}),q.a.createElement(mu,{label:this.getLocalValue("readonlyconditionfield","ReadOnly condition"),placeholder:"/*** Example Code ***/\ndata.type == 1 ? true : false",value:e["other-readOnlyConition"],onChangeText:t("other-readOnlyConition")}))}},{key:"render",value:function(){var t=this;return q.a.createElement(Cs,{visible:this.props.open,onClose:this.props.onClose.bind(this.props.parent)},q.a.createElement(Cs.Header,null,q.a.createElement(Pa.Text,{style:Wo.dwKitModalComponentName},this.props.data["data-buildertype"])),q.a.createElement(Cs.Content,null,this.getDescription()),q.a.createElement(Cs.Actions,null,q.a.createElement(ks,{onPress:function(){var e;t.beforeSave(),(e=t.props.onSave.bind(t.props.parent)).call.apply(e,arguments)},title:this.getLocalValue("savebutton","Save"),type:"solid"}),q.a.createElement(ks,{onPress:this.props.onClose.bind(this.props.parent),appearance:"outline",title:this.getLocalValue("cancelbutton","Cancel")})))}},{key:"beforeSave",value:function(){}},{key:"checkActionsList",value:function(e){for(var t=!1,r=0;r<this.props.actions.length;r++)if(this.props.actions[r]==e){t=!0;break}t||this.props.actions.push({text:e,value:e})}},{key:"handleAdditionActions",value:function(e,t){t=t.value,this.checkActionsList(t),this.forceUpdate()}}],Eu(o.prototype,e),o}()}],E={},C.m=S,C.c=E,C.d=function(e,t,r){C.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},C.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},C.t=function(t,e){if(1&e&&(t=C(t)),8&e)return t;if(4&e&&"object"==Pu(t)&&t&&t.__esModule)return t;var r=Object.create(null);if(C.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)C.d(r,n,function(e){return t[e]}.bind(null,n));return r},C.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return C.d(t,"a",t),t},C.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},C.p="",C(C.s=26);function C(e){if(E[e])return E[e].exports;var t=E[e]={i:e,l:!1,exports:{}};return S[e].call(t.exports,t,t.exports,C),t.l=!0,t.exports}var S,E},"object"==Pu(n)&&"object"==Pu(e)?e.exports=r(o(0),o(3),o(23),o(10),o(4),o(24),o(16),o(12),o(25),o(9),o(26),o(27),o(32),o(33),o(34),o(35),o(36),o(37),o(38),o(11)):(t=[o(0),o(3),o(23),o(10),o(4),o(24),o(16),o(12),o(25),o(9),o(26),o(27),o(32),o(33),o(34),o(35),o(36),o(37),o(38),o(11)],void 0===(r="function"==typeof(r=r)?r.apply(n,t):r)||(e.exports=r))}.call(this,o(47)(e))},function(e,t){e.exports=F},function(e,t){e.exports=A},function(e,t){e.exports=I},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,r){"use strict";var n=Object.prototype.hasOwnProperty,d="function"!=typeof Object.create&&"~";function o(e,t,r){this.fn=e,this.context=t,this.once=r||!1}function i(){}i.prototype._events=void 0,i.prototype.eventNames=function(){var e,t=this._events,r=[];if(!t)return r;for(e in t)n.call(t,e)&&r.push(d?e.slice(1):e);return Object.getOwnPropertySymbols?r.concat(Object.getOwnPropertySymbols(t)):r},i.prototype.listeners=function(e,t){var r=this._events&&this._events[d?d+e:e];if(t)return!!r;if(!r)return[];if(r.fn)return[r.fn];for(var n=0,o=r.length,i=new Array(o);n<o;n++)i[n]=r[n].fn;return i},i.prototype.emit=function(e,t,r,n,o,i){var a=d?d+e:e;if(!this._events||!this._events[a])return!1;var l,s=this._events[a],c=arguments.length;if("function"==typeof s.fn){switch(s.once&&this.removeListener(e,s.fn,void 0,!0),c){case 1:return s.fn.call(s.context),!0;case 2:return s.fn.call(s.context,t),!0;case 3:return s.fn.call(s.context,t,r),!0;case 4:return s.fn.call(s.context,t,r,n),!0;case 5:return s.fn.call(s.context,t,r,n,o),!0;case 6:return s.fn.call(s.context,t,r,n,o,i),!0}for(f=1,l=new Array(c-1);f<c;f++)l[f-1]=arguments[f];s.fn.apply(s.context,l)}else for(var u,p=s.length,f=0;f<p;f++)switch(s[f].once&&this.removeListener(e,s[f].fn,void 0,!0),c){case 1:s[f].fn.call(s[f].context);break;case 2:s[f].fn.call(s[f].context,t);break;case 3:s[f].fn.call(s[f].context,t,r);break;default:if(!l)for(u=1,l=new Array(c-1);u<c;u++)l[u-1]=arguments[u];s[f].fn.apply(s[f].context,l)}return!0},i.prototype.on=function(e,t,r){r=new o(t,r||this),e=d?d+e:e;return this._events||(this._events=d?{}:Object.create(null)),this._events[e]?this._events[e].fn?this._events[e]=[this._events[e],r]:this._events[e].push(r):this._events[e]=r,this},i.prototype.once=function(e,t,r){r=new o(t,r||this,!0),e=d?d+e:e;return this._events||(this._events=d?{}:Object.create(null)),this._events[e]?this._events[e].fn?this._events[e]=[this._events[e],r]:this._events[e].push(r):this._events[e]=r,this},i.prototype.removeListener=function(e,t,r,n){e=d?d+e:e;if(!this._events||!this._events[e])return this;var o=this._events[e],i=[];if(t)if(o.fn)(o.fn!==t||n&&!o.once||r&&o.context!==r)&&i.push(o);else for(var a=0,l=o.length;a<l;a++)(o[a].fn!==t||n&&!o[a].once||r&&o[a].context!==r)&&i.push(o[a]);return i.length?this._events[e]=1===i.length?i[0]:i:delete this._events[e],this},i.prototype.removeAllListeners=function(e){return this._events&&(e?delete this._events[d?d+e:e]:this._events=d?{}:Object.create(null)),this},i.prototype.off=i.prototype.removeListener,i.prototype.addListener=i.prototype.on,i.prototype.setMaxListeners=function(){return this},i.prefixed=d,e.exports=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mix=function(e){var o={init:[],preEmit:[],shouldEmit:[]},t=function t(r){var n={};return r.mixins&&r.mixins.forEach(function(e){i.extend(n,t(e))}),i.extend(n,r),Object.keys(o).forEach(function(e){r.hasOwnProperty(e)&&o[e].push(r[e])}),n}(e);1<o.init.length&&(t.init=function(){var t=arguments;o.init.forEach(function(e){e.apply(this,t)},this)});1<o.preEmit.length&&(t.preEmit=function(){return o.preEmit.reduce(function(e,t){t=t.apply(this,e);return void 0===t?e:[t]}.bind(this),arguments)});1<o.shouldEmit.length&&(t.shouldEmit=function(){var t=arguments;return!o.shouldEmit.some(function(e){return!e.apply(this,t)},this)});return Object.keys(o).forEach(function(e){1===o[e].length&&(t[e]=o[e][0])}),t};var i=function(e){{if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}}(r(5))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.bindMethods=function(e,t){for(var r in t){var n;Object.getOwnPropertyDescriptor&&Object.defineProperty?(n=Object.getOwnPropertyDescriptor(t,r)).value&&"function"==typeof n.value&&t.hasOwnProperty(r)&&(e[r]=t[r].bind(e)):"function"==typeof(n=t[r])&&t.hasOwnProperty(r)&&(e[r]=n.bind(e))}return e}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createAction=function e(t){t=t||{};u.isObject(t)||(t={actionName:t});for(var r in p)if(!h[r]&&f[r])throw new Error("Cannot override API method "+r+" in Reflux.ActionMethods. Use another method name or override it on Reflux.PublisherMethods instead.");for(var n in t)if(!h[n]&&f[n])throw new Error("Cannot override API method "+n+" in action creation. Use another method name or override it on Reflux.PublisherMethods instead.");t.children=t.children||[];t.asyncResult&&(t.children=t.children.concat(["completed","failed"]));var o=0,i={};for(;o<t.children.length;o++){var a=t.children[o],l="string"==typeof a?a:a.actionName;i[l]=e(a)}var s=u.extend({eventLabel:"action",emitter:new u.EventEmitter,_isAction:!0},f,p,t);var c=function e(){var t,r=!1;for(t in e.childActions){r=!0;break}var n=!e.sync&&void 0!==e.sync||r,n=n?"triggerAsync":"trigger";return e[n].apply(e,arguments)};u.extend(c,i,s);d.addAction(c);return c};var u=n(r(5)),p=n(r(28)),f=n(r(19)),d=n(r(18));function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}var h={preEmit:1,shouldEmit:1}},function(e,t,r){var n=r(8),o=r(20),i=r(5);e.exports=function(e,r){return i.throwIf(void 0===r,"Reflux.connect() requires a key."),{getInitialState:function(){return i.isFunction(e.getInitialState)?i.object([r],[e.getInitialState()]):{}},componentDidMount:function(){var t=this;i.extend(t,n),this.listenTo(e,function(e){t.setState(i.object([r],[e]))})},componentWillUnmount:o.componentWillUnmount}}},function(e,t,r){var i=r(8),a=r(20),l=r(5);e.exports=function(r,n,o){return l.throwIf(l.isFunction(n),"Reflux.connectFilter() requires a key."),{getInitialState:function(){if(!l.isFunction(r.getInitialState))return{};var e=o.call(this,r.getInitialState());return void 0!==e?l.object([n],[e]):{}},componentDidMount:function(){var t=this;l.extend(this,i),this.listenTo(r,function(e){e=o.call(t,e);t.setState(l.object([n],[e]))})},componentWillUnmount:a.componentWillUnmount}}},function(e,t,r){var o=r(8);e.exports=function(t,r,n){return{componentDidMount:function(){for(var e in o)if(this[e]!==o[e]){if(this[e])throw"Can't have other property '"+e+"' when using Reflux.listenTo!";this[e]=o[e]}this.listenTo(t,r,n)},componentWillUnmount:o.stopListeningToAll}}},function(e,t,r){var n=r(8);e.exports=function(t){return{componentDidMount:function(){for(var e in n)if(this[e]!==n[e]){if(this[e])throw"Can't have other property '"+e+"' when using Reflux.listenToMany!";this[e]=n[e]}this.listenToMany(t)},componentWillUnmount:n.stopListeningToAll}}},function(e,t,r){var n=r(17);if(n.defineReact=r(57),n.utils.inherits=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},"undefined"!=typeof React&&React)n.defineReact(React);else try{var o=r(0);n.defineReact(o)}catch(e){}},function(e,t,r){var a,p=r(17),l=!1;function f(e,t){if(!e)return t;for(var r=!1,n={},o=0,i=e.length;o<i;o++){var a=e[o];t.hasOwnProperty(a)&&(r=!0,n[a]=t[a])}return!!r&&n}e.exports=function t(e,r,n){var o;try{a=e||a||React,o=n||a.Component}catch(e){return}if(a&&o&&(!l||n)){var i=function(e,t,r){o.call(this,e,t,r)};if(p.utils.inherits(i,o),(e=i.prototype).storeKeys=null,e.componentWillMount=function(){if(this.store&&(Array.isArray(this.stores)?this.stores.unshift(this.store):this.stores=[this.store]),this.stores){this.__storeunsubscribes__=this.__storeunsubscribes__||[];for(var t=this.setState.bind(this),e=function(e){(e=f(this.storeKeys,e))&&t(e)}.bind(this),r=0,n=this.stores.length;r<n;r++){var o=this.stores[r];if("function"==typeof o){var i=o.id;if(o.singleton||(o.singleton=new o,i&&(p.stores[i]=o.singleton)),this.stores[r]=o=o.singleton,(o.id=i)&&p.GlobalState[i]){for(var a in p.GlobalState[i])o.state[a]=p.GlobalState[i][a];p.GlobalState[i]=o.state}else i&&(p.GlobalState[i]=o.state)}p.serverMode||this.__storeunsubscribes__.push(o.listen(e));var l=f(this.storeKeys,o.state);l&&this.setState(l)}}this.__readytomap__=!0;var s=this.__delayedmaps__;if(s)for(var c=0,u=s.length;c<u;c++)s[c].func(s[c].state);this.__delayedmaps__=null},e.componentWillUnmount=function(){if(this.__storeunsubscribes__)for(var e=0,t=this.__storeunsubscribes__.length;e<t;e++)this.__storeunsubscribes__[e]();this.__readytomap__=!1},e.mapStoreToState=function(e,n){"function"==typeof e&&(e=e.singleton||p.initStore(e));var o=this;function t(e){if(e=n.call(o,e)){var t,r=!1;for(t in e){r=!0;break}r&&o.setState(e)}}this.__storeunsubscribes__=this.__storeunsubscribes__||[],this.__storeunsubscribes__.push(e.listen(t)),this.__readytomap__?t(e.state):(this.__delayedmaps__=this.__delayedmaps__||[],this.__delayedmaps__.push({func:t,state:e.state}))},i.extend=function(e){return t(null,0,e)},n)return i;p.Component=i,a.PureComponent&&(p.PureComponent=i.extend(a.PureComponent)),e=(i=function(){this.__store__=p.createStore(),this.state={};var e,r=this;for(e in this.__store__)!function(t){Object.defineProperty(r,t,{get:function(){return r.__store__[t]},set:function(e){r.__store__[t]=e}})}(e)}).prototype,Object.defineProperty(e,"listenables",{get:function(){return this.__listenables__},set:function(e){var r={};Array.isArray(e)?e.forEach(function(e){for(var t in e)r[t]=e[t]}):r=e,this.__listenables__=r,this.listenToMany(r)},enumerable:!0,configurable:!0}),e.setState=function(e){for(var t in e)this.state[t]=e[t];this.id&&(p.GlobalState[this.id]=this.state),this.trigger(e)},Object.defineProperty(i,"isES6Store",{get:function(){return!0},enumerable:!0,configurable:!0}),Object.defineProperty(i,"state",{get:function(){if(!this.singleton)throw new Error("Reflux.Store.state is inaccessible before the store has been initialized.");return this.singleton.state},enumerable:!0,configurable:!0}),p.Store=i,p.GlobalState=p.GlobalState||{},p.stores={},p.getGlobalState=function(){return function e(t,r){if(null===t||"object"!=typeof t)return t;if(t.constructor!==Object&&t.constructor!==Array)return t;if(t.constructor===Date||t.constructor===RegExp||t.constructor===Function||t.constructor===String||t.constructor===Number||t.constructor===Boolean)return new t.constructor(t);for(var n in r=r||new t.constructor,t)r[n]=void 0===r[n]?e(t[n],null):r[n];return r}(p.GlobalState)},p.setGlobalState=function(e){for(var t in e)p.stores[t]?p.stores[t].setState(e[t]):p.GlobalState[t]=e[t]},p.initializeGlobalStore=p.initStore=function(e){var t=e.id;if(e.singleton)return e.singleton;if(!t)return e.singleton=new e,e.singleton;var r=e.singleton=new e;if((p.stores[t]=r).id=t,p.GlobalState[t]){for(var n in p.GlobalState[t])r.state[n]=p.GlobalState[t][n];p.GlobalState[t]=r.state}else p.GlobalState[t]=r.state;return r},l=!0}}},function(e,t,r){"use strict";r.r(t),r.d(t,"Actions",function(){return N}),r.d(t,"API",function(){return le}),r.d(t,"ApplicationRouter",function(){return un}),r.d(t,"FlowContent",function(){return qt}),r.d(t,"FormContent",function(){return At}),r.d(t,"WorkflowContent",function(){return Yt}),r.d(t,"ScreenContent",function(){return en}),r.d(t,"NotificationComponent",function(){return rr}),r.d(t,"SignalRConnector",function(){return fn}),r.d(t,"StateBindedForm",function(){return pr}),r.d(t,"Store",function(){return M}),r.d(t,"Thunks",function(){return dt}),r.d(t,"DWKitAppForm",function(){return Ge}),r.d(t,"oidcClient",function(){return jn}),r.d(t,"navigate",function(){return rn}),r.d(t,"navigationRef",function(){return tn});var i=r(0),l=r.n(i),n=r(13),v=r.n(n),o=r(6),N=Object(o.createActions)({UPDATESTATE:function(e){return{stateDelta:e}},APP:{USERINFO:{FETCH:{BEGIN:void 0,SUCCESS:function(e){return{user:e}},FAILURE:function(e,t){return{error:e,details:t}}}},CLEARERRORS:void 0,FAILURE:function(e,t,r){return{error:e,details:t,level:r}},FETCHBEGIN:void 0,RESETFETCHCOUNT:void 0,IMPERSONATEDUSERIDFROMURL:void 0,SETAUTH:function(e){return{type:e}},FORM:{MODEL:{FETCH:{BEGIN:void 0,SUCCESS:function(e,t,r,n,o){return{model:e,name:r,modalId:n,formParams:o,mapping:t}},FAILURE:function(e,t){return{error:e,details:t}}},CHANGE:function(e,t){return{name:e,modalId:t}}},DATA:{FETCH:{BEGIN:void 0,SUCCESS:function(e,t,r){return{data:e,isNew:r,modalId:t}},FAILURE:function(e,t){return{error:e,details:t}}},UPDATE:function(e,t,r,n){return{key:e,value:t,modalId:r,additionalValues:n}},SAVE:{BEGIN:void 0,SUCCESS:function(e,t,r){return{data:e,url:r,modalId:t}},FAILURE:function(e,t,r,n){return{error:e,details:t,level:r,formerrors:n}}},DELETE:{BEGIN:void 0,SUCCESS:function(e){return{name:e}},FAILURE:function(e,t,r,n){return{error:e,details:t,level:r,formerrors:n}}},UPDATEFROMCHILD:function(e,t,r){return{key:e,value:t,modalId:r}},UPDATEMODALFILTER:function(e,t){return{filter:e,modalId:t}},SETPROCESSPARAMETERS:function(e,t){return{modalId:e,parameters:t}}},CLEAR:function(e){return{modalId:e}},REFRESH:function(e){return{modalId:e}}}},ROUTER:{PUSH:function(e){return{newurl:e}},REDIRECT:function(e){return{newurl:e}},REFRESH:function(){return{newurl:"refresh"}},RELOAD:function(){return{newurl:"reload"}},ROUTECHANGED:function(e,t,r){return{history:e,location:t,changeRefreshKey:r}},CHANGEURLFILTER:function(e,t){return{newfilter:e,clearCommand:t}},SETSCREEN:function(e){return{screen:e}}},SETTINGS:{SET:function(e,t){return{key:e,value:t}}}}),a=r(11),s=r.n(a),c=r(14),t=r(39),n=r(40),a=r.n(n),u={app:{user:null,impersonatedUserId:null,fetchCount:0,error:void 0,errorDetails:void 0,modals:{models:{},windows:{},order:[]},form:{models:{model:null,mapping:null,hideControls:null,readOnlyControls:null,readOnly:null},filters:{main:null},data:{isDirty:!1,isNew:!1,original:null,modified:null},errors:null,formParams:{schemes:null,securityGroup:void 0,permissions:null,name:null}},authType:"identityserver",screens:[]},router:{history:null,redirect:null,location:null,push:null,refreshKey:null,screen:null},settings:{backendUrl:"",fetchOptions:void 0,form:"form",flow:"flow",workflow:"workflow",accountget:"/account/get",uiform:"/ui/form",uiflow:"/ui/flow",uiworkflow:"/ui/workflow",dataget:"/data/get",datachange:"/data/change",datadelete:"/data/delete",datadictionary:"/data/dictionary",dataupload:"/data/upload/",datadownload:"/data/download/",dataexport:"/data/export",workflowget:"/workflow/get",workflowexecute:"/workflow/execute",workflowset:"/workflow/set",notificationhub:"/hubs/notifications",executeaction:"/actions/execute",mobile:!1}};function p(e){return function(e){if(Array.isArray(e))return f(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return f(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(r="Object"===r&&e.constructor?e.constructor.name:r)||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?f(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function d(t,e){var r,n=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)),n}function h(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?d(Object(r),!0).forEach(function(e){y(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):d(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}function y(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}n={failure:function(e,t){var r=t.payload,n=r.error,o=r.details,i=r.level,t=r.formerrors,r=t?t.modalId:null;return h(h({},e),{},r?{fetchCount:e.fetchCount<=0?0:e.fetchCount-1,error:n,errorLevel:i,errorDetails:o,modals:h(h({},e.modals),{},{windows:h(h({},e.modals.windows),{},y({},r,h(h({},e.modals.windows[r]),{},{errors:t?t.errors:null})))})}:{fetchCount:e.fetchCount<=0?0:e.fetchCount-1,error:n,errorLevel:i,errorDetails:o,form:h(h({},e.form),{},{errors:t?t.errors:null})})}},n={CLEAR:function(e,t){t=t.payload.modalId;return h(h({},e),{},t?{modals:h(h({},e.modals),{},{windows:h(h({},e.modals.windows),{},y({},t,h(h({},e.modals.windows[t]),{},{data:h(h({},e.modals.windows[t].data),{},{isDirty:!1,original:null,modified:null})})))})}:{form:h({},u.app.form)})},MODEL:{FETCH:{BEGIN:function(e){return h(h({},e),{},{fetchCount:e.fetchCount+1})},SUCCESS:function(e,t){var r=t.payload,n=r.model,o=r.name,i=r.formParams,t=r.mapping;if(r.modalId){r=h(h({},e),{},{fetchCount:e.fetchCount<=0?0:e.fetchCount-1});return r.modals.models[o]={model:n,mapping:t,formParams:i},r}return h(h({},e),{},{fetchCount:e.fetchCount<=0?0:e.fetchCount-1,form:h(h({},e.form),{},{models:h(h({},e.form.models),{},{model:n,mapping:t}),formParams:i})})},FAILURE:function(e,t){var r=t.payload,t=r.error,r=r.details;return h(h({},e),{},{fetchCount:e.fetchCount<=0?0:e.fetchCount-1,error:t,errorDetails:r})}},CHANGE:function(e,t){var r=t.payload,t=r.name,r=r.modalId;return r&&e.modals.windows[r]?h(h({},e),{},{modals:h(h({},e.modals),{},{windows:h(h({},e.modals.windows),{},y({},r,h(h({},e.modals.windows[r]),{},{name:t})))})}):e}},DATA:{FETCH:{BEGIN:function(e){return h(h({},e),{},{fetchCount:e.fetchCount+1})},SUCCESS:function(e,t){var r=t.payload,n=r.data,o=r.modalId,t=r.isNew;o&&e.modals.windows[o]&&((i=e.modals.windows[o].data)&&i.isNew&&(t=!0)),t&&(n.__id="CLIENT__"+$());var r=X(n),i=(o?e.modals.windows[o]:e.form).data;if(Q(i.original,n),Q(i.modified,r),o)return h(h({},e),{},{fetchCount:e.fetchCount<=0?0:e.fetchCount-1,modals:h(h({},e.modals),{},{windows:h(h({},e.modals.windows),{},y({},o,h(h({},e.modals.windows[o]),{},{errors:null,data:h(h({},e.modals.windows[o].data),{},{isDirty:!1,isNew:!!t,original:n,modified:r})})))})});var a,l=h({},e.modals.windows);for(a in l)l.hasOwnProperty(a)&&(l[a]=h(h({},l[a]),{},{errors:null}));return h(h({},e),{},{fetchCount:e.fetchCount<=0?0:e.fetchCount-1,form:h(h({},e.form),{},{data:h(h({},e.form.data),{},{isDirty:!1,isNew:!!t,original:n,modified:r}),errors:null}),modals:h(h({},e.modals),{},{windows:l})})},FAILURE:function(e,t){var r=t.payload,t=r.error,r=r.details;return h(h({},e),{},{fetchCount:e.fetchCount<=0?0:e.fetchCount-1,error:t,errorDetails:r})}},UPDATEFROMCHILD:function(e,t){function r(e,t){if(Array.isArray(e)){var r=p(e),n=r.findIndex(function(e){return e.__id===t.__id});return 0<=n?r[n]=K(r[n],t):r.push(t),r}return K(e,t)}var n=t.payload,o=n.key,i=n.value,a=n.modalId,t=(!!a?e.modals.windows[a]:e.form).data,n=r(o?t.modified[o]:t.modified,i),t=r(o?t.original[o]:t.original,i);if(a){i=h({},e),a=i.modals.windows[a].data;return o?(a.modified[o]=n,a.original[o]=t):(a.modified=n,a.original=t),i}return h(h({},e),{},o?{form:h(h({},e.form),{},{data:h(h({},e.form.data),{},{modified:h(h({},e.form.data.modified),{},y({},o,n)),original:h(h({},e.form.data.original),{},y({},o,t))})})}:{form:h(h({},e.form),{},{data:h(h({},e.form.data),{},{modified:n,original:t})})})},UPDATEMODALFILTER:function(e,t){var r=t.payload,t=r.filter,r=r.modalId;return h(h({},e),{},{modals:h(h({},e.modals),{},{windows:h(h({},e.modals.windows),{},y({},r,h(h({},e.modals.windows[r]),{},{data:h(h({},e.modals.windows[r].data),{},{filter:t})})))})})},SETPROCESSPARAMETERS:function(e,t){var r=t.payload,n=r.parameters,t=r.modalId;if(n){var r=(t?e.modals.windows[t]:e.form).data,o=h({},r.modified),i=h({},r.original);return Object.keys(o).filter(function(e){return e.startsWith("_wp")}).forEach(function(e){delete o[e]}),Object.keys(i).filter(function(e){return e.startsWith("_wp")}).forEach(function(e){delete i[e]}),Object.keys(n).forEach(function(e){o["_wp".concat(e)]=i["_wp".concat(e)]=n[e]}),h(h({},e),{},t?{modals:h(h({},e.modals),{},{windows:h(h({},e.modals.windows),{},y({},t,h(h({},e.modals.windows[t]),{},{data:h(h({},e.modals.windows[t].data),{},{modified:o,original:i})})))})}:{form:h(h({},e.form),{},{data:h(h({},e.form.data),{},{modified:o,original:i})})})}},UPDATE:function(e,t){var r,n=t.payload,o=n.key,i=n.value,a=n.modalId,l=n.additionalValues,s=null,s=o?((r={})[o]=i,l&&!Array.isArray(l)&&Object.keys(l).forEach(function(e){r["".concat(o,"_").concat(e)]=l[e]}),K((a?e.modals.windows[a]:e.form).data.modified,r)):i;if(a){t=h({},e);t.modals.windows[a]||(t.modals.windows[a]={});n=t.modals.windows[a].data;return n?(i=t.modals.windows[a].data.original,H(s,i)?n.isDirty=!!n.isNew&&n.isDirty:n.isDirty=!0,n.modified=s,n.additionalValues[o]=l):((n=new{original:null,modified:s,isDirty:!0,isNew:!0,additionalValues:{}}).additionalValues[o]=l,t.modals.windows[a].data=n),t}s=H(s,e.form.data.original)?h(h({},e),{},{form:h(h({},e.form),{},{data:h(h({},e.form.data),{},{isDirty:!!e.form.data.isNew&&e.form.data.isDirty,modified:s}),errors:null})}):h(h({},e),{},{form:h(h({},e.form),{},{data:h(h({},e.form.data),{},{isDirty:!0,modified:s})})});return s},SAVE:{BEGIN:function(e){return h(h({},e),{},{fetchCount:e.fetchCount+1})},SUCCESS:function(e,t){var r=t.payload,t=r.data,r=r.modalId,e=h(h({},e),{},{fetchCount:e.fetchCount<=0?0:e.fetchCount-1,form:h({},e.form)});return r?e.modals.windows[r]&&(e.modals.windows[r].errors=null,(r=e.modals.windows[r].data).isNew=!1,r.isDirty=!1,null!==t&&(Q(r.modified,t),r.modified=t),r.original=X(r.modified)):(e.form.errors=null,e.form.data.isNew=!1,e.form.data.isDirty=!1,null!==t&&(Q(e.form.data.modified,t),e.form.data.modified=t),e.form.data.original=e.form.data.modified,Object.values(e.modals.windows).forEach(function(e){e=e.data;e.isNew=!1,e.isDirty=!1,e.original=X(e.modified)})),e},FAILURE:n.failure},DELETE:{BEGIN:function(e){return h(h({},e),{},{fetchCount:e.fetchCount+1})},SUCCESS:function(e,t){t.payload;return h(h({},e),{},{fetchCount:e.fetchCount<=0?0:e.fetchCount-1})},FAILURE:n.failure}}};function m(t,e){var r,n=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)),n}function b(n){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?m(Object(o),!0).forEach(function(e){var t,r;t=n,e=o[r=e],r in t?Object.defineProperty(t,r,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[r]=e}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(o)):m(Object(o)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(o,e))})}return n}var g=Object(o.handleActions)({APP:{USERINFO:{FETCH:{BEGIN:function(e){return b(b({},e),{},{fetchCount:e.fetchCount+1})},SUCCESS:function(e,t){t=t.payload.user;return b(b({},e),{},{user:t,fetchCount:e.fetchCount<=0?0:e.fetchCount-1})},FAILURE:function(e,t){var r=t.payload,t=r.error,r=r.details;return b(b({},e),{},{error:t,errorDetails:r,fetchCount:e.fetchCount<=0?0:e.fetchCount-1})}}},CLEARERRORS:function(e){return b(b({},e),{},{error:void 0,errorLevel:void 0,errorDetails:void 0})},FAILURE:function(e,t){var r=t.payload,n=r.error,t=r.details,r=r.level;return b(b({},e),{},{error:n,errorLevel:r,errorDetails:t,fetchCount:e.fetchCount<=0?0:e.fetchCount-1})},FETCHBEGIN:function(e){return b(b({},e),{},{fetchCount:e.fetchCount+1})},RESETFETCHCOUNT:function(e){return b(b({},e),{},{fetchCount:0})},FORM:n,IMPERSONATEDUSERIDFROMURL:function(e){return b(b({},e),{},{impersonatedUserId:dt.common.getParameterFormUrlOrCookie("impersonatedUserId")})},SETAUTH:function(e,t){t=t.payload.type;return b(b({},e),{},{authType:t})}}},u.app),w=Object(o.handleActions)({UPDATESTATE:function(e,t){t=t.payload.stateDelta;if(!t||W(t))return e;var r=K(e,t);return Object.keys(r.app.modals.windows).forEach(function(e){r.app.modals.windows[e]||delete r.app.modals.windows[e]}),r}},u),O=["copy"];function C(e){var t={urlFilter:null,type:null,name:null,options:null,command:null};if(e){e="string"==typeof e?e:e.pathname;return e.includes("?")?S(e.split("?")[0],t):S(e,t)}return t}function S(e,t){var r=e.split("/");return 1<r.length&&(t.type=r[1]),2<r.length&&(t.name=r[2]),3<r.length&&(t.urlFilter=r[3]),5===r.length&&(e=r[4],O.includes(e)?t.command=e:t.options=e),5<r.length&&(t.command=r[4],t.options=r[5]),t}function E(e,t,r){r=!(2<arguments.length&&void 0!==r)||r,e=e.split("/");return 3<e.length?e[3]=t:e.push(t),r&&4<e.length&&O.includes(e[4])&&(5===e.length?e.pop():e.slice(4,1)),e.join("/")}var L={filterFromLocation:function(e){return C(e).urlFilter},formFilterFromLocation:function(e){var t=M.getState(),r=C(e),e=r.type,r=r.urlFilter;return!e||e!==t.settings.form&&e!==t.settings.flow&&e!==t.settings.workflow?null:r},typeFromLocation:function(e){var t=C(e),e=t.type;t.name;return e},nameFromLocation:function(e,t){var r=C(e),e=r.type,r=r.name;return e&&e.toLowerCase()===t?r:null},changeFilter:function(e,t,r){var n=e.pathname;if(n.includes("?")){e=n.split("?");return"".concat(E(e[0],t,r),"?").concat(e[1])}return E(n,t,r)},formDataFromLocation:function(e){var t=C(e),r=t.urlFilter,e=t.options;return t.type!==M.getState().settings.form?{urlFilter:null,options:null}:{urlFilter:r,options:e}},deconstructLocation:C,getParamValue:function(e,t){return!e||!e.search||e.search.length<2?null:new URLSearchParams(e.search.substring(1)).get(t)}},k={getWindowLocation:function(){return window.location},setCurrentLocation:function(e){return window.location.href=e},loadScript:function(e,t){var r;window.document&&((r=window.document.createElement("script")).src="data:text/javascript,"+encodeURIComponent(e),window.document.body.appendChild(r),t&&t())},openExcel:function(e,t){var r=document.createElement("a"),t=new Blob([t],{type:"application/vnd.ms-excel"}),e=e.fileName||e.propertyName+".xlsx";r.setAttribute("href",window.URL.createObjectURL(t)),r.setAttribute("download",e),document.body.appendChild(r),r.onclick=function(){return window.document.body.removeChild(r)},r.click()},getCookie:function(){return window.document&&window.document.cookie},setCookie:function(e){window.document&&(window.document.cookie=e)}};function j(t,e){var r,n=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)),n}function x(n){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?j(Object(o),!0).forEach(function(e){var t,r;t=n,e=o[r=e],r in t?Object.defineProperty(t,r,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[r]=e}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(o)):j(Object(o)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(o,e))})}return n}var P=Object(o.handleActions)({ROUTER:{ROUTECHANGED:function(e,t){var r=t.payload,n=r.history,t=r.location,r=r.changeRefreshKey;return x(x({},e),{},{push:null,redirect:null,refresh:null,reload:null,history:n,location:t,refreshKey:r?$():e.refreshKey})},PUSH:function(e,t){t=t.payload.newurl;return x(x({},e),{},{push:t,redirect:null,refresh:null,reload:null})},REDIRECT:function(e,t){t=t.payload.newurl;return x(x({},e),{},{redirect:t,push:null,refresh:null,reload:null})},REFRESH:function(e,t){t=t.payload.newurl;return x(x({},e),{},{refresh:t,reload:null,redirect:null,push:null})},RELOAD:function(e,t){t=t.payload.newurl;return x(x({},e),{},{reload:t,refresh:null,redirect:null,push:null})},CHANGEURLFILTER:function(e,t){var r=t.payload,n=r.newfilter,t=r.clearCommand,r=k.getWindowLocation();return x(x({},e),{},{redirect:L.changeFilter(r,n,t),push:null,refresh:null,reload:null})},SETSCREEN:function(e,t){t=t.payload.screen;return x(x({},e),{},{screen:t})}}},u.router);function T(t,e){var r,n=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)),n}function _(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?T(Object(r),!0).forEach(function(e){D(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):T(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}function D(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var R=Object(o.handleActions)({SETTINGS:{SET:function(e,t){var r=t.payload,t=r.key,r=r.value;return _(_({},e),{},D({},t,r))}}},u.settings),F={preFetchUser:function(){return Promise.resolve()},logoff:function(){var e=k.getWindowLocation();k.setCurrentLocation(e.href)},onLogon:function(){}},A={cookie:F},I={get:function(e){e=e.getState().app.authType,e=A[e];return e||F},addProvider:function(e,t){return A[e]=t}},B=(Object(c.combineReducers)({"":w,app:g,router:P,settings:R}),Object(c.createStore)(function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=1<arguments.length?arguments[1]:void 0;return"UPDATESTATE"===t.type?w(e,t):{app:g(e.app,t,e),router:P(e.router,t,e),settings:R(e.settings,t,e)}},u,Object(t.composeWithDevTools)(Object(c.applyMiddleware)(a.a))));B.getState().app.addQueryParams=function(e){for(var t in B.additionalParams||(B.additionalParams={}),e)B.additionalParams[t]=e[t]},B.resetForm=function(e){var t=B.getState();t.app.form=u.app.form,e&&(t.app.modals.models={})},B.logoff=function(){I.get(B).logoff().then(function(){B.resetStateInStorage()}).catch(function(e){B.dispatch(N.app.failure("Logoff failed",e.message,1))})},B.login=function(r){I.get(B).onLogon().then(function(){B.dispatch(dt.userinfo.fetch(function(e){r&&r(e);var t=B.getState().settings.router;t&&t.userLoaded&&t.userLoaded(e)}))}).catch(function(e){B.dispatch(N.app.failure("Logon failed",e.message,1))})},B.signinRedirect=function(){I.get(B).signinRedirect()},B.encodeQueryData=function(e){var t,r=[],n=B.getState();for(t in n.app.impersonatedUserId&&r.push("impersonatedUserId="+encodeURIComponent(n.app.impersonatedUserId)),e)e.hasOwnProperty(t)&&r.push(encodeURIComponent(t)+"="+encodeURIComponent(e[t]));return r.join("&")},B.getAuthState=function(){var e=I.get(B);return null==e.getAuthState&&console.log("getAuthState is not implemented for this auth provider."),e.getAuthState()},B.setAuthState=function(e){var t=I.get(B);return null==t.setAuthState&&console.log("setAuthState is not implemented for this auth provider."),t.setAuthState(e)},B.loadStateFromStorage=function(){console.log("loadStateFromStorage is not implemented for this build.")},B.saveStateToStorage=function(){console.log("loadStateFromStorage is not implemented for this build.")},B.resetStateInStorage=function(){};var M=window.DWKitStore=B;function V(t,e){var r,n=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)),n}function U(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?V(Object(r),!0).forEach(function(e){q(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):V(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}function q(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function z(e){return(z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var H=function(e,t){return JSON.stringify(e)===JSON.stringify(t)};function W(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return;return 1}function G(e,t){return t}var K=function(e,t){return s()(e,t,{arrayMerge:G})},$=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)})},J=/^(\d{4})-(\d{2})-(\d{2})T(\d{2}):(\d{2}):(\d{2}(?:\.\d*)?)(Z|([+\-])(\d{2}):(\d{2}))$/;function Y(e,t){return"string"==typeof t&&J.test(t)?new Date(t):t}function X(e){var t,r,n=U({},e);for(t in n)Array.isArray(n[t])&&(r=[],e[t].forEach(function(e){"object"===z(e)?r.push(U({},e)):r.push(e)}),n[t]=r);return n}function Q(t,r){t&&Object.keys(t).filter(function(e){return e.startsWith("_wp")}).forEach(function(e){r[e]=t[e]})}function Z(){return window.DWKitAdminLang}function ee(e,t){var r=t.model,n=t.data,o=t.mapping,i=t.hideControls,a=t.readOnlyControls,l=t.readOnly,s=t.filters,t=t.errors;return function t(r){return Object.keys(r).forEach(function(e){r[e]&&"object"===z(r[e])?t(r[e]):void 0===r[e]&&delete r[e]}),r}(e?{app:{modals:{models:q({},M.getState().app.modals.windows[e].name,{model:r,mapping:o}),windows:q({},e,{data:{modified:n},hideControls:i,readOnlyControls:a,readOnly:l,filters:s,errors:t})}}}:{app:{form:{data:{modified:n},models:{model:r,mapping:o,hideControls:i,readOnlyControls:a,readOnly:l},filters:s,errors:t}}})}var te,re=r(2),t=r(4),ne=r.n(t),oe=function(e,t,r,o,n,i){var a=new FormData;a.append("request",JSON.stringify(t));t=M.getState().settings,e=t.executeaction+"?"+M.encodeQueryData({name:e});i&&(e+="&useServerCodeActionRequest=true"),t.mobile&&(e+="&mobile=true");a=(a=dt.configuredFetch(e,{method:"post",body:a})).then(function(e){return e.json()});if(r&&(a=a.then(function(e){var t=r(e);return void 0!==t?t:e})),n&&(a=a.then(function(e){if(null!=e){if(e.success){var t={},r=!1,n=e.result;return null==n?{}:(n.hasOwnProperty("data")&&(t.data=n.data,r=!0),n.hasOwnProperty("stateDelta")&&(t.stateDelta=n.stateDelta,r=!0),r||(t.stateDelta=n),o&&M.dispatch(actions.updatestate(t.stateDelta)),t)}if(!o)throw{level:1,message:e.message,details:e.details};M.dispatch(actions.app.failure(e.message,e.details,1))}return{}})),!o)return a},ie={getModelConrol:function(e,t){for(var r in e){var n=e[r];if(n.key==t)return n;if(n.children&&0<n.children.length){r=ie.getModelConrol(n.children,t);if(null!=r)return r}if(n.placeholders)for(var o in n.placeholders){o=ie.getModelConrol(n.placeholders[o],t);if(null!=o)return o}}},changeModelControl:function(e,t,r,n){return ie.changeModelControls(e,[{key:t,name:r,value:n}])},changeModelControls:function(e,t){function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];e.key==n.key&&(e[n.name]=n.value)}if(null!=e.children&&0<e.children.length)for(var o in e.children)a(e.children[o],t);if(null!=e.placeholders&&0<e.placeholders.length)for(var i in e.placeholders)a(e.placeholders[i],t)}var r,n=e.modalId?e.state.app.modals.windows[e.modalId].name:null,o=(e.modalId?e.state.app.modals.models[n]:e.state.app.form.models).model;for(r in o)a(o[r],t);return ee(e.modalId,{model:o})},setDataField:function(e,t,r){M.dispatch(N.app.form.data.update(e,t,r))},rewriteControlModel:function(e,t,r){var n=M.getState(),o=r?n.app.modals.windows[r].name:null,n=(r?n.app.modals.models[o]:n.app.form.models).model,i=ie.getModelConrol(n,e),a=t(i);if(a!==i)for(var l in a)i[l]=a[l]},clearErrors:function(){M.dispatch(N.app.clearerrors())},forceUpdate:function(){M.dispatch(N.updatestate({}))},redirectToForm:function(e,t){ie.redirect("form",e,t)},redirectToFlow:function(e,t){ie.redirect("flow",e,t)},redirectToUrl:function(e){M.dispatch(N.router.push(e))},redirect:function(e,t,r){t="/"+e+"/"+t;null!=r&&(t+="/"+r),M.dispatch(N.router.push(t))},formValidate:function(e){return Re.validate(e)},createElement:function(e,t,r){return l.a.createElement(e,t,r)},checkRole:function(e){return De.checkRole(e,M.getState())},checkPermission:function(e,t){return De.checkPermission(e,M.getState(),t)},callUrl:function(e,t,r){var n=!(3<arguments.length&&void 0!==arguments[3])||arguments[3],t=dt.configuredFetch(e,t);return n&&(t=t.then(function(e){return e.json()})),t=r?t.then(function(e){return r(e)}):t},callServerCodeAction:function(e,t,r,n,o){return oe(e,t,r,!1,n,o)},callServerCodeActionDispatch:function(e,t,r,n){oe(e,t,r,!0,autoResultProcessing,useServerCodeActionRequest)},openModal:function(e,t,r){var n=r.type,o=r.viewType,i=r.sidebarWidth,a=r.sidebarFrom,l=r.onOpenFunc,s=r.onCloseFunc,c=r.callContext,u=r.closeOnOutsideClick,p=r.data,f=M.getState(),r=f.app.modals.order.length?f.app.modals.order[f.app.modals.order.length-1]:null;return Re.openModal({modalId:r,state:f,controlRef:void 0,parameters:{filter:t,name:e,type:n,viewType:o,sidebarSettings:{from:a,width:i},onOpenFunc:l,onCloseFunc:s,closeOnOutsideClick:u,data:p},callContext:c})},openModalDispatch:function(e,t,r){var n=r.type,o=r.viewType,i=r.sidebarWidth,a=r.sidebarFrom,l=r.onOpenFunc,s=r.onCloseFunc,c=r.callContext,u=r.closeOnOutsideClick,r=r.data,r=ie.openModal(e,t,{type:n,viewType:o,sidebarWidth:i,sidebarFrom:a,onOpenFunc:l,onCloseFunc:s,callContext:c,closeOnOutsideClick:u,data:r});"function"==typeof r?r(M.dispatch).then(function(e){e&&e.stateDelta&&M.dispatch(N.updatestate(e.stateDelta))}):M.dispatch(N.updatestate(r))},executeActions:function(e){return dt.form.executeActions(e)},executeActionsDispatch:function(e){M.dispatch(dt.form.executeActions(e))},setCookie:function(e,t){dt.common.setCookie(e,t)},getCookie:function(e){return dt.common.getCookie(e)},getParameterFormUrlOrCookie:function(e){return dt.common.getParameterFormUrlOrCookie(e)},setAuth:function(e){M.dispatch(N.app.setauth(e))},loadBackendScript:function(e,t,r){return dt.configuredFetch(e,t).then(function(e){return e.text()}).then(function(e){k.loadScript(e,r)}).catch(function(e){console.error(e)})},convertToState:ee,getWindowState:(te=function(e,t){return getWindowState(e,t)},ae.toString=function(){return te.toString()},ae),validate:function(e,t,r){r=r||M.getState(),e=e||(t?r.app.modals.models[r.app.modals.windows[t].name]:r.app.form).data.modified;for(var n=!0,o={},i=t?De.getControlsForValidate(r.app.modals.models[r.app.modals.windows[t].name].model):De.getControlsForValidate(r.app.form.models.model),a=0;a<i.length;a++){var l=i[a].propertyName||i[a].key,s=De.validate(i[a],e[l],e);s&&(o[l]=s,n=!1)}return n?null:o},loadImage:function(e,r){e=M.getState().settings.datadownload+e;ie.callUrl(e,void 0,void 0,!1).then(function(e){return e.blob()}).then(function(e){var t;0==e.size?r(void 0):((t=new FileReader).onload=function(){r(this.result)},t.readAsDataURL(e))})}};function ae(e,t){return te.apply(this,arguments)}var le=ie;function se(e){return function(e){if(Array.isArray(e))return ce(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return ce(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(r="Object"===r&&e.constructor?e.constructor.name:r)||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?ce(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ce(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var ue={open:function(e,t,r,n,o,i,a,l,s,c,u,p,f,d){null===n&&(n=void 0);var h="form"===l,y="flow"===l,m="workflow"===l,v=h?t.app.modals.models[r]:null,b=se(t.app.modals.order),g=r+"_"+b.length;b.push(g);var w={};return w[g]={id:g,parentId:e,data:{isDirty:!1,isNew:i,original:n,modified:n,additionalValues:{},filter:o,property:a},errors:null,name:h?r:null,type:l,viewType:s,sidebarSettings:c,onOpenFunc:u,onCloseFunc:p,preventLoad:void 0!==n,flowName:y?r:void 0,schemeName:m?r:void 0,keyIndex:0,callContext:f,closeOnOutsideClick:d},h?!v&&h?function(e){return dt.form.fetchform(r,g)(e).then(function(){if(w[g].onOpenFunc&&!w[g].onOpenFunc(g,w[g],t))return{};return re.Promise.resolve({stateDelta:{app:{modals:{windows:w,order:b}}}})})}:{app:{modals:{windows:w,order:b}}}:m?function(e){return dt.form.fetchworkflow(r,o,w[g],i&&!!o)(e).then(function(){if(w[g].onOpenFunc&&!w[g].onOpenFunc(g,w[g],t))return{};return re.Promise.resolve({stateDelta:{app:{modals:{windows:w,order:b}}}})})}:function(e){return dt.form.fetchflow(r,o,w[g],i&&!!o)(e).then(function(){if(w[g].onOpenFunc&&!w[g].onOpenFunc(g,w[g],t))return{};return re.Promise.resolve({stateDelta:{app:{modals:{windows:w,order:b}}}})})}}};function pe(t,e){var r,n=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)),n}function fe(n){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?pe(Object(o),!0).forEach(function(e){var t,r;t=n,e=o[r=e],r in t?Object.defineProperty(t,r,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[r]=e}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(o)):pe(Object(o)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(o,e))})}return n}var de={edit:function(e){var t=e.state,r=e.controlRef,n=e.parameters,e=e.modalId;return de.operation({state:t,controlRef:r,parameters:n,modalId:e,op:"edit"})},create:function(e){var t=e.state,r=e.controlRef,n=e.parameters,e=e.modalId;return de.operation({state:t,controlRef:r,parameters:n,modalId:e,op:"create"})},copy:function(e){var t=e.state,r=e.controlRef,n=e.parameters,e=e.modalId;return de.operation({state:t,controlRef:r,parameters:n,modalId:e,op:"copy"})},operation:function(e){var t=e.state,r=e.controlRef,n=e.parameters,o=e.modalId,i=e.op,a=r.props,l="copy"===i,s="create"===i,c=void 0!==r.props.editType||"form"===r.props.editType,u=a.editForm;"flow"===r.props.editType?u=a.editFlow:"workflow"===r.props.editType&&(u=a.editWorkflow);var p=null,f=null,e=de.getSelectedRow({parameters:n,controlRef:r});if(!e&&!s)return{};i=r.props.name,a=r.props.propertyName&&""!=r.props.propertyName?r.props.propertyName:i,p=!s&&e.__loaded&&c?(c=t.app.modals.models[u],a=(o?t.app.modals.model[t.app.modals.windows[o].name]:t.app.form.models).mapping.toData[a],c=c.mapping.toForm,f=de.mapRow(de.mapRow(e,a),c),l&&(f.__id="CLIENT_"+$()),f.__id):s?null:e.__id;s&&((f=fe({},n)).__id||(f.__id="CLIENT_"+$()));return ue.open(o,t,u,f,p,l||s,i,r.props.editType||"form",r.props.editFormShowType,{from:r.props.sidebarDirection,width:n.sidebarWidth},void 0,function(e){var t=M.getState();M.dispatch(dt.form.executeActions({actions:["modalClosed"],controlRef:r,formName:t.app.modals.windows[e.modalId].name,modalId:o,parameters:e})),null!=r&&null!=r.props.handleEvent&&r.props.handleEvent({key:r.props.name,eventName:"onModalClosed",parameters:e})})},mapRow:function(e,r,n){var t,o={};for(t in e)!function(t){t.startsWith("__")&&(o[t]=e[t]),r&&r[t]&&(o[r[t]]=e[t],n&&n[t]&&Object.keys(n[t]).forEach(function(e){o["".concat(r[t],"_").concat(e)]=n[t][e]}))}(t);return o},getSelectedRow:function(e){var t=e.parameters,r=e.controlRef,n=-1;if("object"===z(e=t.rowIdx)&&null===e||void 0===e?0<r.state.selectedIndexes.length&&(n=r.state.selectedIndexes[0]):n=t.rowIdx,!(n<0))return r.state.items[n]}},he=de;function ye(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var me=new(function(){function n(){var e,t,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),r={},(t="map")in(e=this)?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}var e,t,r;return e=n,(t=[{key:"register",value:function(e,t){if(me.map[e])throw new Error("Component "+e+" already registered!");me.map[e]=t}},{key:"draw",value:function(e,t){var r=me.map[e];if(!r)throw new Error("Cannot find draw function for ".concat(e,", ").concat(t));return r(t)}}])&&ye(e.prototype,t),r&&ye(e,r),n}()),c=me.register,ve=me.draw;function be(e,t,r){return ve("alert",{message:e,type:t,props:r})}function ge(e,t){return be(e,"error",t)}function we(e,t){return be(e,"success",t)}var a=r(41),Oe=r.n(a);function Ce(e){return function(e){if(Array.isArray(e))return Se(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return Se(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(r="Object"===r&&e.constructor?e.constructor.name:r)||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Se(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Se(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Ee(e){return(Ee="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ke(t,e){var r,n=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)),n}function je(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?ke(Object(r),!0).forEach(function(e){xe(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ke(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}function xe(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Pe(e,n){var o=e.key,t=e.actions,i=e.controlRef,a=e.sourceControlRef,l=e.sourceControlValue,s=e.parameters,c=e.component,u=e.formName,p=e.schemeName,f=e.modalId,r=e.callContext;function d(e){return f?e.app.modals.windows[f]:e.app.form}if(!t||t.length<1)return re.Promise.resolve();var h,e=null==u?"":u.toLowerCase(),y=window.globalUserActions,m=window.DWKitApp.ActionHandlers?window.DWKitApp.ActionHandlers[e]:void 0,v=M.getState(),b=je({},v),g=null===(e=d(b)).data.modified||void 0===e.data.modified?{}:JSON.parse(JSON.stringify(e.data.modified)),w=null===e.data.original?null:je({},e.data.original),O=null,C={},S=r||{};for(h in t)!function(e){var r=t[e];O=O?O.then(function(e){var t=e.data,e=e.stateDelta;return e&&(C=K(C,e),b=K(b,e)),Te(o,r,y,m,i,a,l,s,t,w,b,c,u,p,f,n,S)}):Te(o,r,y,m,i,a,l,s,g,w,b,c,u,p,f,n,S)}(h);return O=O.then(function(e){var t=e.data,r=e.stateDelta;r&&(C=K(C,r));e=d(v);f?H(e.data.modified,t)||((r={app:{modals:{windows:xe({},f,{})}}}).app.modals.windows[f].data={modified:t},C=K(C,r)):H(e.data.modified,t)||(C=K(C,{app:{form:{data:{modified:t}}}})),W(C)||n(N.updatestate(C))})}function Te(e,t,r,n,o,i,a,l,s,c,u,p,f,d,h,y,m){function v(e){return{data:e&&e.data?e.data:s,stateDelta:e&&e.stateDelta?e.stateDelta:null}}var b=null;if(!(b=(b=!(b=n?n[t]:b)&&r?r[t]:b)||Re[t]))return le.callServerCodeAction(t,{data:s,parameters:l,formName:f,modalId:h},void 0,!0,!0).then(v);t=null;try{t=b({key:e,data:s,originalData:c,state:u,component:p,formName:f,schemeName:d,controlRef:o,sourceControlRef:i,sourceControlValue:a,parameters:l,modalId:h,callContext:m})}catch(e){return re.Promise.reject(e)}return t&&t.then instanceof Function?t.then(v):t instanceof Function?t(y).then(function(e){return re.Promise.resolve({data:e&&e.data?e.data:s,stateDelta:e&&e.stateDelta?e.stateDelta:null})}):re.Promise.resolve({data:s,stateDelta:t})}var _e=r(16),De={getControlsForValidate:function(e){var n=[];return e.forEach(function(e){var t;if((!0===e["other-required"]||void 0!==e["other-customValidation"]&&""!==e["other-customValidation"])&&n.push(e),void 0!==e.children&&0<e.children.length&&(t=De.getControlsForValidate(e.children),n=n.concat(t)),void 0!==e.placeholders)if("collectioneditor"===e["data-buildertype"])n.push(e);else for(var r in e.placeholders){r=De.getControlsForValidate(e.placeholders[r]);n=n.concat(r)}"customblock"===e["data-buildertype"]&&"source"===e.sourceType&&null!=e.source&&(t=ne.a.parse(e.source),t=De.getControlsForValidate(t),n=n.concat(t))}),n},validate:function(e,t,r){var n=void 0;if(!0===e["other-required"]&&(null==t||""===t||"collectioneditor"===e["data-buildertype"]&&Array.isArray(t)&&0===t.length))n="This field is required!";else if(void 0!==e["other-customValidation"]&&""!==e["other-customValidation"]){var o="return "+e["other-customValidation"],r=new Function("value, data",o)(t,r);"boolean"==typeof r?!1===r&&(n=!0):n=r}else if("collectioneditor"===e["data-buildertype"]&&Array.isArray(t)&&0<t.length&&Array.isArray(e.columns)){var i,a=[],l=!1;for(i in t){var s=t[i];if(null!=s){var c,u={__id:s.__id},p=!1;for(c in e.columns){var f,d=e.columns[c];"custom"==d.control&&e.placeholders&&(f=e.placeholders[d.key],Array.isArray(f)&&0<f.length&&((f=De.validate(f[0],s[d.key],s))&&(p=!0,u[d.key]=f)))}p&&(l=!0,a.push(u))}}l&&(n=a)}return n},initDefaultState:function(e,t){if(Array.isArray(e)&&void 0!==t)for(var r,n=0;n<e.length;n++){if(void 0!==e[n].defaultValue&&""!==e[n].defaultValue&&(t[e[n].propertyName||e[n].key]=e[n].defaultValue),Array.isArray(e[n].children)&&De.initDefaultState(e[n].children,t),void 0!==e[n].placeholders)for(var o in e[n].placeholders)De.initDefaultState(e[n].placeholders[o],t);"customblock"===e[n]["data-buildertype"]&&"source"===e[n].sourceType&&null!=e[n].source&&(r=ne.a.parse(e[n].source),De.initDefaultState(r,t))}},initDefaultStateFormUrl:function(e){void 0===e&&(e={});var t=function(e){if(window.location&&window.location.href.href){e=new RegExp("[?&]"+e+"=([^&#]*)").exec(window.location.href);return null==e?null:decodeURI(e[1])||0}return null}("defaultvalues");if(t){var r=void 0;try{r=ne.a.parse(t)}catch(e){}if(r&&"object"===Ee(r))for(var n in r)void 0!==r[n]&&(e[n]=r[n])}return e},checkPermission:function(e,t,r){var n=(r?t.app.modals.models[t.app.modals.windows[r].name]:t.app.form).formParams.permissions;if(Array.isArray(n))for(var o=0;o<n.length;o++)if(n[o].code===e)return 1===n[o].accessType||0===n[o].accessType;return!1},checkRole:function(e,t){return void 0!==t.app.user&&void 0!==t.app.user.roles&&t.app.user.roles.includes(e)},checkConditions:function(e){var t=e.model,r=e.data,n=e.state,o=e.modalId,i={hideControls:[],readOnlyControls:[]};if(null===t||null===r)return i;for(var a=0;a<t.length;a++){var l,s=t[a]["other-visibleConition"];if(void 0!==s&&""!==s&&(new Function("data, checkPermission, checkRole","return "+s)(r,function(e){return De.checkPermission(e,n,o)},function(e){return De.checkRole(e,n)})||i.hideControls.push(t[a].key)),void 0!==(s=t[a]["other-readOnlyConition"])&&""!==s&&(new Function("data, checkPermission, checkRole","return "+s)(r,function(e){return De.checkPermission(e,n,o)},function(e){return De.checkRole(e,n)})&&i.readOnlyControls.push(t[a].key)),Array.isArray(t[a].children)&&(l=De.checkConditions({model:t[a].children,data:r,state:n,modalId:o}),i={hideControls:i.hideControls.concat(l.hideControls),readOnlyControls:i.readOnlyControls.concat(l.readOnlyControls)}),void 0!==t[a].placeholders)for(var c in t[a].placeholders){c=De.checkConditions({model:t[a].placeholders[c],data:r,state:n,modalId:o});i={hideControls:i.hideControls.concat(c.hideControls),readOnlyControls:i.readOnlyControls.concat(c.readOnlyControls)}}"customblock"===t[a]["data-buildertype"]&&"source"===t[a].sourceType&&null!=t[a].source&&(l=ne.a.parse(t[a].source),l=De.checkConditions({model:l,data:r,state:n,modalId:o}),i={hideControls:i.hideControls.concat(l.hideControls),readOnlyControls:i.readOnlyControls.concat(l.readOnlyControls)})}return i}},Re={initSystem:function(e){var t=e.state,r=e.data,n=e.modalId,o=(n?t.app.modals.models[t.app.modals.windows[n].name]:t.app.form.models).model,i=(n?t.app.modals.models[t.app.modals.windows[n].name]:t.app.form).formParams,a=null;if(i&&i.securityGroup){var l=i.permissions;if(Array.isArray(l))for(var a=!0,s=0;s<l.length;s++)if("Edit"===l[s].code){1==l[s].accessType&&(a=!1);break}}if((n?t.app.modals.windows[n]:t.app.form).data.isNew){e=r;De.initDefaultState(o,e),De.initDefaultStateFormUrl(e);i=De.checkConditions({model:o,data:e,state:t,modalId:n});return n?{app:{modals:{windows:xe({},n,{data:{original:e,modified:e},hideControls:i.hideControls,readOnlyControls:i.readOnlyControls,readOnly:a})}}}:{app:{form:{data:{original:e,modified:e},models:{hideControls:i.hideControls,readOnlyControls:i.readOnlyControls,readOnly:a}}}}}t=De.checkConditions({model:o,data:r,state:t,modalId:n});return n?{app:{modals:{windows:xe({},n,{hideControls:t.hideControls,readOnlyControls:t.readOnlyControls,readOnly:a})}}}:{app:{form:{models:{hideControls:t.hideControls,readOnlyControls:t.readOnlyControls,readOnly:a}}}}},init:function(e){},dataReceived:function(e){},modalClosed:function(e){},checkConditions:function(e){var t=e.data,r=e.state,n=e.modalId,e=(n?r.app.modals.models[r.app.modals.windows[n].name]:r.app.form.models).model,r=De.checkConditions({model:e,data:t,state:r,modalId:n});return n?{app:{modals:{windows:xe({},n,{hideControls:r.hideControls,readOnlyControls:r.readOnlyControls})}}}:{app:{form:{models:{hideControls:r.hideControls,readOnlyControls:r.readOnlyControls}}}}},workflowExecuteCommand:function(e){var o=e.formName,i=e.state,s=e.parameters,c=e.modalId,u=e.callContext,p=e.schemeName,f=e.data,d=u.commandFormResult&&u.commandFormResult.commandParams?u.commandFormResult.commandParams:null;return function(a){a(N.app.form.data.fetch.begin());var r=c?i.app.modals.windows[c]:i.app.form,l=(null!=s.row&&null!=s.row.__id?s.row:f).__id;l||(e=k.getWindowLocation(),l=c?r.data.filter:L.filterFromLocation(e));var n,t,e={command:s.command.value,name:o,id:l};return p&&(e.schemeName=p),d&&(n={},t=u.commandFormResult.model,Object.keys(d).forEach(function(e){le.getModelConrol(t,e)&&(n[e]=d[e])}),Object.keys(r.data.modified).filter(function(e){return e.startsWith("_wp")}).forEach(function(e){var t=e.substring(3);n[t]||_e(r.data.modified[e],r.data.original[e])||(n[t]=r.data.modified[e])}),Object.keys(n).length&&(e.data=JSON.stringify(n))),dt.configuredFetch(M.getState().settings.workflowexecute+"?"+M.encodeQueryData(e),{method:"post"}).then(function(e){return e.json()}).then(function(e){if(e.success){var t="The command execution has been completed!";if(void 0!==Z()&&(t=Z().msg.commandexecutioncompleted),a(N.app.resetfetchcount()),we(t),p){var r=e.item,n=(r&&r.entity,r?r.entityId:null),o=null!=n,i={};return o&&n!=l&&o&&(t={},c?t.app={modals:{windows:xe({},c,{data:{filter:o?n:void 0}})}}:(r=k.getWindowLocation(),t.router={push:o?L.changeFilter(r,n):void 0}),i.stateDelta=t),re.Promise.resolve(i)}}else a(N.app.form.data.save.failure(e.message,e.details))}).catch(function(e){a(N.app.form.data.save.failure(e.message,e.stack))})}},workflowSetState:function(e){var i=e.formName,a=e.state,l=(e.controlRef,e.parameters),s=e.modalId,c=e.schemeName;return function(r){r(N.app.form.data.fetch.begin());var e,n=s?a.app.modals.windows[s]:a.app.form,t=(null!=l.row&&null!=l.row.__id?l.row:n.data.modified).__id;t||(e=k.getWindowLocation(),t=s?n.data.filter:L.filterFromLocation(e));t={state:l.state.value,name:i,id:t};c&&(t.schemeName=c);var o={};return Object.keys(n.data.modified).filter(function(e){return e.startsWith("_wp")}).forEach(function(e){var t=e.substring(3);_e(n.data.modified[e],n.data.original[e])||(o[t]=n.data.modified[e])}),Object.keys(o).length&&(t.data=JSON.stringify(o)),dt.configuredFetch(M.getState().settings.workflowset+"?"+M.encodeQueryData(t),{method:"post"}).then(function(e){return e.json()}).then(function(e){var t;e.success?(r(N.app.resetfetchcount()),t="The new state was set!",we(t=void 0!==Z()?Z().msg.newstateset:t)):r(N.app.form.data.save.failure(e.message,e.details))}).catch(function(e){r(N.app.form.data.save.failure(e.message,e.stack))})}},workflowSelectScheme:function(e){var t=e.modalId,e=e.parameters.scheme;return t?{app:{modals:{windows:xe({},t,{data:{modified:{__wf_selectedscheme:e}}})}}}:{app:{form:{data:{modified:{__wf_selectedscheme:e}}}}}},save:function(e){var t=e.formName,r=e.modalId,n=e.state,o=e.data,e=e.schemeName;return dt.form.savedata({formName:t,modalId:r,state:n,data:o,schemeName:e})},delete:function(e){var t=e.formName,r=e.data,e=e.schemeName;return dt.common.deleteByIds(t,null,r.__id,void 0,e)},exit:function(e){var t=e.state,r=e.modalId,e=e.parameters;if(t.settings.mobile)return{router:{push:"/"}};if(r){var n=je({},t.app.modals.windows);if(null!=n[r]&&null!=n[r].onCloseFunc){var o=n[r].onCloseFunc({modalId:r,modal:n[r],state:t});if(0==o)return{};if("object"===Ee(o))return o}o=Ce(t.app.modals.order);return o.pop(),n[r]=null,{app:{modals:{windows:n,order:o}}}}n="/",o=function(e){e=new RegExp("[?&]"+e+"=([^&#]*)").exec(window.location.href);return null==e?null:decodeURI(e[1])||0}("backurl");return o?n=o:e&&e.target&&(n=e.target),{router:{push:n}}},confirm:function(e){e=e.parameters;function t(e,t,r){var n=e,e=window.DWKitLang;return n=(n=n&&e&&e.msg&&e.msg[n]?e.msg[n]:n)||(Z()&&Z().confirm[t]?Z().confirm[t]:r)}var r={title:t(e.confirmTitle,"title","Confirm"),text:t(e.confirmText,"text","Please confirm the action"),ok:t(e.confirmOk,"ok","Ok"),cancel:t(e.confirmCancel,"cancel","Cancel")};return function(e){return ve("confirm",{messages:r})}},apply:function(e){var t=e.state,r=e.modalId;if(!r)return{};var n=t.app.modals.windows[r],o=n.data;if(!o||!o.isDirty&&!o.isNew)return{};var i=null,a=null,e=null,r=!!n.parentId;e=r?(a=(c=t.app.modals.windows[n.parentId]).name,i=c.data,t.app.modals.models[a].model):(i=t.app.form.data,t.app.form.models.model);var l=o.modified,s=o.additionalValues,c=o.property,u=c;!u||(o=le.getModelConrol(e,c))&&o.propertyName&&""!=o.propertyName&&(u=o.propertyName);function p(e,t){t=he.mapRow(he.mapRow(t,f,s),d);var r=e.findIndex(function(e){return e.__id===t.__id});0<=r?(e[r]=K(e[r],t),e[r].__loaded=!0):(t.__loaded=!0,e.push(t))}var f=t.app.modals.models[n.name].mapping.toData,d=(r?t.app.modals.models[a]:t.app.form.models).mapping.toForm[u],h=null;if(!u)throw Error("apply action: propertyName is not defined");e=le.getModelConrol(e,c);if("gridview"===e["data-buildertype"]&&"server"===e.pagerType)throw Error("Can't apply to gridview with server paging! Use a custom CodeActions for changing data in DB.");c=Array.isArray(l),e=i.modified[u],i=Array.isArray(e);if(!c&&i)p(h=e,l);else if(c&&i)for(var h=e,y=0;l.length,y++;)p(h,l[y]);else{if(c&&!i)throw Error("apply action: source data are array but target data is not array, can not merge");c||i||(h=K(e,l))}return function(e){return dt.form.updateData(u,h,n.parentId)(e)}},redirect:function(e){e.state;e=e.parameters;if(void 0!==e&&void 0!==e.target)return e.target.includes("http://")||e.target.includes("https://")?void k.setCurrentLocation(e.target):{app:{modals:u.app.modals},router:{redirect:null,push:e.target}};console.error("For call 'redirect' action you need to set the 'target' parameter!")},refresh:function(e){var t=e.state,e=e.modalId;return e?{app:{modals:{windows:xe({},e,{keyIndex:t.app.modals.windows[e].keyIndex+1})}}}:{router:{refresh:"refresh"}}},reload:function(){return{router:{reload:"reload"}}},loadRecord:function(e){var t=e.parameters;return null!=t.urlFilter?function(e){return e(N.router.changeurlfilter(t.urlFilter)),re.Promise.resolve()}:t.row&&t.row.__id?function(e){return e(N.router.changeurlfilter(t.row.__id)),re.Promise.resolve()}:(null!=console&&console.log("This action uses parameters.row.__id or parameters.urlFilter. Fill one of them."),{})},validate:function(e){for(var t=e.data,r=(e.originalData,e.state),n=(e.component,e.controlRef,e.eventArgs,e.modalId),o=(e.callContext,!0),i={},a=n?De.getControlsForValidate(r.app.modals.models[r.app.modals.windows[n].name].model):De.getControlsForValidate(r.app.form.models.model),l=0;l<a.length;l++){var s=a[l].propertyName||a[l].key,c=De.validate(a[l],t[s],t);c&&(i[s]=c,o=!1)}if(o)return ee(n,{errors:null});r="Check errors on the form!";throw{level:1,message:r=void 0!==Z()?Z().msg.checkerrorsonform:r,formerrors:{modalId:n,errors:o?null:i}}},createElement:function(e){var t=e.data,r=(e.model,e.controlRef),n=(e.state,e.parameters),o=e.modelId;if(void 0===n)return{};if(!r)throw{level:1,message:"Fill targets for the createElement event!"};if(r.isServerMode&&r.isServerMode())throw{level:1,message:"The createElement event does not work in Server pagination!"};var i=r.props.propertyName&&""!==r.props.propertyName?r.props.propertyName:r.props.name,e=t[i];Array.isArray(e)||(e=t[i]=[]);var a=r.props.columns;if(Array.isArray(a)){var l,s={__id:"CLIENT_"+$()};for(l in n){for(var c=!1,u=0;u<a.length;u++)if(a[u].key.toLowerCase()===l.toLowerCase()){s[a[u].key]=n[l],c=!0;break}!1===c&&(s[l]=n[l])}e.push(s)}else{r=je({},n);r.__id||(r.__id="CLIENT_"+$()),e.push(r)}return ee(o,{data:t})},deleteElement:function(e){var t=e.data,r=(e.model,e.controlRef),n=(e.state,e.parameters),o=e.modelId;if(void 0===n)return{};if(!r)throw{level:1,message:"Fill targets for the createElement event!"};e=r.props.propertyName&&""!==r.props.propertyName?r.props.propertyName:r.props.name,r=t[e],n=n.index;return Array.isArray(r)&&(r=t[e]).length>n&&r.splice(n,1),ee(o,{data:t})},setFilter:function(e){var t=e.key,r=(e.data,e.originalData,e.state),n=(e.component,e.controlRef,e.eventArgs,e.parameters),o=e.sourceControlRef,i=e.sourceControlValue,a=e.modalId,e=t,t=a?r.app.modals.windows[a]&&r.app.modals.windows[a].filters&&r.app.modals.windows[a].filters.hasOwnProperty(e)?r.app.modals.windows[a].filters[e]:[]:null!==r.app.form.filters.main&&r.app.form.filters.main.hasOwnProperty(e)?r.app.form.filters.main[e]:[],r=t.find(function(e){return e.__controlName===o.props.name});return void 0!==r?r.nextValue=null!=i&&""!==i?i:null:null!=i&&""!==i&&((r={}).column=void 0===n.column?o.props.name:n.column.split(",").map(function(e){return e.trim()}).join(","),r.term=void 0===n.term?"like":n.term,r.nextValue=i,r.value=null,r.__controlName=o.props.name,t.push(r)),a?{app:{modals:{windows:xe({},a,{filters:xe({},e,t)})}}}:{app:{form:{filters:{main:xe({},e,t)}}}}},applyFilter:function(e){var t=e.key,r=(e.data,e.originalData,e.state),n=(e.component,e.controlRef,e.eventArgs,e.parameters,e.sourceControlRef,e.sourceControlValue,e.modalId),e=null,t=t;return n?r.app.modals.windows[n]&&r.app.modals.windows[n].filters&&r.app.modals.windows[n].filters.hasOwnProperty(t)&&(e=r.app.modals.windows[n].filters[t]):null!==r.app.form.filters.main&&r.app.form.filters.main.hasOwnProperty(t)&&(e=r.app.form.filters.main[t]),null===e?{}:((e=e.filter(function(e){return null!==e.nextValue})).forEach(function(e){return e.value=e.nextValue}),n?{app:{modals:{windows:xe({},n,{filters:xe({},t,e)})}}}:{app:{form:{filters:{main:xe({},t,e)}}}})},openModal:function(e){var t=e.modalId,r=e.controlRef,n=e.state,o=e.parameters,e=e.callContext;return ue.open(t,n,o.name,o.data,o.filter,!o.filter||o.isCopy,r?r.props.name:null,o.type||"form",o.viewType||"modal",o.sidebarSettings,o.onOpenFunc,o.onCloseFunc,e,o.closeOnOutsideClick)},copy:function(e){var t=e.state,r=e.modalId,e=e.data;if((r?t.app.modals.windows[r]:t.app.form).data.isNew)throw Error("Can't copy new unsaved object");e=e.__id;if(r)return{app:{modals:{windows:xe({},r,{data:{isNew:!0,filter:e}})}}};t=L.deconstructLocation(t.router.location);return{router:{push:"/".concat(t.type,"/").concat(t.name,"/").concat(e,"/copy")}}},workflowShowCommandForm:function(e){var t=e.state,r=e.parameters,n=e.callContext,o=e.data;if(t.settings.mobile)return{};if(r.command.form&&r.command.form.name){var i=null;return!o||(t=Object.keys(o).filter(function(e){return e.startsWith("_wp")})).length&&(i={},t.forEach(function(e){i[e.substring(3)]=o[e]})),new re.Promise(function(e,t){le.openModalDispatch(r.command.form.name,null,{onCloseFunc:function(){n.commandFormResult||t(),(n.commandFormResult&&n.commandFormResult.cancel?t:e)()},callContext:n,closeOnOutsideClick:!0,data:i})})}return{}},workflowContinueExecution:function(e){var t=e.state,r=e.modalId,n=e.data,o=e.callContext,e=(r?t.app.modals.models[t.app.modals.windows[r].name]:t.app.form.models).model;return o.commandFormResult={commandParams:n,model:e},Re.exit({state:t,modalId:r})},workflowCancelExecution:function(e){var t=e.state,r=e.modalId;return e.callContext.commandFormResult={cancel:!0},Re.exit({state:t,modalId:r})},gridCreate:function(e){var t=e.state,r=e.controlRef,n=e.parameters,e=e.modalId;if(r.isEditFormModal()||r.isEditFormSidebar())return he.create({state:t,controlRef:r,parameters:n,modalId:e});r=r.props;return"flow"!==r.editType?"workflow"!==r.editType?{router:{push:"/form/"+r.editForm+"/"}}:{router:{push:"/workflow/"+r.editWorkflow+"/"}}:{router:{push:"/flow/"+r.editFlow+"/"}}},gridRefresh:function(e){return e.controlRef.refresh(),{}},gridCopy:function(e){var t=e.state,r=e.controlRef,n=e.parameters,e=e.modalId;if(r.isEditFormModal()||r.isEditFormSidebar())return he.copy({state:t,controlRef:r,parameters:n,modalId:e});e=r.props;if(e.editFormShowType&&"Default"!==e.editFormShowType)return{};r=he.getSelectedRow({parameters:n,controlRef:r}),r=r?r.__id:void 0;return r?"flow"!==e.editType?{router:{push:"/form/"+e.editForm+"/"+r+"/copy"}}:{router:{push:"/flow/"+e.editFlow+"/"+r+"/copy"}}:{}},gridDelete:function(e){var t=e.state,r=e.controlRef,n=e.formName,o=e.modalId,i=r.props.propertyName||r.props.name;if(r.isServerMode()){var a=r.getSeletedRowKeys();if(0!==a.length)return a=a.filter(function(e){return null!=e&&!e.toString().startsWith("CLIENT_")}),function(e){return dt.common.deleteByIds(n,i,a,function(){var e="Rows have been deleted!";we(e=void 0!==Z()?Z().msg.rowsdeleted:e),r.refresh()})(e)};e="Please, select rows for deletion!";ge(e=void 0!==Z()?Z().msg.selectrowsfordelete:e)}else{var l=r.getSeletedRowKeys();if(0!==l.length){var s=(o?t.app.modals.windows[o]:t.app.form).data.modified[i].filter(function(e){return!l.includes(e.__id)}),s={data:{modified:xe({},i,s)}};return o?{app:{modals:{windows:xe({},o,s)}}}:{app:s}}s="Please, select rows for deletion!";ge(s=void 0!==Z()?Z().msg.selectrowsfordelete:s)}return{}},gridEdit:function(e){var t=e.state,r=e.controlRef,n=e.parameters,e=e.modalId;if(r.isEditFormModal()||r.isEditFormSidebar())return he.edit({state:t,controlRef:r,parameters:n,modalId:e});e=r.props;if(e.editFormShowType&&"Default"!==e.editFormShowType)return{};r=he.getSelectedRow({parameters:n,controlRef:r}),r=r?r.__id:void 0;return r?"flow"!==e.editType?"workflow"!==e.editType?{router:{push:"/form/"+e.editForm+"/"+r+"/"}}:{router:{push:"/workflow/"+e.editWorkflow+"/"+r+"/"}}:{router:{push:"/flow/"+e.editFlow+"/"+r+"/"}}:{}},gridExport:function(e){var o=e.controlRef,i=e.parameters,a=e.modalId,l=e.formName;return function(e){var t=Oe.a.chain(o.props.columns).map(function(e){return e.key+":"+e.name}).join(",").value(),r=o.getSort(),n=o.getFilters();return dt.additional.exportToExcel({type:o.props["data-buildertype"],controlRef:o,modalId:a,formName:l,parameters:i,startIndex:0,cols:t,pagerType:o.props.pagerType,sort:r,filters:n})(e)}},changeModel:function(e){var t=e.controlRef,r=e.state,n=e.parameters,e=e.modalId,o=r.app.form.models.model;if(void 0===n)return{};function i(e,t,r){if(t.key!=e){if(null!=t.children&&0<t.children.length)for(var n in t.children)i(e,t.children[n],r)}else for(var o in r)t[o]=r[o]}var a,l=t.props.name;for(a in o)i(l,o[a],n);return ee(e,{model:o})},setFields:function(e){var t,r,n=e.data,o=e.parameters,e=e.modalId;for(t in o)r=o[t],/^-?\d+(?:[.,]\d*?)?$/.test(r)&&(r=parseFloat(r),!isNaN(r))?n[t]=parseFloat(o[t]):n[t]=o[t];return ee(e,{data:n})},print:function(e){var t=void 0;e.parameters&&e.parameters.title&&(t=e.parameters.title),e.component.print||console.error("Print is unsupported for this component!",e),e.component.print(t)}},t=r(1);function Fe(t,e){var r,n=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)),n}function Ae(n){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?Fe(Object(o),!0).forEach(function(e){var t,r;t=n,e=o[r=e],r in t?Object.defineProperty(t,r,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[r]=e}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(o)):Fe(Object(o)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(o,e))})}return n}a=Object.getPrototypeOf(new XMLHttpRequest);a!==XMLHttpRequest.prototype&&(XMLHttpRequest.prototype=a);var Ie=XMLHttpRequest.prototype.send,Ne=XMLHttpRequest.prototype.setRequestHeader,Le=null,Be=window.fetch,Me=[],Ve=null,Ue=!1;var qe={addRequestCallback:function(e){Me.push(e)},removeRequestCallback:function(e){!function(e,t){var r=e.indexOf(t);if(!(-1<r))throw new Error("Could not remove "+t+" from array");e.splice(r,1)}(Me,e)},isWired:function(){return Ue},wire:function(){if(Ue)throw new Error("Ajax interceptor already wired");XMLHttpRequest.prototype.send=function(){!function(e,t){for(var r=0;r<e.length;r++)e[r](t)}(Me,this),this.authToken&&Ne.apply(this,["Authorization",this.authToken]),Ie.apply(this,arguments)},XMLHttpRequest.prototype.setRequestHeader=function(e,t){"Authorization"===e?(this.authToken=t,Le=this.authToken):Ne.apply(this,arguments)},Ue=!0},unwire:function(){if(!Ue)throw new Error("Ajax interceptor not currently wired");XMLHttpRequest.prototype.send=Ie,XMLHttpRequest.prototype.setRequestHeader=Ne,Ue=!1},fetch:function(e,t){var r=t||{},t=r.headers||new Headers;return Le&&t.append("Authorization",Le),r.headers=t,Be(e,r)},configureHeaders:function(e){var t=null,t=(t=window.globalFetchOptions?window.globalFetchOptions():t)||Ae({},M.getState().settings.fetchOptions),r=e?"Bearer "+e:null;t.headers=Ae(Ae({},t.headers),{},{Authorization:r}),window.globalFetchOptions||M.dispatch(N.settings.set("fetchOptions",t)),Ve?qe.removeRequestCallback(Ve):qe.wire(),Ve=function(e){e.setRequestHeader("Authorization",r)},qe.addRequestCallback(Ve)}},ze=qe;function He(t,e){var r,n=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)),n}function We(n){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?He(Object(o),!0).forEach(function(e){var t,r;t=n,e=o[r=e],r in t?Object.defineProperty(t,r,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[r]=e}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(o)):He(Object(o)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(o,e))})}return n}function Ge(e){e=We({},e);return e.fetchFunc=ze.fetch,ve("dwkit-form",{props:e})}function Ke(e){return(Ke="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function $e(t,e){var r,n=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)),n}function Je(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?$e(Object(r),!0).forEach(function(e){tt(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):$e(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}function Ye(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Xe(e,t){return(Xe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Qe(r){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=et(r);return function(e,t){{if(t&&("object"===Ke(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined")}return Ze(e)}(this,n?(e=et(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments))}}function Ze(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function et(e){return(et=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function tt(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var a=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Xe(e,t)}(o,i["Component"]);var e,t,r,n=Qe(o);function o(e){var i;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),tt(Ze(i=n.call(this,e)),"getAdditionalDataForControl",function(e,t,r){var n=i.props,o=i.state.forCopy||!1;return i.props.additionalFetch(function(){return n.name},n.id,o,e,t,r,i.props.schemeName)}),i.state={},i}return e=o,r=[{key:"getDerivedStateFromProps",value:function(e,t){var r={},n=void 0!==e.filter?e.filter:null,o=null!==t?t.filter:null,i=null,a=e.preventLoad;return!n||o&&H(o,n)?e.preventLoad||null!==n||void 0!==o?!n||!e.isNew||t&&t.isNew||(i={filter:n,forCopy:!0}):a||(i={forCopy:!1}):a||(i={filter:n,forCopy:n&&e.isNew}),null!==(r.childDataRequest=i)&&(r.forCopy=i.forCopy),r.filter=n,r.isNew=e.isNew,r}}],(t=[{key:"componentDidMount",value:function(){this.requestModelAndData()}},{key:"componentDidUpdate",value:function(){this.requestModelAndData()}},{key:"requestModelAndData",value:function(){var e;this.state.childDataRequest&&(e=this.state.childDataRequest,"flow"===this.props.type&&0<this.props.keyIndex?this.props.fetchFlow(this.props.flowName,e.filter,this.props.id,e.forCopy):"workflow"===this.props.type&&0<this.props.keyIndex?this.props.fetchWorkflow(this.props.schemeName,e.filter,this.props.id,e.forCopy):"flow"===this.props.type||this.props.model?this.props.fetchData(null,e.filter,this.props.name,this.props.id,e.forCopy,this.props.schemeName):this.props.fetchForm(this.props.name,e.filter,this.props.id,e.forCopy),this.setState({childDataRequest:null}))}},{key:"render",value:function(){var i=this,a=this.props,e=M.getState().settings,t=e.dataupload,r=e.datadownload;e.backendUrl&&(t=e.backendUrl+t,r=e.backendUrl+r);t={key:"chidForm_"+a.id,formName:a.name,data:a.data,extendedData:{filters:a.controlFilters,schemes:a.schemes},model:this.props.model,errors:a.errors,dataChanged:function(e,t){var r=t.key,n=t.propertyName,o=t.value,t=t.additionalValues;i.props.dataChanged(n||r,o,t,a.id)},eventFunc:function(e){i.props.executeActions(Je(Je({},e),{},{schemeName:i.props.schemeName,modalId:a.id,callContext:a.callContext}))},getAdditionalDataForControl:this.getAdditionalDataForControl,hideControls:a.hideControls,readOnlyControls:a.readOnlyControls,readOnly:a.readOnly,uploadUrl:t,downloadUrl:r};if(e.userForms){r=t.formName?t.formName.toLowerCase():void 0;if(r&&e.userForms[r]){r=e.userForms[r];return l.a.createElement(r,t)}}return l.a.createElement(Ge,t)}}])&&Ye(e.prototype,t),r&&Ye(e,r),o}(),rt=Object(t.connect)(null,function(i){return Je(Je({},gt(i)),{},{fetchFlow:function(e,t,r,n){i(dt.form.fetchflow(e,t,r,n)).then(function(){var e=M.getState();i(dt.form.fetchdata(null,t,e.app.modals.windows[r].name,r,n))})},fetchWorkflow:function(t,r,n,o){i(dt.form.fetchworkflow(t,r,n,o)).then(function(){var e=M.getState();i(dt.form.fetchdata(null,r,e.app.modals.windows[n].name,n,o,t))})},fetchForm:function(e,t,r,n){i(dt.form.fetchform(e,r)).then(function(){i(dt.form.fetchdata(null,t,e,r,n))})}})})(a);function nt(e){return(nt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ot(t,e){var r,n=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)),n}function it(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?ot(Object(r),!0).forEach(function(e){at(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ot(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}function at(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lt(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,lt)}var st=r(46),ct={credentials:"same-origin"},ut={},pt={configuredFetch:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},r=M.getState(),n=window.globalFetchOptions?window.globalFetchOptions():r.settings.fetchOptions||{},o=it(it(it({},ct),n),t),n="",t=M.getState().settings;return t.backendUrl&&!e.startsWith("http")&&(n=t.backendUrl),n+=e,v()(n,o,window.globalFetchOptions).then(function(e){if(401===e.status&&(!r.app.user||r.app.user.isAnonymous))throw I.get(M).signinRedirect(),new lt;return e})},userinfo:{fetch:function(r){return function(t){I.get(M).preFetchUser().then(function(){return t(N.app.userinfo.fetch.begin()),pt.configuredFetch(M.getState().settings.accountget).then(function(e){if(200==e.status)return e.json();e="Error status:"+e.status+".";throw new Error(e)}).then(function(e){e.success?(t(N.app.userinfo.fetch.success(e.item)),r&&r(e.item)):t(N.app.userinfo.fetch.failure(e.message,e.details))}).catch(lt,function(){}).catch(function(e){t(N.app.userinfo.fetch.failure(e,"userinfo.fetch"))})})}}},additional:{fetch:function(e){var g=e.type,w=e.controlRef,O=e.formName,C=e.schemeName,S=e.startIndex,E=e.pageSize,k=e.filters,j=e.sort,x=e.callback,P=e.modalId,T=e.forCopy,_=e.row,D=e.loadParameters,R=e.baseLocation,F=e.fetchUrl,A=e.fetchResponseType,I=e.fetchOptions;return function(t){if("dictionary"===g){for(var e=w.props.dataModel,r=w.props.columns.split(",").map(function(e){return e.trim()}),n=[],o=[],i=0;i<r.length;i++){var a=r[i],l=a.split(/\s+/);1===l.length?o.push(a):2===l.length&&(o.push(l[0]),n.push({column:l[0],order:l[1]}))}e={columns:JSON.stringify(o),sort:JSON.stringify(n),name:e};return null!=k&&(e.filter="string"==typeof k?k:JSON.stringify(k)),null!=S&&null!=E&&(e.paging=JSON.stringify({startIndex:S,pageSize:E})),ft.dictionaryFetch(t,e,S,E,x,function(e){return{items:e.item.map(function(e){var t=w.props.textFunc?w.props.textFunc(e.values):e.value;return{key:e.key,text:t,value:e.key,values:e.values}}),count:e.count}})}if("treepicker"===g){for(var s=w.props.dataModel,e=w.props.parentIdField,c=w.props.columns.split(",").map(function(e){return e.trim()}),u=[],p=[],f=0;f<c.length;f++){var d=c[f],h=d.split(/\s+/);1===h.length?p.push(d):2===h.length&&(p.push(h[0]),u.push({column:h[0],order:h[1]}))}s={columns:JSON.stringify(p),sort:JSON.stringify(u),name:s,parent:e};return k&&(s.filter=JSON.stringify(k)),void 0!==S&&E&&(e=w.state.parentIdToFetch,s.paging=JSON.stringify({startIndex:S,pageSize:E,parentId:e})),ft.dictionaryFetch(t,s,S,E,x,function(e){return{items:e.item.map(function(e){return it(it({},e),{},{name:w.props.textFunc?w.props.textFunc(e.values):e.name})}),count:e.count}})}if("gridview"===g){var y=ft.createUrlData({type:g,controlRef:w,formName:O,startIndex:S,pageSize:E,filters:k,sort:j,callback:x,modalId:P,forCopy:T,baseLocation:R}),s=M.getState().settings;return s.mobile&&(y.mobile=s.mobile),pt.configuredFetch(s.dataget+"?"+M.encodeQueryData(y)).then(function(e){return e.json()}).then(function(e){e.success?x({sIndex:S,pSize:E,rowsCount:e.item["__"+y.propertyName+"_totalcount"],items:e.item[y.propertyName]}):t(N.app.form.data.fetch.failure(e.message,e.details))}).catch(function(e){t(N.app.form.data.fetch.failure(e.message,e.stack))})}if("repeater"===g){var m=ft.createUrlData({type:g,controlRef:w,formName:O,startIndex:S,pageSize:E,filters:k,sort:j,callback:x,modalId:P,forCopy:T,baseLocation:R}),v=M.getState().settings;return v.mobile&&(m.mobile=v.mobile),pt.configuredFetch(v.dataget+"?"+M.encodeQueryData(m)).then(function(e){return e.json()}).then(function(e){e.success?x({sIndex:S,pSize:E,rowsCount:e.item["__"+m.propertyName+"_totalcount"],items:e.item[m.propertyName]}):t(N.app.form.data.fetch.failure(e.message,e.details))}).catch(function(e){t(N.app.form.data.fetch.failure(e.message,e.stack))})}if("workflowbar"!==g)return"fetch"===g?"blob"==A?pt.configuredFetch(F,I).then(function(e){return e.blob()}).then(function(e){x(e)}).catch(function(e){t(N.app.form.data.fetch.failure(e.message,e.stack))}):"json"==A?pt.configuredFetch(F,I).then(function(e){return e.json()}).then(function(e){e.success?x(e):t(N.app.form.data.fetch.failure(e.message,e.details))}).catch(function(e){t(N.app.form.data.fetch.failure(e.message,e.stack))}):pt.configuredFetch(F,I).then(function(e){return x(e)}).catch(function(e){t(N.app.form.data.fetch.failure(e.message,e.stack))}):(console.log("TODO: implement getAdditionalDataForControl method for "+g+" control"),Promise.resolve());v=null!=_&&null!=_.__id?_.__id:P?M.getState().app.modals.windows[P].data.filter:(b=M.getState().router.location,L.formFilterFromLocation(b||R));var b={name:O,forCopy:T,loadParameters:D};return C&&(b.schemeName=C),null!==v&&(b.urlFilter=v),ft.buildRequest(t,M.getState().settings.workflowget,b,function(e){return D&&t(N.app.form.data.setprocessparameters(P,e.item.processParameters)),e.item}).then(function(e){e&&x(e)})}},exportToExcel:function(e){var n=e.type,o=e.controlRef,i=e.formName,a=e.startIndex,l=e.filters,s=e.sort,c=e.callback,u=e.modalId,p=e.forCopy,f=e.cols,d=e.pagerType,h=e.parameters;return function(t){var r=ft.createUrlData({type:n,controlRef:o,formName:i,startIndex:a,pageSize:null,filters:l,sort:s,callback:c,modalId:u,forCopy:p,cols:f,pagerType:d,filename:h.filename}),e=M.getState().settings;return e.mobile&&(r.mobile=e.mobile),pt.configuredFetch(e.dataexport+"?"+M.encodeQueryData(r)).then(function(e){return e.blob()}).then(function(e){return k.openExcel(r,e)}).catch(function(e){t(N.app.failure(e.message,e.stack))})}}},form:{clear:function(){return function(e){e(N.app.form.clear())}},fetchform:function(n,o){return function(r){r(N.app.form.model.fetch.begin());var e=M.getState().settings,t={wrapresult:!0,enableSecurity:!0,mobile:e.mobile};return pt.configuredFetch(e.uiform+"/"+n+"?"+M.encodeQueryData(t)).then(function(e){return e.json()}).then(function(e){var t;e.success?(t=e.item,r(N.app.form.model.fetch.success(JSON.parse(t.source),t.mapping,n,o,{schemes:t.schemes,securityGroup:t.securityGroup,permissions:t.permissions,mapping:t.mapping,name:t.name}))):r(N.app.form.model.fetch.failure(e.message,e.details))}).catch(function(e){r(N.app.form.model.fetch.failure(e.message,e.stack))})}},fetchflow:function(r,o,i,a){return function(n){var e=M.getState().settings,t={urlFilter:o};return e.mobile&&(t.mobile=e.mobile),a&&(t.forCopy=a),n(N.app.form.model.fetch.begin()),pt.configuredFetch(e.uiflow+"/"+r+"?"+M.encodeQueryData(t)).then(function(e){return e.json()}).then(function(e){var t,r;e.success?(t=e.item,r=null,i&&("string"==typeof i||i instanceof String?n(N.app.form.model.change(t.name,r=i)):(r=i.id,i.name=t.name)),n(N.app.form.model.fetch.success(JSON.parse(t.source),t.mapping,t.name,r,{schemes:t.schemes,securityGroup:t.securityGroup,permissions:t.permissions,mapping:t.mapping,name:t.name}))):n(N.app.form.model.fetch.failure(e.message,e.details))}).catch(function(e){n(N.app.form.model.fetch.failure(e.message,e.stack))})}},fetchworkflow:function(o,r,i,a){return function(n){var e=M.getState().settings,t={urlFilter:r};return e.mobile&&(t.mobile=e.mobile),a&&(t.forCopy=a),n(N.app.form.model.fetch.begin()),pt.configuredFetch(e.uiworkflow+"/"+o+"?"+M.encodeQueryData(t)).then(function(e){return e.json()}).then(function(e){var t,r;e.success?(t=e.item,r=null,i&&("string"==typeof i||i instanceof String?n(N.app.form.model.change(t.name,r=i)):(r=i.id,i.name=t.name)),n(N.app.form.model.fetch.success(JSON.parse(t.source),t.mapping,t.name,r,{schemes:[o],securityGroup:t.securityGroup,permissions:t.permissions,mapping:t.mapping,name:t.name}))):n(N.app.form.model.fetch.failure(e.message,e.details))}).catch(function(e){n(N.app.form.model.fetch.failure(e.message,e.stack))})}},fetchdata:function(r,o,i,a,l,s){return function(n){n(N.app.form.data.fetch.begin());var e=M.getState().settings,t={name:i};return s&&(t.schemeName=s),r&&(t.filter=JSON.stringify(r)),o&&(t.urlFilter=o),l&&(t.forCopy=!0),e.mobile&&(t.mobile=e.mobile),pt.configuredFetch(e.dataget+"?"+M.encodeQueryData(t)).then(function(e){return e.json()}).then(function(e){var t,r;e.success?(t=l||"object"===nt(e.item)&&!Array.isArray(e.item)&&null===e.item.__id,r=JSON.parse(JSON.stringify(e.item),Y),pt.form.executeActions({formName:i,schemeName:s,eventName:"dataReceived",actions:["dataReceived"],modalId:a,parameters:{data:r}})(n),n(N.app.form.data.fetch.success(r,a,t))):n(N.app.form.data.fetch.failure(e.message,e.details))}).catch(function(e){n(N.app.form.data.fetch.failure(e.message,e.stack))})}},savedata:function(e){var n=e.formName,d=e.modalId,h=e.state,o=e.data,i=e.schemeName;return function(u){var p=(d?h.app.modals.windows[d]:h.app.form).data;u(N.app.form.data.save.begin());var e={};n&&(e.name=n),i&&(e.schemeName=i);var t=new FormData,f=p.isNew;t.append("data",JSON.stringify(o));var r=M.getState().settings;return r.mobile&&(e.mobile=r.mobile),pt.configuredFetch(r.datachange+"?"+M.encodeQueryData(e),{method:"post",body:t}).then(function(e){return e.json()}).then(function(e){if(e.success){var t="The changes have been applied!";Z()&&(t=Z().msg.savedatasuccess),we(t=void 0!==e.message&&null!==e.message?e.message:t);var r=e.item,n=r?r.entity:null,o=r?r.entityId:null,i=null!=n,a=null!=o;u(i?N.app.form.data.save.success(n,d):N.app.form.data.save.success(null,d)),ft.changeStateWithResult(e),d&&(r=((t=(s=h.app.modals.windows[d]).parentId)?h.app.modals.models[h.app.modals.windows[t].name]:h.app.form.models).model,(r=le.getModelConrol(r,p.property))&&"gridview"===r["data-buildertype"]&&"server"===r.pagerType||(l=null,(r=!!s.parentId)&&(l=h.app.modals.windows[t].name),c=p.property,t=h.app.modals.models[s.name].mapping.toData,l=(r?h.app.modals.models[l]:h.app.form.models).mapping.toForm,c&&(l=l[c]),l=he.mapRow(he.mapRow(n,t,p.additionalValues),l),u(N.app.form.data.updatefromchild(c,l,s.parentId))));var l,s,c={};return f&&(i||a)&&(l={},d?l.app={modals:{windows:at({},d,{data:{filter:a?o:i?n.__id:void 0}})}}:(s=k.getWindowLocation(),l.router={push:a?L.changeFilter(s,o):i?L.changeFilter(s,n.__id):void 0}),c.stateDelta=l),i&&(c.data=n),Promise.resolve(c)}ft.changeStateWithResult(e);n=null!==e.message?e.message:void 0,c=null!==e.details?e.details:void 0;throw null!==e.validationResult&&void 0!==e.validationResult?{level:1,message:n,details:c,formerrors:{modalId:d,errors:e.validationResult}}:{level:1,message:n,details:c}}).catch(function(e){throw e.stack&&!e.details&&(e.details=e.stack),e})}},updateData:function(t,r,n){return function(e){return e(N.app.form.data.update(t,r,n)),Promise.resolve()}},executeActions:function(e){return function(r){Pe(e,r).catch(function(e){var t;"object"===nt(e)?(t=e.details,null!=e.stack&&(t=null==t?e.stack:t+"\nStack: "+e.stack),null!=console&&null!=t&&console.log(t),r(N.app.form.data.save.failure(e.message,e.details,e.level,e.formerrors))):r(N.app.form.data.save.failure(e,void 0))})}}},common:{deleteByIds:function(o,i,a,l,s){return function(t){t(N.app.form.data.delete.begin());var e={name:o};i&&(e.propertyName=i),s&&(e.schemeName=s);var r=new FormData;Array.isArray(a)?r.append("data",JSON.stringify(a)):r.append("data",JSON.stringify([a]));var n=M.getState().settings;return n.mobile&&(e.mobile=n.mobile),pt.configuredFetch(n.datadelete+"?"+M.encodeQueryData(e),{method:"post",body:r}).then(function(e){return e.json()}).then(function(e){e.success?(ft.changeStateWithResult(e),t(N.app.form.data.delete.success(o)),l&&l(e)):(ft.changeStateWithResult(e),t(N.app.form.data.delete.failure(null!==e.message?e.message:void 0,null!==e.details?e.details:void 0,void 0,null!==e.validationResult&&void 0!==e.validationResult?{main:e.validationResult}:void 0)))}).catch(function(e){t(N.app.form.data.delete.failure(e.message,e.details))})}},setCookie:function(e,t,r){ft.setCookie(e,t,r)},getCookie:function(e){return ft.getCookie(e)},getParameterFormUrlOrCookie:function(){var e=k.getWindowLocation();return L.getParamValue(e,"impersonatedUserId")||ft.getCookie("impersonatedUserId")}}},ft={createUrlDataForCollections:function(e){e.type;var t=e.controlRef,r=e.formName,n=e.startIndex,o=e.pageSize,i=e.filters,a=e.sort,l=(e.callback,e.modalId),s=e.forCopy,c=e.cols,u=e.pagerType,p=e.filename,e=e.baseLocation,o=o?{startIndex:n,pageSize:o}:void 0,i=i,f=[];a&&a.split(",").forEach(function(e){e=e.trim().split(" ");1<e.length?f.push({column:e[0].trim(),Order:e[1].trim()}):f.push({column:e[0].trim(),Order:"ASC"})});a={};l?a.urlFilter=M.getState().app.modals.windows[l].data.filter:(d=(d=M.getState().router.location)||e,a=L.formDataFromLocation(d));var d=t.props.name,t=t.props.propertyName,r={control:d,propertyName:t||d,name:r&&r.toLowerCase()};return s&&(r.forCopy=s),o&&(r.paging=JSON.stringify(o)),i&&(r.filter=JSON.stringify(i)),f&&(r.sort=JSON.stringify(f)),c&&(r.cols=c),a.options&&(r.options=a.options),a.urlFilter&&(r.urlFilter=a.urlFilter),u&&(r.pagerType=u),p&&(r.fileName=p),r},createUrlData:function(e){switch(e.type){case"gridview":case"repeater":return this.createUrlDataForCollections(e);default:throw new Error("unknown type")}},changeStateWithResult:function(e){void 0!==e.result&&null!==e.result&&M.dispatch(N.updatestate(e.result))},getCookie:function(e){var t=k.getCookie();if(t){e=t.match(new RegExp("(?:^|; )"+e.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,"\\$1")+"=([^;]*)"));return e?decodeURIComponent(e[1]):void 0}},setCookie:function(e,t,r){var n,o=(r=r||{}).expires;"number"==typeof o&&o&&((n=new Date).setTime(n.getTime()+1e3*o),o=r.expires=n),o&&o.toUTCString&&(r.expires=o.toUTCString());var i,a=e+"="+(t=encodeURIComponent(t));for(i in r){a+="; "+i;var l=r[i];!0!==l&&(a+="="+l)}k.setCookie("".concat(a,"; path=/"))},dictionaryFetch:function(e,t,r,n,o,i){return this.buildRequest(e,M.getState().settings.datadictionary,t,i).then(function(e){e&&o({sIndex:r,pSize:n,rowsCount:e.count,items:e.items})})},buildRequest:function(t,e,r,n){var o=st(r),i=null;return ut[o]?i=ut[o]:(i=pt.configuredFetch(e+"?"+M.encodeQueryData(r)).then(function(e){return e.json()}).then(function(e){return e.success?n(e):void t(N.app.form.data.fetch.failure(e.message,e.details))}).catch(function(e){t(N.app.form.data.fetch.failure(e.message,e.stack))}).finally(function(){ut[o]=void 0}),ut[o]=i),i}},dt=pt;function ht(e){return function(e){if(Array.isArray(e))return yt(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return yt(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(r="Object"===r&&e.constructor?e.constructor.name:r)||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?yt(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function yt(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function mt(t,e){var r,n=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)),n}function vt(n){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?mt(Object(o),!0).forEach(function(e){var t,r;t=n,e=o[r=e],r in t?Object.defineProperty(t,r,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[r]=e}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(o)):mt(Object(o)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(o,e))})}return n}function bt(e){var t,r=e.app.form.filters.main,n={};if(r)for(var o in r)!r.hasOwnProperty(o)||0<(t=r[o].filter(function(e){return null!==e.value}).map(function(e){return{column:e.column,term:e.term,value:e.value}})).length&&(n[o]=t);var i=e.app.form.data.modified,a=(l=L.deconstructLocation(e.router.location)).urlFilter,l=l.command;return{filter:a,model:e.app.form.models.model,data:null==i?void 0:(Array.isArray(i)?ht:X)(i),mainControlFilters:n,errors:e.app.form.errors||void 0,hideControls:e.app.form.models.hideControls,readOnlyControls:e.app.form.models.readOnlyControls,readOnly:e.app.form.models.readOnly,dimmed:Object.values(e.app.modals.windows).some(function(e){return"sidebar"===e.type}),selectedScheme:e.app.form.selectedScheme,schemes:null===e.app.form.formParams||void 0===e.app.form.formParams?void 0:e.app.form.formParams.schemes,command:l}}var gt=function(l){return{fetchData:function(e,t,r,n,o,i){l(dt.form.fetchdata(e,t,r,n,o,i))},dataChanged:function(e,t,r,n){l(N.app.form.data.update(e,t,n,r))},executeActions:function(e){l(dt.form.executeActions(e))},additionalFetch:function(e,t,r,n,o,i,a){a=vt(vt({},o),{},{formName:e(),controlRef:n,callback:i,modalId:t,forCopy:r,schemeName:a});!a.type&&n&&n.props&&n.props["data-buildertype"]&&(a.type=n.props["data-buildertype"]),l(dt.additional.fetch(a))}}};function wt(e){return(wt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ot(e,t){return(Ot=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ct(r){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=Et(r);return function(e,t){{if(t&&("object"===wt(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined")}return St(e)}(this,n?(e=Et(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments))}}function St(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Et(e){return(Et=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function kt(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var jt=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ot(e,t)}(o,i["Component"]);var n=Ct(o);function o(){var i;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o);for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return kt(St(i=n.call.apply(n,[this].concat(t))),"getAdditionalDataForControl",function(e,t,r){return t&&!t.baseLocation&&(t.baseLocation=i.props.baseLocation),i.props.additionalFetch(function(){return i.props.formName},null,"copy"===i.props.command,e,t,r,i.props.schemeName)}),kt(St(i),"drawMainForm",function(){if(i.props.preventDrawMainform)return null;var e=M.getState().settings,t=e.dataupload,r=e.datadownload;e.backendUrl&&(t=e.backendUrl+t,r=e.backendUrl+r);t={key:i.props.getMainFormKey(),formName:i.props.formName,objectId:i.props.data?i.props.data.__id:i.props.filter,data:i.props.data,extendedData:{filters:i.props.mainControlFilters,schemes:i.props.schemes},model:i.props.model,errors:i.props.errors,dataChanged:function(e,t){var r=t.key,n=t.propertyName,o=t.value,t=t.additionalValues;i.props.dataChanged(n||r,o,t)},eventFunc:function(e){i.props.schemeName&&(e.schemeName=i.props.schemeName),i.props.executeActions(e)},getAdditionalDataForControl:i.getAdditionalDataForControl,hideControls:i.props.hideControls,readOnlyControls:i.props.readOnlyControls,readOnly:i.props.readOnly,uploadUrl:t,downloadUrl:r};if(e.userForms){r=t.formName?t.formName.toLowerCase():void 0;if(r&&e.userForms[r]){r=e.userForms[r];return l.a.createElement(r,t)}}return l.a.createElement(Ge,t)}),i}return o}();function xt(e){return(xt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Pt(t,e){var r,n=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)),n}function Tt(n){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?Pt(Object(o),!0).forEach(function(e){var t,r;t=n,e=o[r=e],r in t?Object.defineProperty(t,r,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[r]=e}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(o)):Pt(Object(o)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(o,e))})}return n}function _t(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Dt(e,t){return(Dt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Rt(r){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=Ft(r);return function(e,t){{if(t&&("object"===xt(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined")}return function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e)}(this,n?(e=Ft(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments))}}function Ft(e){return(Ft=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var a=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Dt(e,t)}(o,i["Component"]);var e,t,r,n=Rt(o);function o(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(e=n.call(this,e)).state={},e}return e=o,r=[{key:"getDerivedStateFromProps",value:function(e,t){var r={},n=null===e.formName||void 0===e.formName?null:e.formName.toLowerCase(),o=null===t||void 0===t.formName?null:t.formName,i=void 0!==e.filter?e.filter:null,a=null!==t?t.filter:null,l=t?t.command:null;return r.formName=n,r.command=e.command,n!==o?null!==n&&(r.needFetchForm=!0,r.needFetchData=!0):i===a&&l===r.command||(r.filter=e.filter,r.needFetchData=!0),r.refreshKey=e.refreshKey,e.refreshKey!=t.refreshKey&&(r.needFetchForm=!0,r.needFetchData=!0),r}}],(t=[{key:"componentDidMount",value:function(){this.RequestModelAndData()}},{key:"componentDidUpdate",value:function(){this.RequestModelAndData()}},{key:"getMainFormKey",value:function(){return"mainform_"+this.state.formName+"_"+this.props.refreshKey}},{key:"RequestModelAndData",value:function(){this.state.needFetchForm?(this.setState({needFetchForm:!1}),this.props.fetchForm(this.state.formName)):this.state.needFetchData&&null!==this.state.formName&&(this.setState({needFetchData:!1}),this.props.fetchData(null,this.state.filter,this.state.formName,null,"copy"===this.props.command))}},{key:"render",value:function(){var e=Tt({},this.props);return e.getMainFormKey=this.getMainFormKey.bind(this),e.preventDrawMainform=!this.state.formName||this.state.needFetchForm,ve("content",{key:this.getMainFormKey()+"_formcontent",props:e})}}])&&_t(e.prototype,t),r&&_t(e,r),o}(),At=Object(t.connect)(function(e,t){return Tt(Tt({},bt(e)),{},{formName:t.formName||L.nameFromLocation(e.router.location,e.settings.form),refreshKey:e.router.refreshKey})},function(t){return Tt(Tt({},gt(t)),{},{fetchForm:function(e){t(dt.form.clear()),t(dt.form.fetchform(e))}})})(a);function It(e){return(It="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Nt(t,e){var r,n=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)),n}function Lt(n){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?Nt(Object(o),!0).forEach(function(e){var t,r;t=n,e=o[r=e],r in t?Object.defineProperty(t,r,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[r]=e}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(o)):Nt(Object(o)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(o,e))})}return n}function Bt(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Mt(e,t){return(Mt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Vt(r){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=Ut(r);return function(e,t){{if(t&&("object"===It(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined")}return function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e)}(this,n?(e=Ut(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments))}}function Ut(e){return(Ut=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var a=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Mt(e,t)}(o,i["Component"]);var e,t,r,n=Vt(o);function o(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(e=n.call(this,e)).state={},e}return e=o,r=[{key:"getDerivedStateFromProps",value:function(e,t){var r={},n=null===e.flowName||void 0===e.flowName?null:e.flowName.toLowerCase(),o=null===t||void 0===t.flowName?null:t.flowName,i=void 0!==e.filter?e.filter:null,a=null!==t?t.filter:null,l=t?t.command:null;return r.flowName=n,r.command=e.command,n!==o?null!==n&&(r.needFetchFlow=!0,r.needFetchData=!0,r.filter=e.filter):i===a&&l===r.command||(r.filter=e.filter,r.needFetchData=!0),r.refreshKey=e.refreshKey,e.refreshKey!=t.refreshKey&&(r.needFetchForm=!0,r.needFetchData=!0),r}}],(t=[{key:"componentDidMount",value:function(){this.RequestModelAndData()}},{key:"componentDidUpdate",value:function(e,t){this.RequestModelAndData()}},{key:"getMainFormKey",value:function(){return"mainform_"+this.state.flowName+"_"+this.props.refreshKey}},{key:"RequestModelAndData",value:function(){this.state.needFetchFlow?(this.setState({needFetchFlow:!1}),this.props.fetchFlow(this.state.flowName,this.state.filter,"copy"===this.props.command)):this.state.needFetchData&&null!==this.props.formName&&(this.setState({needFetchData:!1}),this.props.fetchData(null,this.state.filter,this.props.formName,null,"copy"===this.props.command))}},{key:"render",value:function(){var e=Lt({},this.props);return e.getMainFormKey=this.getMainFormKey.bind(this),e.preventDrawMainform=!this.state.flowName||this.state.needFetchFlow,ve("content",{key:this.getMainFormKey()+"_flowcontent",props:e})}}])&&Bt(e.prototype,t),r&&Bt(e,r),o}(),qt=Object(t.connect)(function(e,t){return Lt(Lt({},bt(e)),{},{flowName:t.flowName||L.nameFromLocation(e.router.location,M.getState().settings.flow),formName:e.app.form.formParams.name,refreshKey:e.router.refreshKey})},function(n){return Lt(Lt({},gt(n)),{},{fetchFlow:function(e,t,r){n(dt.form.clear()),n(dt.form.fetchflow(e,t,null,r))}})})(a);function zt(e){return(zt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ht(t,e){var r,n=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)),n}function Wt(n){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?Ht(Object(o),!0).forEach(function(e){var t,r;t=n,e=o[r=e],r in t?Object.defineProperty(t,r,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[r]=e}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(o)):Ht(Object(o)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(o,e))})}return n}function Gt(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Kt(e,t){return(Kt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function $t(r){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=Jt(r);return function(e,t){{if(t&&("object"===zt(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined")}return function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e)}(this,n?(e=Jt(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments))}}function Jt(e){return(Jt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var a=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Kt(e,t)}(o,i["Component"]);var e,t,r,n=$t(o);function o(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(e=n.call(this,e)).state={},e}return e=o,r=[{key:"getDerivedStateFromProps",value:function(e,t){var r={},n=null===e.schemeName||void 0===e.schemeName?null:e.schemeName.toLowerCase(),o=null===t||void 0===t.schemeName?null:t.schemeName,i=void 0!==e.filter?e.filter:null,a=null!==t?t.filter:null,l=t?t.command:null;return r.schemeName=n,r.command=e.command,n!==o?null!==n&&(r.needFetchWorkflow=!0,r.needFetchData=!0,r.filter=e.filter):i===a&&l===r.command||(r.filter=e.filter,r.needFetchData=!0),r.refreshKey=e.refreshKey,e.refreshKey!=t.refreshKey&&(r.needFetchForm=!0,r.needFetchData=!0),r}}],(t=[{key:"componentDidMount",value:function(){this.RequestModelAndData()}},{key:"componentDidUpdate",value:function(e,t){this.RequestModelAndData()}},{key:"getMainFormKey",value:function(){return"mainform_"+this.state.schemeName+"_"+this.props.refreshKey}},{key:"RequestModelAndData",value:function(){this.state.needFetchWorkflow?(this.setState({needFetchWorkflow:!1}),this.props.fetchWorkflow(this.state.schemeName,this.state.filter,"copy"===this.props.command)):this.state.needFetchData&&null!==this.props.formName&&(this.setState({needFetchData:!1}),this.props.fetchData(null,this.state.filter,this.props.formName,null,"copy"===this.props.command,this.props.schemeName))}},{key:"render",value:function(){var e=Wt({},this.props);return e.getMainFormKey=this.getMainFormKey.bind(this),e.preventDrawMainform=!this.state.schemeName||this.state.needFetchWorkflow,ve("content",{key:this.getMainFormKey()+"_workflowcontent",props:e})}}])&&Gt(e.prototype,t),r&&Gt(e,r),o}(),Yt=Object(t.connect)(function(e,t){return Wt(Wt({},bt(e)),{},{schemeName:t.schemeName||L.nameFromLocation(e.router.location,e.settings.workflow),formName:e.app.form.formParams.name,refreshKey:e.router.refreshKey})},function(n){return Wt(Wt({},gt(n)),{},{fetchWorkflow:function(e,t,r){n(dt.form.clear()),n(dt.form.fetchworkflow(e,t,null,r))}})})(a);function Xt(e){return(Xt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Qt(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Zt(e,t){return(Zt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function er(r){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=tr(r);return function(e,t){{if(t&&("object"===Xt(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined")}return function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e)}(this,n?(e=tr(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments))}}function tr(e){return(tr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var a=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Zt(e,t)}(o,i["Component"]);var e,t,r,n=er(o);function o(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(e=n.call(this,e)).state={fetchCount:0},e}return e=o,r=[{key:"getDerivedStateFromProps",value:function(e,t){var r={};return 0===t.fetchCount&&0<e.fetchCount?(r.fetchCount=e.fetchCount,r.start=!0,r.stop=!1):0<t.fetchCount&&0===e.fetchCount&&(r.fetchCount=0,r.start=!1,r.stop=!0),r.showError||void 0===e.error||(r.showError=!0,r.error=e.error,r.errorLevel=e.errorLevel,r.errorDetails=e.errorDetails),r}}],(t=[{key:"render",value:function(){return null}},{key:"componentDidMount",value:function(){this.StartStopOnFetch(),this.ShowError()}},{key:"componentDidUpdate",value:function(e,t){this.StartStopOnFetch(),this.ShowError()}},{key:"StartStopOnFetch",value:function(){this.state.start?(this.setState({start:!1}),this.onFetchStarted()):this.state.stop&&(this.setState({stop:!1}),this.onFetchFinished())}},{key:"ShowError",value:function(){var e,t;this.state.showError&&(t=this.state.error,this.setState({showError:!1}),1===this.state.errorLevel?(this.state.errorDetails&&(t+="\n"+this.state.errorDetails),this.ShowPopupError(t)):(e=t,void 0!==this.state.errorDetails&&(t="More information in the developer console!",e+=". "+(t=void 0!==Z()?Z().msg.moreinformation:t)),this.ShowPopupError(e)),this.props.clearErrors())}},{key:"ShowPopupError",value:function(e){var t,r,n=void 0;null!=this.state.prevError&&null!=this.state.prevErrorDate&&(t=new Date,r=this.state.prevErrorDate,n=(t.getTime()-r.getTime())/1e3),null!=n&&this.state.prevError==e&&n<1||ge(e),this.state.prevError=e,this.state.prevErrorDate=new Date}},{key:"onFetchStarted",value:function(){void 0!==this.props.onFetchStarted&&this.props.onFetchStarted()}},{key:"onFetchFinished",value:function(){void 0!==this.props.onFetchFinished&&this.props.onFetchFinished()}}])&&Qt(e.prototype,t),r&&Qt(e,r),o}(),rr=Object(t.connect)(function(e,t){return{fetchCount:e.app.fetchCount,error:e.app.error,errorLevel:e.app.errorLevel,errorDetails:e.app.errorDetails}},function(e,t){return{clearErrors:function(){e(N.app.clearerrors())}}})(a);function nr(e){return(nr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function or(){return(or=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r,n=arguments[t];for(r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function ir(t,e){var r,n=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)),n}function ar(n){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?ir(Object(o),!0).forEach(function(e){var t,r;t=n,e=o[r=e],r in t?Object.defineProperty(t,r,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[r]=e}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(o)):ir(Object(o)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(o,e))})}return n}function lr(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function sr(e,t){return(sr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function cr(r){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=ur(r);return function(e,t){{if(t&&("object"===nr(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined")}return function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e)}(this,n?(e=ur(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments))}}function ur(e){return(ur=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var a=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&sr(e,t)}(o,i["Component"]);var e,t,r,n=cr(o);function o(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(e=n.call(this,e)).state={},e}return e=o,r=[{key:"getDerivedStateFromProps",value:function(e,t){var r={};return e.modelurl||void 0!==e.formName&&""!==e.formName&&e.formName!==t.formName&&(r.formName=e.formName,r.needFetchModel=!0),r}}],(t=[{key:"render",value:function(){var e=ar({},this.props);return void 0===e.key&&(e.key="bindForm"),e.data=this.props.combinedData,l.a.createElement(Ge,or({},e,{eventFunc:this.eventFunc.bind(this),getAdditionalDataForControl:this.getAdditionalDataForControl.bind(this),model:this.state.model,data:this.props.combinedData,hideControls:this.state.checkConditions,readOnlyControls:this.state.readOnlyControls}))}},{key:"eventFunc",value:function(e){var t="initSystem";if(Array.isArray(e.actions)&&e.actions.includes(t)){this.initSystem(e);t=e.actions.indexOf(t);if(-1!==t&&e.actions.splice(t,1),0==e.actions.length)return}M.dispatch(dt.form.executeActions(e))}},{key:"getAdditionalDataForControl",value:function(e,t,r){var n=t.startIndex,o=t.pageSize,i=t.filters,a=t.sort,t=(t.model,this.props.formName);M.dispatch(dt.additional.fetch({type:e.props["data-buildertype"],formName:t,controlRef:e,startIndex:n,pageSize:o,filters:i,sort:a,callback:r}))}},{key:"initSystem",value:function(e){var t;this.state.model&&(t=De.checkConditions({model:this.state.model,data:this.props.combinedData}),this.setState({checkConditions:t.checkConditions,readOnlyControls:t.readOnlyControls}))}},{key:"componentDidMount",value:function(){this.PrepareState()}},{key:"componentDidUpdate",value:function(e,t){this.PrepareState()}},{key:"PrepareState",value:function(){var e,t,r=this;this.state.needFetchModel&&(r.setState({needFetchModel:!1}),t={mobile:(e=M.getState().settings).mobile},dt.configuredFetch(e.uiform+"/"+this.props.formName+"?"+M.encodeQueryData(t)).then(function(e){return e.json()}).then(function(e){var t=e,e=De.checkConditions({model:t,data:r.props.combinedData});r.setState({model:t,checkConditions:e.checkConditions,readOnlyControls:e.readOnlyControls})}).catch(function(e){r.props.LogError(e.message,e.stack)}))}}])&&lr(e.prototype,t),r&&lr(e,r),o}(),pr=Object(t.connect)(function(a,e){function t(e,t){for(var r=e.split("."),n=0<r.length?a[r[0]]:null,o=null,i=1;i<r.length&&null!=n;i++)n=n[o=r[i]];return null==n?ar({},t):"object"===nr(n)?ar(ar({},t),n):(t=ar({},t),null!==o&&(t[o]=n),t)}var r,n={},o={};if(null!==e.stateDataPath&&void 0!==e.stateDataPath)if("string"==typeof e.stateDataPath)o=t(e.stateDataPath,o);else if(Array.isArray(e.stateDataPath))for(var i=0;i<e.stateDataPath.length;i++)"string"==typeof e.stateDataPath[i]&&(o=t(e.stateDataPath[i],o));return void 0!==e.data&&null!==e.data&&"object"===nr(e.data)&&(r=e.data,o=ar(ar({},o),r)),n.combinedData=o,n},function(r,e){return{LogError:function(e,t){r(N.app.form.model.fetch.failure(e,t))}}})(a),a=r(42),fr=r.n(a),a=r(21),dr=r.n(a),a=r(12),hr=r.n(a);function yr(e){return(yr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function mr(){return(mr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r,n=arguments[t];for(r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function vr(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function br(e,t){return(br=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function gr(r){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=wr(r);return function(e,t){{if(t&&("object"===yr(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined")}return function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e)}(this,n?(e=wr(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments))}}function wr(e){return(wr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Or={success:{containerStyle:{backgroundColor:"green"}},error:{containerStyle:{backgroundColor:"darkred"}}},Cr=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&br(e,t)}(o,i["Component"]);var e,t,r,n=gr(o);function o(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(e=n.call(this,e)).state={visible:!0},e.hiding=!1,e}return e=o,(t=[{key:"componentDidMount",value:function(){var e=this.props.timeout||3e3;setTimeout(this.hide.bind(this),e)}},{key:"hide",value:function(){this.hiding||(this.hiding=!0,this.setState({visible:!1}),this.props.closeHandler&&this.props.closeHandler.onClose())}},{key:"render",value:function(){return l.a.createElement(fr.a,mr({},this.props.snackbarProps,{visible:this.state.visible,message:this.props.message,actionHandler:this.hide.bind(this),action:"close",position:"top",top:50,autoHidingTime:100}))}}])&&vr(e.prototype,t),r&&vr(e,r),o}();c("alert",function(e){var t={key:hr.a.v1(),message:e.message,closeHandler:{onClose:function(){}},snackbarProps:Or[e.type]},e=l.a.createElement(Cr,t),r=dr.a.set(e);t.closeHandler.onClose=function(){dr.a.remove(r)}});var Sr=r(3);c("confirm",function(e){var r={resolve:function(){},reject:function(){}},t=new Promise(function(e,t){r.resolve=e,r.reject=t});return Sr.Alert.alert(e.messages.title,e.messages.text,[{text:e.messages.cancel,onPress:function(){r.reject()}},{text:e.messages.ok,onPress:function(){r.resolve()}}],{cancelable:!1}),t});var Er=r(10);function kr(e){return(kr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function jr(t,e){var r,n=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)),n}function xr(n){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?jr(Object(o),!0).forEach(function(e){var t,r;t=n,e=o[r=e],r in t?Object.defineProperty(t,r,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[r]=e}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(o)):jr(Object(o)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(o,e))})}return n}function Pr(e){return function(e){if(Array.isArray(e))return Tr(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return Tr(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(r="Object"===r&&e.constructor?e.constructor.name:r)||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Tr(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Tr(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function _r(){return(_r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r,n=arguments[t];for(r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Dr(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Rr(e,t){return(Rr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Fr(r){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=Ar(r);return function(e,t){{if(t&&("object"===kr(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined")}return function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e)}(this,n?(e=Ar(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments))}}function Ar(e){return(Ar=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var a=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Rr(e,t)}(o,i["Component"]);var e,t,r,n=Fr(o);function o(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(e=n.call(this,e)).state={isrtl:!1,visible:!0};try{e.state.isrtl="rtl"==getComputedStyle(document.getElementsByTagName("html")[0]).direction}catch(e){}return e}return e=o,(t=[{key:"render",value:function(){var i=this,a=this,e=this.props.windowsOrder.map(function(e,t,r){function n(){a.setState({visible:!1}),a.props.executeActions({key:void 0,controlRef:a,formName:a.props.formName,schemeName:a.props.schemeName,component:a,eventName:"exit",actions:["exit"],parameters:void 0,modalId:o.id})}var o=i.props.childWindows[e],e=!0===o.closeOnOutsideClick?n():function(){};if("modal"===o.viewType)return l.a.createElement(Er.Overlay,{isVisible:i.state.visible,key:o.id,onClose:n,onBackdropPress:e},l.a.createElement(rt,_r({key:o.id+o.keyIndex},o,{model:i.props.childModels[o.name]})));r.length;r="right";return o.sidebarSettings&&(o.sidebarSettings.from&&(r=o.sidebarSettings.from),o.sidebarSettings.width&&o.sidebarSettings.width),i.state.isrtl&&("right"===r?r="left":"left"===r&&(r="right")),l.a.createElement(Er.Overlay,{isVisible:i.state.visible,key:o.id,onClose:n,onBackdropPress:e},l.a.createElement(rt,_r({key:o.id+o.keyIndex},o,{model:i.props.childModels[o.name]})))});return l.a.createElement(Sr.View,{ref:function(e){return i.el=e}},e)}}])&&Dr(e.prototype,t),r&&Dr(e,r),o}(),Ir=Object(t.connect)(function(e){var t,r=e.app.modals.windows,n=e.app.modals.models,o={},i={};for(t in r)if(r.hasOwnProperty(t)){var a=n[r[t].name],a=null==a?void 0:a.formParams,a=null==a?void 0:a.schemes;i[t]={id:t,errors:r[t].errors,name:r[t].name,viewType:r[t].viewType,sidebarSettings:r[t].sidebarSettings,onOpenFunc:r[t].onOpenFunc,onCloseFunc:r[t].onCloseFunc,schemes:a,isNew:null===r[t].data||void 0===r[t].data?void 0:r[t].data.isNew,hideControls:r[t].hideControls,readOnlyControls:r[t].readOnlyControls,readOnly:r[t].readOnly,preventLoad:r[t].preventLoad,flowName:r[t].flowName,schemeName:r[t].schemeName,keyIndex:r[t].keyIndex,filter:null===r[t].data||void 0===r[t].data?void 0:r[t].data.filter,type:r[t].type,callContext:r[t].callContext,closeOnOutsideClick:void 0===r[t].closeOnOutsideClick||r[t].closeOnOutsideClick},!r[t].data||void 0!==(a=r[t].data.modified)&&(i[t].data=Array.isArray(a)?Pr(a):xr({},a));var l=r[t].filters;if(l){var s,c={};for(s in l)l.hasOwnProperty(s)&&(c[s]=l[s].filter(function(e){return null!==e.value}).map(function(e){return xr({},e)}));i[t].controlFilters=c}}return Object.keys(n).forEach(function(e){o[e]=n[e].model}),{childModels:o,childWindows:i,windowsOrder:e.app.modals.order}},gt)(a);function Nr(e){return(Nr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Lr(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Br(e,t){return(Br=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Mr(r){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=Vr(r);return function(e,t){{if(t&&("object"===Nr(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined")}return function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e)}(this,n?(e=Vr(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments))}}function Vr(e){return(Vr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Ur=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Br(e,t)}(o,jt);var e,t,r,n=Mr(o);function o(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),n.apply(this,arguments)}return e=o,(t=[{key:"render",value:function(){return l.a.createElement(Sr.View,null,this.drawMainForm(),l.a.createElement(Ir,null))}}])&&Lr(e.prototype,t),r&&Lr(e,r),o}();function qr(){return(qr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r,n=arguments[t];for(r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}c("content",function(e){return l.a.createElement(Ur,qr({key:e.key},e.props))});var zr=r(43);c("dwkit-form",function(e){return l.a.createElement(zr.DWKitForm,e.props)});var Hr=r(22),c=r(44),Wr=r.n(c);function Gr(e){return(Gr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Kr(t,e){var r,n=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)),n}function $r(n){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?Kr(Object(o),!0).forEach(function(e){var t,r;t=n,e=o[r=e],r in t?Object.defineProperty(t,r,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[r]=e}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(o)):Kr(Object(o)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(o,e))})}return n}function Jr(){return(Jr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r,n=arguments[t];for(r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Yr(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Xr(e,t){return(Xr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Qr(r){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=Zr(r);return function(e,t){{if(t&&("object"===Gr(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined")}return function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e)}(this,n?(e=Zr(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments))}}function Zr(e){return(Zr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var c=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Xr(e,t)}(o,i["Component"]);var e,t,r,n=Qr(o);function o(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(e=n.call(this,e)).state={},e.navigator=Object(Hr.createStackNavigator)(),e}return e=o,(t=[{key:"render",value:function(){var t=this;if(!this.props.focused)return null;var e=this.navigator,r=this.props.title,n=this.renderComponent();return l.a.createElement(e.Navigator,null,l.a.createElement(e.Screen,{name:"main",options:function(e){e.navigation,e.route;return{headerTitle:r,headerLeft:t.renderHeaderBackButton.bind(t)}}},function(e){return l.a.createElement(l.a.Fragment,null,t.renderActivityIndicator(),l.a.createElement(Sr.ScrollView,null,n))}))}},{key:"renderHeaderBackButton",value:function(){return this.props.showBackButton?l.a.createElement(Hr.HeaderBackButton,{onPress:this.props.goBack.bind(this)}):null}},{key:"renderActivityIndicator",value:function(){if(0==this.props.fetchCount)return null;if(this.props.activityIndicator)return this.props.activityIndicator(this.props);return l.a.createElement(Sr.View,{style:{position:"absolute",zIndex:9999,left:0,right:0,top:0,bottom:0,alignItems:"center",justifyContent:"center"}},l.a.createElement(Sr.ActivityIndicator,{size:"large",animating:!0,color:"#000000"}))}},{key:"renderComponent",value:function(){return this.props.url?l.a.createElement(Wr.a,{javaScriptEnabled:!0,domStorageEnabled:!0,startInLoadingState:!0,source:{uri:this.props.url}}):this.props.type==this.props.flowconst?l.a.createElement(qt,this.props):this.props.type==this.props.workflowconst?l.a.createElement(Yt,this.props):l.a.createElement(At,Jr({},this.props,{formName:this.props.defaultForm}))}}])&&Yr(e.prototype,t),r&&Yr(e,r),o}(),en=Object(t.connect)(function(e,t){var r=bt(e),n=t.baseLocation,o=void 0,i=void 0;(n=e.router.location?o="string"==typeof e.router.location?e.router.location:e.router.location.pathname:n)&&(n.startsWith("http://")||n.startsWith("https://"))&&(i=n);var a=t.baseLocation;a&&a.startsWith("/form/")&&(a=L.nameFromLocation(a,"form"));var l=!t.screenName||e.router.screen==t.screenName,t=o&&o!=t.baseLocation;return $r($r({},r),{},{formconst:e.settings.form,flowconst:e.settings.flow,workflowconst:e.settings.workflow,type:L.typeFromLocation(n),refreshKey:e.router.refreshKey,defaultForm:t?void 0:a,url:i,focused:l,showBackButton:t,fetchCount:e.app.fetchCount})},function(e){return $r($r({},gt(e)),{},{goBack:function(){e(N.router.routechanged())}})})(c),tn=i.createRef();function rn(e,t){tn.current&&tn.current.navigate(e,t)}function nn(e){return(nn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function on(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function an(e,t){return(an=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ln(r){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=cn(r);return function(e,t){{if(t&&("object"===nn(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined")}return sn(e)}(this,n?(e=cn(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments))}}function sn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function cn(e){return(cn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var c=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&an(e,t)}(o,i["Component"]);var e,t,r,n=ln(o);function o(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o);var t=sn(e=n.call(this,e));return k.setCurrentLocation=function(e){t.props.onRouteChanged({pathname:e},!0)},k.getWindowLocation=function(){return M.getState().router.location},e}return e=o,(t=[{key:"render",value:function(){return this.props.children?l.a.Children.only(this.props.children):null}},{key:"componentDidUpdate",value:function(){var e,t=!1;this.props.push?(e="/"==this.props.push?null:{pathname:this.props.push},this.props.onRouteChanged(e,t=!0)):this.props.redirect?(t=!(location={pathname:this.props.redirect}),this.props.onRouteChanged(location,t)):this.props.reload?(t=!0,this.props.onReload?this.props.onReload():console.log("ApplicationRouter: Need to define handler for onReload"),this.props.onRouteChanged(this.props.location,t)):this.props.refresh&&(t=!0,this.props.onRefresh?this.props.onRefresh():console.log("ApplicationRouter: Need to define handler for onRefresh"),this.props.onRouteChanged(this.props.location,t))}}])&&on(e.prototype,t),r&&on(e,r),o}(),un=Object(t.connect)(function(e,t){return{push:e.router.push,redirect:e.router.redirect,refresh:e.router.refresh,reload:e.router.reload,location:e.router.location}},function(r,e){return{onRouteChanged:function(e,t){r(N.router.routechanged(tn.current,e,t))}}})(c),pn=r(45),fn={connection:null,Connect:function(i){null!==this.connection&&(this.connection.off("StateChange"),this.connection.stop());var e=i.encodeQueryData({}),t=i.getState().settings,r=t.backendUrl;r+=0<e.length?t.notificationhub+"?"+e:t.notificationhub,this.connection=(new pn.HubConnectionBuilder).withUrl(r).configureLogging("none").build(),this.connection.on("StateChange",function(e){if(null!=e&&null!==e.path&&void 0!==e.path&&"string"==typeof e.path){for(var t=e.path.split("."),r={},n=r,o=0;o<t.length;o++)o===t.length-1?n[t[o]]=e.change:(n[t[o]]={},n=n[t[o]]);i.dispatch(N.updatestate(r))}}),this.connection.start()}},dn=r(15),t=r(9),hn=r.n(t);function yn(e,t,r,n,o,i,a){try{var l=e[i](a),s=l.value}catch(e){return void r(e)}l.done?t(s):Promise.resolve(s).then(n,o)}function mn(l){return function(){var e=this,a=arguments;return new Promise(function(t,r){var n=l.apply(e,a);function o(e){yn(n,t,r,o,i,"next",e)}function i(e){yn(n,t,r,o,i,"throw",e)}o(void 0)})}}function vn(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var bn,gn,wn,On=function(){function r(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r)}var e,t,n,o,i,a,l,s,c,u,p,f,d,h,y,m;return e=r,(t=[{key:"getUser",value:(m=mn(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.openIdConfig){e.next=2;break}throw new Error("OpenID config not loaded yet!");case 2:return t=this.openIdConfig.userinfo_endpoint,e.next=5,this._fetchJsonResult(t);case 5:return(t=e.sent).access_token=this.authState.accessToken,e.abrupt("return",t);case 8:case"end":return e.stop()}},e,this)})),function(){return m.apply(this,arguments)})},{key:"signinRedirect",value:(y=mn(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this._getRouter(),e.abrupt("return",t&&t.signinRedirect&&t.signinRedirect());case 2:case"end":return e.stop()}},e,this)})),function(){return y.apply(this,arguments)})},{key:"signoutRedirect",value:(h=mn(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this._getRouter(),e.abrupt("return",t&&t.signoutRedirect&&t.signoutRedirect());case 2:case"end":return e.stop()}},e,this)})),function(){return h.apply(this,arguments)})},{key:"removeUser",value:(d=mn(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.revokeToken();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e,this)})),function(){return d.apply(this,arguments)})},{key:"auth",value:(f=mn(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this._getConfig(),e.next=3,this.authorizeInternal(t);case 3:return this.authState=e.sent,e.next=6,this._loadConfiguration();case 6:return this.openIdConfig=e.sent,ze.configureHeaders(this.authState.accessToken),e.abrupt("return",this.authState);case 9:case"end":return e.stop()}},e,this)})),function(){return f.apply(this,arguments)})},{key:"refreshToken",value:(p=mn(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this._refreshTokenExists()){e.next=2;break}return e.abrupt("return");case 2:return t=this._getConfig(),e.next=5,this.refreshInternal(t,{refreshToken:this.authState.refreshToken});case 5:this.authState=e.sent,ze.configureHeaders(this.authState.accessToken);case 7:case"end":return e.stop()}},e,this)})),function(){return p.apply(this,arguments)})},{key:"revokeToken",value:(u=mn(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this._refreshTokenExists()){e.next=2;break}return e.abrupt("return");case 2:return t=this._getConfig(),e.next=5,this.revokeInternal(t,{tokenToRevoke:this.authState.refreshToken,sendClientId:!0});case 5:this.authState=null,ze.configureHeaders(void 0);case 7:case"end":return e.stop()}},e,this)})),function(){return u.apply(this,arguments)})},{key:"_refreshTokenExists",value:function(){return this.authState&&this.authState.refreshToken}},{key:"_loadConfiguration",value:(c=mn(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this._getConfig(),t=t.issuer+r._configPath,e.next=4,this._fetchJsonResult(t);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}},e,this)})),function(){return c.apply(this,arguments)})},{key:"_fetchJsonResult",value:(s=mn(regeneratorRuntime.mark(function e(t){var r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v()(t);case 2:if((r=e.sent).ok){e.next=5;break}throw new Error("Received status: "+r.status+", text: "+r.statusText);case 5:return e.next=7,r.json();case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}},e)})),function(e){return s.apply(this,arguments)})},{key:"_getConfig",value:function(){var e=M.getState().settings,t=hn()(e.oidcConfig);return t.issuer=e.backendUrl,t}},{key:"_getRouter",value:function(){return M.getState().settings.router}},{key:"restore",value:(l=mn(regeneratorRuntime.mark(function e(t){var r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.authState=t,e.next=3,this._loadConfiguration();case 3:return this.openIdConfig=e.sent,ze.configureHeaders(this.authState?this.authState.accessToken:void 0),r=this.openIdConfig.userinfo_endpoint,e.next=8,this._fetchJsonResult(r);case 8:return e.abrupt("return",e.sent);case 9:case"end":return e.stop()}},e,this)})),function(e){return l.apply(this,arguments)})},{key:"authorizeInternal",value:(a=mn(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(dn.authorize)(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)})),function(e){return a.apply(this,arguments)})},{key:"refreshInternal",value:(i=mn(regeneratorRuntime.mark(function e(t,r){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(dn.refresh)(t,r);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)})),function(e,t){return i.apply(this,arguments)})},{key:"revokeInternal",value:(o=mn(regeneratorRuntime.mark(function e(t,r){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(dn.revoke)(t,r);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)})),function(e,t){return o.apply(this,arguments)})}])&&vn(e.prototype,t),n&&vn(e,n),r}();function Cn(e,t,r,n,o,i,a){try{var l=e[i](a),s=l.value}catch(e){return void r(e)}l.done?t(s):Promise.resolve(s).then(n,o)}wn="/.well-known/openid-configuration",(gn="_configPath")in(bn=On)?Object.defineProperty(bn,gn,{value:wn,enumerable:!0,configurable:!0,writable:!0}):bn[gn]=wn;var Sn,En,kn,c=new On,t=(Sn=c,{preFetchUser:function(){return Sn.getUser().then(function(e){return ze.configureHeaders(e.access_token),re.Promise.resolve()}).catch(function(){Sn.signinRedirect()})},logoff:function(){return Sn.removeUser().then(function(){ze.configureHeaders(void 0),Sn.signoutRedirect()})},onLogon:function(){return Sn.auth().then(function(e){ze.configureHeaders(e.access_token)})},signinRedirect:function(){Sn.signinRedirect()},getAuthState:function(){return Sn.authState},setAuthState:(En=regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Sn.restore(t).catch(function(e){console.log("oidcClient.restore",e),Sn.signinRedirect()});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)}),kn=function(){var e=this,a=arguments;return new Promise(function(t,r){var n=En.apply(e,a);function o(e){Cn(n,t,r,o,i,"next",e)}function i(e){Cn(n,t,r,o,i,"throw",e)}o(void 0)})},function(e){return kn.apply(this,arguments)})});I.addProvider("identityserver",t);var jn=c,c=r(7),xn=r.n(c);function Pn(e,t,r,n,o,i,a){try{var l=e[i](a),s=l.value}catch(e){return void r(e)}l.done?t(s):Promise.resolve(s).then(n,o)}function Tn(l){return function(){var e=this,a=arguments;return new Promise(function(t,r){var n=l.apply(e,a);function o(e){Pn(n,t,r,o,i,"next",e)}function i(e){Pn(n,t,r,o,i,"throw",e)}o(void 0)})}}k.loadScript=function(e,t){new Function(e)(),t&&t()};c=M.getState().settings;c.mobile=!0,c.oidcConfig={clientId:"mobile",redirectUrl:"dwkit:/oauthredirect",scopes:["openid","profile","offline_access","IdentityServerApi"],dangerouslyAllowInsecureHttpRequests:!0,additionalParameters:{prompt:"login"}},dt.common._setCookie_Values={},xn.a.getAllKeys().then(function(e){e.forEach(function(t){t.startsWith("@cookie_")&&xn.a.getItem(t).then(function(e){return dt.common._setCookie_Values[t]=e})})}),dt.common.setCookie=function(e,t){e="@cookie_"+e;return dt.common._setCookie_Values[e]=t,xn.a.setItem(e,t)},dt.common.getCookie=function(e){return dt.common._setCookie_Values["@cookie_"+e]},M.loadStateFromStorage=Tn(regeneratorRuntime.mark(function e(){var t,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,xn.a.getItem("DWKit_GlobalState");case 2:if(!(r=e.sent)){e.next=16;break}if((t=ne.a.parse(r)).app.fetchCount=0,t.app.user)return e.next=9,xn.a.getItem("DWKit_AuthState");e.next=16;break;case 9:if(r=e.sent)return r=ne.a.parse(r),M.dispatch(N.updatestate(t)),e.next=15,M.setAuthState(r).then(function(){var e=M.getState();return M.dispatch(dt.userinfo.fetch(function(e){var t=M.getState().settings.router;t&&t.userLoaded&&t.userLoaded(e)})),Promise.resolve(e)}).catch(function(e){console.log("Store.setAuthState ERROR",e)});e.next=16;break;case 15:return e.abrupt("return",e.sent);case 16:return e.abrupt("return",Promise.resolve(M.getState()));case 17:case"end":return e.stop()}},e)})),M.saveStateToStorage=Tn(regeneratorRuntime.mark(function e(){var t,r,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=M.getAuthState())return e.next=4,xn.a.setItem("DWKit_AuthState",ne.a.stringify(t));e.next=4;break;case 4:if(!(r=M.getState())){e.next=11;break}for(n in(r=hn()(r)).router)"function"==typeof r.router[n]&&delete r.router[n];return delete r.settings,e.next=11,xn.a.setItem("DWKit_GlobalState",ne.a.stringify(r));case 11:case"end":return e.stop()}},e)})),M.resetStateInStorage=Tn(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,xn.a.removeItem("DWKit_AuthState");case 2:return e.next=4,xn.a.removeItem("DWKit_GlobalState");case 4:case"end":return e.stop()}},e)})),M.setScreen=function(e){M.dispatch(N.router.setscreen(e))},M.switchSceen=function(e){var t=M.getState(),r={app:{form:t.app.form,modals:t.app.modals},router:t.router},n=null;(n=t.app.screens&&t.app.screens[e]?t.app.screens[e]:{app:{form:u.app.form,modals:u.app.modals},router:u.router}).app.screens||(n.app.screens={}),n.app.screens[r.router.screen]=r,n.router.screen=e,M.dispatch(N.updatestate(n))},le.switchSceen=M.switchSceen,Re.navigate=function(e){e.state;e=e.parameters;void 0!==e&&void 0!==e.target?rn(e.target):console.error("For call 'redirect' action you need to set the 'target' parameter!")}}],B={},N.m=L,N.c=B,N.d=function(e,t,r){N.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},N.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},N.t=function(t,e){if(1&e&&(t=N(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(N.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)N.d(r,n,function(e){return t[e]}.bind(null,n));return r},N.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return N.d(t,"a",t),t},N.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},N.p="",N(N.s=58);function N(e){if(B[e])return B[e].exports;var t=B[e]={i:e,l:!1,exports:{}};return L[e].call(t.exports,t,t.exports,N),t.l=!0,t.exports}var L,B});