!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("react"),require("semantic-ui-react"),require("react-dom"),require("json5"),require("moment"),require("react-dropzone-component"),require("reflux"),require("react-fast-compare"),require("isomorphic-fetch"),require("deepmerge"),require("oidc-client"),require("react-data-grid"),require("react-datepicker"),require("uuid"),require("react-grid-layout"),require("react-slick"),require("numeral")):"function"==typeof define&&define.amd?define(["react","semantic-ui-react","react-dom","json5","moment","react-dropzone-component","reflux","react-fast-compare","isomorphic-fetch","deepmerge","oidc-client","react-data-grid","react-datepicker","uuid","react-grid-layout","react-slick","numeral"],t):"object"==typeof exports?exports["optimajet-admin"]=t(require("react"),require("semantic-ui-react"),require("react-dom"),require("json5"),require("moment"),require("react-dropzone-component"),require("reflux"),require("react-fast-compare"),require("isomorphic-fetch"),require("deepmerge"),require("oidc-client"),require("react-data-grid"),require("react-datepicker"),require("uuid"),require("react-grid-layout"),require("react-slick"),require("numeral")):e["optimajet-admin"]=t(e.react,e["semantic-ui-react"],e["react-dom"],e.json5,e.moment,e["react-dropzone-component"],e.reflux,e["react-fast-compare"],e["isomorphic-fetch"],e.deepmerge,e["oidc-client"],e["react-data-grid"],e["react-datepicker"],e.uuid,e["react-grid-layout"],e["react-slick"],e.numeral)}(window,function(n,a,r,o,i,l,s,u,d,c,f,p,h,m,g,v,y){return w={},b.m=k=[function(e,t){e.exports=n},function(e,t){e.exports=a},function(e,t){e.exports=r},function(e,t){e.exports=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},o=function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e};function i(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var l=u(n(0)),s=(u(n(2)),n(1));function u(e){return e&&e.__esModule?e:{default:e}}var d=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(c,l.default.Component),o(c,[{key:"GuidEmpty",value:function(){return"00000000-0000-0000-0000-000000000000"}},{key:"setUpdatedState",value:function(e){null==e.__state&&(e.__state="updated")}},{key:"onSave",value:function(){var t=this,n=[];this.state.data.forEach(function(e){null!=e.__state&&n.push(r({},e,{__type:t.datatype}))}),this.ChangeData(n)}},{key:"ChangeData",value:function(e,t){var n=new Array;n.push({name:"operation",value:"change"}),n.push({name:"items",value:JSON.stringify(e)}),$.ajax({url:this.props.apiUrl,data:n,async:!0,type:"post",success:function(e){e.success?(alertify.success(DWKitAdminLang.msg.saveok),t&&t(e)):alertify.error(e.message)}})}},{key:"СloneObj",value:function(e){if(null==e||"object"!=(void 0===e?"undefined":a(e)))return e;var t=e.constructor();for(var n in e)e.hasOwnProperty(n)&&(t[n]=this.СloneObj(e[n]));return t}},{key:"ResetSystemProps",value:function(e){if(Array.isArray(e))for(var t=0;t<e.length;t++)"deleted"==e[t].__state?(e.splice(t,1),t--):this.ResetSystemProps(e[t]);if("object"==(void 0===e?"undefined":a(e)))for(var n in e)"__state"!=n&&"__type"!=n&&"__error"!=n||(e[n]=void 0)}},{key:"NewGUID",value:function(){function e(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()}},{key:"updateQueryStringParameter",value:function(e,t,n){var a=new RegExp("([?&])"+t+"=.*?(&|#|$)","i");if(void 0===n){if(e.match(a)){var r=e.replace(a,"$1$2");return"&"==r[r.length-1]&&(r=r.substring(0,r.length-1)),r}return e}if(e.match(a))return e.replace(a,"$1"+t+"="+n+"$2");var o="";-1!==e.indexOf("#")&&(o=e.replace(/.*#/,"#"),e=e.replace(/#.*/,""));var i=-1!==e.indexOf("?")?"&":"?";return e+i+t+"="+n+o}},{key:"getQueryString",value:function(){for(var e={},t=window.location.search.substring(1).split("&"),n=0;n<t.length;n++){var a=t[n].split("=");if(void 0===e[a[0]])e[a[0]]=a[1];else if("string"==typeof e[a[0]]){var r=[e[a[0]],a[1]];e[a[0]]=r}else e[a[0]].push(a[1])}return e}},{key:"getProcessLoadError",value:function(e,t){return 0===e.status?DWKitAdminLang.requesterror.status0:404==e.status?DWKitAdminLang.requesterror.status404:500==e.status?DWKitAdminLang.requesterror.status500:"parsererror"===t?DWKitAdminLang.requesterror.parsererror:"timeout"===t?DWKitAdminLang.requesterror.timeout:"abort"===t?DWKitAdminLang.requesterror.abort:DWKitAdminLang.requesterror.uncaught+"\n"+e.responseText}},{key:"RenderLoading",value:function(){var e=this;return Boolean(this.state.progresserror)||(null==this.state.progresspercent&&(this.state.progresspercent=0),this.state.progresspercent<100?setTimeout(function(){e.setState({progresspercent:e.state.progresspercent+1})},250):(this.state.progresserror=!0,this.state.progressmsg=DWKitAdminLang.msg.checkerrors)),l.default.createElement("div",{className:"dwkit-formadmin-loadingscreen"},l.default.createElement("img",{className:"dwkit-formadmin-loadingscreen-logo",src:"/images/logo.svg"}),l.default.createElement("p",null,this.state.progressmsg),l.default.createElement("div",{className:"dwkit-formadmin-loadingscreen-progressbar"},l.default.createElement(s.Progress,{percent:this.state.progresspercent,error:Boolean(this.state.progresserror),indicating:!0})))}}]),c);function c(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(c.__proto__||Object.getPrototypeOf(c)).call(this,e))}t.default=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},o=function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e};function i(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var l=c(n(0)),s=c(n(4)),u=n(1),d=c(n(10));function c(e){return e&&e.__esModule?e:{default:e}}var f=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(p,s.default),o(p,[{key:"createNewObject",value:function(){var e={__state:"inserted"};return e[this.idfield]=this.NewGUID(),e}},{key:"showedit",value:function(e){this.state.editrowid=void 0,this.props.parent.openpage(this.panelindex,e[this.idfield])}},{key:"loadeditrow",value:function(){if(this.state.editrowid=this.props.id,null!=this.props.id){var e=this.getEditRow();this.state.editrow=this.СloneObj(e)}else this.state.editrow=void 0}},{key:"applyeditrow",value:function(){for(var e=this.state.editrow[this.idfield],t=-1,n=this.props.data[this.dataindex],a=0;a<n.length;a++)if(e===n[a][this.idfield]){t=a;break}0<=t?this.props.data[this.dataindex][t]=this.state.editrow:this.props.data[this.dataindex].unshift(this.state.editrow)}},{key:"back",value:function(){this.props.parent.openpage(this.panelindex)}},{key:"getEditRow",value:function(){var e=this.props.id;if("new"===e){var t=this.createNewObject();if(void 0!==this.props.copyid)for(var n=this.props.data[this.dataindex],a=0;a<n.length;a++)if(n[a][this.idfield]===this.props.copyid){for(var r in n[a])void 0===t[r]&&(t[r]=n[a][r]);break}return t}for(var o=this.props.data[this.dataindex],i=0;i<o.length;i++)if(o[i][this.idfield]===e)return o[i];alertify.error(DWKitAdminLang.msg.objectnotfound)}},{key:"render",value:function(){return this.state.editrowid!=this.props.id&&this.loadeditrow(),l.default.createElement("div",null,null==this.props.id?this.renderMainForm():this.renderEditForm())}},{key:"validate",value:function(){return!0}},{key:"reload",value:function(){this.state={},this.forceUpdate()}},{key:"renderMainForm",value:function(){var t=this,e=this,n=(null==this.props.data[this.dataindex]||this.props.data[this.dataindex].length,this.gridColumns()),a="";return 0<n.length&&(a=n[0].key+" ASC"),l.default.createElement("div",null,l.default.createElement("h1",null,this.titleGetter?this.titleGetter(DWKitAdminLang):this.title),this.renderToolbar(),l.default.createElement(d.default,{key:"Formgrid",rowKey:this.idfield,rowHeight:40,columns:this.gridColumns(),defaultSort:a,minHeight:this.state.gridHeight,multiselect:!0,value:this.props.data[this.dataindex],handleEvent:this.gridHandleEvent.bind(this),ref:function(e){t.grid=e}}),l.default.createElement(u.Confirm,{open:this.state.confirmdeleteshow,dimmer:"blurring",content:DWKitAdminLang.msg.confirmdelete,onCancel:function(){e.setState({confirmdeleteshow:!1})},onConfirm:this.onDelete.bind(this)}))}},{key:"renderToolbar",value:function(){var e=this,t=this;return l.default.createElement("div",{className:"dwkitadmin-toolbar"},l.default.createElement(u.Button,{className:"buttontype1",onClick:function(){e.props.parent.openpage(e.panelindex,"new")}},DWKitAdminLang.button.create),l.default.createElement(u.Button,{className:"buttontype2",onClick:function(){t.setState({confirmdeleteshow:!0})}},DWKitAdminLang.button.delete))}},{key:"renderEditForm",value:function(){return l.default.createElement(this.editform,r({},this.props,{parent:this,data:this.state.editrow,ischanged:this.state.ischanged,metadata:this.props.data,handleChange:this.handleChange,onSave:this.onSave,onCancel:this.onCancel}))}},{key:"onSave",value:function(t){var n=this;this.validate()?null!=n.state.editrow.__state?(n.state.editrow.__type=this.datatype,this.ChangeData([n.state.editrow],function(e){n.ResetSystemProps(n.state.editrow),n.applyeditrow(),n.showedit(n.state.editrow),n.state.needGlobalReload&&(n.state.needGlobalReload=void 0,setTimeout(function(){n.props.parent.load(),Pace.stop()},100)),t&&t(e)})):alertify.success(DWKitAdminLang.msg.unchangedobject):alertify.error(DWKitAdminLang.msg.checkerrorsonform)}},{key:"onCancel",value:function(){var e=this.state.editrow;if(this.loadeditrow(),null!=e)for(var t in e)null==this.state.editrow[t]&&null!=e[t]&&"string"==a(e[t])&&(this.state.editrow[t]="");this.forceUpdate()}},{key:"getDefaultObjectCode",value:function(){for(var e=this.defaultNamePrefix,t=0;t<1e3;t++){var n=e+(0===t?"":"_"+t.toString());if(this.validateCode(n)){e=n;break}}return e}},{key:"validateCode",value:function(e){var t=!0,n=this.props.data[this.dataindex];if(null!=n)for(var a=0;a<n.length;a++)if(n[a][this.idfield]==e){t=!1;break}return t}},{key:"onDelete",value:function(){for(var e=this,t=[],n=[],a=this.grid.getSeletedRowKeys(),r=0;r<this.props.data[this.dataindex].length;r++){for(var o=this.props.data[this.dataindex][r],i=!1,l=0;l<a.length;l++)if(o[this.idfield]==a[l]){i=!0;break}if(i){var s=this.props.data[this.dataindex][r];s.__type=this.datatype,s.__state="deleted",n.push(s)}else t.push(this.props.data[this.dataindex][r])}e.setState({confirmdeleteshow:!1}),this.ChangeData(n,function(){e.props.data[e.dataindex]=t,e.grid.resetSelection(),e.forceUpdate()})}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"componentDidMount",value:function(){this._isMounted=!0,this.recalcSizeParams()}},{key:"recalcSizeParams",value:function(){if(this._isMounted){var e=$(window).height();this.setState({gridHeight:e-210-this.props.deltaHeight})}}},{key:"gridColumns",value:function(){return[{key:"code",name:DWKitAdminLang.column.code,resizable:!0}]}},{key:"gridHandleEvent",value:function(e){var t=e.eventName,n=e.parameters;"onRowDblClick"===t&&this.showedit(n.row)}}]),p);function p(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,p);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(p.__proto__||Object.getPrototypeOf(p)).call(this,e));null==t.idfield&&(t.idfield="id"),t.state={openmodal:!1};var n=t;return window.onresize=function(){n.recalcSizeParams()},t}t.default=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},r=function(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e};function o(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var i=s(n(0)),l=(s(n(2)),s(n(4)),n(1));s(n(3));function s(e){return e&&e.__esModule?e:{default:e}}var u=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(d,s(n(5)).default),r(d,[{key:"renderToolbar",value:function(){var e,t=this,n=[];if(!this.hidebuttons){var a=function(){t.setState({popup:{show:!1}})};n.push(i.default.createElement(l.Button,{key:"btnCreate",className:"buttontype1",onClick:function(){t.setState({popup:{show:!0}})}},DWKitAdminLang.button.create)),n.push(i.default.createElement(l.Button,{key:"btnDelete",className:"buttontype2",onClick:function(){t.setState({confirmdeleteshow:!0})}},DWKitAdminLang.button.delete))}return null!=this.state.popup.errors&&(e=i.default.createElement(l.Message,{negative:!0},i.default.createElement("p",null,this.state.popup.errors))),i.default.createElement("div",{className:"dwkitadmin-toolbar"},n,i.default.createElement(l.Modal,{dimmer:"blurring",open:this.state.popup.show},i.default.createElement(l.Modal.Header,null,"Creating"),i.default.createElement(l.Modal.Content,null,i.default.createElement(l.Form,null,e,i.default.createElement(l.Form.Input,{key:"name",name:"newobjectname",label:DWKitAdminLang.field.name,required:!0,value:this.state.popup.name,onChange:this.handlePopupChange.bind(this),error:null!=this.state.popup.errors}))),i.default.createElement(l.Modal.Actions,null,i.default.createElement(l.Button,{className:"buttontype1",content:DWKitAdminLang.button.create,onClick:this.onCreate.bind(this)}),i.default.createElement(l.Button,{className:"buttontype2",content:DWKitAdminLang.button.cancel,onClick:a}))))}},{key:"handlePopupChange",value:function(e,t){t.name;var n=t.value;t.checked,this.setState({popup:a({},this.state.popup,{name:n})})}},{key:"onCreate",value:function(){var e=this.state.popup.name;""!=e&&null!=e?(this.setState({popup:{show:!1}}),this.props.parent.openpage(this.panelindex,e)):this.setState({popup:a({},this.state.popup,{errors:DWKitAdminLang.msg.fieldrequired})})}},{key:"getEditRow",value:function(){var e=this.ignoreidcase?this.props.id.toLowerCase():this.props.id,t=this.props.data[this.dataindex];if(Array.isArray(t))for(var n=0;n<t.length;n++)if((this.ignoreidcase?t[n][this.idfield].toLowerCase():t[n][this.idfield])===e)return t[n];var a={};return a[this.idfield]=this.props.id,a}}]),d);function d(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,d);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(d.__proto__||Object.getPrototypeOf(d)).call(this,e));return t.state.popup={show:!1},t}t.default=u},function(e,t,n){"use strict";var a=n(17).createActions(["add","showEditForm","remove","saveData","save","move"]);e.exports=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},R="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=function(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e};function o(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var V=s(n(0)),i=s(n(3)),W=n(1),z=s(n(19)),B=s(n(20)),l=s(n(53));function s(e){return e&&e.__esModule?e:{default:e}}var u=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(d,V.default.Component),a(d,[{key:"applyCollapseAll",value:function(e){for(var t in e)null==this.state.expanded[t]&&(this.state.expanded[t]=!1)}},{key:"renderHeaderRow",value:function(e){var s=[],u=0;if(e.forEach(function(e){var t,n,a,r,o=void 0;"object"===(void 0===e?"undefined":R(e))?(t=e.key,n=e.name,a=e.width,Array.isArray(e.dataList)&&(o=e.dataList)):n=t=e,null!=n&&2<=n.length&&(n=n.charAt(0).toUpperCase()+n.slice(1));var i=void 0;if(null!=o){i=t+"_datalist";var l=[];o.forEach(function(e){l.push(V.default.createElement("option",{key:e,value:e}))}),r=V.default.createElement("datalist",{key:i,id:i},l)}s.push(V.default.createElement("td",{key:u,style:{width:a}},n,r)),u++}),!this.props.readOnly&&!0!==this.props.disableAdd){var t="Add";null!=window.DWKitAdminLang&&null!=window.DWKitAdminLang.collectioneditor&&(t=window.DWKitAdminLang.collectioneditor.add),s.push(V.default.createElement("td",{key:"btntd",className:"dwkit-collectioneditor-buttoncol"},V.default.createElement("a",{key:"btnadd",className:"dwkit-btn",onClick:this.btnAdd.bind(this)},t)))}return V.default.createElement("tr",{key:"headertr",className:"dwkit-collectioneditor-header"},s)}},{key:"getDragColumn",value:function(e,t){var n=!this.props.readOnly&&Boolean(this.props.draggable);if(n)return V.default.createElement("div",{draggable:n,onDragStart:this.onDragStart.bind(this,t,e),onDragEnd:this.onDragEnd.bind(this,t,e),onDragOver:this.onDragOver.bind(this),onDrop:this.onDrop.bind(this,t,e),key:"celldrag",className:"dwkit-collectioneditor-action"},V.default.createElement(W.Icon,{onClick:this.onExpand.bind(this,t,!1),name:"ellipsis vertical"}))}},{key:"getFilteredItems",value:function(e,t){var n=[];return void 0===e?n:n=void 0!==t?e.filter(function(e){return t.IsRowMatched(e)}):e}},{key:"renderRows",value:function(e,t,n,a,r,o){var i=this,l=this,s=[],u=t;null==r&&(r=0),void 0===o&&(o=""),this.props.filter&&(u=this.getFilteredItems(u,this.props.filter));for(var d=0;d<u.length;d++)if(void 0!==this.props.childrenField||!this.props.hierarchical||u[d][this.props.parentIdField]==a){var c=this.getDragColumn(u,d),f=void 0,p=void 0;if(this.props.hierarchical){var h=void 0,m=o+String(d+"_");if(void 0!==this.props.parentIdField&&""!==this.props.parentIdField){var g=u[d][this.props.idField]||u[d].__id;if(null!=g&&""!=g&&0<(p=this.renderRows(e,t,n,g,r+1,m)).length){var v=this.state.expanded[o+d];null==v||v?h=V.default.createElement("img",{onClick:this.onExpand.bind(this,o+d,!1),className:"dwkit-collectioneditor-imgbutton",src:"/images/collapse.svg"}):(h=V.default.createElement("img",{onClick:this.onExpand.bind(this,o+d,!0),className:"dwkit-collectioneditor-imgbutton",src:"/images/expand.svg"}),p=void 0)}}else if(Array.isArray(u[d][this.props.childrenField])&&0<u[d][this.props.childrenField].length){if(0<(p=this.renderRows(e,u[d][this.props.childrenField],n,void 0,r+1,m)).length){var y=this.state.expanded[o+d];null==y||y?h=V.default.createElement("img",{onClick:this.onExpand.bind(this,o+d,!1),className:"dwkit-collectioneditor-imgbutton",src:"/images/collapse.svg"}):(h=V.default.createElement("img",{onClick:this.onExpand.bind(this,o+d,!0),className:"dwkit-collectioneditor-imgbutton",src:"/images/expand.svg"}),p=void 0)}}else h=V.default.createElement("img",{style:{opacity:0},className:"dwkit-collectioneditor-imgbutton",src:"/images/collapse.svg"});f=V.default.createElement("div",{className:"dwkit-collectioneditor-action"},h)}var b=[],k=void 0;Array.isArray(n)&&0<n.length&&(void 0!==n[0].__id&&null!==n[0].__id?function(){var t=u[d].__id;void 0!==t&&null!=t&&(k=n.find(function(e){return e.__id===t}))}():k=n[d]);for(var w=0;w<e.length;w++){var E=void 0,C=this.props.readOnly?"":"input",_=void 0,L=void 0;"object"===R(e[w])?(E=e[w].key,C=e[w].control,Array.isArray(e[w].dataList)&&(_=E+"_datalist"),Array.isArray(e[w].options)&&(L=e[w].options)):E=e[w];var D=void 0;null!=k&&(D=Boolean(k[E]));var O=void 0;if("checkbox"===C)O=V.default.createElement(W.Form.Checkbox,{key:d+"_"+w,name:E,checked:Boolean(u[d][E]),readOnly:Boolean(this.props.readOnly),error:D,onChange:this.handleChange.bind(this,u[d])});else if("span"===C)O=V.default.createElement("span",{key:d+"_"+w,name:E},u[d][E]);else if("number"===C){var A=null==u[d][E]?"":u[d][E];O=V.default.createElement(W.Form.Input,{key:d+"_"+w,name:E,type:"number",error:D,value:A,readOnly:Boolean(this.props.readOnly),onChange:this.handleChange.bind(this,u[d])})}else if("date"===C){var F=null==u[d][E]?"":u[d][E];O=V.default.createElement(B.default,{key:d+"_"+w,name:E,type:"date",error:D,value:F,isForm:!0,readOnly:Boolean(this.props.readOnly),onChange:this.handleChange.bind(this,u[d])})}else if("datetime"===C){var x=null==u[d][E]?"":u[d][E];O=V.default.createElement(B.default,{key:d+"_"+w,name:E,type:"datetime",error:D,value:x,isForm:!0,readOnly:Boolean(this.props.readOnly),onChange:this.handleChange.bind(this,u[d])})}else if("dropdown"===C){var S=null==u[d][E]?e[w].multiple?[]:"":u[d][E];O=V.default.createElement(W.Form.Dropdown,{key:d+"_"+w,name:E,multiple:Boolean(e[w].multiple),placeholder:e[w].placeholder,error:D,value:S,options:L,readOnly:Boolean(this.props.readOnly),onChange:this.handleChange.bind(this,u[d]),selection:!0,fluid:!0,search:!0})}else if("file"===C||"file2"===C){var j=null==u[d][E]?"":u[d][E];O=V.default.createElement(z.default,{key:d+"_"+w,name:E,error:D,value:j,readOnly:Boolean(this.props.readOnly),onChange:this.handleChange.bind(this,u[d]),downloadUrl:this.props.downloadUrl,uploadUrl:this.props.uploadUrl,isForm:!0,hideClearButton:"file2"===C})}else if("custom"===C){var P=null==u[d][E]?"":u[d][E];if(null!=this.props.placeholders&&Array.isArray(this.props.placeholders[E])&&0<this.props.placeholders[E].length){var I=this.props.placeholders[E][0];null!=I&&function(){I.key=E;var a=u[d];O=i.props.createControl(i,I["data-buildertype"],{model:I,data:a,errors:k,parentItem:i.props.name,buildermode:i.props.buildermode,handleEvent:function(e){null==e.parameters&&(e.parameters={}),null==e.parameters.row&&(e.parameters.row=a),"onChange"===e.eventName?l.handleChange(a,e.syntheticEvent,e):l.props.handleEvent(e)},getAdditionalDataForControl:function(e,t,n){return null==t&&(t={}),null==t.row&&(t.row=a),l.props.getAdditionalDataForControl(e,t,n)},readOnly:i.props.readOnly,uploadUrl:i.props.uploadUrl,downloadUrl:i.props.downloadUrl,controlsToReplace:[]})}()}else this.props.buildermode&&null!=this.props.createBuilderDropzone&&(O=this.props.createBuilderDropzone(E,P))}else{var N=null==u[d][E]?"":u[d][E];O=V.default.createElement(W.Form.Input,{key:d+"_"+w,name:E,list:_,error:D,value:N,readOnly:Boolean(this.props.readOnly),onChange:this.handleChange.bind(this,u[d])})}if(0===w){var T=void 0;r&&(T=String(15*r+5)+"px"),b.push(V.default.createElement("td",{key:d+"_"+w+"td",style:{paddingLeft:T}},f,c,O))}else b.push(V.default.createElement("td",{key:d+"_"+w+"td"},O))}if(!this.props.readOnly){var M=!0!==this.props.disableAdd;this.props.hierarchical?b.push(V.default.createElement("td",{key:"celldelete",className:"dwkit-collectioneditor-cellbtn"},V.default.createElement("div",{className:"field"},M&&V.default.createElement(W.Icon,{key:"addchild",onClick:this.btnAddChild.bind(this,d,u),link:!0,name:"add"}),M&&V.default.createElement(W.Icon,{key:"copy",onClick:this.btnCopy.bind(this,d,u),link:!0,name:"copy"}),V.default.createElement(W.Icon,{key:"delete",onClick:this.btnDelete.bind(this,d,u),link:!0,name:"delete"})))):b.push(V.default.createElement("td",{key:"celldelete",className:"dwkit-collectioneditor-cellbtn"},V.default.createElement("div",{className:"field"},M&&V.default.createElement(W.Icon,{key:"copy",onClick:this.btnCopy.bind(this,d,void 0),link:!0,name:"copy"}),V.default.createElement(W.Icon,{key:"delete",onClick:this.btnDelete.bind(this,d,void 0),link:!0,name:"delete"}))))}s.push(V.default.createElement("tr",{key:o+d,className:"dwkit-collectioneditor-row","data-rowindex":d},b)),s=s.concat(p)}return s}},{key:"btnDelete",value:function(e,t){if(null!=this.props.onChange){void 0===t&&(t=this.state.data);var n=t[e];t.splice(e,1),null!=this.props.handleEvent&&this.props.handleEvent({key:this.props.name,propertyName:this.props.propertyName,eventName:"onDelete",parameters:{rowIdx:e,row:n}}),this.sendChangesToParent()}}},{key:"btnAddChild",value:function(e,t){void 0===t&&(t=null==this.state.data?[]:this.state.datae);var n=t[e],a=null==this.props.defaultrow?{}:r({},this.props.defaultrow);a.__id="CLIENT_"+l.default.v1(),this.props.parentIdField?(a[this.props.parentIdField]=n[this.props.idField]||n.__id,t.push(a)):(Array.isArray(n[this.props.childrenField])||(n[this.props.childrenField]=[]),n[this.props.childrenField].push(a)),this.props.handleEvent&&this.props.handleEvent({key:this.props.name,propertyName:this.props.propertyName,eventName:"onAddChild",parameters:{rowIdx:t.length-1,row:a}}),this.sendChangesToParent()}},{key:"btnAdd",value:function(){var e=null==this.props.defaultrow?{}:this.props.defaultrow;e.__id="CLIENT_"+l.default.v1(),this.state.data.push(e),null!=this.props.handleEvent&&this.props.handleEvent({key:this.props.name,propertyName:this.props.propertyName,eventName:"onAdd",parameters:{rowIdx:this.state.data.length-1,row:e}}),this.sendChangesToParent()}},{key:"copyForParentId",value:function(t,n,e){var a=this,r=JSON.parse(JSON.stringify(n));return r.__id="CLIENT_"+l.default.v1(),delete r[this.props.idField],r[this.props.parentIdField]=e,t.filter(function(e){return e[a.props.parentIdField]===(n[a.props.idField]||n.__id)}).forEach(function(e){return a.copyForParentId(t,e,r.__id)}),t.push(r),r}},{key:"resetIdsRecursive",value:function(e){var t=this;e.__id="CLIENT_"+l.default.v1(),delete e[this.props.idField],Array.isArray(e[this.props.childrenField])&&e[this.props.childrenField].forEach(function(e){return t.resetIdsRecursive(e)})}},{key:"btnCopy",value:function(e,t){void 0===t&&(t=this.state.data);var n=t[e],a=null;this.props.parentIdField&&n.hasOwnProperty(this.props.parentIdField)?a=this.copyForParentId(t,n,n[this.props.parentIdField]):(a=JSON.parse(JSON.stringify(n)),this.resetIdsRecursive(a),t.push(a)),this.props.handleEvent&&this.props.handleEvent({key:this.props.name,propertyName:this.props.propertyName,eventName:"onCopy",parameters:{rowIdx:t.length-1,row:a}}),this.sendChangesToParent()}},{key:"onExpand",value:function(e,t){this.state.expanded[e]=t,this.forceUpdate()}},{key:"onDragOver",value:function(e){e.preventDefault()}},{key:"onDragStart",value:function(e,t,n){n.dataTransfer.setData("index",e),this.state.dragElementIndex=e,this.state.dragRows=t}},{key:"onDragEnd",value:function(e,t){this.state.dragElementIndex=void 0,this.state.dragRows=void 0}},{key:"onDrop",value:function(e,t,n){var a=this.state.dragElementIndex,r=this.state.dragRows,o=e,i=t;return null!=a&&(o!=a&&(void 0!==this.props.parentIdField&&""!==this.props.parentIdField&&(r[a][this.props.parentIdField]=i[o][this.props.parentIdField]),i.splice(o,0,r.splice(a,1)[0]),this.sendChangesToParent()),n.preventDefault()),!1}},{key:"handleChange",value:function(e,t,n){var a=n.name,r=n.propertyName,o=n.value,i=n.checked;if(null!=this.props.onChange){var l=r||a;e[l]=null==o&&null!=i?i:o,this.sendChangesToParent(),null!=t?t.preventDefault():this.forceUpdate()}}},{key:"getCopyRowsFromProps",value:function(){var e=null==this.props.value?[]:this.props.value;return this.state.stringmode=!1,Array.isArray(e)?e=e.slice():(e=i.default.parse(e),this.state.stringmode=!0),e}},{key:"sendChangesToParent",value:function(){var e=this.state.data,t=this.state.stringmode?i.default.stringify(e):e;this.props.onChange(null,{name:this.props.name,propertyName:this.props.propertyName,value:t})}},{key:"render",value:function(){var e=this.props.columns,t=this.props.value,n=this.props.error;return this.props.collapseAll&&Array.isArray(t)&&this.applyCollapseAll(t),e&&e.length?(this.state.data=this.getCopyRowsFromProps(),V.default.createElement("div",{style:this.props.style,className:"field"},V.default.createElement("label",null,this.props.label),V.default.createElement("table",{className:"dwkit-collectioneditor"},V.default.createElement("tbody",null,this.renderHeaderRow(e),this.renderRows(e,this.state.data,n))))):V.default.createElement("div",null,"Fill columns property!")}}]),d);function d(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,d);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(d.__proto__||Object.getPrototypeOf(d)).call(this,e));return t.state={expanded:{}},t}t.default=u},function(e,t,n){"use strict";var re=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},oe=r(n(0)),H=n(1),a=n(18),$=r(n(21)),Y=r(n(55)),ie=r(n(3)),J=r(n(10)),Q=r(n(56)),Z=r(n(57)),X=r(n(58)),ee=r(n(59)),te=r(n(60)),ne=r(n(8)),le=r(n(61)),ae=r(n(62)),se=r(n(63)),ue=r(n(64)),de=n(16),ce=r(n(65)),fe=r(n(66)),pe=r(n(69)),he=r(n(70)),me=r(n(77)),s=r(n(79)),u=r(n(11));function r(e){return e&&e.__esModule?e:{default:e}}var ge={Items:[{key:"sepContainers",title:"Containers",isseparate:!0,defaultopen:!0},{key:"container",title:"DIV",control:ee.default,editControl:a.ContainerEditControl},{key:"staticcontent",title:"Static Content",control:te.default,editControl:a.StaticContentEditControl,defaultValues:{content:"Text..."}},{key:"form",title:"Form",control:se.default,editControl:a.FormEditControl},{key:"formgroup",title:"Form Group",control:se.default,editControl:a.FormGroupEditControl,defaultValues:{widths:"equal"}},{key:"tab",title:"Tab",control:pe.default,editControl:a.TabEditControl,defaultValues:{panes:[{title:"Tab 1",psid:"t1"},{title:"Tab 2",psid:"t2"},{title:"Tab 3",psid:"t3"}]}},{key:"customblock",title:"Custom block",control:void 0,editControl:a.CustomBlockEditControl,defaultValues:{sourceType:"form"}},{key:"gridlayout",title:"Grid Layout",control:he.default,editControl:a.GridLayoutEditControl,defaultValues:{draggable:!1,resizable:!1,panes:[{title:"Pane 1",psid:"p1",x:0,w:4},{title:"Pane 2",psid:"p2",x:4,w:4},{title:"Pane 3",psid:"p3",x:8,w:4}]}},{key:"sepCollection",title:"Collections",isseparate:!0},{key:"gridview",title:"GridView",control:J.default,editControl:a.GridEditControl,defaultValues:{columns:[{key:"id",name:"ID"},{key:"title",name:"Title"},{key:"count",name:"Count"}]}},{key:"collectioneditor",title:"Collection Editor",control:ne.default,editControl:a.CollectionEditorEditControl,defaultValues:{idField:"Id",parentIdField:"ParentId",columns:[{key:"Id",name:"ID"},{key:"Title",name:"Title"},{key:"Count",name:"Count"}]}},{key:"repeater",title:"Repeater",control:me.default,editControl:a.RepeaterEditControl,defaultValues:{}},{key:"sepControls",title:"Controls",isseparate:!0},{key:"header",title:"Header",control:se.default,editControl:a.HeaderEditControl,defaultValues:{content:"Header",size:"medium"}},{key:"input",title:"Input",control:se.default,editControl:a.InputEditControl,defaultValues:{label:"Input",fluid:!0,onChangeTimeout:200}},{key:"textarea",title:"TextArea",control:se.default,editControl:a.TextAreaEditControl,defaultValues:{label:"TextArea",fluid:!0}},{key:"dictionary",title:"Dictionary",control:X.default,editControl:a.DictionaryEditControl,defaultValues:{label:"Dictionary",fluid:!0,selection:!0}},{key:"treepicker",title:"TreePicker",control:fe.default,editControl:a.TreePickerEditControl,defaultValues:{label:"TreePicker",selection:!0,fluid:!0,parentIdField:"ParentId"}},{key:"dropdown",title:"Dropdown",control:se.default,editControl:a.DropdownEditControl,defaultValues:{label:"Dropdown",fluid:!0,selection:!0,"data-elements":[{key:1,value:1,text:"Item 1"},{key:2,value:2,text:"Item 2"},{key:3,value:3,text:"Item 3"}]}},{key:"checkbox",title:"CheckBox",control:se.default,editControl:a.CheckboxEditControl,defaultValues:{label:"Checkbox"}},{key:"radiogroup",title:"Radio group",control:$.default,editControl:a.RadioGroupEditControl,defaultValues:{label:"Radio","data-elements":[{key:1,value:1,text:"Item 1"},{key:2,value:2,text:"Item 2"},{key:3,value:3,text:"Item 3"}]}},{key:"button",title:"Button",control:se.default,editControl:a.ButtonEditControl,defaultValues:{content:"Button"}},{key:"label",title:"Label",control:se.default,editControl:a.LabelEditControl,defaultValues:{content:"Label"}},{key:"message",title:"Message",control:se.default,editControl:a.MessageEditControl,defaultValues:{header:"Message",content:"Description..."}},{key:"image",title:"Image",control:se.default,editControl:a.ImageEditControl,defaultValues:{src:"/images/unknown.png"}},{key:"statistic",title:"Statistic",control:se.default,editControl:a.StatisticEditControl,defaultValues:{"data-elements":[{label:"Score",value:"22,1%"},{label:"Views",value:"30,000"},{label:"Points",value:"500"}]}},{key:"customcontrol",title:"Custom control",control:void 0,editControl:a.CustomEditControl,defaultValues:{props:"{  }"}},{key:"dropdowntrigger",title:"Dropdown trigger",control:ae.default,editControl:a.DropdownTriggerEditControl,defaultValues:{defaultValue:"User",items:[{target:"#1",title:"Item 1"},{target:"#2",title:"Item 2"},{target:"#3",title:"Item 3"}]}},{key:"dropzonecontrol",title:"Dropzone",control:ue.default,editControl:a.DropzoneEditControl,defaultValues:{showFiletypeIcon:!1,autoProcessQueue:!0,addRemoveLinks:!0,multile:!0}},{key:"breadcrumb",title:"Breadcrumbs",control:se.default,editControl:a.BreadcrumbEditControl,defaultValues:{items:[{text:"Home",url:"/"},{divider:"right angle",text:"Page1",url:"/page1"},{text:"Page2",active:!0}],events:{onItemClick:{active:!0,actions:["redirect"]}}}},{key:"search",title:"Search",control:ce.default,editControl:a.SearchEditControl,defaultValues:{}},{key:"menu",title:"Menu",control:Y.default,editControl:a.MenuEditControl,defaultValues:{items:[{title:"Menu 1"},{title:"Menu 2"},{title:"Menu 3"}]}},{key:"workflowbar",title:"Workflow bar",control:Z.default,editControl:a.WorkflowBarEditControl,defaultValues:{blockSetState:!0,events:{onCommandClick:{active:!0,actions:["workflowExecuteCommand"]},onSetStateClick:{active:!0,actions:["workflowSetState"]},onSelectWorkflowScheme:{active:!0,actions:["selectWorkflowScheme"]}}}},{key:"sepCharts",title:"Charts",isseparate:!0},{key:"barchart",title:"Bar",control:Q.default,editControl:a.ChartEditControl,defaultValues:{chartType:"bar",datasetLabel:""}},{key:"linechart",title:"Line",control:Q.default,editControl:a.ChartEditControl,defaultValues:{chartType:"line",datasetLabel:""}},{key:"scatterchart",title:"Scatter",control:Q.default,editControl:a.ChartEditControl,defaultValues:{chartType:"scatter",datasetLabel:""}},{key:"doughnutchart",title:"Doughnut",control:Q.default,editControl:a.ChartEditControl,defaultValues:{chartType:"doughnut",datasetLabel:""}},{key:"piechart",title:"Pie",control:Q.default,editControl:a.ChartEditControl,defaultValues:{chartType:"pie",datasetLabel:""}},{key:"radarchart",title:"Radar",control:Q.default,editControl:a.ChartEditControl,defaultValues:{chartType:"radar",datasetLabel:""}}],createControls:function(e,t){var n=t.model,a=t.data,r=t.errors,o=t.eventOnEdit,i=t.eventOnDelete,l=t.eventOnCopy,s=t.handleEvent,u=t.parentItem,d=t.getFormFunc,c=t.getAdditionalDataForControl,f=t.buildermode,p=t.hideControls,h=t.readOnlyControls,m=t.readOnly,g=t.disableRefs,v=t.uploadUrl,y=t.downloadUrl,b=t.extendedData,k=t.controlsToReplace,w=t.needCheckReplace,E=t.parentPlaceholder,C=t.formItem,_=t.controlBarRight,L=t.externalControlRender,D=t.externalControlList,O=t.adaptiveViewType,A=t.formData,F=[];if(null==n)return F;for(var x=0;x<n.length;x++)if(!(Array.isArray(p)&&p.includes(n[x].key)||!f&&!this.isAdaptiveRender(n[x],O))){var S=void 0,j=n[x]["data-buildertype"];if("customcontrol"===j)if(void 0===n[x].type||""===n[x].type)S=oe.default.createElement("div",{className:"dwkit-formbuilder-empty",key:n[x].key},"Fill Type property for rendering the control.");else{var P=void 0===n[x].props?{}:ie.default.parse(n[x].props),I=re({},P,{key:n[x].key,name:n[x].key,className:n[x]["style-customcss"],style:this.getStyle(n[x],f,O),"data-buildertype":n[x]["data-buildertype"],getAdditionalDataForControl:c,uploadUrl:v,downloadUrl:y});(m||Array.isArray(h)&&h.includes(I.key))&&(I.readOnly=!0);var N=n[x].children;if(void 0!==n[x].children)try{N=ie.default.parse(n[x].children)}catch(e){}S=void 0===N||Array.isArray(N)&&0===N.length?oe.default.createElement(n[x].type,I):oe.default.createElement(n[x].type,I,N)}else if("customblock"===j){var T=[],M=!1,R=!1,V=!1,W=n[x],z=E,B=C;if("form"===n[x].sourceType||void 0===n[x].sourceType)if(void 0!==n[x].children&&""!==n[x].children)T=n[x].children;else{if(void 0===d){console.error('Error: "getFormFunc" parameter is undefined!. Please, set "getFormFunc" parameter for DWKitBuilder or DWKitForm!');continue}void 0!==n[x].formname&&""!==n[x].formname?T=d(n[x].formname):M=!0}else"placeholder"===n[x].sourceType?(V=R=void 0!==o,W=u,void 0===z&&(z=n[x].key),void 0===B&&(B=u),void 0!==B&&void 0!==B.placeholders&&void 0!==B.placeholders[n[x].key]&&(T=B.placeholders[n[x].key])):void 0!==n[x].source&&""!==n[x].source?T=ie.default.parse(n[x].source):M=!0;if(M)S=oe.default.createElement("div",{className:"dwkit-formbuilder-empty",key:n[x].key},"Set a form name or source in propepries.");else{var K=this.createControls(e,{model:T,data:a,errors:r,buildermode:R,eventOnEdit:o,eventOnDelete:i,eventOnCopy:l,parentItem:W,handleEvent:s,getFormFunc:d,getAdditionalDataForControl:c,hideControls:p,readOnlyControls:h,readOnly:m,disableRefs:g,uploadUrl:v,downloadUrl:y,controlsToReplace:k,needCheckReplace:w,parentPlaceholder:z,formItem:B,extendedData:b,externalControlRender:L,externalControlList:D,adaptiveViewType:O,formData:A}),U=n[x]["style-customcss"];f&&(U=(null==U?"":U+" ")+"dwkit-formbuilder-item-container");var G={key:n[x].key,name:n[x].key,className:U,style:this.getStyle(n[x],f,O),"data-buildertype":n[x]["data-buildertype"]};if(V){if(void 0===K&&(K=[]),0<K.length){var q=ge.createBuilderDropzone(n[x].key+"_dropzone_footer",void 0===B?void 0:B.key,K[K.length-1].key,n[x].key,n[x].key);K.push(q)}var H=ge.createBuilderDropzone(n[x].key+"_dropzone_header",void 0===B?void 0:B.key,void 0,n[x].key,n[x].key);K.unshift(H)}S=oe.default.createElement("div",G,K)}}else{var $=this.getControlByType(j,D);if(null===$)S=oe.default.createElement("div",{key:n[x].key},j," is unsupported");else if(this.isContainer(j)){var Y=C;null==Y&&null!=u&&"form"===u.sourceType&&(Y=u);var J=f&&"formgroup"===n[x]["data-buildertype"]&&"grouped"!==n[x].orientation,Q=this.createControls(e,{model:n[x].children,data:a,errors:r,buildermode:f,eventOnEdit:o,eventOnDelete:i,eventOnCopy:l,parentItem:n[x],handleEvent:s,getFormFunc:d,getAdditionalDataForControl:c,hideControls:p,readOnlyControls:h,readOnly:m,disableRefs:g,uploadUrl:v,downloadUrl:y,controlsToReplace:k,needCheckReplace:w,parentPlaceholder:void 0,formItem:Y,controlBarRight:J,extendedData:b,externalControlRender:L,externalControlList:D,adaptiveViewType:O,formData:A});if(f){if(0<Q.length){var Z=J?"...":"... "+n[x].key+" down ...",X=this.createBuilderDropzone(n[x].key+"-dropzone_footer",n[x].key,void 0,Z);Q.push(X)}var ee=J?"...":"... "+n[x].key+" up ...",te=this.createBuilderDropzone(n[x].key+"-dropzone_header",n[x].key,void 0,ee);Q.unshift(te)}S=this.createControl(e,$,{model:n[x],data:a,errors:r,parentItem:u,buildermode:f,children:Q,handleEvent:s,getAdditionalDataForControl:c,readOnlyControls:h,readOnly:m,disableRefs:g,uploadUrl:v,downloadUrl:y,extendedData:b,parentPlaceholder:E,controlsToReplace:k,needCheckReplace:w,eventOnEdit:o,eventOnDelete:i,eventOnCopy:l,externalControlRender:L,externalControlList:D,adaptiveViewType:O,formData:A})}else S=this.createControl(e,$,{model:n[x],data:a,errors:r,parentItem:u,buildermode:f,handleEvent:s,getAdditionalDataForControl:c,readOnlyControls:h,readOnly:m,disableRefs:g,uploadUrl:v,downloadUrl:y,extendedData:b,parentPlaceholder:E,controlsToReplace:k,needCheckReplace:w,eventOnEdit:o,eventOnDelete:i,eventOnCopy:l,externalControlRender:L,externalControlList:D,adaptiveViewType:O,formData:A})}if(f){if(0<x&&x<n.length){var ne=this.createBuilderDropzone(n[x].key+"-dropzone_bw",void 0===u?void 0:u.key,n[x].key,"...",E);F.push(ne)}var ae=oe.default.createElement(le.default,{key:n[x].key+"_controlbar",text:n[x]["data-buildertype"],model:n[x],parent:e,onDelete:i,onEdit:o,onCopy:l,isGroup:"formgroup"===n[x]["data-buildertype"],controlOnRight:_});_?(F.push(S),F.push(ae)):(F.push(ae),F.push(S))}else F.push(S)}return F},getControlInfoByType:function(e,t){for(var n=0;n<this.Items.length;n++)if(this.Items[n].key===e)return this.Items[n];var a=t;if(!a&&window.DWKitFormSettings&&(a=window.DWKitFormSettings.externalControlList),a)for(var r=0;r<a.length;r++)if(a[r].key===e)return a[r]},getControlByType:function(e,t){var n=this.getControlInfoByType(e,t);return n?n.control:null},getEditControlByType:function(e,t){var n=this.getControlInfoByType(e,t);return n?n.editControl:null},getStyle:function(e,t,n){var a={marginTop:e["style-marginTop"],marginBottom:e["style-marginBottom"],marginLeft:e["style-marginLeft"],marginRight:e["style-marginRight"],width:e["style-width"],height:e["style-height"]};return void 0!==e["style-float"]&&(a.float=e["style-float"]),void 0!==e["style-display"]&&(a.display=e["style-display"]),e["style-hidden"]&&(t?a.opacity=.2:a.display="none"),void 0!==e["style-source"]&&this.getCustomStyle(e["style-source"],a),void 0!==e["style-font-size"]&&(a["font-size"]=e["style-font-size"]),e["style-adaptive"]&&void 0!==e["style-mobilesource"]&&"mobile"===n&&this.getCustomStyle(e["style-mobilesource"],a),a},getCustomStyle:function(e,a){e.split(";").forEach(function(e){var t=e.split(":");if(2===t.length){var n=t[0].replace(/^\s+|\s+$/g,"");a[n]=t[1].replace(/^\s+|\s+$/g,"")}})},isAdaptiveRender:function(e,t){return!e["style-adaptive"]||null==t||""===t||t==e["style-renderwhen"]},regexForReplace:/{\S[A-z,0-9,_,-,.,:, ,/]+?}/gm,createControl:function(l,e,t){var n=t.model,s=t.data,a=t.errors,r=t.parentItem,o=t.buildermode,i=t.children,u=t.handleEvent,d=t.getAdditionalDataForControl,c=t.readOnlyControls,f=t.readOnly,p=t.disableRefs,h=t.uploadUrl,m=t.downloadUrl,g=t.extendedData,v=t.controlsToReplace,y=t.needCheckReplace,b=t.eventOnEdit,k=t.eventOnDelete,w=t.eventOnCopy,E=t.externalControlRender,C=t.externalControlList,_=t.adaptiveViewType,L=t.formData,D=void 0,O=void 0,A=n["style-customcss"];if(1==n["other-required"]){var F="dwkit-required-field";A=null==A||""==A?F:A+F}var x={key:n.key,name:n.key,className:A,style:this.getStyle(n,o,_),"data-buildertype":n["data-buildertype"],propertyName:n.propertyName?n.propertyName:n.key},S=x["data-buildertype"],j=y||v.includes(n.key);o&&this.isContainer(x["data-buildertype"])&&(x.className=(null==x.className?"":x.className+" ")+"dwkit-formbuilder-item-container"),p||(x.ref=n.key),void 0!==n.readOnly&&(x.readOnly=n.readOnly),(f||Array.isArray(c)&&c.includes(n.key))&&(x.readOnly=!0);function P(e){if(!j||null==e)return e;function a(e){return null!=L?"row."==e.slice(1,5)?ge.getFormatedDate(e.slice(5,e.length-1),s):ge.getFormatedDate(e.slice(1,e.length-1),L):ge.getFormatedDate(e.slice(1,e.length-1),s)}if(Array.isArray(e)){var r=[],o=!1;return e.forEach(function(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(void 0!==e[n]&&null!==e[n]&&"string"==typeof e[n]?(t[n]=e[n].replace(I,function(e){return a(e)}),!o&&y&&t[n]!==e[n]&&(o=!0)):Array.isArray(e[n])?t[n]=P(e[n]):t[n]=e[n]);r.push(t)}),o&&v.push(n.key),r}if("string"!=typeof e)return e;var t=e.replace(I,function(e){return a(e)});return y&&e!==t&&v.push(n.key),t}var I=this.regexForReplace;if(void 0!==s&&(n.propertyName?x.value=s[n.propertyName]:x.value=s[x.key]),null!=a&&(n.propertyName?x.error=a[n.propertyName]:x.error=a[x.key]),e===se.default)"header"===S?(x.content=P(n.content),x.subheader=P(n.subheader)):"label"===S?x.content=P(n.content):"message"===S?(x.content=P(n.content),x.header=P(n.header)):"image"===S?(x.src=P(n.src),x.href=P(n.href)):"breadcrumb"===S?x.items=P(n.items):"button"===S&&(x.content=P(n.content)),O=oe.default.createElement(se.default,re({},x,{additionalParams:{model:n,data:s,errors:a,children:i,handleEvent:u,parentItem:r,uploadUrl:h,downloadUrl:m}}));else if(e===X.default)x.label=n.label,x.defaultValue=n.defaultvalue,x.placeholder=n.placeholder,x.disabled=n.disabled,x.fluid=n.fluid,x.selection=n.selection,x.multiple=n.multiple,x.search=n.search,x.dataModel=n.dataModel,x.clearable=n.clearable,x.columns=n.columns,x.paging=n.paging,x.pageSize=n.pageSize,x.getAdditionalDataForControl=d,x.filters=P(n.filters),a&&void 0!==a[n.key]&&(x.error=a[n.key]),null!==u&&(x.onChange=function(e,t){var n=t.name,a=t.value,r=t.additionalValues;u({syntheticEvent:e,key:x.key,eventName:"onChange",name:n,value:a,additionalValues:r})}),x.parentIsForm=this.isForm(r),O=oe.default.createElement(X.default,x);else if(e===ae.default)x.defaultValue=n.defaultValue,x.items=n.items,x.imageUrl=n.imageUrl,x.handleEvent=u,O=oe.default.createElement(ae.default,x);else if(e===ce.default)x.url=n.url,x.category=n.category,x.handleEvent=u,O=oe.default.createElement(ce.default,x);else if(e===$.default){var N=[];void 0!==n["data-elements"]&&(N=Array.isArray(n["data-elements"])?n["data-elements"]:ie.default.parse(n["data-elements"])),x.handleEvent=u,a&&void 0!==a[n.key]&&(x.error=a[n.key]),O=oe.default.createElement($.default,re({},x,{label:n.label,direction:n.direction,placeholder:n.placeholder,items:N}))}else if(e===ne.default){if(x.columns=n.columns,x.draggable=n.draggable,x.hierarchical=n.hierarchical,x.parentIdField=n.parentIdField,x.idField=n.idField,x.childrenField=n.childrenField,x.collapseAll=n.collapseAll,x.disableAdd=n.disableAdd,x.placeholders=n.placeholders,null!=x.placeholders&&(x.getAdditionalDataForControl=d,x.createControl=function(e,t,n){var a=ge.getControlByType(t);if(a){var r=ge.createControl(e,a,re({},n,{formData:s,adaptiveViewType:_,needCheckReplace:!0})),o=[];if(n.buildermode){var i=oe.default.createElement(le.default,{key:n.model.key+"_controlbar",model:n.model,parent:l,onDelete:k,onEdit:b,onCopy:w});return o.push(i),o.push(r),o}return r}console.error("Control is unsupported!",t,e,n)}),x.handleEvent=u,x.downloadUrl=m,x.uploadUrl=h,null!==u?x.onChange=function(e,t){var n=t.name,a=t.value;u({syntheticEvent:e,key:x.key,eventName:"onChange",name:n,value:a})}:o&&(x.onChange=function(e,t){t.name;var n=t.value;x.value=n}),o&&void 0===x.value&&void 0!==x.columns){for(x.buildermode=o,x.createBuilderDropzone=function(e,t){return ge.createBuilderDropzone(x.key,x.key,void 0,e,e)},x.value=[],D=0;D<5;D++)x.value.push({});if(Boolean(n.hierarchical)&&void 0!==n.parentIdField&&""!==n.parentIdField&&void 0!==n.idField&&""!==n.idField)for(D=1;D<5;D++){var T=x.value[D];void 0===T[n.idField]&&(T[n.idField]=D);for(var M=0;M<2;M++){var R={};R[n.parentIdField]=T[n.idField],x.value.push(R)}}}void 0!==g&&void 0!==g.filters&&void 0!==g.filters[x.key]&&(x.filter=new de.FunctionalFilter(g.filters[x.key],x.columns.map(function(e){return e.key}))),O=oe.default.createElement(ne.default,x)}else if(e===J.default){if(x.columns=n.columns,x.multiselect=n.multiselect,x.rowKey=n.rowKey,x.editForm=n.editForm,x.editFlow=n.editFlow,x.editType=n.editType,x.pagerType=n.pagerType,x.pageSize=n.pageSize,x.rowHeight=n.rowHeight,x.minHeight=n.minHeight,x.autoHeight=n.autoHeight,x.offSet=n.offSet,x.disableSort=n.disableSort,x.resizeColumns=n.resizeColumns,x.editFormShowType=n.editFormShowType,x.sidebarDirection=n.sidebarDirection,x.getAdditionalDataForControl=d,x.handleEvent=u,x.defaultSort=n.defaultSort,a&&void 0!==a[n.key]&&(x.error=a[n.key]),o&&void 0===x.value){x.value=[];var V=function(){var t={};x.columns.forEach(function(e){t[e.key]=e.key+"_"+D}),x.value.push(t)};for(D=0;D<30;D++)V()}void 0!==g&&void 0!==g.filters&&void 0!==g.filters[x.key]&&(x.filter=new de.FunctionalFilter(g.filters[x.key],x.columns.map(function(e){return e.key}))),O=oe.default.createElement(J.default,x)}else if(e===Y.default)x["data-items"]=P(n.items),x.pointing=n.pointing,x.secondary=n.secondary,x.tabular=n.tabular,x.fluid=n.fluid,x.vertical=n.vertical,x.activeitem=n.activeitem,x.link=n.link,x.handleEvent=u,O=oe.default.createElement(Y.default,x);else if(e===pe.default)x["data-panes"]=n.panes,x.pointing=n.pointing,x.secondary=n.secondary,x.tabular=n.tabular,x.fluid=n.fluid,x.vertical=n.vertical,x.activeitem=n.activeitem,x.handleEvent=u,x.data=s,x.errors=a,o&&(x.buildermode=!0,x.createBuilderDropzone=function(e,t,n,a){return ge.createBuilderDropzone(e,x.key,a,t,n)}),x.placeholders=n.placeholders,x.getAdditionalDataForControl=d,x.createControls=function(e,t){return ge.createControls(e,re({},t,{data:s,errors:a,parentItem:n,buildermode:o,children:i,handleEvent:u,getAdditionalDataForControl:d,readOnlyControls:c,readOnly:f,disableRefs:p,uploadUrl:h,downloadUrl:m,extendedData:g,controlsToReplace:v,needCheckReplace:y,eventOnEdit:b,eventOnDelete:k,eventOnCopy:w,externalControlRender:E,externalControlList:C,adaptiveViewType:_}))},O=oe.default.createElement(pe.default,x);else if(e===he.default)x.draggable=n.draggable,x.resizable=n.resizable,x.scroll=n.scroll,x.cols=n.cols,x["data-panes"]=n.panes,x.handleEvent=u,x.data=s,x.errors=a,o&&(x.buildermode=!0,x.createBuilderDropzone=function(e,t,n,a){return ge.createBuilderDropzone(e,x.key,a,t,n)}),x.placeholders=n.placeholders,x.getAdditionalDataForControl=d,x.createControls=function(e,t){return ge.createControls(e,re({},t,{data:s,errors:a,parentItem:n,buildermode:o,children:i,handleEvent:u,getAdditionalDataForControl:d,readOnlyControls:c,readOnly:f,disableRefs:p,uploadUrl:h,downloadUrl:m,extendedData:g,controlsToReplace:v,needCheckReplace:y,eventOnEdit:b,eventOnDelete:k,eventOnCopy:w,adaptiveViewType:_}))},O=oe.default.createElement(he.default,x);else if(e===Q.default){if(x.chartType=n.chartType,x.responsive=n.responsive,x.legendPosition=n.legendPosition,x.title=n.title,x.titleSize=n.titleSize,x.datasetCustom=n.datasetCustom,x.dataLabels=n.dataLabels,x.datasetLabel=n.datasetLabel,x.datasetSteppedLine=n.datasetSteppedLine,x.datasetBorderColor=n.datasetBorderColor,x.datasetFill=n.datasetFill,x.datasetBorderWidth=n.datasetBorderWidth,x.datasetBackgroundColor=n.datasetBackgroundColor,o)if(x.datasetCustom)x.value=[1,2,3,4,3,2,1];else{var W="scatter"!==x.chartType?[6,23,15,3]:[{x:6,y:-12},{x:11,y:1},{x:24,y:5},{x:40,y:32}];x.value={labels:["Q1","Q2","Q3","Q4"],datasets:[{data:W}]}}else void 0!==s&&(x.value=s[x.key]);O=oe.default.createElement(Q.default,x)}else if(e===Z.default)x.blockSetState=n.blockSetState,x.blockCommands=n.blockCommands,x.setStateButton=n.setStateButton,x.handleEvent=u,x.getAdditionalDataForControl=d,x.enableSchemeSelection=n.enableSchemeSelection,x.dialogMode=n.dialogMode?n.dialogMode:"auto",x.startWorkflowButton=n.startWorkflowButton,g?(x.selectedScheme=g.selectedScheme,x.schemes=g.schemes?g.schemes:[]):x.schemes=[],a&&void 0!==a[n.key]&&(x.error=a[n.key]),o&&(x.commands=[{value:"approve",text:"Approve",type:1},{value:"back",text:"Back",type:2}],x.states=[{value:"draft",text:"Draft"},{value:"state1",text:"State 1"},{value:"state2",text:"State 2"},{value:"state3",text:"State 3"},{value:"finish",text:"Finish"}],x.schemes=[]),O=oe.default.createElement(Z.default,x);else if(e===ee.default)O=oe.default.createElement(ee.default,re({},x,{children:i}));else if(e===me.default)x.slider=n.slider,o&&(x.buildermode=!0,x.createBuilderDropzone=function(e,t,n){return ge.createBuilderDropzone(e,x.key,n,void 0,t)}),x["item-visibleCondition"]=n["item-visibleCondition"],x.pageSize=n.pageSize,x.pagerType=n.pagerType,x.loadButtonLabel=n.loadButtonLabel,x.noRecordsLabel=n.noRecordsLabel,x.defaultSort=n.defaultSort,void 0!==g&&void 0!==g.filters&&void 0!==g.filters[x.key]&&(x.filter=new de.FunctionalFilter(g.filters[x.key],["*"])),x.placeholders=n.placeholders,x.handleEvent=u,x.getAdditionalDataForControl=d,x.createControls=function(e,t){return ge.createControls(e,re({},t,{formData:s,parentItem:n,buildermode:o,children:i,readOnlyControls:c,readOnly:"server"==n.pagerType||f,disableRefs:p,uploadUrl:h,downloadUrl:m,extendedData:g,controlsToReplace:v,needCheckReplace:!0,eventOnEdit:b,eventOnDelete:k,eventOnCopy:w,externalControlRender:E,externalControlList:C,adaptiveViewType:_}))},null!==u?x.onChange=function(e,t){var n=t.name,a=t.value;u({syntheticEvent:e,key:x.key,propertyName:x.propertyName,eventName:"onChange",name:n,value:a})}:o&&(x.onChange=function(e,t){t.name;var n=t.value;x.value=n}),O=oe.default.createElement(me.default,x);else if(e===te.default)x.content=P(n.content),x.isHtml=n.isHtml,O=oe.default.createElement(te.default,x);else if(e===ue.default)x.iconFiletypes=n.iconFiletypes,x.postUrl=h,x.showFiletypeIcon=n.showFiletypeIcon,x.autoProcessQueue=n.autoProcessQueue,x.addRemoveLinks=n.addRemoveLinks,O=oe.default.createElement(ue.default,re({},x,{additionalParams:{model:n,data:s,errors:a,children:i,handleEvent:u,parentItem:r}}));else if(e===fe.default){if(x.label=n.label,x.defaultValue=n.defaultvalue,x.placeholder=n.placeholder,x.selection=n.selection,x.multiple=n.multiple,x.search=n.search,x.dataModel=n.dataModel,x.clearable=n.clearable,x.columns=n.columns,x.paging=n.paging,x.pageSize=n.pageSize,x.parentIdField=n.parentIdField,x.getAdditionalDataForControl=d,x.modalCssClass=n["style-custommodalcss"],x.fluid=n.fluid,x.disabled=n.disabled,void 0!==n["style-modalsource"]){var z={};this.getCustomStyle(n["style-modalsource"],z),x.modalStyle=z}a&&void 0!==a[n.key]&&(x.error=a[n.key]),null!==u&&(x.onChange=function(e,t){var n=t.name,a=t.value,r=t.additionalValues;u({syntheticEvent:e,key:x.key,eventName:"onChange",name:n,value:a,additionalValues:r})}),x.parentIsForm=this.isForm(r),O=oe.default.createElement(fe.default,x)}else{var B=E;!B&&window.DWKitFormSettings&&(B=window.DWKitFormSettings.externalControlRender),B&&(O=B(l,e,{model:n,data:s,errors:a,parentItem:r,buildermode:o,children:i,handleEvent:u,getAdditionalDataForControl:d,readOnlyControls:c,readOnly:f,disableRefs:p,uploadUrl:h,downloadUrl:m,extendedData:g,controlsToReplace:v,needCheckReplace:y,eventOnEdit:b,eventOnDelete:k,eventOnCopy:w})),O||console.error("Control is unsupported!",e,n)}if(!0!==n["tooltip-errordisabled"]&&a&&void 0!==a[n.key]&&"boolean"!=typeof a[n.key]){var K=""==n["tooltip-errorposition"]?void 0:n["tooltip-errorposition"],U=""==n["tooltip-errorshowtype"]?void 0:n["tooltip-errorshowtype"];return oe.default.createElement(H.Popup,{key:n.key+"-error",trigger:O,on:U,position:K,className:"dwkit-tooltiperror",content:a[n.key]})}if(n["tooltip-enabled"]){var G=""==n["tooltip-showtype"]?void 0:n["tooltip-showtype"],q=""==n["tooltip-position"]?void 0:n["tooltip-position"];return oe.default.createElement(H.Popup,{key:n.key+"-tooltip",trigger:O,on:q,position:G,className:n["tooltip-classname"],header:n["tooltip-header"],content:n["tooltip-content"]})}return O},isContainer:function(e){return"form"===e||"formgroup"===e||"grid"===e||"gridcolumn"===e||"container"===e||"div"===e||"repeater"===e},isForm:function(e){return null!=e&&("form"===e["data-buildertype"]||"formgroup"===e["data-buildertype"])},createBuilderDropzone:function(e,t,n,a,r){return"DROP ZONE",oe.default.createElement("div",{name:e,key:e,elementafter:n,elementtoinsert:t,placeholderkey:r,className:"dwkit-formbuilder-zone"},"DROP ZONE")},fillDefaultValues:function(e,t){for(var n in t)void 0===e[n]&&(e[n]=t[n]);return e},getFormatedDate:function(e,t){if(null==t)return"";var n=void 0,a=void 0,r=e.indexOf(":");0<r?(n=e.substring(0,r),a=e.substring(r+1,e.length)):n=e;var o=t[n];if(null==o&&(o=""),null!=a)if("number"==typeof o)o=(0,s.default)(o).format(a);else{var i=(0,u.default)(o);if(i.isValid())if("local"==a){var l=void 0!==window.DWKitLang&&void 0!==window.DWKitLang.common&&null!=window.DWKitLang.common.dateFormat?window.DWKitLang.common.dateFormat:"L";o=i.format(l)}else o=i.format(a)}return o}};e.exports=ge},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},r=function(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e};function o(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var i=f(n(0)),l=n(1),s=n(41),u=f(s),d=n(16),c=f(n(11));function f(e){return e&&e.__esModule?e:{default:e}}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function m(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var g=(m(v,i.default.Component),r(v,[{key:"render",value:function(){var e=Boolean(this.props.value);return i.default.createElement(l.Checkbox,{checked:e,disabled:!0})}}]),v);function v(){return p(this,v),h(this,(v.__proto__||Object.getPrototypeOf(v)).apply(this,arguments))}var y=(m(b,i.default.Component),r(b,[{key:"render",value:function(){var e=this.props.value;return i.default.createElement("span",{style:{textAlign:"right"}},i.default.createElement("div",{title:e},e))}}]),b);function b(){return p(this,b),h(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}var k=(m(w,i.default.Component),r(w,[{key:"render",value:function(){var e=(0,c.default)(this.props.value),t="";if(e.isValid()){var n=void 0!==window.DWKitLang&&void 0!==window.DWKitLang.common&&null!=window.DWKitLang.common.dateFormat?window.DWKitLang.common.dateFormat:"L";t=e.format(n)}return i.default.createElement("span",{style:{textAlign:"right"}},i.default.createElement("div",{title:t},t))}}]),w);function w(){return p(this,w),h(this,(w.__proto__||Object.getPrototypeOf(w)).apply(this,arguments))}var E=(m(C,i.default.Component),r(C,[{key:"render",value:function(){var e=(0,c.default)(this.props.value),t="";if(e.isValid()){var n=void 0!==window.DWKitLang&&void 0!==DWKitLang.common&&null!=window.DWKitLang.common.dateFormat?window.DWKitLang.common.dateFormat+" "+(void 0!==window.DWKitLang.common.timeFormat?window.DWKitLang.common.timeFormat:"HH:mm"):"DD.MM.YYYY HH:mm";t=e.format(n)}return i.default.createElement("span",{style:{textAlign:"right"}},i.default.createElement("div",{title:t},t))}}]),C);function C(){return p(this,C),h(this,(C.__proto__||Object.getPrototypeOf(C)).apply(this,arguments))}var _=(m(L,i.default.Component),r(L,[{key:"render",value:function(){var e=(0,c.default)(this.props.value),t="";if(e.isValid()){var n=void 0!==window.DWKitLang&&void 0!==window.DWKitLang.common&&null!=window.DWKitLang.common.timeFormat?window.DWKitLang.common.timeFormat:"HH:mm";t=e.format(n)}return i.default.createElement("span",{style:{textAlign:"right"}},i.default.createElement("div",{title:t},t))}}]),L);function L(){return p(this,L),h(this,(L.__proto__||Object.getPrototypeOf(L)).apply(this,arguments))}var D=(m(O,i.default.Component),r(O,[{key:"isEditFormModal",value:function(){return"modal"===this.props.editFormShowType}},{key:"isEditFormSidebar",value:function(){return"sidebar"===this.props.editFormShowType}},{key:"isServerMode",value:function(){return O.staticIsServerMode(this.props)}},{key:"refresh",value:function(){if(this.isServerMode())this.setState({items:[],selectedIndexes:[],rowsCount:void 0});else{var e=Array.isArray(this.props.value)?O.staticGetSortedAndFilteredItems(this.props.value,this.state.filter,this.state.sort,this.props.defaultSort):[];this.setState({items:e,rowsCount:e.length,selectedIndexes:[],originalItems:this.props.value})}}},{key:"resetSelection",value:function(){this.setState({selectedIndexes:[]})}},{key:"render",value:function(){var e=this.props.className,t=a({},this.props.style),n=this.getGridPropsByPagerType(this.props.pagerType);return n.columns=this.getColumns(),n.rowKey=this.props.rowKey,void 0!==this.props.rowHeight&&""!==this.props.rowHeight&&(n.rowHeight=this.props.rowHeight),this.props.autoHeight?(t.minHeight=this.props.minHeight,void 0!==this.props.offSet&&""!==this.props.offSet?t.height="calc(100vh - "+this.props.offSet+")":t.height="100vh",e=(void 0===e?"":e+" ")+"dwkit-gridview-autoHeight"):void 0!==this.props.minHeight&&""!==this.props.minHeight&&(n.minHeight=this.props.minHeight),this.props.multiselect&&(n.rowSelection={onRowsSelected:this.onRowsSelected.bind(this),onRowsDeselected:this.onRowsDeselected.bind(this),selectBy:{indexes:this.state.selectedIndexes}}),i.default.createElement("div",{key:this.props.name,name:this.props.name,className:e,style:t},i.default.createElement(u.default,a({key:"grid"},n,{rowsCount:this.state.rowsCount,rowGetter:this.gridRowGetter.bind(this),onRowClick:this.gridOnRowClick.bind(this),onGridSort:this.handleGridSort.bind(this)})))}},{key:"getColumns",value:function(){var e=this,t=void 0;return(t=void 0===this.props.columns?[]:Array.isArray(this.props.columns)?this.props.columns:JSON.parse(this.props.columns)).forEach(function(t){null!==t.width&&""!==t.width&&void 0!==t.width&&(t.width=Number(t.width)),!1!==t.sortable&&(t.sortable=!e.props.disableSort),t.filterable=Boolean(e.props.filterRow),t.resizable=Boolean(t.resizable),"number"===t.type?t.formatter=y:"checkbox"===t.type?t.formatter=g:"date"===t.type?t.formatter=k:"time"===t.type?t.formatter=_:"datetime"===t.type?t.formatter=E:"custom"===t.type&&(t.getRowMetaData=function(e){return e},t.formatter=function(e){return null==t.customFormatter||"function"!=typeof t.customFormatter?"":t.customFormatter({row:e.dependentValues,value:e.value,column:t})})}),this.state.isrtl?t.reverse():t}},{key:"getGridPropsByPagerType",value:function(){var e={};return"server"===this.props.pagerType&&(void 0!==this.props.pageSize&&(this.state.pageSize=this.props.pageSize),e.rowRenderer=i.default.createElement(A,{error:this.props.error}),void 0===this.state.rowsCount&&(this.state.rowsCount=1)),e}},{key:"getSeletedRowKeys",value:function(){var a=this,r=[];return this.state.selectedIndexes.forEach(function(e){var t=a.gridRowGetter(e);if(void 0!==t){var n=void 0;null!==a.props.rowKey&&void 0!==a.props.rowKey&&t.hasOwnProperty(a.props.rowKey)&&(n=t[a.props.rowKey]),null!=n&&null!=n||(n=t.__id),null!=n&&r.push(n)}}),r}},{key:"gridRowGetter",value:function(e){if(!(e<0)){var t=this.props.pagerType;if("server"===t&&void 0===this.state.items[e]){var n=this.state.pageSize;this.loadPage(e,n)}return"server"===t?this.state.items[e]:a({},this.state.items[e])}}},{key:"getSort",value:function(){var e=this.state.sort;return""===e&&void 0!==this.props.defaultSort&&(e=this.props.defaultSort),e}},{key:"getFilters",value:function(){return void 0!==this.state.filter?this.state.filter.GetFilterAsObjects():[]}},{key:"loadPage",value:function(e,t){for(var i=this,n=0;n<t;n++)this.state.items[n+e]={__loading:!0};if(void 0===this.props.getAdditionalDataForControl)void 0!==console&&console.log("GridView: For paging on server need to set getAdditionalDataForControl func!");else{var a=this.getSort();this.props.getAdditionalDataForControl(this,{startIndex:e,pageSize:t,filters:this.getFilters(),sort:a},function(e){var t=e.sIndex,n=e.pSize,a=e.rowsCount,r=e.items;if(void 0===a||void 0===r)i.state.rowsCount=0,i.setState({rowsCount:0,items:[]});else{i.state.rowsCount=a;for(var o=0;o<n;o++)o<r.length?i.state.items[t+o]=r[o]:i.state.items[t+o]=void 0;i.forceUpdate()}})}}},{key:"gridOnRowClick",value:function(e,t){if(void 0!==t){var n=Date.now();void 0!==this.rowClickTime&&this.rowClickTime.rowIdx===e&&n-this.rowClickTime.time<=1e3?(this.rowClickTime=void 0,this.onRowDblClick(e,t)):(this.rowClickTime={rowIdx:e,time:n},void 0!==this.props.handleEvent&&this.props.handleEvent({key:this.props.name,eventName:"onRowClick",parameters:{rowIdx:e,row:t}}))}}},{key:"onRowDblClick",value:function(e,t){void 0!==this.props.handleEvent&&this.props.handleEvent({key:this.props.name,eventName:"onRowDblClick",parameters:{rowIdx:e,row:t}})}},{key:"onRowsSelected",value:function(e){this.state.selectedIndexes=this.state.selectedIndexes.concat(e.map(function(e){return e.rowIdx})),void 0!==this.props.handleEvent&&this.props.handleEvent({key:this.props.name,eventName:"onSelectionChanged",parameters:{selectedIndexes:this.state.selectedIndexes}}),this.forceUpdate()}},{key:"onRowsDeselected",value:function(e){var t=e.map(function(e){return e.rowIdx});this.state.selectedIndexes=this.state.selectedIndexes.filter(function(e){return-1===t.indexOf(e)}),void 0!==this.props.handleEvent&&this.props.handleEvent({key:this.props.name,eventName:"onSelectionChanged",parameters:{selectedIndexes:this.state.selectedIndexes}}),this.forceUpdate()}},{key:"handleGridSort",value:function(e,t){var n={};n.sort="NONE"===t?"":e+" "+t;var a=this.props.pagerType;n.items="server"===a?[]:O.staticGetSortedAndFilteredItems(this.props.value,this.state.filter,n.sort,this.props.defaultSort),n.selectedIndexes=[],this.setState(n)}},{key:"handleFilterChange",value:function(e){var t={},n=e.column.key,a="columnfilter_"+n;t.filter=void 0!==this.state.filter?this.state.filter:new d.FunctionalFilter([],this.props.columns.map(function(e){return e.key})),t.filter.RemoveFilter({name:n,id:a}),""!==e.filterTerm&&t.filter.AddFilter({names:[n],expected:e.filterTerm,term:d.FilterTerms.Like,id:a}),O.staticIsServerMode(this.props)?(t.items=[],t.selectedIndexes=[],t.rowsCount=void 0):(t.items=O.staticGetSortedAndFilteredItems(this.props.value,t.filter,this.state.sort,this.props.defaultSort),t.selectedIndexes=[],t.rowsCount=t.items.length),this.setState(t)}},{key:"onClearFilters",value:function(){this.setState({filter:this.props.filter})}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"componentDidMount",value:function(){this._isMounted=!0,this.recalcSizeParams()}},{key:"recalcSizeParams",value:function(){if(this._isMounted&&this.props.autoHeight){var e=$(window).height();this.setState({gridHeight:e-this.props.deltaHeight})}}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n=null;if(function(e,t){return JSON.stringify(e)===JSON.stringify(t)}(t.filter,e.filter)){if(!O.staticIsServerMode(e)&&t.originalItems!==e.value){n={};var a=Array.isArray(e.value)?O.staticGetSortedAndFilteredItems(e.value,t.filter,t.sort,e.defaultSort):[];n.items=a,n.rowsCount=a.length,n.selectedIndexes=[],n.originalItems=e.value}}else if(n={filter:e.filter},O.staticIsServerMode(e))n.items=[],n.selectedIndexes=[],n.rowsCount=void 0;else{var r=Array.isArray(e.value)?O.staticGetSortedAndFilteredItems(e.value,e.filter,t.sort,e.defaultSort):[];n.items=r,n.selectedIndexes=[],n.rowsCount=r.length}return n}},{key:"staticIsServerMode",value:function(e){return"server"===e.pagerType}},{key:"staticGetSortedAndFilteredItems",value:function(e,t,n,a){var r=[];if(void 0===e)return r;r=void 0!==t?e.filter(function(e){return t.IsRowMatched(e)}):e;var o=n;if("NONE"===n||""===n){if(void 0===a)return r;o=a}var i=o.indexOf(" "),l=o.substring(0,i),s=o.substring(i+1,o.length);return r.slice(0).sort(function(e,t){var n=void 0!==e[l]&&null!==e[l]&&void 0!==e[l].toLowerCase?e[l].toLowerCase():e[l],a=void 0!==t[l]&&null!==t[l]&&void 0!==t[l].toLowerCase?t[l].toLowerCase():t[l];return n===a?0:null==n?1:null==a?-1:"ASC"===s?a<n?1:-1:"DESC"===s?n<a?1:-1:void 0})}}]),O);function O(e){p(this,O);var t=h(this,(O.__proto__||Object.getPrototypeOf(O)).call(this,e));t.state={items:[],sort:"",defaultSort:e.defaultSort,filter:e.filter,pageSize:20,selectedIndexes:[],rowsCount:O.staticIsServerMode(e)?void 0:0};try{t.state.isrtl="rtl"==getComputedStyle(document.getElementsByTagName("html")[0]).direction}catch(e){}return t}t.default=D;var A=(m(F,i.default.Component),r(F,[{key:"setScrollLeft",value:function(e){this.row.setScrollLeft(e)}},{key:"getClassName",value:function(){var t=this;return this.props.row.__loading?"dwkit-gridview-rowloading":void 0!==this.props.row.__id&&null!==this.props.row.__id&&void 0!==this.props.error&&null!==this.props.error&&Array.isArray(this.props.error)&&void 0!==this.props.error.find(function(e){return e.__id===t.props.row.__id})?"dwkit-gridview-rowerror":""}},{key:"render",value:function(){var t=this;return i.default.createElement("div",{className:this.getClassName()},i.default.createElement(s.Row,a({ref:function(e){return t.row=e}},this.props)))}}]),F);function F(){return p(this,F),h(this,(F.__proto__||Object.getPrototypeOf(F)).apply(this,arguments))}},function(e,t){e.exports=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e};function r(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var s=i(n(0)),o=(i(n(2)),i(n(4))),u=n(1);i(n(3));function i(e){return e&&e.__esModule?e:{default:e}}var l=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(d,o.default),a(d,[{key:"render",value:function(){var e=this.props.data,t=[];this.props.types.forEach(function(e){t.push({value:e,text:e})});for(var n=[],a=0;a<e.length;a++){var r=e[a],o=null==r.__error?{}:r.__error,i="trigger_"+a,l=s.default.createElement(u.Form.Group,{key:i,widths:"equal",className:"dwkit-formadmin-item"},s.default.createElement(u.Form.Dropdown,{label:DWKitAdminLang.field.triggers,error:Boolean(o.triggers),name:"triggers",options:t,multiple:!0,selection:!0,fluid:!0,search:!0,value:r.triggers,onChange:this.handleChange.bind(this,r)}),s.default.createElement(u.Form.Dropdown,{key:"codeaction",label:DWKitAdminLang.field.action,name:"codeAction",selection:!0,fluid:!0,search:!0,options:this.props.codeactions,value:r.codeAction,onChange:this.handleChange.bind(this,r),error:Boolean(o.codeAction)}),s.default.createElement(u.Form.Input,{key:"parameter",name:"parameter",label:DWKitAdminLang.field.parameter,value:r.parameter,onChange:this.handleChange.bind(this,r)}),s.default.createElement(u.Image,{className:"dwkit-buttonimage",key:"btndelete",src:"/images/dwkit-delete.png",onClick:this.onDelete.bind(this,a)}));n.push(l)}return 0==n.length&&n.push(s.default.createElement("div",{className:"dwkit-formadmin-info",key:"message"},DWKitAdminLang.data.notriggersmsg,s.default.createElement("br",null),DWKitAdminLang.msg.click," ",s.default.createElement("a",{key:"btnadd2",onClick:this.onAdd.bind(this)},DWKitAdminLang.msg.here)," ",DWKitAdminLang.data.forcreatetingtriggersmsg)),s.default.createElement("div",null,s.default.createElement("a",{key:"btnadd",onClick:this.onAdd.bind(this)},DWKitAdminLang.data.addtrigger),n)}},{key:"handleChange",value:function(e,t,n){var a=n.name,r=n.value,o=n.checked;e[a]=null==r?o:r,null!=this.props.onChange&&this.props.onChange(void 0,{name:this.props.name,value:this.props.data}),this.forceUpdate()}},{key:"onAdd",value:function(){this.props.data.push({}),null!=this.props.onChange&&this.props.onChange(void 0,{name:this.props.name,value:this.props.data}),this.forceUpdate()}},{key:"onDelete",value:function(e){this.props.data.splice(e,1),null!=this.props.onChange&&this.props.onChange(void 0,{name:this.props.name,value:this.props.data}),this.forceUpdate()}}]),d);function d(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,d),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(d.__proto__||Object.getPrototypeOf(d)).call(this,e))}t.default=l},function(e,t,n){"use strict";var c,a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=n(17),o=n(7),f=n(9),i=r.createStore({init:function(){this.listenTo(o.add,this.add),this.listenTo(o.move,this.move),this.listenTo(o.remove,this.remove),this.listenTo(o.save,this.save),this.listenTo(o.saveData,this._updateOrder),c=[]},move:function(e,t){if(null!=t){var n=this.findItemByKey(e,c),a=this._excludeItemByKey(e,c);if(t.attributes.name&&"dropzone_footer"===t.attributes.name.value)a.push(n);else if(t.attributes.name&&"dropzone_header"===t.attributes.name.value)a.unshift(n);else if(null!=t.attributes.elementtoinsert){var r,o=t.attributes.elementtoinsert;if(null!=o&&(r=this.findItemByKey(o.value,a)),null!=r){var i=t.attributes.placeholderkey,l=void 0;if(l=void 0===i?(null==r.children&&(r.children=[]),r.children):(void 0===r.placeholders&&(r.placeholders={}),null==r.placeholders[i.value]&&(r.placeholders[i.value]=[]),r.placeholders[i.value]),null!=t.attributes.name&&t.attributes.name.value.includes("dropzone_footer"))l.push(n);else if(null!=t.attributes.name&&t.attributes.name.value.includes("dropzone_header"))l.unshift(n);else{var s;null!=(d=t.attributes.elementafter)&&(s=this.findItemByKey(d.value,l)),l.splice(l.indexOf(s),0,n)}}else console.error("ERROR: element is not found",o,n,t)}else if(null!=t.attributes.elementafter){var u,d;null!=(d=t.attributes.elementafter)&&(u=this.findItemByKey(d.value,a)),null!=u?a.splice(a.indexOf(u),0,n):console.error("ERROR: element is not found",d,n,t)}this.setData(a)}},_excludeItemByKey:function(e,t){for(var n=[],a=0;a<t.length;a++)if(t[a].key!=e&&(n.push(t[a]),t[a].children&&(n[n.length-1].children=this._excludeItemByKey(e,t[a].children)),null!=t[a].placeholders))for(var r in t[a].placeholders)Array.isArray(t[a].placeholders[r])&&(n[n.length-1].placeholders[r]=this._excludeItemByKey(e,t[a].placeholders[r]));return n},add:function(e,t){var n=f.fillDefaultValues({key:this.getDefaultKey(e.key),"data-buildertype":void 0!==e.builderType?e.builderType:e.key},e.defaultValues);if(null==t)if(0<c.length&&"form"==c[c.length-1]["data-buildertype"]){var a=c[c.length-1];null==a.children&&(a.children=[]),a.children.push(n)}else c.push(n);else if(null!=t.attributes.name&&"dropzone_footer"==t.attributes.name.value)c.push(n);else if(null!=t.attributes.name&&"dropzone_header"==t.attributes.name.value)c.unshift(n);else if(null!=t.attributes.elementtoinsert){var r,o=t.attributes.elementtoinsert;if(null!=o&&(r=this.findItemByKey(o.value,c)),null!=r){var i=t.attributes.placeholderkey,l=void 0;if(l=void 0===i?(null==r.children&&(r.children=[]),r.children):(void 0===r.placeholders&&(r.placeholders={}),null==r.placeholders[i.value]&&(r.placeholders[i.value]=[]),r.placeholders[i.value]),null!=t.attributes.name&&t.attributes.name.value.includes("dropzone_footer"))l.push(n);else if(null!=t.attributes.name&&t.attributes.name.value.includes("dropzone_header"))l.unshift(n);else{var s;null!=(d=t.attributes.elementafter)&&(s=this.findItemByKey(d.value,l)),l.splice(l.indexOf(s),0,n)}}else console.error("ERROR: element is not found",o,e,t)}else if(null!=t.attributes.elementafter){var u,d;null!=(d=t.attributes.elementafter)&&(u=this.findItemByKey(d.value,c)),null!=u?c.splice(c.indexOf(u),0,n):console.error("ERROR: element is not found",d,buildertype,title,t)}this.trigger(c)},remove:function(e){this.removeItemByKey(e.key,c),this.trigger(c)},copy:function(e){var t=this.copyObj(e);this.insertAfterKey(t,e.key,c),this.makeUniqueKeys(t),this.trigger(c)},getData:function(){return c},setData:function(e){c=e,this.trigger(c)},_updateOrder:function(e){c=e,this.trigger(c)},getDefaultKey:function(e){for(var t=1,n=e+"_"+t,a=this.getAllKeys(c),r=0;r<a.length;r++){a[r]==(n=e+"_"+t)&&(t++,r=-1)}return n},getAllKeys:function(e){var t=[];if(null!=e)for(var n=0;n<e.length;n++){var a=e[n];if(t.push(a.key),null!=a.children){var r=this.getAllKeys(a.children);t=t.concat(r)}else if(null!=a.placeholders)for(var o in a.placeholders)if(Array.isArray(a.placeholders[o])){var i=this.getAllKeys(a.placeholders[o]);t=t.concat(i)}}return t},getByKey:function(e){return this.findItemByKey(e,c)},findItemByKey:function(e,t){for(var n=0;n<t.length;n++){var a=t[n];if(a.key==e)return a;if(null!=a.children){if(null!=(o=this.findItemByKey(e,a.children)))return o}else if(null!=a.placeholders)for(var r in a.placeholders){var o;if(Array.isArray(a.placeholders[r]))if(null!=(o=this.findItemByKey(e,a.placeholders[r])))return o}}},insertAfterKey:function(e,t,n){for(var a=0;a<n.length;a++){var r=n[a];if(r.key==t)return n.splice(a+1,0,e),!0;if(void 0!==r.children&&this.insertAfterKey(e,t,r.children))return!0;if(void 0!==r.placeholders)for(var o in r.placeholders)if(Array.isArray(r.placeholders[o])&&this.insertAfterKey(e,t,r.placeholders[o]))return!0}},updateItemByKey:function(e,t){var n=this.getByKey(e);for(var a in t)n[a]=t[a];e!=t.key&&this.replaceDepensKeys(e,t.key),this.trigger(c)},replaceDepensKeys:function(e,t,n){null==n&&(n=c);for(var a=0;a<n.length;a++){var r=n[a];if(Array.isArray(r["events-onclick-targets"]))for(var o=r["events-onclick-targets"],i=0;i<o.length;i++)o[i]==e&&(o[i]=t);if(null!=r.children&&this.replaceDepensKeys(e,t,r.children),void 0!==r.placeholders)for(var l in r.placeholders)Array.isArray(r.placeholders[l])&&this.replaceDepensKeys(e,t,r.placeholders[l])}},removeItemByKey:function(e,t){for(var n=0;n<t.length;n++){var a=t[n];if(a.key==e){t.splice(n,1);break}if(null!=a.children&&this.removeItemByKey(e,a.children),void 0!==a.placeholders)for(var r in a.placeholders)Array.isArray(a.placeholders[r])&&this.removeItemByKey(e,a.placeholders[r])}},copyObj:function(e){if(null==e||"object"!=(void 0===e?"undefined":a(e)))return e;var t=e.constructor();for(var n in e)e.hasOwnProperty(n)&&(t[n]=this.copyObj(e[n]));return t},makeUniqueKeys:function(e){var t=this,n=e["data-buildertype"];if(null!=n&&(e.key=this.getDefaultKey(n)),Array.isArray(e.children)&&e.children.forEach(function(e){t.makeUniqueKeys(e)}),void 0!==e.placeholders)for(var a in e.placeholders)Array.isArray(e.placeholders[a])&&e.placeholders[a].forEach(function(e){t.makeUniqueKeys(e)})}});e.exports=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.defaultLocalization={common:{toolbarappbutton:"App"},sidemenu:{dashboard:"Dashboard",modules:"Modules",data:"Data",datamodel:"Manage data model",datasync:"Sync with Database",codeactions:"Code Actions",form:"Form",forms:"Manage forms",formdata:"Mapping data model",actionhandlers:"Action Handlers",localization:"Localization",workflow:"Workflow",schemes:"Manage schemes",workflowinstances:"Manage instances",businessflow:"Business Flow",security:"Security",users:"Manage users",groups:"Manage groups",roles:"Manage roles",permissions:"Manage permissions",support:"Support",documentation:"Documentation",faq:"FAQs",emailsupport:"Email support",resourceEditor:"Resource Editor",commandform:"Command forms"},searchbox:{model:"Model",form:"Form",formdata:"Form data",actionhandler:"Action Handler",workflow:"Workflow",businessflow:"Business Flow",user:"User",group:"Group",role:"Role",codeaction:"CodeAction"},msg:{confirmdelete:"Are you sure you want to delete selected item(s)?",checkerrorsonform:"Check the form for errors",fieldrequired:"This field is required",objectnotfound:"The object has not been found",unchangedobject:"No need to save an unchanged object",saveok:"The changes have been saved",checkerrors:"Something went wrong; check the errors",lookdevconsole:"Look for details in the development console in your browser",appcachereseted:"The application cache has been reset",compileok:"Compilation succeeded",click:"Click",here:"here",needtoselectitems:"You need to select some items",fileupoaded:"The file has been uploaded",notavailableyet:"There are no available settings yet",moreinformation:"More information is available in the developer console",savedatasuccess:"The changes have been applied",notsupported:"Not supported",commandexecutioncompleted:"Command execution has been completed",newstateset:"The new state was set",commingsoon:"Coming soon",selectrowsfordelete:"Select rows for deletion",rowsdeleted:"Rows have been deleted",extensionscontainerfieldrequired:"Extensions container field is required!",needtoselectoneitem:"You need to select just one item",totalcount:"Total count:",serverglobalerror:"There was a global error in the server's operation, requiring your immediate attention",globalcodeactionshaveerrors:"Some of the Global Code Actions have compilation errors. You need to fix and recompile them in Code actions section.",formmappingerror:"The following forms have mismatch in data mapping:",recompiled:"Code actions have been recompiled",recompiledialog:"Code action was modified. Do you want to recompile?"},requesterror:{status0:"Not connected.\n Verify Network.",status404:"Requested page not found. [404]",status500:"Internal Server Error [500].",parsererror:"Requested JSON parse failed.",timeout:"Time out error.",abort:"Ajax request aborted.",uncaught:"Uncaught error.",configapi:"Error requesting Config API"},button:{save:"Save",cancel:"Cancel",close:"Close",create:"Create",delete:"Delete",resetappcache:"Reset app cache",compile:"Compile",refresh:"Refresh",applyselectedchanges:"Apply selected changes",select:"Select",deselect:"Deselect",selectall:"Select all",deselectall:"Deselect all",download:"Download",upload:"Upload",workflow:"Workflow",security:"Security",ok:"OK",apply:"Apply",search:"Search",clear:"Clear",copy:"Copy",recompileAll:"Recompile all",yes:"Yes",no:"No",importFromAd:"Import from AD"},collectioneditor:{add:"Add",delete:"Delete",addchild:"Add child"},upload:{dropzoneText:"Drop files here to upload"},workflowbar:{setstate:"Set state"},column:{code:"Code",name:"Name",type:"Type",template:"Template"},field:{code:"Code",name:"Name",type:"Type",comment:"Comment",attributes:"Attributes",triggers:"Triggers",action:"Action",parameter:"Parameter",changes:"Changes",readonly:"ReadOnly"},license:{expipedlabel:"License expired",freeupdatedatalabel:"Free update date",licensechecktype:"License check type"},codeaction:{title:"Code actions",defineonservercolumn:"Defined on Server",defineonservermsg:"This object is defined on server. Your can't edit it in the admin panel.",defineonserverblockdeletemsg:"One of the objects that is being deleted is defined on server. Your can't delete it in the admin panel.",usingsfield:"Usings"},data:{title:"Data model",dbobjectfield:"DB Object",schemenamefield:"Scheme name",primarykeyfield:"Primary key",isdeletedfield:"Logical delete attribute",lockversionfield:"Optimistic lock attribute",refentityfield:"Reference entity",datatypefield:"Data type",optionsfield:"Options",nullablefield:"Nullable",virtualfield:"Virtual",extensionfield:"Extension",calculatefield:"Calculate",columnfield:"Column",reffield:"Reference",addattbutton:"Add an attribute",noattributesmsg:"This data model has no attributes.",forcreatetingattmsg:"for creating attributes.",notriggersmsg:"This object has no triggers.",forcreatetingtriggersmsg:"for creating triggers.",addtrigger:"Add a trigger",extensionscontainerfield:"Extensions container",showextensioncolumnsonly:"Show extension columns only",notsetprimarykeymsg:"There is not set the Primary Key field. Some of features for this data model will not work.",notfoundprimarykeymsg:"The Primary Key attribute is not found!",notfoundprimaryextcontmsg:"The Extensions container attribute is not found!",nameexistsmsg:"Data model with this name already exists"},datasync:{title:"Sync with Database",analysingmsg:"Click here for DB analysis...",noneedsyncmsg:"The data model and database are synchronized.",analysingagainmsg:"Analysing DB again.",changedtypefield:"Changed type",changestypenew:"New",changetypechanged:"Changed",changetypedeleted:"Deleted",showsystemtables:"Show system tables",chages:"Changes"},form:{title:"Forms",datamap:"Data map",actionhandler:"Action Handler",preview:"Preview",builder:"Builder",clearformbutton:"Clear form",workflowschemesfield:"Workflow schemes",messagetitle:"Message",workflowwindowtitle:"Workflow",workflowinfoblock:"Here you can associate the form and one or more workflows.\nUse the Business flow object to map form with each workflow state.",securitywindowtitle:"Security",securityinfoblock:"Here you can associate the form and one group of permissions.\nMake sure that this group of permissions has View and Edit permissions and that you gave them access to the permissions.\nOtherwise, users will get the 'Access Denied' error when trying to open this form or change data",permissionsgroupfield:"Group of permissions",fullscreenbutton:"Fullscreen",template:"Template"},datamap:{title:"Mapping data model",builder:"Builder",actionhandler:"Action Handler",automappingbutton:"Auto mapping",resetmappingbutton:"Reset mapping",automappingcompleatemsg:"Auto mapping has been successful",nocontrolsonformmsg:"The form neither has any unattached controls nor uses auto mapping",dropzonemsg:"Drop controls here",moveitemsmsg:"Move items to data model fields.",placefortoncroltitle:"Control",loadfield:"Load",mainentityfield:"Main entity",entityfield:"Entity",mainentityps:"Select a data model",collectionentityfield:"Collection entity",collectionfilterfield:"Collection filter",dataSourceType:"Data source type",dataurlfield:"URL",mismatchmodelmsg:"This form has mismatching in the data model. Check data mapping and click on Save button!",mainentitytriggers:"Main entity triggers"},actionhandler:{title:"Action Handlers",datamap:"Data map",builder:"Builder",setdefaulttemplatebutton:"Set default template"},businessflow:{title:"Business flow",schemecolumn:"Scheme",defaultformcolumn:"DefaultForm",updatestatesbutton:"Update states",mappingfield:"Mapping",statescolumn:"States",rolescolumn:"Roles",formcolumn:"Form",anyroleitem:"Any role",anystateitem:"Any state",datefromcolumn:"Date From",datetocolumn:"Date To",nameexistsmsg:"Business flow with this name already exists"},commandform:{title:"Command form",nameexistsmsg:"Business flow with this name already exists",schemescolumn:"Schemes",mappingfield:"Mapping",formcolumn:"Form",commandscolumn:"Commands",maprequiredsmsg:"Please create the mapping",duplicatewildcardmappingmsg:"Duplicate '*' mapping",duplicatewildcardmappinginotherformmsg:function(e){return"Mapping '*' already exists in '"+e+"' command form"},duplicateonecommandmappingmsg:function(e){return"Duplicate single command mapping '"+e+"'"},duplicateonecommandmappinginotherformmsg:function(e,t){return"Single command mapping '"+e+"' already exists in '"+t+"' command form"},duplicatemulticommandmappingmsg:function(e){return"More than one multiple command mappings contain '"+e+"' command"},duplicatemulticommandmappinginotherformmsg:function(e,t){return"Multiple command mapping that contains '"+e+"' command already exists in '"+t+"' command form"},schemenotselectedmsg:function(e,t){return"Scheme '"+e+"' wasn't selected for this command form. Either remove '"+t+"' command or add this scheme."}},workflow:{title:"Workflow schemes",schemesaved:"The scheme has been saved",clearschemebutton:"Clear scheme",messagetitle:"Message"},workflowinstance:{title:"Manage instances",schemecolumn:"Scheme",statuscolumn:"Status",activitycolumn:"Activity",statecolumn:"State",setstatebutton:"Set state",setinstancestatusbutton:"Set instance status",activityfield:"Activity",statefield:"State",statechangedmsg:"Process state has been changed",instancestatuschangedmsg:"Instance status has been changed"},group:{title:"Manage groups",rolesfield:"Roles",syncwithdomainfield:"Sync with domain"},permission:{title:"Manage permissions",deletegroupbutton:"Delete group",createpermissionbutton:"Create a permission",creategroupbutton:"Create a group",managepermissionsfield:"Manage permissions"},role:{title:"Manage roles",resetbutton:"Reset",allowbutton:"Allow",denybutton:"Deny",inheritedtype:"Inherited",allowtype:"Allow",denytype:"Deny"},user:{title:"Manage users",emailfield:"Email",loginfield:"Login",lockedfield:"Locked",rtlfield:"RTL",domainloginfield:"Domain login",passwordfield:"Password",groupsfield:"Groups",rolesfield:"Roles",externalIdField:"ExternalId",localizationfield:"Localization",confirmimport:"Are you sure you want to import users from AD/LDAP?",importfinishedmsg:"Import finished",adimportresultheader:"AD/LDAP import result",groupimportresultmsg:function(e,t,n){return[e," group(s) were returned from the Directory. ",t," group(s) were added and ",n," group(s) were deleted."]},groupswithduplicatenamesmsg:"These group(s) weren't imported because group(s) with the same name already exist: ",userimportresultmsg:function(e,t,n,a){return[e," user(s) were returned from the Directory. ",t," user(s) were added, ",n," user(s) were updated and ",a," user(s) were locked."]},userswithduplicateloginmsg:"User(s) with these logins weren't imported because user(s) with same login(s) already exist: ",externallogins:"External logins"},localization:{title:"Localization",updatetemplatebutton:"Update template"},formbuilder:{clearbutton:"Clear",uploadbutton:"Upload",downloadbutton:"Download",toolbar:{sepContainers:"Containers",container:"DIV",form:"Form",formgroup:"Form Group",menu:"Menu",workflowbar:"Workflow bar",customblock:"Custom block",sepCollection:"Collections",gridview:"GridView",collectioneditor:"Collection Editor",sepControls:"Controls",header:"Header",input:"Input",textarea:"TextArea",dictionary:"Dictionary",dropdown:"Dropdown",checkbox:"CheckBox",radiogroup:"Radio group",button:"Button",label:"Label",message:"Message",image:"Image",statistic:"Statistic",customcontrol:"Custom control",staticcontent:"Static Content",dropdowntrigger:"Dropdown trigger",sepCharts:"Charts",barchart:"Bar",linechart:"Line",scatterchart:"Scatter",doughnutchart:"Doughnut",piechart:"Pie",radarchart:"Radar"},preview:{dropzonetext:"Drag and drop a component..."},editforms:{base:{generaltab:"General",styletab:"Style",eventstab:"Events",othertab:"Other",widthfield:"Width",heightfield:"Height",margintopfield:"Margin Top",marginbottomfield:"Margin Bottom",marginleftfield:"Margin Left",marginrightfield:"Margin Right",customcssclassfield:"Custom CSS class",stylefield:"Style",hiddenfield:"Hidden",controlhasnoeventsmsg:"This control has no events.",eventsinfomsg:"These flags enable processing from this element.",requiredfield:"Required",defaultvaluefield:"Default value",customvalidationfield:"Custom Validation",visibleconditionfield:"Visible condition",readonlyconditionfield:"ReadOnly condition",savebutton:"Save",cancelbutton:"Cancel",okbutton:"OK",closebutton:"Close",sizedefault:"Default",sizemini:"Mini",sizetiny:"Tiny",sizesmall:"Small",sizemedium:"Medium",sizelarge:"Large",sizebig:"Big",sizehuge:"Huge",sizemassive:"Massive",attachednone:"None",attachedtop:"Top",attachedbottom:"Bottom",attachedtopright:"Top right",attachedtopleft:"Top left",attachedbottomleft:"Bottom left",attachedbottomright:"Bottom right",labeldefault:"Default",labelleft:"Left",labelright:"Right",labelleftcorner:"Left corner",labelrightcorner:"Right corner",closewithoutsavequestion:"Close without save?",questiontitle:"Question",onchangetimeout:"onChange timeout"},headerform:{namefield:"Name",sizefield:"Size",contentfield:"Content",textalignfield:"Text Align",textalignleft:"Left",textaligncenter:"Center",textalignright:"Right",subheaderfield:"Subheader"},buttonform:{namefield:"Name",typefield:"Type",typenonefield:"None",typesubmitfield:"Submit",sizefield:"Size",contentfield:"Content",optionsfield:"Options",basicfield:"Basic",circularfield:"Circular",compactfield:"Compact",disabledfield:"Disabled",fluidfield:"Fluid",invertedfield:"Inverted",loadingfield:"Loading",primaryfield:"Primary",secondaryfield:"Secondary",togglefield:"Toggle",floatedfield:"Floated",floateddefaultfield:"Default",floatedleftfield:"Left",floatedrightfield:"Right"},labelform:{namefield:"Name",attachedfield:"Attached",contentfield:"Content",sizefield:"Size",optionsfield:"Options",basicfield:"Basic",circularfield:"Circular",cornerfield:"Corner",floatingfield:"Floating",horizontalfield:"Horizontal",pointingfield:"Pointing"},staticcontentform:{namefield:"Name",fontsizefield:"Font size",contentfield:"Content",allowhtmlfield:"Allow HTML"},messageform:{namefield:"Name",headerfield:"Header",optionsfield:"Options",compactfield:"Compact",errorfield:"Error",floatingfield:"Floating",infofield:"Info",negativefield:"Negative",positivefield:"Positive",successfield:"Success",warningfield:"Warning",contentfield:"Content",sizefield:"Size"},inputform:{namefield:"Name",labelfield:"Label",typefield:"Type",typetext:"Text",typenumber:"Number",typedate:"Date",typetime:"Time",typedatetime:"Date & Time",typepasswod:"Password",labelpositionfield:"Label position",optionsfield:"Options",loadingfield:"Loading",invertedfield:"Inverted",errorfield:"Error",disabledfield:"Disabled",transparentfield:"Transparent",fluidfield:"Fluid",readonlyfield:"Read only",placeholderfield:"Placeholder",sizefield:"Size",dateformatfield:"Date Format"},textareaform:{namefield:"Name",labelfield:"Label",rowsfield:"Rows",optionsfield:"Options",placeholderfield:"Placeholder",autoheightfield:"Auto height",readonlyfield:"Read only"},checkboxform:{namefield:"Name",labelfield:"Label",optionsfield:"Options",fittedfield:"Fitted",indeterminatefield:"Indeterminate",readonlyfield:"ReadOnly",disabledfield:"Disabled",sliderfield:"Slider",togglefield:"Toggle"},dropdownform:{namefield:"Name",labelfield:"Label",datafield:"Data",datakeycolumn:"Key",datavaluecolumn:"Value",datatextcolumn:"Text",optionsfield:"Options",loadingfield:"Loading",errorfield:"Error",disabledfield:"Disabled",fluidfield:"Fluid",multiplefield:"Multiple",searchfield:"Search",selectionfield:"Selection",readonlyfield:"Read only",clearablefield:"Clearable",allowAddItemsfield:"Allow add items"},dictionaryform:{namefield:"Name",labelfield:"Label",datamodelfield:"Data model",placeholderfield:"Placeholder",columnsfield:"Columns (Name ASC, Email)",optionsfield:"Options",loadingfield:"Loading",errorfield:"Error",disabledfield:"Disabled",fluidfield:"Fluid",multiplefield:"Multiple",searchfield:"Search",selectionfield:"Selection",readonlyfield:"Read only",clearablefield:"Clearable"},radiogroupform:{namefield:"Name",labelfield:"Label",datafield:"Data",datakeycolumn:"Key",datavaluecolumn:"Value",datatextcolumn:"Text",groupdirectfield:"Group direct",directiongorizontalfield:"Gorizontal",directionverticalfield:"Vertical",readonlyfield:"Read only"},form:{namefield:"Name",sizefield:"Size",optionsfield:"Options",loadingfield:"Loading",errorfield:"Error",invertedfield:"Inverted",replyfield:"Reply",successfield:"Success",warningfield:"Warning"},formgroupform:{namefield:"Name",widthsfield:"Widths",widthsdefaultfield:"Default",widthsequalfield:"Equal",widthscustomfield:"Custom (1 - 16)",typefield:"Type",orientationcolumnsfield:"Columns",orientationrowsfield:"Rows"},containerform:{namefield:"Name",floatfield:"Float",floatnonefield:"None",floatleftfield:"Left",floatrightfield:"Right"},imageform:{namefield:"Name",srcfield:"Src",hreffield:"Href",optionsfield:"Options",avatarfield:"Avatar",borderedfield:"Bordered",centeredfield:"Centered",disabledfield:"Disabled",inlinefield:"Inline",spacedfield:"Spaced",floatedfield:"Floated",floatedleftfield:"Left",floatedrightfield:"Right",verticalalignfield:"Vertical align",verticalaligntopfield:"Top",verticalalignmiddlefield:"Middle",verticalalignbottomfield:"Bottom"},statisticform:{namefield:"Name",optionsfield:"Options",floatedfield:"Floated",horizontalfield:"Horizontal",datafield:"Data",sizefield:"Size"},gridform:{namefield:"Name",optionsfield:"Options",multiselectfield:"Multiselect",filterrowfield:"Filter row",disablesortfield:"Disable sorting",editformfield:"Edit form",editformshowtypefield:"Edit form show type",editformtypedefaultfield:"Default",editformtypemodalfield:"Modal",columnsfield:"Columns",keycolumn:"Key",namecolumn:"Name",typecolumn:"Type",widthcolumn:"Width",resizablecolumn:"Resizable",rowkeyfield:"Row key",pagertypefield:"Pagination type",pagertypenonefield:"None",pagertypeserverfield:"Server",pagesizefield:"Page size",defaultsortfield:"Default sort",rowheightfield:"Row height",minheightfield:"Min height",autoheightfield:"Auto Height",offsetfield:"OffSet",editType:"Edit type",editflowfield:"Edit flow"},collectioneditorform:{namefield:"Name",idfield:"Id field",optionsfield:"Options",readonlyfield:"ReadOnly",draggablefield:"Draggable",hierarchicalfield:"Hierarchical",collapseallfield:"Collapse all",parentidfield:"ParentId field",columnsfield:"Columns",keycolumn:"Key",namecolumn:"Name",controlcolumn:"Control",widthcolumn:"Width",disableAdd:"Disable Add",childrenField:"Children field"},customform:{namefield:"Name",typefield:"Type control",propsfield:"Props",childrenfield:"Children"},customblockform:{namefield:"Name",sourcetypefield:"Source type",sourcetypeformfield:"Form name",sourcetypejsonfield:"JSON source",formnamefield:"Form name",sourcefield:"JSON source",placeholderfield:"Placeholder"},menuform:{namefield:"Name",activeitemfield:"Active Item",itemsfield:"Items",itemstargetcolumn:"Target",itemstitlecolumn:"Title",optionsfield:"Options",pointingfield:"Pointing",secondaryfield:"Secondary",tabularfield:"Tabular",fluidfield:"Fluid",verticalfield:"Vertical",linkfield:"Link",visibleConditioncolumn:"Visible Condition"},dropdowntriggerform:{namefield:"Name",defaultvaluefield:"Default Value",itemsfield:"Items",itemstargetcolumn:"Target",itemstitlecolumn:"Title",itemsvisibleconditioncolumn:"Visible Condition",imageurlfield:"ImageUrl"},chartform:{namefield:"Name",titlefield:"Title",titlesizefield:"Title size",legendpositionfield:"Legend position",responsivefield:"Responsive",datasetcustomfield:"Dataset custom",datalabelsplaceholder:"Q1, Q2, Q3, Q4",datalabelsfield:"Data labels",datasetlabelfield:"Dataset Label",datasetbackgroundcolorfield:"Dataset BackgroundColor"},workflowform:{namefield:"Name",setstatebuttonfield:"Set state button",blocksetstatefield:"Block SetState"},uploadform:{namefield:"Name",iconFiletypes:"Icon file types",customPostUrl:"Custom post url",showFiletypeIcon:"Show file type icon",autoProcessQueue:"Auto process queue",addRemoveLinks:"Add remove links",multile:"Multiple file upload"},breadcrumbform:{namefield:"Name",itemsfield:"Items",itemstextcolumn:"Text",itemsurlcolumn:"Url",itemsactivecolumn:"Active",itemsiconcolumn:"Divider Icon"},searchform:{namefield:"Name",urlfield:"Url",categoryfield:"Enable Categories"},confirm:{title:"Confirm",text:"Please confirm the action",ok:"Ok",cancel:"Cancel"},treepicker:{ok:"Ok",cancel:"Cancel",search:"Search",selectAll:"Select all",removeAll:"Remove all",loadingData:"Loading data",selected:"Selected"}}},dashboard:{integrationapi:"Integration API",integrationapiswagger:"OpenAPI 2.0 (Swagger)integration API description:",settingsMain:"Main"},resourceeditor:{title:"Resource Editor",createfolder:"Create folder",createfile:"Create file",confirmdelete:"Are you sure you want to delete this folder or file?",foldercreated:"The folder has been created",folderdeleted:"The folder has been deleted",filecreated:"The file has been created",filedeleted:"The file has been deleted"}}},function(e,t){e.exports=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=function(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e};function o(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var d=(r(l,null,[{key:"IsGreater",value:function(e){return e===l.Greater}},{key:"IsLess",value:function(e){return e===l.Less}},{key:"IsEqual",value:function(e){return e===l.Equal}},{key:"IsGreaterOrEqual",value:function(e){return e===l.GreaterOrEqual}},{key:"IsLessOrEqual",value:function(e){return e===l.LessOrEqual}},{key:"IsNotEqual",value:function(e){return e===l.NotEqual}},{key:"IsLike",value:function(e){return e.toLowerCase()===l.Like||"*like*"===e.toLowerCase()}},{key:"IsStartsWith",value:function(e){return e.toLowerCase()===l.StartsWith}},{key:"IsEndsWith",value:function(e){return e.toLowerCase()===l.EndsWith}},{key:"Evaluate",value:function(e,t,n){if(l.IsGreater(n))return l.compareWithTypeCheck(e,t,function(e,t){return t<e});if(l.IsLess(n))return l.compareWithTypeCheck(e,t,function(e,t){return e<t});if(l.IsEqual(n))return l.compareWithTypeCheck(e,t,function(e,t){return e===t});if(l.IsGreaterOrEqual(n))return l.compareWithTypeCheck(e,t,function(e,t){return t<=e});if(l.IsLessOrEqual(n))return l.compareWithTypeCheck(e,t,function(e,t){return e<=t});if(l.IsNotEqual(n))return l.compareWithTypeCheck(e,t,function(e,t){return e!==t});if(l.IsLike(n))return l.likeCompare(e,t,function(e,t){return 0<=e.indexOf(t)});if(l.IsStartsWith(n))return l.likeCompare(e,t,function(e,t){return e.startsWith(t)});if(l.IsEndsWith(n))return l.likeCompare(e,t,function(e,t){return e.endsWith(t)});throw"Unknown term "+n}},{key:"likeCompare",value:function(e,t,n){return null===e&&null===t||void 0===e&&void 0===t||null!=e&&null!=t&&n(e.toString().toLowerCase(),t.toString().toLowerCase())}},{key:"compareWithTypeCheck",value:function(e,t,n){return null===e&&null===t||void 0===e&&void 0===t||null!=e&&null!=t&&(e instanceof Date&&"string"==typeof t?n(e.getTime(),new Date(t).getTime()):"string"==typeof e&&t instanceof Date?n(new Date(e).getTime(),t.getTime()):e instanceof Date&&t instanceof Date?n(e.getTime(),t.getTime()):(void 0===e?"undefined":a(e))===(void 0===t?"undefined":a(t))?n(e,t):n(e,"number"==typeof e&&"string"==typeof t?parseFloat(t):"string"==typeof e&&"number"==typeof t?t.toString():t))}},{key:"Greater",get:function(){return">"}},{key:"Less",get:function(){return">"}},{key:"Equal",get:function(){return"="}},{key:"GreaterOrEqual",get:function(){return">="}},{key:"LessOrEqual",get:function(){return"<="}},{key:"NotEqual",get:function(){return"!="}},{key:"Like",get:function(){return"like"}},{key:"StartsWith",get:function(){return"like*"}},{key:"EndsWith",get:function(){return"*like"}}]),l);function l(){i(this,l)}var s=(r(u,[{key:"AddFilter",value:function(e){var n=this,a=e.names,r=e.expected,o=e.term,t=e.id;if(!(a.length<1)){var i=1===a.length?a[0]:a.sort().join(","),l=void 0;this._innerFilter.hasOwnProperty(i)?l=this._innerFilter[i]:((l=this._innerFilter[i]={}).funcs=[],l.items=[],l.test=function(t){return n._innerFilter[i].funcs.every(function(e){return e(t)})});var s=void 0,u=function(e,t){var n=Object.keys(e).find(function(e){return e.toString().toLowerCase()===t.toLowerCase()});return void 0!==n&&d.Evaluate(e[n],r,o)};s=1===a.length?function(e){return u(e,a[0])}:function(t){return a.some(function(e){return u(t,e)})},l.funcs.push(s),l.items.push({expected:r,term:o,id:t})}}},{key:"RemoveFilter",value:function(e){var r=this,t=e.name,n=e.id,a=void 0,o=void 0;if(void 0!==t&&(o=Array.isArray(t)?(a=1===t.length?t[0]:t.sort().join(","),t):[a=t]),void 0!==t&&void 0===n)delete this._innerFilter[a];else if(void 0===t&&void 0===n)this._innerFilter={};else{var i=function(e,t,n){if(r._innerFilter.hasOwnProperty(e)){var a=r._innerFilter[e].items.filter(function(e){return e.id!==n});a.length<r._innerFilter[e].items.length&&(delete r._innerFilter[e],a.forEach(function(e){r.AddFilter({names:t,expected:e.expected,term:e.term,id:e.id})}))}};void 0!==t&&void 0!==n?i(a,o,n):Object.keys(this._innerFilter).forEach(function(e){i(e,e.split(","),n)})}}},{key:"IsRowMatched",value:function(e){var t=Object.keys(this._innerFilter);if(t.length<=0)return!0;for(var n=0;n<t.length;n++)if(!this._innerFilter[t[n]].test(e))return!1;return!0}},{key:"GetFilterAsObjects",value:function(){var e=this;if(void 0===this._innerFilter)return[];var n=[];return Object.keys(this._innerFilter).forEach(function(t){e._innerFilter[t].items.forEach(function(e){n.push({column:t,value:e.expected,term:e.term})})}),n}}]),u);function u(e,n){var a=this;if(i(this,u),this._innerFilter={},void 0!==e&&Array.isArray(e)){if(void 0===n||!Array.isArray(n))throw"columns must be array";e.forEach(function(e){if(void 0!==e){var t=void 0;t="*"===e.column?n:e.column.split(",").map(function(e){return e.trim()}),a.AddFilter({names:t,expected:e.value,term:e.term})}})}}t.FilterTerms=d,t.FunctionalFilter=s},function(e,t){e.exports=s},function(e,t,n){"use strict";var a=function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e};function r(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var u=o(n(0)),d=n(1),l=o(n(8)),c=(o(n(3)),o(n(54))),s=o(n(21));function o(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function p(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var h=(p(m,u.default.Component),a(m,[{key:"getLocalValue",value:function(e,t,n){var a=this.props.localization,r=null!=n?n:"base";return null==a||null==a[r]||null==a[r][e]?t:a[r][e]}},{key:"handleItemClick",value:function(e,t){var n=t.name;this.setState({activeItem:n})}},{key:"getDescription",value:function(){var t=this.state.activeItem;return this.menuItems.forEach(function(e){e.active=e.name===t}),u.default.createElement(d.Modal.Description,null,u.default.createElement(d.Menu,{key:"descriptionMenu",pointing:!0,secondary:!0,items:this.menuItems}),this.getDetailDescription(t))}},{key:"getDetailDescription",value:function(e){var t;return"general"===e?t=this.getGeneralDescription():"style"===e?t=this.getStyleDescription():"events"===e?t=this.getEventsDescription():"tooltip"===e?t=this.getToolTipDescription():"other"===e&&(t=this.getOtherDescription()),t}},{key:"getGeneralDescription",value:function(){var e=this.props.data,t=this.props.parent.handleChange.bind(this.props.parent);return u.default.createElement(d.Form,{key:"generalDescriptionForm"},u.default.createElement(d.Form.Input,{key:"name",label:"Name",name:"key",value:e.key,onChange:t}))}},{key:"getStyleDescription",value:function(){var e=this.props.data,t=this.props.parent.handleChange.bind(this.props.parent),n="/*** Example Code ***/\ncolor:red;\npaddingTop:5px;",a=[{text:this.getLocalValue("adaptivedefault","Any"),value:""},{text:this.getLocalValue("adaptivedesctop","Desktop"),value:"desktop"},{text:this.getLocalValue("adaptivemobile","Mobile"),value:"mobile"}];return u.default.createElement(d.Form,{key:"styleDescriptionForm"},u.default.createElement(d.Form.Group,{widths:"equal"},u.default.createElement(d.Form.Input,{name:"style-width",label:this.getLocalValue("widthfield","Width"),placeholder:"100px",value:e["style-width"],onChange:t}),u.default.createElement(d.Form.Input,{name:"style-height",label:this.getLocalValue("heightfield","Height"),placeholder:"100px",value:e["style-height"],onChange:t})),u.default.createElement(d.Form.Group,{widths:"equal"},u.default.createElement(d.Form.Input,{name:"style-marginTop",label:this.getLocalValue("margintopfield","Margin Top"),placeholder:"0px",value:e["style-marginTop"],onChange:t}),u.default.createElement(d.Form.Input,{name:"style-marginBottom",label:this.getLocalValue("marginbottomfield","Margin Bottom"),placeholder:"0px",value:e["style-marginBottom"],onChange:t}),u.default.createElement(d.Form.Input,{name:"style-marginLeft",label:this.getLocalValue("marginleftfield","Margin Left"),placeholder:"0px",value:e["style-marginLeft"],onChange:t}),u.default.createElement(d.Form.Input,{name:"style-marginRight",label:this.getLocalValue("marginrightfield","Margin Right"),placeholder:"0px",value:e["style-marginRight"],onChange:t})),u.default.createElement(d.Form.Input,{name:"style-customcss",label:this.getLocalValue("customcssclassfield","Custom CSS class"),placeholder:"dwkit-application-css (without '.')",value:e["style-customcss"],onChange:t}),u.default.createElement(d.Form.TextArea,{name:"style-source",label:this.getLocalValue("stylefield","Style"),placeholder:n,value:e["style-source"],onChange:t}),u.default.createElement(d.Form.Checkbox,{name:"style-hidden",label:this.getLocalValue("hiddenfield","Hidden"),checked:e["style-hidden"],onChange:t}),u.default.createElement(d.Form.Checkbox,{name:"style-adaptive",label:this.getLocalValue("adaptivefield","Adaptive Layout"),checked:e["style-adaptive"],onChange:t}),e["style-adaptive"]&&u.default.createElement(d.Form.Dropdown,{name:"style-renderwhen",selection:!0,fluid:!0,search:!0,options:a,placeholder:"Any",label:this.getLocalValue("style-renderwhenfield","Render when"),value:e["style-renderwhen"],onChange:t}),e["style-adaptive"]&&u.default.createElement(d.Form.TextArea,{name:"style-mobilesource",label:this.getLocalValue("mobilesourcefield","Mobile style"),placeholder:n,value:e["style-mobilesource"],onChange:t}))}},{key:"getEventsList",value:function(){return[]}},{key:"getEventsDescription",value:function(){var e=this.props.data;null==e.events&&(e.events={});var t,n=this.props.parent.handleChange.bind(this.props.parent),a=this.props.actions,r=this.getEventsList();if(Array.isArray(r)&&0!=r.length){for(var o=this.props.parent.getControlsList(),i=[],l=0;l<o.length;l++)e.key!=o[l]&&i.push({text:o[l],value:o[l]});t=u.default.createElement(c.default,{key:"events",name:"events",data:e.events,events:r,actions:a,targets:i,onAdditionActions:this.handleAdditionActions.bind(this),onChange:n})}else t=u.default.createElement(d.Message,{icon:!0},u.default.createElement(d.Image,{src:"/images/dwkitbuilder-info.png",height:"32px"}),u.default.createElement(d.Message.Content,null,this.getLocalValue("controlhasnoeventsmsg","This control has no events.")));var s=null;return r.includes("onChange")&&(s=u.default.createElement(d.Form.Input,{name:"onChangeTimeout",style:{width:100},placeholder:"0",type:"number",label:this.getLocalValue("onchangetimeout","onChange timeout"),value:e.onChangeTimeout,onChange:n})),u.default.createElement(d.Form,{key:"eventsDescriptionForm"},u.default.createElement(d.Message,{icon:!0},u.default.createElement(d.Image,{src:"/images/dwkitbuilder-info.png",height:"32px"}),u.default.createElement(d.Message.Content,null,this.getLocalValue("eventsinfomsg","These flags enable processing from this element."))),s,t)}},{key:"getToolTipDescription",value:function(){var e=[{text:this.getLocalValue("tooltipdefault","Default"),value:""},{text:this.getLocalValue("tooltiptopcenter","Top Center"),value:"top center"},{text:this.getLocalValue("tooltiptopleft","Top Left"),value:"top left"},{text:this.getLocalValue("tooltiptopright","Top Right"),value:"top right"},{text:this.getLocalValue("tooltipbottomcenter","Bottom Center"),value:"bottom center"},{text:this.getLocalValue("tooltipbottomleft","Bottom Left"),value:"bottom left"},{text:this.getLocalValue("tooltipbottomright","Bottom right"),value:"bottom right"},{text:this.getLocalValue("tooltiprightright","Right Center"),value:"right center"},{text:this.getLocalValue("tooltipleftcenter","Left Center"),value:"left center"}],t=[{text:this.getLocalValue("tooltipdefault","Default"),value:""},{text:this.getLocalValue("tooltiphover","Hover"),value:"hover"},{text:this.getLocalValue("tooltipclick","Click"),value:"click"},{text:this.getLocalValue("tooltipfocus","Focus"),value:"focus"}],n=this.props.data,a=this.props.parent.handleChange.bind(this.props.parent),r=n["tooltip-enabled"]?u.default.createElement(d.Segment,{vertical:!0},u.default.createElement(d.Form.Checkbox,{name:"tooltip-enabled",label:this.getLocalValue("tooltipenabledfield","Enabled"),checked:n["tooltip-enabled"],onChange:a}),u.default.createElement(d.Form.Input,{name:"tooltip-header",label:this.getLocalValue("tooltipheaderfield","Tooltip Header"),value:n["tooltip-header"],onChange:a}),u.default.createElement(d.Form.Input,{name:"tooltip-content",label:this.getLocalValue("tooltipcontentfield","Tooltip Content"),value:n["tooltip-content"],onChange:a}),u.default.createElement(d.Form.Group,null,u.default.createElement(d.Form.Input,{name:"tooltip-classname",label:this.getLocalValue("tooltipclassnamefield","ClassName"),value:n["tooltip-classname"],onChange:a}),u.default.createElement(d.Form.Dropdown,{name:"tooltip-showtype",selection:!0,fluid:!0,search:!0,options:t,placeholder:"Default",label:this.getLocalValue("tooltipshowtypefield","Tooptip showing type"),value:n["tooltip-showtype"],onChange:a}),u.default.createElement(d.Form.Dropdown,{name:"tooltip-position",selection:!0,fluid:!0,search:!0,options:e,placeholder:"Default",label:this.getLocalValue("tooltippositionfield","Tooptip position"),value:n["tooltip-position"],onChange:a}))):u.default.createElement(d.Segment,{vertical:!0},u.default.createElement(d.Form.Checkbox,{name:"tooltip-enabled",label:this.getLocalValue("tooltipenabledfield","Enabled"),checked:n["tooltip-enabled"],onChange:a}));return u.default.createElement(d.Form,{key:"tooltipDescriptionForm"},u.default.createElement(d.Segment,{vertical:!0},u.default.createElement(d.Form.Group,null,u.default.createElement(d.Form.Checkbox,{name:"tooltip-errordisabled",label:this.getLocalValue("errortooltipdisabledfield","Disable error tooptip"),checked:n["tooltip-errordisabled"],onChange:a}),u.default.createElement(d.Form.Dropdown,{name:"tooltip-errorshowtype",selection:!0,fluid:!0,search:!0,options:t,placeholder:"Default",label:this.getLocalValue("tooltiperrorshowtypefield","Error tooptip showing type"),value:n["tooltip-errorshowtype"],onChange:a}),u.default.createElement(d.Form.Dropdown,{name:"tooltip-errorposition",selection:!0,fluid:!0,search:!0,options:e,placeholder:"Default",label:this.getLocalValue("errortooltippositionfield","Error tooptip position"),value:n["tooltip-errorposition"],onChange:a}))),r)}},{key:"getOtherDescription",value:function(){var e=this.props.data,t=this.props.parent.handleChange.bind(this.props.parent);return u.default.createElement(d.Form,{key:"otherDescriptionForm"},u.default.createElement(d.Form.Input,{name:"propertyName",label:this.getLocalValue("propertynamefield","Property Name"),value:e.propertyName,onChange:t}),u.default.createElement(d.Form.Checkbox,{name:"other-required",label:this.getLocalValue("requiredfield","Required"),checked:e["other-required"],onChange:t}),u.default.createElement(d.Form.Input,{name:"defaultValue",label:this.getLocalValue("defaultvaluefield","Default value"),value:e.defaultValue,onChange:t}),u.default.createElement(d.Form.TextArea,{name:"other-customValidation",label:this.getLocalValue("customvalidationfield","Custom Validation"),placeholder:"/*** Example Code ***/\nvalue > 10 ? true : 'Must be more 10'",value:e["other-customValidation"],onChange:t}),u.default.createElement(d.Form.TextArea,{name:"other-visibleConition",label:this.getLocalValue("visibleconditionfield","Visible condition"),placeholder:"/*** Example Code ***/\ndata.type == 1 ? true : false",value:e["other-visibleConition"],onChange:t}),u.default.createElement(d.Form.TextArea,{name:"other-readOnlyConition",label:this.getLocalValue("readonlyconditionfield","ReadOnly condition"),placeholder:"/*** Example Code ***/\ndata.type == 1 ? true : false",value:e["other-readOnlyConition"],onChange:t}))}},{key:"render",value:function(){return u.default.createElement(d.Modal,{dimmer:"inverted",open:this.props.open,onClose:this.props.onClose.bind(this.props.parent)},u.default.createElement(d.Modal.Content,null,u.default.createElement(d.Modal.Description,null,u.default.createElement(d.Label,{className:"dwkit-formbuilder-editform-controltype"},this.props.data["data-buildertype"]),this.getDescription())),u.default.createElement(d.Modal.Actions,null,u.default.createElement(d.Button,{className:"buttontype1",onClick:this.props.onSave.bind(this.props.parent)},this.getLocalValue("savebutton","Save")),u.default.createElement(d.Button,{className:"buttontype2",onClick:this.props.onClose.bind(this.props.parent)},this.getLocalValue("cancelbutton","Cancel"))))}},{key:"checkActionsList",value:function(e){for(var t=!1,n=0;n<this.props.actions.length;n++)if(this.props.actions[n]==e){t=!0;break}t||this.props.actions.push({text:e,value:e})}},{key:"handleAdditionActions",value:function(e,t){var n=t.value;this.checkActionsList(n),this.forceUpdate()}}]),m);function m(e){i(this,m);var t=f(this,(m.__proto__||Object.getPrototypeOf(m)).call(this,e));return t.state={activeItem:"general"},t.menuItems=[{key:"general",name:"general",content:t.getLocalValue("generaltab","General"),active:!0,onClick:t.handleItemClick.bind(t)},{key:"style",name:"style",content:t.getLocalValue("styletab","Style"),active:!1,onClick:t.handleItemClick.bind(t)},{key:"events",name:"events",content:t.getLocalValue("eventstab","Events"),active:!1,onClick:t.handleItemClick.bind(t)},{key:"tooltip",name:"tooltip",content:t.getLocalValue("tooltiptab","Tooltip"),active:!1,onClick:t.handleItemClick.bind(t)},{key:"other",name:"other",content:t.getLocalValue("othertab","Other"),active:!1,onClick:t.handleItemClick.bind(t)}],t}var g=(p(v,h),a(v,[{key:"getGeneralDescription",value:function(){var e=this.props.data,t=this.props.parent.handleChange.bind(this.props.parent),n=[{text:this.getLocalValue("sizedefault","Default"),value:""},{text:this.getLocalValue("sizemini","Mini"),value:"mini"},{text:this.getLocalValue("sizetiny","Tiny"),value:"tiny"},{text:this.getLocalValue("sizesmall","Small"),value:"small"},{text:this.getLocalValue("sizemedium","Medium"),value:"medium"},{text:this.getLocalValue("sizelarge","Large"),value:"large"},{text:this.getLocalValue("sizehuge","Huge"),value:"huge"}];return u.default.createElement(d.Form,null,u.default.createElement(d.Form.Group,{widths:"equal"},u.default.createElement(d.Form.Input,{name:"key",label:this.getLocalValue("namefield","Name","headerform"),value:e.key,onChange:t}),u.default.createElement(d.Form.Dropdown,{name:"size",selection:!0,fluid:!0,options:n,placeholder:"Default",label:this.getLocalValue("sizefield","Size","header"),value:e.size,onChange:t})),u.default.createElement(d.Form.Group,{widths:"equal"},u.default.createElement(d.Form.TextArea,{name:"content",label:this.getLocalValue("contentfield","Content","headerform"),value:e.content,onChange:t}),u.default.createElement("div",{className:"field"},u.default.createElement("label",null,this.getLocalValue("textalignfield","Text Align","headerform")),u.default.createElement(d.Form.Group,{widths:"equal"},u.default.createElement(d.Form.Radio,{name:"textAlign",label:this.getLocalValue("textalignleft","Left","headerform"),value:"left",checked:"left"===e.textAlign,onChange:t}),u.default.createElement(d.Form.Radio,{name:"textAlign",label:this.getLocalValue("textaligncenter","Center","headerform"),value:"center",checked:"center"===e.textAlign,onChange:t}),u.default.createElement(d.Form.Radio,{name:"textAlign",label:this.getLocalValue("textalignright","Right","headerform"),value:"right",checked:"right"===e.textAlign,onChange:t})))),u.default.createElement(d.Form.Input,{name:"subheader",label:this.getLocalValue("subheaderfield","Subheader","headerform"),value:e.subheader,onChange:t}))}}]),v);function v(e){return i(this,v),f(this,(v.__proto__||Object.getPrototypeOf(v)).call(this,e))}var y=(p(b,h),a(b,[{key:"getGeneralDescription",value:function(){var e=this.props.data,t=this.props.parent.handleChange.bind(this.props.parent),n=[{text:this.getLocalValue("sizedefault","Default"),value:""},{text:this.getLocalValue("sizemini","Mini"),value:"mini"},{text:this.getLocalValue("sizetiny","Tiny"),value:"tiny"},{text:this.getLocalValue("sizesmall","Small"),value:"small"},{text:this.getLocalValue("sizemedium","Medium"),value:"medium"},{text:this.getLocalValue("sizebig","Big"),value:"big"},{text:this.getLocalValue("sizelarge","Large"),value:"large"},{text:this.getLocalValue("sizehuge","Huge"),value:"huge"},{text:this.getLocalValue("sizemassive","Massive"),value:"massive"}];return u.default.createElement(d.Form,null,u.default.createElement(d.Form.Group,{widths:"equal"},u.default.createElement(d.Form.Input,{name:"key",label:this.getLocalValue("namefield","Name","buttonform"),value:e.key,onChange:t}),u.default.createElement(d.Form.Input,{name:"icon",label:this.getLocalValue("iconfield","Icon","buttonform"),value:e.icon,onChange:t,action:{icon:"help",onClick:function(e){window.open("https://react.semantic-ui.com/elements/icon/")}}})),u.default.createElement(d.Form.Group,{widths:"equal"},u.default.createElement(d.Form.Input,{name:"content",label:this.getLocalValue("contentfield","Content","buttonform"),value:e.content,onChange:t}),u.default.createElement(d.Form.Dropdown,{name:"size",selection:!0,fluid:!0,options:n,placeholder:"Default",label:this.getLocalValue("sizefield","Size","buttonform"),value:e.size,onChange:t})),u.default.createElement(d.Form.Group,{widths:"equal"},u.default.createElement("div",{className:"field"},u.default.createElement("label",null,this.getLocalValue("optionsfield","Options","buttonform")),u.default.createElement(d.Form.Group,null,u.default.createElement(d.Form.Checkbox,{name:"basic",label:this.getLocalValue("basicfield","Basic","buttonform"),checked:e.basic,onChange:t}),u.default.createElement(d.Form.Checkbox,{name:"circular",label:this.getLocalValue("circularfield","Circular","buttonform"),checked:e.circular,onChange:t}),u.default.createElement(d.Form.Checkbox,{name:"compact",label:this.getLocalValue("compactfield","Compact","buttonform"),checked:e.compact,onChange:t})),u.default.createElement(d.Form.Group,null,u.default.createElement(d.Form.Checkbox,{name:"disabled",label:this.getLocalValue("disabledfield","Disabled","buttonform"),checked:e.disabled,onChange:t}),u.default.createElement(d.Form.Checkbox,{name:"fluid",label:this.getLocalValue("fluidfield","Fluid","buttonform"),checked:e.fluid,onChange:t})),u.default.createElement(d.Form.Group,null,u.default.createElement(d.Form.Checkbox,{name:"primary",label:this.getLocalValue("primaryfield","Primary","buttonform"),checked:e.primary,onChange:t}),u.default.createElement(d.Form.Checkbox,{name:"secondary",label:this.getLocalValue("secondaryfield","Secondary","buttonform"),checked:e.secondary,onChange:t}))),u.default.createElement("div",{className:"field"},u.default.createElement("label",null,this.getLocalValue("floatedfield","Floated","buttonform")),u.default.createElement(d.Form.Group,null,u.default.createElement(d.Form.Radio,{name:"floated",label:this.getLocalValue("floateddefaultfield","Default","buttonform"),value:"",checked:void 0===e.floated||""===e.floated,onChange:t}),u.default.createElement(d.Form.Radio,{name:"floated",label:this.getLocalValue("floatedleftfield","Left","buttonform"),value:"left",checked:"left"===e.floated,onChange:t}),u.default.createElement(d.Form.Radio,{name:"floated",label:this.getLocalValue("floatedrightfield","Right","buttonform"),value:"right",checked:"right"===e.floated,onChange:t})))))}},{key:"getEventsList",value:function(){return["onClick"]}}]),b);function b(e){return i(this,b),f(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,e))}var k=(p(w,h),a(w,[{key:"getGeneralDescription",value:function(){var e=this.props.parent.handleChange.bind(this.props.parent),t=this.props.data,n=[{text:this.getLocalValue("sizedefault","Default"),value:""},{text:this.getLocalValue("sizemini","Mini"),value:"mini"},{text:this.getLocalValue("sizetiny","Tiny"),value:"tiny"},{text:this.getLocalValue("sizesmall","Small"),value:"small"},{text:this.getLocalValue("sizemedium","Medium"),value:"medium"},{text:this.getLocalValue("sizelarge","Large"),value:"large"},{text:this.getLocalValue("sizehuge","Huge"),value:"huge"}],a=[{text:this.getLocalValue("attachednone","None"),value:""},{text:this.getLocalValue("attachedtop","Top"),value:"top"},{text:this.getLocalValue("attachedbottom","Bottom"),value:"bottom"},{text:this.getLocalValue("attachedtopright","Top right"),value:"top right"},{text:this.getLocalValue("attachedtopleft","Top left"),value:"top left"},{text:this.getLocalValue("attachedbottomleft","Bottom left"),value:"bottom left"},{text:this.getLocalValue("attachedbottomright","Bottom right"),value:"bottom right"}];return u.default.createElement(d.Form,null,u.default.createElement(d.Form.Group,{widths:"equal"},u.default.createElement(d.Form.Input,{name:"key",label:this.getLocalValue("namefield","Name","labelform"),value:t.key,onChange:e}),u.default.createElement(d.Form.Dropdown,{name:"attached",selection:!0,fluid:!0,options:a,placeholder:a[0].text,label:this.getLocalValue("attachedfield","Attached","labelform"),value:t.attached,onChange:e})),u.default.createElement(d.Form.Group,{widths:"equal"},u.default.createElement("div",{className:"field"},u.default.createElement(d.Form.Input,{name:"content",label:this.getLocalValue("contentfield","Content","labelform"),value:t.content,onChange:e}),u.default.createElement(d.Form.Dropdown,{name:"size",selection:!0,fluid:!0,options:n,placeholder:"Default",label:this.getLocalValue("sizefield","Size","labelform"),value:t.size,onChange:e})),u.default.createElement("div",{className:"field"},u.default.createElement("label",null,this.getLocalValue("optionsfield","Options","labelform")),u.default.createElement(d.Form.Group,null,u.default.createElement(d.Form.Checkbox,{name:"basic",label:this.getLocalValue("basicfield","Basic","labelform"),checked:t.basic,onChange:e}),u.default.createElement(d.Form.Checkbox,{name:"circular",label:this.getLocalValue("circularfield","Circular","labelform"),checked:t.circular,onChange:e}),u.default.createElement(d.Form.Checkbox,{name:"corner",label:this.getLocalValue("cornerfield","Corner","labelform"),checked:t.corner,onChange:e})),u.default.createElement(d.Form.Group,null,u.default.createElement(d.Form.Checkbox,{name:"floating",label:this.getLocalValue("floatingfield","Floating","labelform"),checked:t.floating,onChange:e}),u.default.createElement(d.Form.Checkbox,{name:"pointing",label:this.getLocalValue("pointingfield","Pointing","labelform"),checked:t.pointing,onChange:e})))))}}]),w);function w(e){return i(this,w),f(this,(w.__proto__||Object.getPrototypeOf(w)).call(this,e))}var E=(p(C,h),a(C,[{key:"getGeneralDescription",value:function(){var e=this.props.parent.handleChange.bind(this.props.parent),t=this.props.data;return u.default.createElement(d.Form,null,u.default.createElement(d.Form.Group,{widths:"equal"},u.default.createElement(d.Form.Input,{name:"key",label:this.getLocalValue("namefield","Name","staticcontentform"),value:t.key,onChange:e}),u.default.createElement(d.Form.Input,{name:"style-font-size",placeholder:"20px",label:this.getLocalValue("fontsizefield","Font size","staticcontentform"),value:t["style-font-size"],onChange:e})),u.default.createElement(d.Form.Checkbox,{name:"isHtml",label:this.getLocalValue("allowhtmlfield","Allow HTML","staticcontentform"),checked:t.isHtml,onChange:e}),u.default.createElement(d.TextArea,{rows:6,name:"content",label:this.getLocalValue("contentfield","Content","staticcontentform"),value:t.content,onChange:e}))}}]),C);function C(e){return i(this,C),f(this,(C.__proto__||Object.getPrototypeOf(C)).call(this,e))}var _=(p(L,h),a(L,[{key:"getGeneralDescription",value:function(){var e=this.props.parent.handleChange.bind(this.props.parent),t=this.props.data,n=[{text:this.getLocalValue("sizedefault","Default"),value:""},{text:this.getLocalValue("sizemini","Mini"),value:"mini"},{text:this.getLocalValue("sizetiny","Tiny"),value:"tiny"},{text:this.getLocalValue("sizesmall","Small"),value:"small"},{text:this.getLocalValue("sizemedium","Medium"),value:"medium"},{text:this.getLocalValue("sizelarge","Large"),value:"large"},{text:this.getLocalValue("sizehuge","Huge"),value:"huge"}];return u.default.createElement(d.Form,null,u.default.createElement(d.Form.Group,{widths:"equal"},u.default.createElement("div",{className:"field"},u.default.createElement(d.Form.Input,{name:"key",label:this.getLocalValue("namefield","Name","messageform"),value:t.key,onChange:e}),u.default.createElement(d.Form.Input,{name:"header",label:this.getLocalValue("headerfield","Header","messageform"),value:t.header,onChange:e})),u.default.createElement("div",{className:"field"},u.default.createElement("label",null,this.getLocalValue("optionsfield","Options","messageform")),u.default.createElement(d.Form.Group,null,u.default.createElement(d.Form.Checkbox,{name:"compact",label:this.getLocalValue("compactfield","Compact","messageform"),checked:t.compact,onChange:e}),u.default.createElement(d.Form.Checkbox,{name:"error",label:this.getLocalValue("errorfield","Error","messageform"),checked:t.error,onChange:e}),u.default.createElement(d.Form.Checkbox,{name:"floating",label:this.getLocalValue("floatingfield","Floating","messageform"),checked:t.floating,onChange:e})),u.default.createElement(d.Form.Group,null,u.default.createElement(d.Form.Checkbox,{name:"info",label:this.getLocalValue("infofield","Info","messageform"),checked:t.info,onChange:e}),u.default.createElement(d.Form.Checkbox,{name:"negative",label:this.getLocalValue("negativefield","Negative","messageform"),checked:t.negative,onChange:e}),u.default.createElement(d.Form.Checkbox,{name:"positive",label:this.getLocalValue("positivefield","Positive","messageform"),checked:t.positive,onChange:e})),u.default.createElement(d.Form.Group,null,u.default.createElement(d.Form.Checkbox,{name:"success",label:this.getLocalValue("successfield","Success","messageform"),checked:t.success,onChange:e}),u.default.createElement(d.Form.Checkbox,{name:"warning",label:this.getLocalValue("warningfield","Warning","messageform"),checked:t.warning,onChange:e})))),u.default.createElement(d.Form.Group,{widths:"equal"},u.default.createElement(d.Form.TextArea,{name:"content",label:this.getLocalValue("contentfield","Content","messageform"),value:t.content,onChange:e}),u.default.createElement(d.Form.Dropdown,{name:"size",selection:!0,fluid:!0,options:n,placeholder:n[0].text,label:this.getLocalValue("sizefield","Size","messageform"),value:t.size,onChange:e})))}}]),L);function L(e){return i(this,L),f(this,(L.__proto__||Object.getPrototypeOf(L)).call(this,e))}var D=(p(O,h),a(O,[{key:"getGeneralDescription",value:function(){var e=this.props.parent.handleChange.bind(this.props.parent),t=this.props.data,n=[{text:this.getLocalValue("sizedefault","Default"),value:""},{text:this.getLocalValue("sizemini","Mini"),value:"mini"},{text:this.getLocalValue("sizetiny","Tiny"),value:"tiny"},{text:this.getLocalValue("sizesmall","Small"),value:"small"},{text:this.getLocalValue("sizemedium","Medium"),value:"medium"},{text:this.getLocalValue("sizelarge","Large"),value:"large"},{text:this.getLocalValue("sizehuge","Huge"),value:"huge"},{text:this.getLocalValue("sizemassive","Massive"),value:"massive"}],a=[{text:this.getLocalValue("labeldefault","Default"),value:""},{text:this.getLocalValue("labelleft","Left"),value:"left"},{text:this.getLocalValue("labelright","Right"),value:"right"},{text:this.getLocalValue("labelleftcorner","Left corner"),value:"left corner"},{text:this.getLocalValue("labelrightcorner","Right corner"),value:"right corner"}];return"date"!==t.type&&"datetime"!==t.type&&t.type,u.default.createElement(d.Form,null,u.default.createElement(d.Form.Group,{widths:"equal"},u.default.createElement(d.Form.Input,{name:"key",label:this.getLocalValue("namefield","Name","inputform"),value:t.key,onChange:e}),u.default.createElement(d.Form.Input,{name:"label",label:this.getLocalValue("labelfield","Label","inputform"),value:t.label,onChange:e})),u.default.createElement(d.Form.Group,{widths:"equal"},u.default.createElement("div",{className:"field"},u.default.createElement("label",null,this.getLocalValue("typefield","Type","inputform")),u.default.createElement(d.Form.Group,{widths:"equal"},u.default.createElement(d.Form.Radio,{name:"type",label:this.getLocalValue("typetext","Text","inputform"),value:"text",checked:null==t.type||"text"==t.type,onChange:e}),u.default.createElement(d.Form.Radio,{name:"type",label:this.getLocalValue("typenumber","Number","inputform"),value:"number",checked:"number"===t.type,onChange:e}),u.default.createElement(d.Form.Radio,{name:"type",label:this.getLocalValue("typepasswod","Password","inputform"),value:"password",checked:"password"===t.type,onChange:e}),u.default.createElement(d.Form.Radio,{name:"type",label:this.getLocalValue("typefile","File","inputform"),value:"file",checked:"file"===t.type,onChange:e})),u.default.createElement(d.Form.Group,{widths:"equal"},u.default.createElement(d.Form.Radio,{name:"type",label:this.getLocalValue("typedate","Date","inputform"),value:"date",checked:"date"===t.type,onChange:e}),u.default.createElement(d.Form.Radio,{name:"type",label:this.getLocalValue("typetime","Time","inputform"),value:"time",checked:"time"===t.type,onChange:e}),u.default.createElement(d.Form.Radio,{name:"type",label:this.getLocalValue("typedatetime","Date & Time","inputform"),value:"datetime",checked:"datetime"===t.type,onChange:e}))),u.default.createElement("div",{className:"field"},u.default.createElement(d.Form.Dropdown,{name:"labelPosition",selection:!0,fluid:!0,placeholder:a[0].text,options:a,label:this.getLocalValue("labelpositionfield","Label position","inputform"),value:t.labelPosition,onChange:e}),u.default.createElement(d.Form.Input,{name:"placeholder",label:this.getLocalValue("placeholderfield","Placeholder","inputform"),value:t.placeholder,onChange:e}))),u.default.createElement(d.Form.Group,{widths:"equal"},u.default.createElement("div",{className:"field"},u.default.createElement("label",null,this.getLocalValue("optionsfield","Options","inputform")),u.default.createElement(d.Form.Group,{widths:"equal"},u.default.createElement(d.Form.Checkbox,{name:"disabled",label:this.getLocalValue("disabledfield","Disabled","inputform"),checked:t.disabled,onChange:e}),u.default.createElement(d.Form.Checkbox,{name:"transparent",label:this.getLocalValue("transparentfield","Transparent","inputform"),checked:t.transparent,onChange:e}),u.default.createElement(d.Form.Checkbox,{name:"fluid",label:this.getLocalValue("fluidfield","Fluid","inputform"),checked:t.fluid,onChange:e}),u.default.createElement(d.Form.Checkbox,{name:"readOnly",label:this.getLocalValue("readonlyfield","Read only","inputform"),checked:t.readOnly,onChange:e}))),u.default.createElement("div",{className:"field"},u.default.createElement(d.Form.Dropdown,{name:"size",selection:!0,fluid:!0,options:n,placeholder:n[0].text,label:this.getLocalValue("sizefield","Size","inputform"),value:t.size,onChange:e}))))}},{key:"getEventsList",value:function(){return["onChange"]}}]),O);function O(e){return i(this,O),f(this,(O.__proto__||Object.getPrototypeOf(O)).call(this,e))}var A=(p(F,h),a(F,[{key:"getGeneralDescription",value:function(){var e=this.props.parent.handleChange.bind(this.props.parent),t=this.props.data;return u.default.createElement(d.Form,null,u.default.createElement(d.Form.Group,{widths:"equal"},u.default.createElement(d.Form.Input,{name:"key",label:this.getLocalValue("namefield","Name","textareaform"),value:t.key,onChange:e}),u.default.createElement(d.Form.Input,{name:"label",label:this.getLocalValue("labelfield","Label","textareaform"),value:t.label,onChange:e})),u.default.createElement(d.Form.Group,{widths:"equal"},u.default.createElement(d.Form.Input,{name:"rows",placeholder:"3",type:"number",label:this.getLocalValue("rowsfield","Rows","textareaform"),value:t.rows,onChange:e}),u.default.createElement("div",{className:"field"},u.default.createElement(d.Form.Input,{name:"placeholder",label:this.getLocalValue("placeholderfield","Placeholder","textareaform"),value:t.placeholder,onChange:e}),u.default.createElement("label",null,this.getLocalValue("optionsfield","Options","textareaform")),u.default.createElement(d.Form.Group,{widths:"equal"},u.default.createElement(d.Form.Checkbox,{name:"readOnly",label:this.getLocalValue("readonlyfield","Read only","textareaform"),checked:t.readOnly,onChange:e})))))}},{key:"getEventsList",value:function(){return["onChange"]}}]),F);function F(e){return i(this,F),f(this,(F.__proto__||Object.getPrototypeOf(F)).call(this,e))}var x=(p(S,h),a(S,[{key:"getGeneralDescription",value:function(){var e=this.props.parent.handleChange.bind(this.props.parent),t=this.props.data;return u.default.createElement(d.Form,null,u.default.createElement(d.Form.Input,{name:"key",label:this.getLocalValue("namefield","Name","searchform"),value:t.key,onChange:e}),u.default.createElement(d.Form.Input,{name:"url",label:this.getLocalValue("urlfield","Url","searchform"),value:t.url,onChange:e}),u.default.createElement(d.Form.Checkbox,{name:"category",label:this.getLocalValue("categoryfield","Enable Categories","searchform"),checked:Boolean(t.category),onChange:e}))}},{key:"getEventsList",value:function(){return["onSelect"]}}]),S);function S(e){return i(this,S),f(this,(S.__proto__||Object.getPrototypeOf(S)).call(this,e))}var j=(p(P,h),a(P,[{key:"getGeneralDescription",value:function(){var e=this.props.parent.handleChange.bind(this.props.parent),t=this.props.data;return u.default.createElement(d.Form,null,u.default.createElement(d.Form.Group,{widths:"equal"},u.default.createElement(d.Form.Input,{name:"key",label:this.getLocalValue("namefield","Name","checkboxform"),value:t.key,onChange:e}),u.default.createElement(d.Form.Input,{name:"label",label:this.getLocalValue("labelfield","Label","checkboxform"),value:t.label,onChange:e})),u.default.createElement(d.Form.Group,{widths:"2"},u.default.createElement("div",{className:"field"},u.default.createElement("label",null,this.getLocalValue("optionsfield","Options","checkboxform")),u.default.createElement(d.Form.Group,null,u.default.createElement(d.Form.Checkbox,{name:"fitted",label:this.getLocalValue("fittedfield","Fitted","checkboxform"),checked:t.fitted,onChange:e}),u.default.createElement(d.Form.Checkbox,{name:"indeterminate",label:this.getLocalValue("indeterminatefield","Indeterminate","checkboxform"),checked:t.indeterminate,onChange:e}),u.default.createElement(d.Form.Checkbox,{name:"readOnly",label:this.getLocalValue("readonlyfield","ReadOnly","checkboxform"),checked:t.readOnly,onChange:e})),u.default.createElement(d.Form.Group,null,u.default.createElement(d.Form.Checkbox,{name:"disabled",label:this.getLocalValue("disabledfield","Disabled","checkboxform"),checked:t.disabled,onChange:e}),u.default.createElement(d.Form.Checkbox,{name:"slider",label:this.getLocalValue("sliderfield","Slider","checkboxform"),checked:t.slider,onChange:e}),u.default.createElement(d.Form.Checkbox,{name:"toggle",label:this.getLocalValue("togglefield","Toggle","checkboxform"),checked:t.toggle,onChange:e})))))}},{key:"getEventsList",value:function(){return["onChange"]}}]),P);function P(e){return i(this,P),f(this,(P.__proto__||Object.getPrototypeOf(P)).call(this,e))}var I=(p(N,h),a(N,[{key:"getGeneralDescription",value:function(){var e=this.props.data,r=this.props.parent.handleChange.bind(this.props.parent),t=[{key:"value",name:this.getLocalValue("datavaluecolumn","Value","dropdownform")},{key:"text",name:this.getLocalValue("datatextcolumn","Text","dropdownform")}];return u.default.createElement(d.Form,null,u.default.createElement(d.Form.Group,{widths:"equal"},u.default.createElement(d.Form.Input,{name:"key",label:this.getLocalValue("namefield","Name","dropdownform"),value:e.key,onChange:r}),u.default.createElement(d.Form.Input,{name:"label",label:this.getLocalValue("labelfield","Label","dropdownform"),value:e.label,onChange:r})),u.default.createElement(d.Form.Group,{widths:"equal"},u.default.createElement(l.default,{key:"data-elements",draggable:!0,columns:t,label:this.getLocalValue("datafield","Data","dropdownform"),name:"data-elements",value:e["data-elements"],onChange:function(e,t){var n=t.name,a=t.value;Array.isArray(a)&&a.forEach(function(e){null!=e.value&&null!=e.value.match&&e.value.match(/^-{0,1}\d+$/)&&(e.value=parseInt(e.value))}),r(e,{name:n,value:a})}}),u.default.createElement("div",{className:"field"},u.default.createElement(d.Form.Input,{name:"placeholder",label:"Placeholder",value:e.placeholder,onChange:r}),u.default.createElement("div",{className:"field"},u.default.createElement("label",null,this.getLocalValue("optionsfield","Options","dropdownform")),u.default.createElement(d.Form.Group,null,u.default.createElement(d.Form.Checkbox,{name:"multiple",label:this.getLocalValue("multiplefield","Multiple","dropdownform"),checked:e.multiple,onChange:r}),u.default.createElement(d.Form.Checkbox,{name:"search",label:this.getLocalValue("searchfield","Search","dropdownform"),checked:e.search,onChange:r}),u.default.createElement(d.Form.Checkbox,{name:"allowAddItems",label:this.getLocalValue("allowAddItemsfield","Allow add items","dropdownform"),disabled:!(e.search&&e.multiple),checked:e.allowAddItems,onChange:r})),u.default.createElement(d.Form.Group,null,u.default.createElement(d.Form.Checkbox,{name:"clearable",label:this.getLocalValue("clearablefield","Clearable"),checked:e.clearable,onChange:r}),u.default.createElement(d.Form.Checkbox,{name:"disabled",label:this.getLocalValue("disabledfield","Disabled","dropdownform"),checked:e.disabled,onChange:r}),u.default.createElement(d.Form.Checkbox,{name:"fluid",label:this.getLocalValue("fluidfield","Fluid","dropdownform"),checked:e.fluid,onChange:r})),u.default.createElement(d.Form.Group,null,u.default.createElement(d.Form.Checkbox,{name:"selection",label:this.getLocalValue("selectionfield","Selection","dropdownform"),checked:e.selection,onChange:r}),u.default.createElement(d.Form.Checkbox,{name:"readOnly",label:this.getLocalValue("readonlyfield","Read only","dropdownform"),checked:e.readOnly,onChange:r}))))))}},{key:"getEventsList",value:function(){return["onClick","onChange"]}}]),N);function N(e){return i(this,N),f(this,(N.__proto__||Object.getPrototypeOf(N)).call(this,e))}var T=(p(M,h),a(M,[{key:"getGeneralDescription",value:function(){var e=this.props.data,t=this.props.parent.handleChange.bind(this.props.parent);return u.default.createElement(d.Form,null,u.default.createElement(d.Form.Group,{widths:"equal"},u.default.createElement(d.Form.Input,{name:"key",label:this.getLocalValue("namefield","Name","dictionaryform"),value:e.key,onChange:t}),u.default.createElement(d.Form.Input,{name:"label",label:this.getLocalValue("labelfield","Label","dictionaryform"),value:e.label,onChange:t})),u.default.createElement(d.Form.Group,{widths:"equal"},u.default.createElement(d.Form.Input,{name:"dataModel",label:this.getLocalValue("datamodelfield","Data model","dictionaryform"),value:e.dataModel,onChange:t}),u.default.createElement(d.Form.Input,{name:"placeholder",label:this.getLocalValue("placeholderfield","Placeholder","dictionaryform"),value:e.placeholder,onChange:t})),u.default.createElement(d.Form.Group,{widths:"equal"},u.default.createElement("div",{className:"field"},u.default.createElement(d.Form.Input,{name:"columns",label:this.getLocalValue("columnsfield","Columns (Name ASC, Email)","dictionaryform"),value:e.columns,onChange:t}),u.default.createElement(d.Form.Input,{name:"filters",label:this.getLocalValue("filtersfield","Filters","dictionaryform"),value:e.filters,onChange:t,placeholder:'[{"column":"columnName","value":"columnValue","term":"="}]'}),u.default.createElement(d.Form.Input,{name:"pageSize",label:this.getLocalValue("pagesizefield","Page Size","dictionaryform"),disabled:!e.paging,value:e.pageSize,placeholder:"100",onChange:t})),u.default.createElement("div",{className:"field"},u.default.createElement("label",null,this.getLocalValue("optionsfield","Options","dictionaryform")),u.default.createElement(d.Form.Group,null,u.default.createElement(d.Form.Checkbox,{name:"paging",label:this.getLocalValue("pagingfield","Server pagination","dictionaryform"),checked:e.paging,onChange:t}),u.default.createElement(d.Form.Checkbox,{name:"search",label:this.getLocalValue("searchfield","Search","dictionaryform"),checked:e.search,onChange:t}),u.default.createElement(d.Form.Checkbox,{name:"multiple",label:this.getLocalValue("multiplefield","Multiple","dictionaryform"),checked:e.multiple,onChange:t})),u.default.createElement(d.Form.Group,null,u.default.createElement(d.Form.Checkbox,{name:"readOnly",label:this.getLocalValue("readonlyfield","Read only","dictionaryform"),checked:e.readOnly,onChange:t}),u.default.createElement(d.Form.Checkbox,{name:"disabled",label:this.getLocalValue("disabledfield","Disabled","dictionaryform"),checked:e.disabled,onChange:t}),u.default.createElement(d.Form.Checkbox,{name:"clearable",label:this.getLocalValue("clearablefield","Clearable","dictionaryform"),checked:e.clearable,onChange:t})),u.default.createElement(d.Form.Group,null,u.default.createElement(d.Form.Checkbox,{name:"selection",label:this.getLocalValue("selectionfield","Selection","dictionaryform"),checked:e.selection,onChange:t}),u.default.createElement(d.Form.Checkbox,{name:"fluid",label:this.getLocalValue("fluidfield","Fluid","dictionaryform"),checked:e.fluid,onChange:t})))))}},{key:"getEventsList",value:function(){return["onChange"]}}]),M);function M(e){return i(this,M),f(this,(M.__proto__||Object.getPrototypeOf(M)).call(this,e))}var R=(p(V,h),a(V,[{key:"getStyleDescription",value:function(){var e=this.props.data,t=this.props.parent.handleChange.bind(this.props.parent),n="/*** Example Code ***/\ncolor:red;\npaddingTop:5px;";return u.default.createElement(d.Form,{key:"styleDescriptionForm"},u.default.createElement(d.Form.Group,{widths:"equal"},u.default.createElement(d.Form.Input,{name:"style-width",label:this.getLocalValue("widthfield","Width"),placeholder:"100px",value:e["style-width"],onChange:t}),u.default.createElement(d.Form.Input,{name:"style-height",label:this.getLocalValue("heightfield","Height"),placeholder:"100px",value:e["style-height"],onChange:t})),u.default.createElement(d.Form.Group,{widths:"equal"},u.default.createElement(d.Form.Input,{name:"style-marginTop",label:this.getLocalValue("margintopfield","Margin Top"),placeholder:"0px",value:e["style-marginTop"],onChange:t}),u.default.createElement(d.Form.Input,{name:"style-marginBottom",label:this.getLocalValue("marginbottomfield","Margin Bottom"),placeholder:"0px",value:e["style-marginBottom"],onChange:t}),u.default.createElement(d.Form.Input,{name:"style-marginLeft",label:this.getLocalValue("marginleftfield","Margin Left"),placeholder:"0px",value:e["style-marginLeft"],onChange:t}),u.default.createElement(d.Form.Input,{name:"style-marginRight",label:this.getLocalValue("marginrightfield","Margin Right"),placeholder:"0px",value:e["style-marginRight"],onChange:t})),u.default.createElement(d.Form.Group,{widths:"equal"},u.default.createElement(d.Form.Input,{name:"style-customcss",label:this.getLocalValue("buttoncssclass","Custom CSS class for button","treepickerform"),placeholder:"dwkit-application-css (without '.')",value:e["style-customcss"],onChange:t}),u.default.createElement(d.Form.Input,{name:"style-custommodalcss",label:this.getLocalValue("modalcssclass","Custom CSS class for modal","treepickerform"),placeholder:"dwkit-application-css (without '.')",value:e["style-custommodalcss"],onChange:t})),u.default.createElement(d.Form.Group,{widths:"equal"},u.default.createElement(d.Form.TextArea,{name:"style-source",label:this.getLocalValue("buttonstyle","Button style","treepickerform"),placeholder:n,value:e["style-source"],onChange:t}),u.default.createElement(d.Form.TextArea,{name:"style-modalsource",label:this.getLocalValue("modalstyle","Modal style","treepickerform"),placeholder:n,value:e["style-modalsource"],onChange:t})),u.default.createElement(d.Form.Checkbox,{name:"style-hidden",label:this.getLocalValue("hiddenfield","Hidden"),checked:e["style-hidden"],onChange:t}))}},{key:"getGeneralDescription",value:function(){var e=this.props.data,t=this.props.parent.handleChange.bind(this.props.parent);return u.default.createElement(d.Form,null,u.default.createElement(d.Form.Group,{widths:"equal"},u.default.createElement(d.Form.Input,{name:"key",label:this.getLocalValue("namefield","Name","treepickerform"),value:e.key,onChange:t}),u.default.createElement(d.Form.Input,{name:"label",label:this.getLocalValue("labelfield","Label","treepickerform"),value:e.label,onChange:t})),u.default.createElement(d.Form.Group,{widths:"equal"},u.default.createElement(d.Form.Input,{name:"dataModel",label:this.getLocalValue("datamodelfield","Data model","treepickerform"),value:e.dataModel,onChange:t}),u.default.createElement(d.Form.Input,{name:"parentIdField",label:this.getLocalValue("parentidfield","ParentId field","treepickerform"),value:e.parentIdField,onChange:t})),u.default.createElement(d.Form.Group,{widths:"equal"},u.default.createElement("div",{className:"field"},u.default.createElement(d.Form.Input,{name:"columns",label:this.getLocalValue("columnsfield","Columns (Name ASC, Email)","treepickerform"),value:e.columns,onChange:t})),u.default.createElement("div",{className:"field"},u.default.createElement(d.Form.Input,{name:"pageSize",label:this.getLocalValue("pagesizefield","Page Size","treepickerform"),disabled:!e.paging,value:e.pageSize,placeholder:"100",onChange:t}),u.default.createElement("label",null,this.getLocalValue("optionsfield","Options","treepickerform")),u.default.createElement(d.Form.Group,null,u.default.createElement(d.Form.Checkbox,{name:"paging",label:this.getLocalValue("pagingfield","Server pagination","treepickerform"),checked:e.paging,onChange:t}),u.default.createElement(d.Form.Checkbox,{name:"multiple",label:this.getLocalValue("multiplefield","Multiple","treepickerform"),checked:e.multiple,onChange:t}),u.default.createElement(d.Form.Checkbox,{name:"fluid",label:this.getLocalValue("fluidfield","Fluid","treepickerform"),checked:e.fluid,onChange:t}),u.default.createElement(d.Form.Checkbox,{name:"selection",label:this.getLocalValue("selectionfield","Selection","treepickerform"),checked:e.selection,onChange:t})),u.default.createElement(d.Form.Group,null,u.default.createElement(d.Form.Checkbox,{name:"readOnly",label:this.getLocalValue("readonlyfield","Read only","treepickerform"),checked:e.readOnly,onChange:t}),u.default.createElement(d.Form.Checkbox,{name:"disabled",label:this.getLocalValue("disabledfield","Disabled","treepickerform"),checked:e.disabled,onChange:t}),u.default.createElement(d.Form.Checkbox,{name:"clearable",label:this.getLocalValue("clearablefield","Clearable","treepickerform"),checked:e.clearable,onChange:t})))))}},{key:"getEventsList",value:function(){return["onChange"]}}]),V);function V(e){return i(this,V),f(this,(V.__proto__||Object.getPrototypeOf(V)).call(this,e))}var W=(p(z,h),a(z,[{key:"getGeneralDescription",value:function(){var e=this.props.data,t=this.props.parent.handleChange.bind(this.props.parent),n=[{key:"value",name:this.getLocalValue("datavaluecolumn","Value","radiogroupform")},{key:"text",name:this.getLocalValue("datatextcolumn","Text","radiogroupform")}];return u.default.createElement(d.Form,null,u.default.createElement(d.Form.Group,{widths:"equal"},u.default.createElement(d.Form.Input,{name:"key",label:this.getLocalValue("namefield","Name","radiogroupform"),value:e.key,onChange:t}),u.default.createElement(d.Form.Input,{name:"label",label:this.getLocalValue("labelfield","Label","radiogroupform"),value:e.label,onChange:t})),u.default.createElement(d.Form.Group,{widths:"equal"},u.default.createElement(l.default,{key:"data-elements",draggable:!0,columns:n,label:this.getLocalValue("datafield","Data","radiogroupform"),name:"data-elements",value:e["data-elements"],onChange:t}),u.default.createElement("div",{className:"field"},u.default.createElement("label",null,this.getLocalValue("groupdirectfield","Group direction","radiogroupform")),u.default.createElement(d.Form.Radio,{name:"direction",label:this.getLocalValue("directionhorizontalfield","Horizontal","radiogroupform"),value:"g",checked:void 0===e.direction||"g"===e.direction,onChange:t}),u.default.createElement(d.Form.Radio,{name:"direction",label:this.getLocalValue("directionverticalfield","Vertical","radiogroupform"),value:"v",checked:"v"===e.direction,onChange:t}),u.default.createElement(d.Form.Group,null,u.default.createElement(d.Form.Checkbox,{name:"readOnly",label:this.getLocalValue("readonlyfield","Read only","radiogroupform"),checked:e.readOnly,onChange:t})))))}},{key:"getEventsList",value:function(){return["onChange"]}}]),z);function z(e){return i(this,z),f(this,(z.__proto__||Object.getPrototypeOf(z)).call(this,e))}var B=(p(K,h),a(K,[{key:"getGeneralDescription",value:function(){var e=this.props.data,t=this.props.parent.handleChange.bind(this.props.parent),n=[{text:this.getLocalValue("sizedefault","Default"),value:""},{text:this.getLocalValue("sizemini","Mini"),value:"mini"},{text:this.getLocalValue("sizetiny","Tiny"),value:"tiny"},{text:this.getLocalValue("sizesmall","Small"),value:"small"},{text:this.getLocalValue("sizemedium","Medium"),value:"medium"},{text:this.getLocalValue("sizelarge","Large"),value:"large"},{text:this.getLocalValue("sizehuge","Huge"),value:"huge"}];return u.default.createElement(d.Form,null,u.default.createElement(d.Form.Group,{widths:"equal"},u.default.createElement(d.Form.Input,{name:"key",label:this.getLocalValue("namefield","Name","form"),value:e.key,onChange:t}),u.default.createElement(d.Form.Dropdown,{name:"size",selection:!0,fluid:!0,options:n,placeholder:n[0].text,label:this.getLocalValue("sizefield","Size","form"),value:e.size,onChange:t})))}},{key:"getEventsList",value:function(){return["onSubmit"]}}]),K);function K(e){return i(this,K),f(this,(K.__proto__||Object.getPrototypeOf(K)).call(this,e))}var U=(p(G,h),a(G,[{key:"getGeneralDescription",value:function(){var e=this.props.data,t=this.props.parent.handleChange.bind(this.props.parent);return e=this.props.data,u.default.createElement(d.Form,null,u.default.createElement(d.Form.Group,{widths:"equal"},u.default.createElement(d.Form.Input,{name:"key",label:this.getLocalValue("namefield","Name","formgroupform"),value:e.key,onChange:t}),u.default.createElement("div",{className:"field"},u.default.createElement("label",null,this.getLocalValue("widthsfield","Widths","formgroupform")),u.default.createElement(d.Form.Group,null,u.default.createElement(d.Form.Radio,{name:"widths",label:this.getLocalValue("widthsequalfield","Equal","formgroupform"),value:"equal",checked:"equal"===e.widths,onChange:t}),u.default.createElement(d.Form.Radio,{name:"widths",label:this.getLocalValue("widthscustomfield","Custom (1 - 16)","formgroupform"),value:"custom",checked:"custom"===e.widths,onChange:t})))),u.default.createElement(d.Form.Group,{widths:"2"},u.default.createElement("div",{className:"field"},u.default.createElement("label",null,this.getLocalValue("typefield","Type","formgroupform")),u.default.createElement(d.Form.Group,{inline:!0},u.default.createElement(d.Form.Radio,{name:"orientation",label:this.getLocalValue("orientationcolumnsfield","Columns","formgroupform"),value:"inline",checked:void 0===e.orientation||"inline"===e.orientation,onChange:t}),u.default.createElement(d.Form.Radio,{name:"orientation",label:this.getLocalValue("orientationrowsfield","Rows","formgroupform"),value:"grouped",checked:"grouped"===e.orientation,onChange:t}))),u.default.createElement(d.Form.Input,{name:"widthsCustom",disabled:"custom"!==e.widths,placeholder:"2",value:e.widthsCustom,onChange:t})))}}]),G);function G(e){return i(this,G),f(this,(G.__proto__||Object.getPrototypeOf(G)).call(this,e))}var q=(p(H,h),a(H,[{key:"getGeneralDescription",value:function(){var e=this.props.data,t=this.props.parent.handleChange.bind(this.props.parent),n=(e=this.props.data,[{text:this.getLocalValue("floatnonefield","None","containerform"),value:""},{text:this.getLocalValue("floatleftfield","Left","containerform"),value:"left"},{text:this.getLocalValue("floatrightfield","Right","containerform"),value:"right"},{text:this.getLocalValue("floatinheritfield","Inherit","containerform"),value:"inherit"},{text:this.getLocalValue("floatinitialfield","Initial","containerform"),value:"initial"}]),a=[{text:this.getLocalValue("displaynotsetfield","(Not set)","containerform"),value:""},{text:this.getLocalValue("displayflexfield","Flex","containerform"),value:"flex"},{text:this.getLocalValue("displayblockfield","Block","containerform"),value:"block"},{text:this.getLocalValue("displayinlinefield","Inline","containerform"),value:"inline"},{text:this.getLocalValue("displayflowfield","Flow","containerform"),value:"flow"},{text:this.getLocalValue("displayflowrootfield","Flow-root","containerform"),value:"flow-root"},{text:this.getLocalValue("displaytablefield","Table","containerform"),value:"table"},{text:this.getLocalValue("displaygridfield","Grid","containerform"),value:"grid"},{text:this.getLocalValue("displaycontentsfield","Contents","containerform"),value:"contents"},{text:this.getLocalValue("displayinlineblockfield","Inline-block","containerform"),value:"inline-block"},{text:this.getLocalValue("displayinlinetablefield","Inline-table","containerform"),value:"inline-table"},{text:this.getLocalValue("displayinlineflexfield","Inline-flex","containerform"),value:"inline-flex"},{text:this.getLocalValue("displayinlinegridfield","Inline-grid","containerform"),value:"inline-grid"},{text:this.getLocalValue("displayinheritfield","Inherit","containerform"),value:"inherit"},{text:this.getLocalValue("displayinitialfield","Initial","containerform"),value:"initial"},{text:this.getLocalValue("displaynonefield","None","containerform"),value:"none"}];return u.default.createElement(d.Form,null,u.default.createElement(d.Form.Input,{name:"key",label:this.getLocalValue("namefield","Name","containerform"),value:e.key,onChange:t}),u.default.createElement(d.Form.Dropdown,{name:"style-float",selection:!0,fluid:!0,options:n,placeholder:n[0].text,label:this.getLocalValue("floatfield","Float","containerform"),value:e["style-float"],onChange:t}),u.default.createElement(d.Form.Dropdown,{name:"style-display",selection:!0,search:!0,fluid:!0,options:a,placeholder:a[0].text,label:this.getLocalValue("displayfield","Display","containerform"),value:e["style-display"],onChange:t}))}}]),H);function H(e){return i(this,H),f(this,(H.__proto__||Object.getPrototypeOf(H)).call(this,e))}var $=(p(Y,h),a(Y,[{key:"getGeneralDescription",value:function(){var e=this.props.data,t=this.props.parent.handleChange.bind(this.props.parent),n=(e=this.props.data,[{value:"",text:this.getLocalValue("pagertypenonefield","None","repeaterform")},{value:"server",text:this.getLocalValue("pagertypeserverfield","Server","repeaterform")}]);return u.default.createElement(d.Form,null,u.default.createElement(d.Form.Input,{name:"key",label:this.getLocalValue("namefield","Name","repeaterform"),value:e.key,onChange:t}),u.default.createElement(d.Form.Checkbox,{name:"slider",label:this.getLocalValue("sliderfield","Slider","repeaterform"),checked:e.slider,onChange:t}),u.default.createElement(d.Form.TextArea,{name:"item-visibleCondition",label:this.getLocalValue("itemvisibleconditionfield","Item Visible Condition","repeaterform"),placeholder:"data.Type == 1",value:e["item-visibleCondition"],onChange:t}),u.default.createElement(d.Form.Input,{name:"defaultSort",label:this.getLocalValue("defaultsortfield","Default sort","repeaterform"),placeholder:"Name ASC",value:e.defaultSort,onChange:t}),u.default.createElement(d.Form.Dropdown,{name:"pagerType",selection:!0,fluid:!0,label:this.getLocalValue("pagertypefield","Pagination type","repeaterform"),placeholder:"None",options:n,value:e.pagerType,onChange:t}),u.default.createElement(d.Form.Group,null,"server"==e.pagerType&&u.default.createElement(d.Form.Input,{name:"pageSize",placeholder:"20",label:this.getLocalValue("pagesizefield","Page size","repeaterform"),value:e.pageSize,onChange:t}),"server"==e.pagerType&&u.default.createElement(d.Form.Input,{name:"loadButtonLabel",label:this.getLocalValue("loadbuttonlabelfield","Load Button Label","repeaterform"),value:e.loadButtonLabel,onChange:t}),"server"==e.pagerType&&u.default.createElement(d.Form.Input,{name:"noRecordsLabel",label:this.getLocalValue("norecordslabelfield","No Record Button Label","repeaterform"),value:e.noRecordsLabel,onChange:t})))}}]),Y);function Y(e){return i(this,Y),f(this,(Y.__proto__||Object.getPrototypeOf(Y)).call(this,e))}var J=(p(Q,h),a(Q,[{key:"getGeneralDescription",value:function(){var e=this.props.data,t=this.props.parent.handleChange.bind(this.props.parent);return u.default.createElement(d.Form,null,u.default.createElement(d.Form.Group,{widths:"equal"},u.default.createElement("div",{className:"field"},u.default.createElement(d.Form.Input,{name:"key",label:this.getLocalValue("namefield","Name","imageform"),value:e.key,onChange:t}),u.default.createElement(d.Form.Input,{name:"src",label:this.getLocalValue("srcfield","Src","imageform"),value:e.src,onChange:t}),u.default.createElement(d.Form.Input,{name:"href",label:this.getLocalValue("hreffield","Href","imageform"),value:e.href,onChange:t})),u.default.createElement("div",{className:"field"},u.default.createElement("div",{className:"field"},u.default.createElement("label",null,this.getLocalValue("optionsfield","Options","imageform")),u.default.createElement(d.Form.Group,null,u.default.createElement(d.Form.Checkbox,{name:"avatar",label:this.getLocalValue("avatarfield","Avatar","imageform"),checked:e.avatar,onChange:t}),u.default.createElement(d.Form.Checkbox,{name:"bordered",label:this.getLocalValue("borderedfield","Bordered","imageform"),checked:e.bordered,onChange:t}),u.default.createElement(d.Form.Checkbox,{name:"centered",label:this.getLocalValue("centeredfield","Centered","imageform"),checked:e.centered,onChange:t})),u.default.createElement(d.Form.Group,null,u.default.createElement(d.Form.Checkbox,{name:"disabled",label:this.getLocalValue("disabledfield","Disabled","imageform"),checked:e.disabled,onChange:t}),u.default.createElement(d.Form.Checkbox,{name:"inline",label:this.getLocalValue("inlinefield","Inline","imageform"),checked:e.inline,onChange:t}),u.default.createElement(d.Form.Checkbox,{name:"spaced",label:this.getLocalValue("spacedfield","Spaced","imageform"),checked:e.spaced,onChange:t}))),u.default.createElement("div",{className:"field"},u.default.createElement("label",null,this.getLocalValue("floatedfield","Floated","imageform")),u.default.createElement(d.Form.Group,null,u.default.createElement(d.Form.Radio,{name:"floated",label:this.getLocalValue("floatedleftfield","Left","imageform"),value:"left",checked:"left"===e.floated||""===e.floated,onChange:t}),u.default.createElement(d.Form.Radio,{name:"floated",label:this.getLocalValue("floatedrightfield","Right","imageform"),value:"right",checked:"right"===e.floated,onChange:t})),u.default.createElement("label",null,this.getLocalValue("verticalalignfield","Vertical align","imageform")),u.default.createElement(d.Form.Group,null,u.default.createElement(d.Form.Radio,{name:"verticalAlign",label:this.getLocalValue("verticalaligntopfield","Top","imageform"),value:"top",checked:"top"===e.verticalAlign,onChange:t}),u.default.createElement(d.Form.Radio,{name:"verticalAlign",label:this.getLocalValue("verticalalignmiddlefield","Middle","imageform"),value:"middle",checked:"middle"===e.verticalAlign,onChange:t}),u.default.createElement(d.Form.Radio,{name:"verticalAlign",label:this.getLocalValue("verticalalignbottomfield","Bottom","imageform"),value:"bottom",checked:"bottom"===e.verticalAlign,onChange:t}))))))}}]),Q);function Q(e){return i(this,Q),f(this,(Q.__proto__||Object.getPrototypeOf(Q)).call(this,e))}var Z=(p(X,h),a(X,[{key:"getGeneralDescription",value:function(){var e=this.props.data,t=this.props.parent.handleChange.bind(this.props.parent),n=[{text:this.getLocalValue("sizedefault","Default"),value:""},{text:this.getLocalValue("sizemini","Mini"),value:"mini"},{text:this.getLocalValue("sizetiny","Tiny"),value:"tiny"},{text:this.getLocalValue("sizesmall","Small"),value:"small"},{text:this.getLocalValue("sizemedium","Medium"),value:"medium"},{text:this.getLocalValue("sizelarge","Large"),value:"large"},{text:this.getLocalValue("sizehuge","Huge"),value:"huge"}],a=[{key:"label",name:this.getLocalValue("datakeycolumn","Label","statisticform")},{key:"value",name:this.getLocalValue("datavaluecolumn","Value","statisticform")}];return u.default.createElement(d.Form,null,u.default.createElement(d.Form.Group,{widths:"equal"},u.default.createElement(d.Form.Input,{name:"key",label:this.getLocalValue("namefield","Name","statisticform"),value:e.key,onChange:t}),u.default.createElement("div",{className:"field"},u.default.createElement("label",null,this.getLocalValue("optionsfield","Options","statisticform")),u.default.createElement(d.Form.Group,null,u.default.createElement(d.Form.Checkbox,{name:"horizontal",label:this.getLocalValue("horizontalfield","Horizontal","statisticform"),checked:e.horizontal,onChange:t})))),u.default.createElement(d.Form.Group,{widths:"equal"},u.default.createElement(l.default,{key:"data-elements",columns:a,label:this.getLocalValue("datafield","Data","statisticform"),name:"data-elements",value:e["data-elements"],onChange:t}),u.default.createElement(d.Form.Dropdown,{name:"size",selection:!0,fluid:!0,options:n,placeholder:n[0].text,label:this.getLocalValue("sizefield","Size","statisticform"),value:e.size,onChange:t})))}}]),X);function X(e){return i(this,X),f(this,(X.__proto__||Object.getPrototypeOf(X)).call(this,e))}var ee=(p(te,h),a(te,[{key:"getGeneralDescription",value:function(){var e=this.props.data,t=this.props.parent.handleChange.bind(this.props.parent),n=[{value:"",text:this.getLocalValue("pagertypenonefield","None","gridform")},{value:"server",text:this.getLocalValue("pagertypeserverfield","Server","gridform")}],a=[{value:"",text:this.getLocalValue("editformtypedefaultfield","Default","gridform")},{value:"modal",text:this.getLocalValue("editformtypemodalfield","Modal","gridform")},{value:"sidebar",text:this.getLocalValue("editformtypesidebarfield","Sidebar","gridform")}],r=[{value:"right",text:this.getLocalValue("editformsidebarderectionrightfield","Right","gridform")},{value:"left",text:this.getLocalValue("editformsidebarderectionleftfield","Left","gridform")}],o=[{key:"key",name:this.getLocalValue("keycolumn","Key","gridform")},{key:"name",name:this.getLocalValue("namecolumn","Name","gridform")},{key:"type",name:this.getLocalValue("typecolumn","Type","gridform"),dataList:["","number","checkbox","date","datetime","time","custom"]},{key:"width",name:this.getLocalValue("widthcolumn","Width","gridform"),control:"number"},{key:"resizable",name:this.getLocalValue("resizablecolumn","Resizable","gridform"),control:"checkbox"}],i=[{key:"form",text:"Form",value:void 0},{key:"flow",text:"Flow",value:"flow"}];return u.default.createElement(d.Form,null,u.default.createElement(d.Form.Group,{widths:"equal"},u.default.createElement(d.Form.Input,{name:"key",label:this.getLocalValue("namefield","Name","gridform"),value:e.key,onChange:t}),u.default.createElement("div",{className:"field"},u.default.createElement("label",null,this.getLocalValue("optionsfield","Options","gridform")),u.default.createElement(d.Form.Group,null,u.default.createElement(d.Form.Checkbox,{name:"multiselect",label:this.getLocalValue("multiselectfield","Multiselect","gridform"),checked:e.multiselect,onChange:t}),u.default.createElement(d.Form.Checkbox,{name:"disableSort",label:this.getLocalValue("disablesortfield","Disable sorting","gridform"),checked:e.disableSort,onChange:t})))),u.default.createElement(d.Form.Group,{widths:"equal"},u.default.createElement("div",{className:"field"},u.default.createElement(d.Form.Group,{widths:"equal"},u.default.createElement(s.default,{name:"editType",label:this.getLocalValue("edittypefield","Edit type","gridform"),items:i,value:e.editType,onChange:t}),"flow"!==e.editType&&u.default.createElement(d.Form.Input,{name:"editForm",label:this.getLocalValue("editformfield","Edit form","gridform"),disabled:1==e.inline,value:e.editForm,onChange:t}),"flow"===e.editType&&u.default.createElement(d.Form.Input,{name:"editFlow",label:this.getLocalValue("editflowfield","Edit flow","gridform"),disabled:1==e.inline,value:e.editFlow,onChange:t})),u.default.createElement(d.Form.Input,{name:"rowKey",label:this.getLocalValue("rowkeyfield","Row key","gridform"),value:e.rowKey,onChange:t}),u.default.createElement(d.Form.Input,{name:"pageSize",label:this.getLocalValue("pagesizefield","Page size","gridform"),value:e.pageSize,onChange:t}),u.default.createElement(d.Form.Input,{name:"defaultSort",label:this.getLocalValue("defaultsortfield","Default sort","gridform"),placeholder:"Name ASC",value:e.defaultSort,onChange:t})),u.default.createElement("div",{className:"field"},u.default.createElement(d.Form.Dropdown,{name:"editFormShowType",selection:!0,fluid:!0,label:this.getLocalValue("editformshowtypefield","Edit form show type","gridform"),placeholder:a[0].text,options:a,value:e.editFormShowType,onChange:t}),u.default.createElement(d.Form.Dropdown,{name:"sidebarDirection",selection:!0,fluid:!0,label:this.getLocalValue("editformsidebardirectionfield","Sidebar direction","gridform"),placeholder:r[0].text,options:r,value:e.sidebarDirection,onChange:t,disabled:"sidebar"!==e.editFormShowType}),u.default.createElement(d.Form.Dropdown,{name:"pagerType",selection:!0,fluid:!0,label:this.getLocalValue("pagertypefield","Pagination type","gridform"),placeholder:"None",options:n,value:e.pagerType,onChange:t}),u.default.createElement(d.Form.Input,{name:"rowHeight",label:this.getLocalValue("rowheightfield","Row height","gridform"),value:e.rowHeight,onChange:t}),u.default.createElement(d.Form.Input,{name:"minHeight",label:this.getLocalValue("minheightfield","Min height","gridform"),value:e.minHeight,onChange:t}),u.default.createElement(d.Form.Group,{widths:"equal"},u.default.createElement(d.Form.Checkbox,{name:"autoHeight",label:this.getLocalValue("autoheightfield","Auto Height","gridform"),checked:Boolean(e.autoHeight),onChange:t}),u.default.createElement(d.Form.Input,{name:"offSet",label:this.getLocalValue("offsetfield","OffSet","gridform"),disabled:!Boolean(e.autoHeight),value:e.offSet,onChange:t})))),u.default.createElement("div",{className:"field"},u.default.createElement(l.default,{key:"columns",draggable:!0,columns:o,label:this.getLocalValue("columnsfield","Columns","gridform"),name:"columns",value:e.columns,onChange:t})))}},{key:"getEventsList",value:function(){return["onRowClick","onRowDblClick","onSelectionChanged","onModalClosed"]}}]),te);function te(e){return i(this,te),f(this,(te.__proto__||Object.getPrototypeOf(te)).call(this,e))}var ne=(p(ae,h),a(ae,[{key:"getGeneralDescription",value:function(){var e=this.props.data,t=this.props.parent.handleChange.bind(this.props.parent),n=[{key:"key",name:this.getLocalValue("keycolumn","Key","collectioneditorform")},{key:"name",name:this.getLocalValue("namecolumn","Name","collectioneditorform")},{key:"control",name:this.getLocalValue("controlcolumn","Control","collectioneditorform"),dataList:["input","checkbox","span","number","file","date","datetime","custom"]},{key:"width",name:this.getLocalValue("widthcolumn","Width","collectioneditorform")}];return u.default.createElement(d.Form,null,u.default.createElement(d.Form.Group,{widths:"equal"},u.default.createElement(d.Form.Input,{name:"key",label:this.getLocalValue("namefield","Name","collectioneditorform"),value:e.key,onChange:t}),u.default.createElement(d.Form.Input,{name:"idField",label:this.getLocalValue("idfield","Id field","collectioneditorform"),value:e.idField,onChange:t})),u.default.createElement(d.Form.Group,{widths:"equal"},u.default.createElement("div",{className:"field"},u.default.createElement("label",null,this.getLocalValue("optionsfield","Options","collectioneditorform")),u.default.createElement(d.Form.Group,null,u.default.createElement(d.Form.Checkbox,{name:"readOnly",label:this.getLocalValue("readonlyfield","ReadOnly","collectioneditorform"),checked:e.readOnly,onChange:t}),u.default.createElement(d.Form.Checkbox,{name:"draggable",label:this.getLocalValue("draggablefield","Draggable","collectioneditorform"),checked:e.draggable,onChange:t}),u.default.createElement(d.Form.Checkbox,{name:"hierarchical",label:this.getLocalValue("hierarchicalfield","Hierarchical","collectioneditorform"),checked:e.hierarchical,onChange:t})),u.default.createElement(d.Form.Group,null,u.default.createElement(d.Form.Checkbox,{name:"disableAdd",label:this.getLocalValue("disableAdd","Disable Add","collectioneditorform"),checked:e.disableAdd,onChange:t}),u.default.createElement(d.Form.Checkbox,{name:"collapseAll",label:this.getLocalValue("collapseallfield","Collapse all","collectioneditorform"),disabled:1!=e.hierarchical,checked:e.collapseAll,onChange:t}))),u.default.createElement("div",{className:"field"},u.default.createElement(d.Form.Input,{name:"parentIdField",label:this.getLocalValue("parentidfield","ParentId field","collectioneditorform"),disabled:!e.hierarchical||e.childrenField,value:e.parentIdField,onChange:t}),u.default.createElement(d.Form.Input,{name:"childrenField",label:this.getLocalValue("childrenField","Children field","collectioneditorform"),disabled:!e.hierarchical||e.parentIdField,value:e.childrenField,onChange:t}))),u.default.createElement(l.default,{key:"columns",draggable:!0,columns:n,label:this.getLocalValue("columnsfield","Columns","collectioneditorform"),name:"columns",value:e.columns,height:"200px",onChange:t}))}},{key:"getEventsList",value:function(){return["onChange","onAdd","onDelete","onCopy"]}}]),ae);function ae(e){return i(this,ae),f(this,(ae.__proto__||Object.getPrototypeOf(ae)).call(this,e))}var re=(p(oe,h),a(oe,[{key:"getGeneralDescription",value:function(){var e=this.props.data,t=this.props.parent.handleChange.bind(this.props.parent);return u.default.createElement(d.Form,null,u.default.createElement(d.Form.Group,{widths:"equal"},u.default.createElement(d.Form.Input,{name:"key",label:this.getLocalValue("namefield","Name","customform"),value:e.key,onChange:t}),u.default.createElement(d.Form.Input,{name:"type",label:this.getLocalValue("typefield","Control type","customform"),value:e.type,onChange:t})),u.default.createElement(d.Form.Group,{widths:"equal"},u.default.createElement(d.Form.TextArea,{key:"props",label:this.getLocalValue("propsfield","Props","customform"),name:"props",value:e.props,onChange:t,rows:5}),u.default.createElement(d.Form.TextArea,{key:"children",label:this.getLocalValue("childrenfield","Children","customform"),name:"children",value:e.children,onChange:t,rows:5})))}}]),oe);function oe(e){return i(this,oe),f(this,(oe.__proto__||Object.getPrototypeOf(oe)).call(this,e))}var ie=(p(le,h),a(le,[{key:"getGeneralDescription",value:function(){var e=this.props.data,t=this.props.parent.handleChange.bind(this.props.parent);return u.default.createElement(d.Form,null,u.default.createElement(d.Form.Group,{widths:"equal"},u.default.createElement(d.Form.Input,{name:"key",label:this.getLocalValue("namefield","Name","customblockform"),value:e.key,onChange:t}),u.default.createElement("div",{className:"field"},u.default.createElement("label",null,this.getLocalValue("sourcetypefield","Source type","customblockform")),u.default.createElement(d.Form.Group,null,u.default.createElement(d.Form.Radio,{name:"sourceType",label:this.getLocalValue("sourcetypeformfield","Form name","customblockform"),value:"form",checked:void 0===e.sourceType||"form"==e.sourceType,onChange:t}),u.default.createElement(d.Form.Radio,{name:"sourceType",label:this.getLocalValue("sourcetypejsonfield","JSON source","customblockform"),value:"source",checked:"source"===e.sourceType,onChange:t}),u.default.createElement(d.Form.Radio,{name:"sourceType",label:this.getLocalValue("placeholderfield","Placeholder","customblockform"),value:"placeholder",checked:"placeholder"===e.sourceType,onChange:t})))),u.default.createElement(d.Form.Input,{name:"formname",label:this.getLocalValue("formnamefield","Form name","customblockform"),value:e.formname,onChange:t,disabled:null!=e.sourceType&&"form"!=e.sourceType}),u.default.createElement(d.Form.TextArea,{key:"source",label:this.getLocalValue("sourcefield","JSON source","customblockform"),name:"source",value:e.source,onChange:t,rows:10,disabled:"source"!=e.sourceType}))}}]),le);function le(e){return i(this,le),f(this,(le.__proto__||Object.getPrototypeOf(le)).call(this,e))}var se=(p(ue,h),a(ue,[{key:"getGeneralDescription",value:function(){var e=this.props.data,t=this.props.parent.handleChange.bind(this.props.parent),n=[{key:"target",name:this.getLocalValue("itemstargetcolumn","Target","menuform"),width:150},{key:"title",name:this.getLocalValue("itemstitlecolumn","Title","menuform")},{key:"visibleCondition",name:this.getLocalValue("visibleConditioncolumn","Visible Condition","menuform")}];return u.default.createElement(d.Form,null,u.default.createElement(d.Form.Group,{widths:"equal"},u.default.createElement(d.Form.Input,{name:"key",label:this.getLocalValue("namefield","Name","menuform"),value:e.key,onChange:t}),u.default.createElement(d.Form.Input,{name:"activeItem",label:this.getLocalValue("activeitemfield","Active Item","menuform"),value:e.activeItem,onChange:t})),u.default.createElement("div",{className:"field"},u.default.createElement("label",null,this.getLocalValue("optionsfield","Options","menuform")),u.default.createElement(d.Form.Group,null,u.default.createElement(d.Form.Checkbox,{name:"pointing",label:this.getLocalValue("pointingfield","Pointing","menuform"),checked:e.pointing,onChange:t}),u.default.createElement(d.Form.Checkbox,{name:"secondary",label:this.getLocalValue("secondaryfield","Secondary","menuform"),checked:e.secondary,onChange:t}),u.default.createElement(d.Form.Checkbox,{name:"tabular",label:this.getLocalValue("tabularfield","Tabular","menuform"),checked:e.tabular,onChange:t}),u.default.createElement(d.Form.Checkbox,{name:"fluid",label:this.getLocalValue("fluidfield","Fluid","menuform"),checked:e.fluid,onChange:t}),u.default.createElement(d.Form.Checkbox,{name:"vertical",label:this.getLocalValue("verticalfield","Vertical","menuform"),checked:e.vertical,onChange:t}),u.default.createElement(d.Form.Checkbox,{name:"link",label:this.getLocalValue("linkfield","Link","menuform"),checked:e.link,onChange:t}))),u.default.createElement(l.default,{key:"items",draggable:!0,hierarchical:!0,childrenField:"children",columns:n,label:this.getLocalValue("itemsfield","Items","menuform"),name:"items",value:e.items,onChange:t}))}},{key:"getEventsList",value:function(){return["onItemClick"]}}]),ue);function ue(e){return i(this,ue),f(this,(ue.__proto__||Object.getPrototypeOf(ue)).call(this,e))}var de=(p(ce,h),a(ce,[{key:"getGeneralDescription",value:function(){var e=this.props.data,r=this.props.parent.handleChange.bind(this.props.parent),t=[{key:"title",name:this.getLocalValue("itemstitlecolumn","Title","tabform")},{key:"visibleCondition",name:this.getLocalValue("visibleConditioncolumn","Visible Condition","tabform")}];return u.default.createElement(d.Form,null,u.default.createElement(d.Form.Group,{widths:"equal"},u.default.createElement(d.Form.Input,{name:"key",label:this.getLocalValue("namefield","Name","tabform"),value:e.key,onChange:r}),u.default.createElement(d.Form.Input,{name:"activePane",label:this.getLocalValue("activepanefield","Active Pane","tabform"),value:e.activePane,onChange:r})),u.default.createElement("div",{className:"field"},u.default.createElement("label",null,this.getLocalValue("optionsfield","Options","menuform")),u.default.createElement(d.Form.Group,null,u.default.createElement(d.Form.Checkbox,{name:"pointing",label:this.getLocalValue("pointingfield","Pointing","tabform"),checked:e.pointing,onChange:r}),u.default.createElement(d.Form.Checkbox,{name:"secondary",label:this.getLocalValue("secondaryfield","Secondary","tabform"),checked:e.secondary,onChange:r}),u.default.createElement(d.Form.Checkbox,{name:"tabular",label:this.getLocalValue("tabularfield","Tabular","tabform"),checked:e.tabular,onChange:r}),u.default.createElement(d.Form.Checkbox,{name:"fluid",label:this.getLocalValue("fluidfield","Fluid","tabform"),checked:e.fluid,onChange:r}),u.default.createElement(d.Form.Checkbox,{name:"vertical",label:this.getLocalValue("verticalfield","Vertical","tabform"),checked:e.vertical,onChange:r}))),u.default.createElement(l.default,{key:"panes",draggable:!0,columns:t,label:this.getLocalValue("panesfield","Panes","tabform"),name:"panes",value:e.panes,onChange:function(e,t){var n=t.name,a=t.value;Array.isArray(a)&&a.forEach(function(e){null==e.psid&&(e.psid="id"+(new Date).getTime())}),r(e,{name:n,value:a})}}))}},{key:"getEventsList",value:function(){return["onTabChange"]}}]),ce);function ce(e){return i(this,ce),f(this,(ce.__proto__||Object.getPrototypeOf(ce)).call(this,e))}var fe=(p(pe,h),a(pe,[{key:"getGeneralDescription",value:function(){var e=this.props.data,t=this.props.parent.handleChange.bind(this.props.parent),n=[{key:"text",name:this.getLocalValue("itemstextcolumn","Text","breadcrumbform")},{key:"url",name:this.getLocalValue("itemsurlcolumn","Url","breadcrumbform")},{key:"active",control:"checkbox",name:this.getLocalValue("itemsactivecolumn","Active","breadcrumbform")},{key:"divider",name:this.getLocalValue("itemsiconcolumn","Divider Icon","breadcrumbform"),dataList:["right angle","right chevron"]}];return u.default.createElement(d.Form,null,u.default.createElement(d.Form.Group,{widths:"equal"},u.default.createElement(d.Form.Input,{name:"key",label:this.getLocalValue("namefield","Name","breadcrumbform"),value:e.key,onChange:t})),u.default.createElement(l.default,{key:"items",draggable:!0,columns:n,label:this.getLocalValue("itemsfield","Items","breadcrumbform"),name:"items",value:e.items,onChange:t}))}},{key:"getEventsList",value:function(){return["onItemClick"]}}]),pe);function pe(e){return i(this,pe),f(this,(pe.__proto__||Object.getPrototypeOf(pe)).call(this,e))}var he=(p(me,h),a(me,[{key:"getGeneralDescription",value:function(){var e=this.props.data,t=this.props.parent.handleChange.bind(this.props.parent),n=(e=this.props.data,[{key:"target",name:this.getLocalValue("itemstargetcolumn","Target","dropdowntriggerform")},{key:"title",name:this.getLocalValue("itemstitlecolumn","Title","dropdowntriggerform")},{key:"visibleCondition",name:this.getLocalValue("itemsvisibleconditioncolumn","Visible Condition","dropdowntriggerform")}]);return u.default.createElement(d.Form,null,u.default.createElement(d.Form.Input,{name:"key",label:this.getLocalValue("namefield","Name","dropdowntriggerform"),value:e.key,onChange:t}),u.default.createElement(d.Form.Input,{name:"defaultValue",label:this.getLocalValue("defaultvaluefield","Default Value","dropdowntriggerform"),value:null==e.defaultValue?"":e.defaultValue,onChange:t}),u.default.createElement(d.Form.Input,{name:"imageUrl",label:this.getLocalValue("imageurlfield","ImageUrl","dropdowntriggerform"),value:null==e.imageUrl?"":e.imageUrl,onChange:t}),u.default.createElement(l.default,{key:"items",draggable:!0,columns:n,label:this.getLocalValue("itemsfield","Items","dropdowntriggerform"),name:"items",value:e.items,onChange:t}))}},{key:"getEventsList",value:function(){return["onItemClick"]}}]),me);function me(e){return i(this,me),f(this,(me.__proto__||Object.getPrototypeOf(me)).call(this,e))}var ge=(p(ve,h),a(ve,[{key:"getGeneralDescription",value:function(){var e=this.props.parent.handleChange.bind(this.props.parent),t=this.props.data;return u.default.createElement(d.Form,null,u.default.createElement(d.Form.Input,{name:"key",label:this.getLocalValue("namefield","Name","uploadform"),value:t.key,onChange:e}),u.default.createElement(d.Form.Input,{name:"iconFiletypes",label:this.getLocalValue("iconFiletypes","Icon file types","uploadform"),placeholder:"*.png, *.jpg, *.gif",value:null==t.iconFiletypes?"":t.iconFiletypes,onChange:e}),u.default.createElement(d.Form.Group,null,u.default.createElement(d.Form.Checkbox,{name:"showFiletypeIcon",label:this.getLocalValue("showFiletypeIcon","Show file type icon","uploadform"),checked:t.showFiletypeIcon,onChange:e}),u.default.createElement(d.Form.Checkbox,{name:"autoProcessQueue",label:this.getLocalValue("autoProcessQueue","Auto process queue","uploadform"),checked:t.autoProcessQueue,onChange:e}),u.default.createElement(d.Form.Checkbox,{name:"addRemoveLinks",label:this.getLocalValue("addRemoveLinks","Add remove links","uploadform"),checked:t.addRemoveLinks,onChange:e})))}},{key:"getEventsList",value:function(){return["success","fail"]}}]),ve);function ve(e){return i(this,ve),f(this,(ve.__proto__||Object.getPrototypeOf(ve)).call(this,e))}var ye=(p(be,h),a(be,[{key:"getGeneralDescription",value:function(){var e=this.props.data,t=this.props.parent.handleChange.bind(this.props.parent),n=[{value:"",text:this.getLocalValue("legendpositiondefaultfield","Default","chartform")},{value:"top",text:this.getLocalValue("legendpositiontopfield","Top","chartform")},{value:"left",text:this.getLocalValue("legendpositionleftfield","Left","chartform")},{value:"bottom",text:this.getLocalValue("legendpositionbottomfield","Bottom","chartform")},{value:"right",text:this.getLocalValue("legendpositionrightfield","Right","chartform")}],a=""==e.datasetCustom||null==e.datasetCustom;return u.default.createElement(d.Form,null,u.default.createElement(d.Form.Group,{widths:"equal"},u.default.createElement("div",{className:"field"},u.default.createElement(d.Form.Input,{name:"key",label:this.getLocalValue("namefield","Name","chartform"),value:e.key,onChange:t}),u.default.createElement(d.Form.Input,{name:"title",label:this.getLocalValue("titlefield","Title","chartform"),value:e.title,onChange:t}),u.default.createElement(d.Form.Input,{name:"titleSize",label:this.getLocalValue("titlesizefield","Title size","chartform"),value:e.titleSize,onChange:t}),u.default.createElement(d.Form.Dropdown,{name:"legendPosition",selection:!0,fluid:!0,label:this.getLocalValue("legendpositionfield","Legend position","chartform"),placeholder:n[0].text,options:n,value:e.legendPosition,onChange:t})),u.default.createElement("div",{className:"field"},u.default.createElement(d.Form.Checkbox,{name:"responsive",label:this.getLocalValue("responsivefield","Responsive","chartform"),checked:e.responsive,onChange:t}),u.default.createElement(d.Form.Checkbox,{name:"datasetCustom",label:this.getLocalValue("datasetcustomfield","Dataset custom","chartform"),checked:e.datasetCustom,onChange:t}),u.default.createElement(d.Form.Input,{name:"dataLabels",style:{paddingTop:"5px"},disabled:a,placeholder:this.getLocalValue("datalabelsplaceholder","Q1, Q2, Q3, Q4","chartform"),label:this.getLocalValue("datalabelsfield","Data labels","chartform"),value:e.dataLabels,onChange:t}),u.default.createElement(d.Form.Input,{name:"datasetLabel",disabled:a,label:this.getLocalValue("datasetlabelfield","Dataset Label","chartform"),value:e.datasetLabel,onChange:t}),u.default.createElement(d.Form.Input,{name:"datasetBackgroundColor",disabled:a,label:this.getLocalValue("datasetbackgroundcolorfield","Dataset BackgroundColor","chartform"),value:e.datasetBackgroundColor,onChange:t}))))}}]),be);function be(e){return i(this,be),f(this,(be.__proto__||Object.getPrototypeOf(be)).call(this,e))}var ke=(p(we,h),a(we,[{key:"getGeneralDescription",value:function(){var e=this.props.data,r=this.props.parent.handleChange.bind(this.props.parent),t=[{key:"title",name:this.getLocalValue("itemstitlecolumn","Title","gridlayout")},{key:"cssclass",name:this.getLocalValue("cssclass","CSS Class","gridlayout")},{key:"visibleCondition",name:this.getLocalValue("visibleConditioncolumn","Visible Condition","gridlayout")}];return u.default.createElement(d.Form,null,u.default.createElement(d.Form.Input,{name:"key",label:this.getLocalValue("namefield","Name","gridlayout"),value:e.key,onChange:r}),u.default.createElement(d.Form.Group,null,u.default.createElement(d.Form.Input,{name:"cols",label:this.getLocalValue("colsfield","Columns","gridlayout"),placeholder:12,value:e.cols,onChange:r})),u.default.createElement("div",{className:"field"},u.default.createElement("label",null,this.getLocalValue("optionsfield","Options","gridlayout")),u.default.createElement(d.Form.Group,null,u.default.createElement(d.Form.Checkbox,{name:"draggable",label:this.getLocalValue("draggablefield","Draggable","gridlayout"),checked:e.draggable,onChange:r}),u.default.createElement(d.Form.Checkbox,{name:"resizable",label:this.getLocalValue("resizablefield","Resizable","gridlayout"),checked:e.resizable,onChange:r}),u.default.createElement(d.Form.Checkbox,{name:"scroll",label:this.getLocalValue("scrollfield","Scroll","gridlayout"),checked:e.scroll,onChange:r}))),u.default.createElement(l.default,{key:"panes",draggable:!0,columns:t,label:this.getLocalValue("panesfield","Panes","tabform"),name:"panes",value:e.panes,onChange:function(e,t){var n=t.name,a=t.value;Array.isArray(a)&&a.forEach(function(e){null==e.psid&&(e.psid="id"+(new Date).getTime())}),r(e,{name:n,value:a})}}))}},{key:"getEventsList",value:function(){return["onLayoutChange"]}}]),we);function we(e){return i(this,we),f(this,(we.__proto__||Object.getPrototypeOf(we)).call(this,e))}var Ee=(p(Ce,h),a(Ce,[{key:"getGeneralDescription",value:function(){var e=this.props.data,t=this.props.parent.handleChange.bind(this.props.parent);return this.getLocalValue("dialogmodeautofield","Auto","workflowform"),this.getLocalValue("dialogmodebuttonfield","Button","workflowform"),u.default.createElement(d.Form,null,u.default.createElement(d.Form.Input,{name:"key",label:this.getLocalValue("namefield","Name","workflowform"),value:e.key,onChange:t}),u.default.createElement(d.Form.Input,{name:"setStateButton",label:this.getLocalValue("setstatebuttonfield","Set state button","workflowform"),value:e.setStateButton,onChange:t}),u.default.createElement(d.Form.Group,{horizontal:!0},u.default.createElement(d.Form.Checkbox,{name:"blockSetState",label:this.getLocalValue("blocksetstatefield","Block SetState","workflowform"),checked:Boolean(e.blockSetState),onChange:t}),u.default.createElement(d.Form.Checkbox,{name:"blockCommands",label:this.getLocalValue("blockcommandsfield","Block Commands","workflowform"),checked:Boolean(e.blockCommands),onChange:t})))}},{key:"getEventsList",value:function(){return["onCommandClick","onSetStateClick","onReceivedCommands"]}}]),Ce);function Ce(e){return i(this,Ce),f(this,(Ce.__proto__||Object.getPrototypeOf(Ce)).call(this,e))}e.exports={BaseEditControl:h,HeaderEditControl:g,ButtonEditControl:y,LabelEditControl:k,MessageEditControl:_,InputEditControl:D,TextAreaEditControl:A,DropdownEditControl:I,DictionaryEditControl:T,RadioGroupEditControl:W,CheckboxEditControl:j,FormEditControl:B,FormGroupEditControl:U,ImageEditControl:J,StatisticEditControl:Z,GridEditControl:ee,CustomEditControl:re,MenuEditControl:se,ChartEditControl:ye,WorkflowBarEditControl:Ee,ContainerEditControl:q,StaticContentEditControl:E,CollectionEditorEditControl:ne,CustomBlockEditControl:ie,DropdownTriggerEditControl:he,DropzoneEditControl:ge,BreadcrumbEditControl:fe,SearchEditControl:x,TreePickerEditControl:R,TabEditControl:de,GridLayoutEditControl:ke,RepeaterEditControl:$}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e};function r(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var o,i=n(0),s=(o=i)&&o.__esModule?o:{default:o};var l=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(u,s.default.Component),a(u,[{key:"render",value:function(){var e=this.props.type,t=[],n=this.props.isForm,a=this.props.value;if(null!=a&&null!=a&&""!=a){var r="Download",o="Clear";null!=window.DWKitAdminLang&&null!=window.DWKitAdminLang.button&&(r=window.DWKitAdminLang.button.download,o=window.DWKitAdminLang.button.clear);var i=this.props.disabled||this.props.readOnly||this.props.hideClearButton;t.push(s.default.createElement("a",{key:"download",className:"ui button",target:"blank",href:this.props.downloadUrl+a},r)),i||(t.push(s.default.createElement("span",{key:"sparator"},"  ")),t.push(s.default.createElement("button",{key:"clear",className:"ui button",onClick:this.onClear.bind(this)},o)))}else this.props.disabled||this.props.readOnly?t.push(s.default.createElement("span",null)):t.push(s.default.createElement("input",{key:"uploadcontrol",type:"file",name:this.props.name,onChange:this.onChange.bind(this)}));if(n)return s.default.createElement("div",{className:"field"},null!=this.props.label&&s.default.createElement("label",null,this.props.label),s.default.createElement("div",{"data-buildertype":e},t));var l="ui labeled input";return this.props.fluid&&(l+=" fluid"),this.props.error&&(l+=" error"),null==this.props.className&&""==this.props.className||(l+=" "+this.props.className),s.default.createElement("div",{className:l,"data-buildertype":e},this.props.label&&s.default.createElement("div",{className:"ui label label"},this.props.label),t)}},{key:"onChange",value:function(t){var n=this,e=new FormData;e.append(n.props.name,t.target.files[0]),$.ajax({url:n.props.uploadUrl,type:"POST",processData:!1,contentType:!1,dataType:"json",data:e,success:function(e){1==e.success&&null!=n.props.onChange&&n.props.onChange(t,{name:n.props.name,propertyName:n.props.propertyName,value:e.message})}})}},{key:"onClear",value:function(){null!=this.props.onChange&&this.props.onChange(void 0,{name:this.props.name,propertyName:this.props.propertyName,value:null})}}]),u);function u(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(u.__proto__||Object.getPrototypeOf(u)).call(this,e));return t.state={},t}t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},a=function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e};function r(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var d=o(n(0)),c=o(n(52)),f=o(n(11));function o(e){return e&&e.__esModule?e:{default:e}}var i=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(l,d.default.Component),a(l,[{key:"handleChangeRaw",value:function(e){var t=(0,f.default)(e,this.state.dateFormat);this.onChange(t)}},{key:"onChange",value:function(e){if(!this.props.readOnly&&null!=this.props.onChange){var t=null;null!=e&&null!=e&&(t="date"===this.props.type?e.format("YYYY-MM-DD"):e.toJSON()),this.props.onChange(null,{propertyName:this.props.propertyName,name:this.props.name,value:t})}}},{key:"render",value:function(){var t=this,e=this.props.type,n=this.props.isForm,a=this.props.value?(0,f.default)(this.props.value):void 0;a&&!a.isValid()&&(a=void 0);var r={};r.readOnly=this.props.readOnly,"date"===e?void 0!==window.DWKitLang&&null!=window.DWKitLang.common&&null!=window.DWKitLang.common.dateFormat?r.dateFormat=window.DWKitLang.common.dateFormat:r.dateFormat="DD.MM.YYYY":"time"===e?(r.showTimeSelect=!0,r.showTimeSelectOnly=!0,r.timeIntervals=10,void 0!==window.DWKitLang&&void 0!==window.DWKitLang.common&&null!=window.DWKitLang.common.timeFormat?r.dateFormat=window.DWKitLang.common.timeFormat:(r.dateFormat="HH:mm",r.timeFormat="HH:mm")):"datetime"===e&&(r.showTimeSelect=!0,void 0!==window.DWKitLang&&void 0!==window.DWKitLang.common&&null!=window.DWKitLang.common.dateFormat?(r.timeFormat=window.DWKitLang.common.timeFormat,r.dateFormat=window.DWKitLang.common.dateFormat+" "+(null==window.DWKitLang.common.timeFormat?"HH:ss":window.DWKitLang.common.timeFormat)):(r.dateFormat="DD.MM.YYYY HH:mm",r.timeFormat="HH:mm")),this.state.dateFormat=r.dateFormat;var o=d.default.createElement(c.default,u({},r,{peekNextMonth:!0,showMonthDropdown:!0,showYearDropdown:!0,dropdownMode:"select",isClearable:!this.props.readOnly,placeholderText:this.placeholder,selected:a,onChange:this.onChange.bind(this),onChangeRaw:function(e){return t.handleChangeRaw(e.target.value)}})),i=void 0;if(n){var l="field";this.props.error&&(l+=" error"),i=d.default.createElement("div",{className:l},null!=this.props.label&&d.default.createElement("label",null,this.props.label),d.default.createElement("div",{"data-buildertype":e},o))}else{var s="ui fluid labeled input";this.props.error&&(s+=" error"),i=d.default.createElement("div",{"data-buildertype":e,className:s},null!=this.props.label&&d.default.createElement("div",{className:"ui label label"},this.props.label),o)}return i}}]),l);function l(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(l.__proto__||Object.getPrototypeOf(l)).call(this,e));return t.state={},t}t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e};function r(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var o,i=n(0),l=(o=i)&&o.__esModule?o:{default:o},s=n(1);var u=n(22),d=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(c,l.default.Component),a(c,[{key:"shouldComponentUpdate",value:function(e){return!u(this.props,e)}},{key:"render",value:function(){var n=this,e=this.props.items.map(function(e){var t=e.key?e.key:e.value;return l.default.createElement(s.Form.Field,{key:t+"_formfield"},l.default.createElement(s.Form.Radio,{key:t,label:e.text,name:n.props.name+"_radioGroup",value:e.value,readOnly:n.props.readOnly,checked:n.props.value===e.value,onChange:n.onChange}))},this),t=this.props.className;return t=t||"",this.props.error&&(t+=" error"),"v"===this.props.direction?(t+=" ui form",l.default.createElement("div",{className:t,style:this.props.style},l.default.createElement("label",null,this.props.label),l.default.createElement(s.Form,null,e))):(t+=" field",l.default.createElement("div",{className:"ui form"},l.default.createElement("div",{className:t},l.default.createElement("label",null,this.props.label),l.default.createElement("div",{style:this.props.style},l.default.createElement(s.Form.Group,{key:"group"},e)))))}}]),c);function c(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(c.__proto__||Object.getPrototypeOf(c)).call(this,e));return r.onChange=function(e,t){var n=t.name,a=t.value;r.props.onChange?r.props.onChange(e,{name:r.props.name,propertyName:r.props.propertyName,value:a}):r.props.handleEvent?r.props.handleEvent({syntheticEvent:e,key:r.props.name,eventName:"onChange",name:n,value:a}):console.error("Set onChange property for RadioGroup!")},r}t.default=d},function(e,t){e.exports=u},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e};function r(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var i=u(n(0)),l=(u(n(2)),n(1)),o=(u(n(3)),u(n(4))),s=u(n(25));function u(e){return e&&e.__esModule?e:{default:e}}var d=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(c,o.default),a(c,[{key:"onShowRef",value:function(e){this.addMissingDataMap(),this.setState({showref:e})}},{key:"render",value:function(){var e,t,n=this.props.item,a=this.state.showref;if(null!=n.referenceEntityId&&null!=this.props.dataMap&&(e=a?i.default.createElement("img",{onClick:this.onShowRef.bind(this,!1),className:"dwkit-formadmin-imgbutton",src:"/images/collapse.svg"}):i.default.createElement("img",{onClick:this.onShowRef.bind(this,!0),className:"dwkit-formadmin-imgbutton",src:"/images/expand.svg"})),this.props.hidedropzone){var r=null==n.control?"":n.control;t=i.default.createElement(l.Form.Input,{key:"control",name:"control",list:this.props.datalist,placeholder:"Alias",value:r,onChange:this.handleChange.bind(this)})}else if(null==n.control)t=i.default.createElement("div",{key:"dz",className:"dwkit-formmapping-zone","data-id":n.id},DWKitAdminLang.datamap.placefortoncroltitle);else{var o=this.props.parent.props.parent;t=i.default.createElement("div",{key:"control",className:"mapdatacontrol",draggable:"true",onDragStart:o.onDragStart.bind(o,n.control),onDragEnd:o.onDragEnd.bind(o,n.control),onDoubleClick:o.onDoubleClick.bind(o,n.control)},i.default.createElement("span",{key:"span"},n.control))}return i.default.createElement("div",{key:this.props.item.id},i.default.createElement(l.Form.Group,{key:"group",className:"dwkit-formadmin-mapping-attribute"},null!=e&&i.default.createElement("div",{className:"dwkit-formadmin-imgbuttondiv"},e),i.default.createElement(l.Form.Input,{key:"attributeName",name:"attributeName",value:n.attributeName,readOnly:!0}),i.default.createElement(l.Form.Checkbox,{className:"gridcheckbox",key:"isLoadable",label:DWKitAdminLang.datamap.loadfield,name:"isLoadable",checked:n.isLoadable,onChange:this.handleChange.bind(this)}),t),a&&i.default.createElement("div",{key:"ref",className:"dwkit-formmapping-ref"},this.renderRef()))}},{key:"renderRef",value:function(){var t=this,n=[],a=this.props.item,r=this.props.dataMap;return r.forEach(function(e){e.parentId==a.id&&n.push(i.default.createElement(c,{key:e.id,item:e,parent:t.props.parent,dataMap:r,collectionId:t.props.collectionId,hidedropzone:t.props.hidedropzone,datalist:t.props.datalist}))}),n}},{key:"handleChange",value:function(e,t){var n=t.name,a=t.checked,r=t.value,o=this.props.item;"isLoadable"==n||"isEditable"==n?o[n]=a:(o[n]=r,"control"==n&&(o.isLoadable=Boolean(null!=r&&0<r.length))),this.forceUpdate()}},{key:"iAmInCollection",value:function(){return this.props.parent instanceof s.default}},{key:"addMissingDataMap",value:function(){var t=this.props.item,e=this.props.dataMap;if(!e.some(function(e){return e.parentId===t.id})){var n=this.props.parent.props.parent,a=n.createDataMap(t.referenceEntityId,t.id,t.attributeName+"_",e);if(this.iAmInCollection()){this.props.parent;var r=this.props.collectionId,o=n.state.form,i=o.dataColl.find(function(e){return e.id===r});if(void 0===i)return;i.dataMap=i.dataMap.concat(a),n.setState({form:o})}else{var l=n.state.form;l.dataMap=l.dataMap.concat(a),n.setState({form:l})}}}}]),c);function c(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(c.__proto__||Object.getPrototypeOf(c)).call(this,e));return t.state={showref:!1},t}t.default=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e};function r(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var u=l(n(0)),o=(l(n(2)),l(n(4))),d=n(1),i=(l(n(3)),l(n(24))),c=l(n(12));function l(e){return e&&e.__esModule?e:{default:e}}var s=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(f,o.default),a(f,[{key:"onExpand",value:function(e,t){this.state.expanded[e]=t,this.forceUpdate()}},{key:"onCreate",value:function(){this.props.form.dataColl.push({id:this.NewGUID(),dataMap:[]}),this.props.parent.validate(),this.forceUpdate()}},{key:"onDelete",value:function(e){for(var t,n=this.props.form.dataColl,a=0;a<n.length;a++)if(n[a].id==e){t=a;break}null!=t&&(n.splice(t,1),this.props.parent.forceUpdate())}},{key:"render",value:function(){var e=this.props.form.dataColl;return u.default.createElement("div",{className:"dwkit-formmapping-collection"},u.default.createElement("h2",null,"Collections"),u.default.createElement("div",{className:"dwkit-formmapping-collection-toolbar"},u.default.createElement("a",{onClick:this.onCreate.bind(this)},DWKitAdminLang.button.create)),this.renderColl(e))}},{key:"handleChanged",value:function(e,t,n){var a=n.name,r=n.value,o=n.checked;e[a]="readOnly"==a?o:r,"entityId"==a&&(e.dataMap=this.props.parent.createDataMap(r,void 0,"",[])),this.props.parent.validate(),this.forceUpdate()}},{key:"renderColl",value:function(e){var l=[],s=this;return e.forEach(function(e){var t=e.id;void 0!==e.triggers&&null!==e.triggers||(e.triggers=[]);var n,a,r=s.state.expanded[t];if(n=r?u.default.createElement("img",{onClick:s.onExpand.bind(s,t,!1),className:"dwkit-formadmin-imgbutton",src:"/images/collapse.svg"}):u.default.createElement("img",{onClick:s.onExpand.bind(s,t,!0),className:"dwkit-formadmin-imgbutton",src:"/images/expand.svg"}),null==e.control)a=u.default.createElement("div",{key:"dz",className:"dwkit-formmapping-zone","data-id":e.id},"Control...");else{var o=s.props.parent;a=u.default.createElement("div",{key:"control",className:"mapdatacontrol",draggable:"true",onDragStart:o.onDragStart.bind(o,e.control),onDragEnd:o.onDragEnd.bind(o,e.control),onDoubleClick:o.onDoubleClick.bind(o,e.control)},u.default.createElement("span",{key:"span"},e.control))}var i=u.default.createElement("div",{key:t+"_div",className:"dwkit-formmapping-collection-row"},u.default.createElement(d.Form,null,u.default.createElement(d.Form.Group,null,u.default.createElement("div",{className:"dwkit-formadmin-imgbuttondiv2"},n),u.default.createElement(d.Form.Dropdown,{width:5,key:"entityId",label:DWKitAdminLang.datamap.collectionentityfield,name:"entityId",options:s.props.entities,value:e.entityId,onChange:s.handleChanged.bind(s,e),error:Boolean(e.__error.entityId),selection:!0,fluid:!0,search:!0}),u.default.createElement(d.Form.Dropdown,{key:"filter",label:DWKitAdminLang.datamap.collectionfilterfield,name:"filter",options:s.props.codeactions,value:e.filter,onChange:s.handleChanged.bind(s,e),error:Boolean(e.__error.filter),selection:!0,fluid:!0,search:!0}),u.default.createElement(d.Form.Input,{key:"parameter",name:"parameter",label:DWKitAdminLang.field.parameter,value:null!=e.parameter?e.parameter:"",onChange:s.handleChanged.bind(s,e)}),a,u.default.createElement(d.Form.Checkbox,{key:"readOnly",label:DWKitAdminLang.field.readonly,name:"readOnly",checked:e.readOnly,onChange:s.handleChanged.bind(s,e)}),u.default.createElement("div",{className:"dwkit-formadmin-imgbuttondiv2"},u.default.createElement("img",{className:"dwkit-formadmin-imgbutton",onClick:s.onDelete.bind(s,t),src:"/images/delete.svg"}))),r&&u.default.createElement("div",{key:t+"_att",className:"field children"},u.default.createElement("label",{key:t+"_label"},DWKitAdminLang.field.attributes),null!=e.entityId&&s.renderFields(e)),u.default.createElement("div",null,u.default.createElement(c.default,{data:e.triggers,types:["AfterSelect","BeforeInsert","AfterInsert","BeforeUpdate","AfterUpdate","BeforeDelete","AfterDelete"],codeactions:s.props.codeActionsTriggers}))));l.push(i)}),l}},{key:"renderFields",value:function(t){var n=[],a=this,e=void 0,r=void 0;if(null!=t.control&&null!=this.props.formsource){e=this.getOptionsByControl(t.control,this.props.formsource),r=t.id+"_datalist";var o=[];Array.isArray(e)&&e.forEach(function(e){o.push(u.default.createElement("option",{key:e,value:e}))}),n.push(u.default.createElement("datalist",{key:r,id:r},o))}return t.dataMap.forEach(function(e){null==e.parentId&&n.push(u.default.createElement(i.default,{key:e.id,collectionId:t.id,item:e,parent:a,dataMap:t.dataMap,hidedropzone:!0,datalist:r}))}),n}},{key:"getOptionsByControl",value:function(e,t){var n=this.findControl(e,t);if(null!=n){if(Array.isArray(n.columns)){var a=[];return n.columns.forEach(function(e){a.push(e.key)}),a}return[]}}},{key:"findControl",value:function(e,t){for(var n=0;n<t.length;n++){if(t[n].key==e)return t[n];if(Array.isArray(t[n].children)){var a=this.findControl(e,t[n].children);if(null!=a)return a}if(null!=t[n].placeholders)for(var r in t[n].placeholders)if(Array.isArray(t[n].placeholders[r])){var o=this.findControl(e,t[n].placeholders);if(null!=o)return o}}}}]),f);function f(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,f);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(f.__proto__||Object.getPrototypeOf(f)).call(this,e));return t.state={expanded:{}},t}t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e};function r(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var o=u(n(0)),i=(u(n(2)),u(n(4)),n(1)),l=(u(n(3)),u(n(5))),s=u(n(10));function u(e){return e&&e.__esModule?e:{default:e}}var d=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(c,l.default),a(c,[{key:"renderMainForm",value:function(){var t=this,e=this,n=(null==this.props.data[this.dataindex]||this.props.data[this.dataindex].length,this.gridColumns()),a="";return 0<n.length&&(a=n[0].key+" ASC"),o.default.createElement("div",null,o.default.createElement("h1",null,this.titleGetter?this.titleGetter(DWKitAdminLang):this.title),this.renderToolbar(),o.default.createElement(s.default,{key:"Formgrid",rowKey:this.idfield,rowHeight:40,columns:this.gridColumns(),defaultSort:a,minHeight:this.state.gridHeight,multiselect:!0,pagerType:"server",getAdditionalDataForControl:this.getAdditionalDataForControl.bind(this),handleEvent:this.gridHandleEvent.bind(this),ref:function(e){t.grid=e}}),o.default.createElement(i.Confirm,{open:this.state.confirmdeleteshow,dimmer:"blurring",content:DWKitAdminLang.msg.confirmdelete,onCancel:function(){e.setState({confirmdeleteshow:!1})},onConfirm:this.onDelete.bind(this)}))}},{key:"handlePopupChange",value:function(e,t){var n=t.name,a=t.value;t.checked,this.state.popup[n]=a,this.forceUpdate()}},{key:"onDelete",value:function(){for(var e=this,t=[],n=this.grid.getSeletedRowKeys(),a=0;a<n.length;a++){var r={};r[this.idfield]=n[a],r.__type=this.datatype,r.__state="deleted",t.push(r)}e.setState({confirmdeleteshow:!1}),this.ChangeData(t,function(){e.grid.refresh()})}}]),c);function c(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(c.__proto__||Object.getPrototypeOf(c)).call(this,e))}t.default=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a,r=n(28),o=(a=r)&&a.__esModule?a:{default:a};t.default=o.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},a=function(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e};function o(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var i=j(n(0)),l=(j(n(2)),j(n(3)),n(1)),s=j(n(29)),u=j(n(30)),d=j(n(4)),c=n(14),f=j(n(31)),p=n(35),h=j(n(36)),m=j(n(39)),g=j(n(40)),v=j(n(43)),y=j(n(45)),b=j(n(46)),k=j(n(48)),w=j(n(83)),E=j(n(87)),C=j(n(89)),_=j(n(91)),L=j(n(93)),D=j(n(95)),O=j(n(97)),A=j(n(103)),F=j(n(106)),x=j(n(109)),S=j(n(112));function j(e){return e&&e.__esModule?e:{default:e}}var P=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(I,d.default),a(I,[{key:"configureAuthAndLoad",value:function(){var t=this,e=this.props.authServerHost?this.props.authServerHost:window.location.protocol+"//"+window.location.host,n={client_id:"spa",redirect_uri:window.location.protocol+"//"+window.location.host,response_type:"token id_token",scope:"openid profile IdentityServerApi",authority:e,silent_redirect_uri:window.location.protocol+"//"+window.location.host+"/silentRenew.html",automaticSilentRenew:!0,filterProtocolClaims:!0,loadUserInfo:!0,monitorSession:!0};if(this.userManager=new p.UserManager(n),this.userManager.events.addUserLoaded(function(){t.userManager.getUser().then(function(e){e&&!e.expired&&t.configureHeaders(e)})}),window.location.hash&&-1<window.location.hash.substring(1,window.location.hash.length-1).split("=").indexOf("id_token"))return this.getUserCallback(this.userManager.signinRedirectCallback()),void history.pushState(void 0,void 0,window.location.pathname);this.getUserCallback(this.userManager.getUser())}},{key:"getUserCallback",value:function(e){var t=this;e.then(function(e){return e&&!e.expired?(t.configureHeaders(e),Promise.resolve()):t.userManager.signinSilent()}).catch(function(){t.userManager.signinRedirect()}).then(function(){t.load()})}},{key:"configureHeaders",value:function(e){var t="Bearer "+e.access_token;$.ajaxSetup({beforeSend:function(e){e.setRequestHeader("Authorization",t)}})}},{key:"load",value:function(n){var a=this,e=new Array;e.push({name:"operation",value:"load"}),$.ajax({url:a.props.apiUrl,data:e,async:!0,success:function(e){if(e.success)a.setState({isloadig:!1,data:a.CorrectData(e.item)},n);else{var t=e.message;null==t&&(t=DWKitAdminLang.requesterror.configapi+": "+a.props.apiUrl+"!","string"==typeof e&&(console.error(DWKitAdminLang.requesterror.configapi+":",e),t+=" "+DWKitAdminLang.msg.lookdevconsole)),a.setState({progresserror:!0,progressmsg:t})}},error:function(e,t){a.processLoadError(e,t)}})}},{key:"processLoadError",value:function(e,t){var n=this.getProcessLoadError(e,t);this.setState({progresserror:!0,progressmsg:n})}},{key:"CorrectData",value:function(e){return null==e.modules&&(e.modules=[]),null==e.dataModel&&(e.dataModel=[]),null==e.localization&&(e.localization=[]),e}},{key:"handleErrEvent",value:function(e){this.props.eventerrfunc&&this.props.eventerrfunc(this,e)}},{key:"handleMenuItemClick",value:function(e,t){var n=t.name;this.openpage(n,void 0)}},{key:"openpage",value:function(e,t,n){var a=window.location.href;a=this.updateQueryStringParameter(a,"apanel",e),a=this.updateQueryStringParameter(a,"aid",t),history.pushState(void 0,void 0,a),this.setState({apanel:e,aid:t,copyid:n})}},{key:"render",value:function(){if(this.state.isloadig)return this.RenderLoading();var e=this.state.apanel,t=void 0,n={id:this.getQueryString().aid,copyid:this.state.copyid,data:this.state.data,apiUrl:this.props.apiUrl,deltaWidth:this.props.deltaWidth,deltaHeight:this.props.deltaHeight,controlActions:this.props.controlActions,parent:this};t="dashboard"===e?i.default.createElement(h.default,r({},n,{themesFolder:this.props.themesFolder})):"resources"===e?i.default.createElement(m.default,n):"datamodel"===e?i.default.createElement(v.default,n):"datasync"===e?i.default.createElement(y.default,n):"codeactions"===e?i.default.createElement(b.default,n):"workflow"===e?i.default.createElement(_.default,r({},n,{workflowApi:this.props.workflowApi})):"businessflow"===e?i.default.createElement(D.default,r({},n,{workflowApi:this.props.workflowApi})):"commandform"===e?i.default.createElement(O.default,r({},n,{workflowApi:this.props.workflowApi})):"forms"===e?i.default.createElement(k.default,r({},n,{externalControlList:this.props.externalControlList,externalControlRender:this.props.externalControlRender,externalControlsOnly:this.props.externalControlsOnly})):"formdata"===e?i.default.createElement(w.default,n):"actionhandlers"===e?i.default.createElement(E.default,n):"localization"===e?i.default.createElement(C.default,n):"users"===e?i.default.createElement(A.default,n):"groups"===e?i.default.createElement(x.default,n):"roles"===e?i.default.createElement(F.default,n):"permissions"===e?i.default.createElement(S.default,n):"modules"===e?i.default.createElement(g.default,n):"workflowinstances"===e?i.default.createElement(L.default,r({},n,{workflowApi:this.props.workflowApi})):i.default.createElement("div",null,"The unknown part of DWKIT. Please, send the isssue to us via ",i.default.createElement("a",{href:"https://dwkit.com/contacts/"},"dwkit.com contact form"),".");var a=this.getFormMappingMessage();return null==a&&(a=this.getCodeActionsMessage()),i.default.createElement("div",{className:"dwkit-formadmin-container"},i.default.createElement("div",{className:"dwkit-formadmin-header"},i.default.createElement("div",{className:"dwkit-formadmin-header-left"},i.default.createElement("img",{className:"dwkit-formadmin-header-logo",onClick:this.onApp.bind(this),src:"/images/logo.svg"})),i.default.createElement("div",{className:"dwkit-formadmin-header-center"},a,null==a&&i.default.createElement(u.default,{data:this.state.data,parent:this})),i.default.createElement("div",{className:"dwkit-formadmin-header-right"},i.default.createElement(l.Button,{name:"btnApp",className:"buttontype2",onClick:this.onApp.bind(this)},DWKitAdminLang.common.toolbarappbutton),i.default.createElement(f.default,{folder:this.props.localizationFolder,locale:this.props.locale,parent:this}))),i.default.createElement("div",{className:"dwkit-formadmin"},i.default.createElement("div",{className:"dwkit-formadmin-menu"},i.default.createElement(s.default,{parent:this,activeItem:e})),i.default.createElement("div",{className:"dwkit-formadmin-basecontent"},i.default.createElement("div",{className:"dwkit-formadmin-top"}),i.default.createElement("div",{className:"dwkit-formadmin-content"},t))))}},{key:"onApp",value:function(){null!=this.props.returnToAppUrl&&(window.location=this.props.returnToAppUrl)}},{key:"getCodeActionsMessage",value:function(){var e=void 0!==this.state.data.additionalParams&&void 0!==this.state.data.additionalParams.CodeActionErrors&&null!==this.state.data.additionalParams.CodeActionErrors&&0!==Object.getOwnPropertyNames(this.state.data.additionalParams.CodeActionErrors).length;if(!this.state.errorCodeActionsMessageHidden&&e){var t=this;return i.default.createElement("div",{style:{maxHeight:"45px",overflow:"hidden"}},i.default.createElement("div",{style:{float:"left",marginRight:"20px",color:"red"}},i.default.createElement("b",null,DWKitAdminLang.msg.serverglobalerror),i.default.createElement("br",null),i.default.createElement("span",null,DWKitAdminLang.msg.globalcodeactionshaveerrors)),i.default.createElement("div",null,i.default.createElement("button",{onClick:function(){t.state.errorCodeActionsMessageHidden=!0,t.forceUpdate()},className:"ui button secondary"},DWKitAdminLang.button.close)))}}},{key:"getFormMappingMessage",value:function(){var e=void 0!==this.state.data.additionalParams&&void 0!==this.state.data.additionalParams.FormMappingErrors&&null!==this.state.data.additionalParams.FormMappingErrors&&0<this.state.data.additionalParams.FormMappingErrors.length;if(!this.state.errorFormMappingMessageHidden&&e){var t=this,n=this.state.data.additionalParams.FormMappingErrors;return i.default.createElement("div",{style:{maxHeight:"45px",overflow:"hidden"}},i.default.createElement("div",{style:{float:"left",marginRight:"20px",color:"orange"}},i.default.createElement("b",null,DWKitAdminLang.msg.formmappingerror),i.default.createElement("br",null),i.default.createElement("span",null,n.join(", "))),i.default.createElement("div",null,i.default.createElement("a",{href:"?apanel=formdata",onClick:this.openFormMapping.bind(this),className:"ui button primary"},DWKitAdminLang.sidemenu.formdata),i.default.createElement("button",{onClick:function(){t.state.errorFormMappingMessageHidden=!0,t.forceUpdate()},className:"ui button secondary"},DWKitAdminLang.button.close)))}}},{key:"openFormMapping",value:function(e){document.location.hash="",this.openpage("formdata",void 0),e.preventDefault()}}]),I);function I(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,I);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(I.__proto__||Object.getPrototypeOf(I)).call(this,e)),n=t.getQueryString();t.state={apanel:null==n.apanel?"dashboard":n.apanel,aid:n.aid,isloadig:!0};var a=t;return window.onpopstate=function(e){var t=a.getQueryString();a.setState({apanel:null==t.apanel?"dashboard":t.apanel,aid:t.aid})},null==window.DWKitAdminLang&&(window.DWKitAdminLang=c.defaultLocalization),"cookies"!==t.props.authType?t.configureAuthAndLoad():t.load(),t}t.default=P},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e};function r(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var o=l(n(0)),i=(l(n(2)),n(1));function l(e){return e&&e.__esModule?e:{default:e}}var s=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(u,o.default.Component),a(u,[{key:"handleItemClick",value:function(e,t){var n=t.name;document.location.hash="",this.props.parent.handleMenuItemClick(e,{name:n}),e.preventDefault()}},{key:"render",value:function(){var e=this.props.activeItem;return o.default.createElement(i.Menu,{vertical:!0,size:"huge"},o.default.createElement(i.Menu.Item,{name:"dashboard",active:"dashboard"===e,href:"?apanel=dashboard",onClick:this.handleItemClick.bind(this).bind(this)},DWKitAdminLang.sidemenu.dashboard),o.default.createElement(i.Menu.Item,null,o.default.createElement(i.Menu.Header,null,DWKitAdminLang.sidemenu.data),o.default.createElement(i.Menu.Menu,null,o.default.createElement(i.Menu.Item,{name:"datamodel",active:"datamodel"===e,href:"?apanel=datamodel",onClick:this.handleItemClick.bind(this)},DWKitAdminLang.sidemenu.datamodel),o.default.createElement(i.Menu.Item,{name:"datasync",active:"datasync"===e,href:"?apanel=datasync",onClick:this.handleItemClick.bind(this)},DWKitAdminLang.sidemenu.datasync))),o.default.createElement(i.Menu.Item,{name:"codeactions",active:"codeactions"===e,href:"?apanel=codeactions",onClick:this.handleItemClick.bind(this)},DWKitAdminLang.sidemenu.codeactions),o.default.createElement(i.Menu.Item,null,o.default.createElement(i.Menu.Header,null,DWKitAdminLang.sidemenu.form),o.default.createElement(i.Menu.Menu,null,o.default.createElement(i.Menu.Item,{name:"forms",active:"forms"===e,href:"?apanel=forms",onClick:this.handleItemClick.bind(this)},DWKitAdminLang.sidemenu.forms),o.default.createElement(i.Menu.Item,{name:"formdata",active:"formdata"===e,href:"?apanel=formdata",onClick:this.handleItemClick.bind(this)},DWKitAdminLang.sidemenu.formdata),o.default.createElement(i.Menu.Item,{name:"actionhandlers",active:"actionhandlers"===e,href:"?apanel=actionhandlers",onClick:this.handleItemClick.bind(this)},DWKitAdminLang.sidemenu.actionhandlers),o.default.createElement(i.Menu.Item,{name:"localization",active:"localization"===e,href:"?apanel=localization",onClick:this.handleItemClick.bind(this)},DWKitAdminLang.sidemenu.localization))),o.default.createElement(i.Menu.Item,null,o.default.createElement(i.Menu.Header,null,DWKitAdminLang.sidemenu.workflow),o.default.createElement(i.Menu.Menu,null,o.default.createElement(i.Menu.Item,{name:"workflow",active:"workflow"===e,href:"?apanel=workflow",onClick:this.handleItemClick.bind(this)},DWKitAdminLang.sidemenu.schemes),o.default.createElement(i.Menu.Item,{name:"workflowinstances",active:"workflowinstances"===e,href:"?apanel=workflowinstances",onClick:this.handleItemClick.bind(this)},DWKitAdminLang.sidemenu.workflowinstances),o.default.createElement(i.Menu.Item,{name:"businessflow",active:"businessflow"===e,href:"?apanel=businessflow",onClick:this.handleItemClick.bind(this)},DWKitAdminLang.sidemenu.businessflow),o.default.createElement(i.Menu.Item,{name:"commandform",active:"commandform"===e,href:"?apanel=commandform",onClick:this.handleItemClick.bind(this)},DWKitAdminLang.sidemenu.commandform))),o.default.createElement(i.Menu.Item,null,o.default.createElement(i.Menu.Header,null,DWKitAdminLang.sidemenu.security),o.default.createElement(i.Menu.Menu,null,o.default.createElement(i.Menu.Item,{name:"users",active:"users"===e,href:"?apanel=users",onClick:this.handleItemClick.bind(this)},DWKitAdminLang.sidemenu.users),o.default.createElement(i.Menu.Item,{name:"groups",active:"groups"===e,href:"?apanel=groups",onClick:this.handleItemClick.bind(this)},DWKitAdminLang.sidemenu.groups),o.default.createElement(i.Menu.Item,{name:"roles",active:"roles"===e,href:"?apanel=roles",onClick:this.handleItemClick.bind(this)},DWKitAdminLang.sidemenu.roles),o.default.createElement(i.Menu.Item,{name:"permissions",active:"permissions"===e,href:"?apanel=permissions",onClick:this.handleItemClick.bind(this)},DWKitAdminLang.sidemenu.permissions))),o.default.createElement(i.Menu.Item,{name:"resources",active:"resources"===e,href:"?apanel=resources",onClick:this.handleItemClick.bind(this)},DWKitAdminLang.sidemenu.resourceEditor),o.default.createElement(i.Menu.Item,{href:"https://dwkit.com/contacts/",target:"_blank"},DWKitAdminLang.sidemenu.support))}}]),u);function u(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(u.__proto__||Object.getPrototypeOf(u)).call(this,e))}t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e};function r(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var o=l(n(0)),i=(l(n(2)),l(n(3)),n(1));function l(e){return e&&e.__esModule?e:{default:e}}var s=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(u,o.default.Component),a(u,[{key:"resetSearch",value:function(){this.setState({isLoading:!1,results:[]})}},{key:"handleResultSelect",value:function(e,t){var n=t.result;this.props.parent.openpage(n.panelindex,n.id)}},{key:"handleSearchChange",value:function(e,t){var n=t.value,a=this;""!=n?(this.setState({isLoading:!0,value:n}),setTimeout(function(){if(a.state.value.length<1)return a.resetSearch();a.setState({isLoading:!1,results:a.search(a.state.value)})},500)):this.setState({isLoading:!1,value:n,results:[]})}},{key:"search",value:function(e){var t={};return this.addResult(t,e,DWKitAdminLang.searchbox.model,this.props.data.dataModel,"datamodel","id",["name","dbObjectName"]),this.addResult(t,e,DWKitAdminLang.searchbox.form,this.props.data.forms,"forms","name",["name"]),this.addResult(t,e,DWKitAdminLang.searchbox.formdata,this.props.data.forms,"formdata","name",["name"]),this.addResult(t,e,DWKitAdminLang.searchbox.actionhandler,this.props.data.forms,"actionhandlers","name",["name"]),this.addResult(t,e,DWKitAdminLang.searchbox.workflow,this.props.data.workflow,"workflow","code",["code"]),this.addResult(t,e,DWKitAdminLang.searchbox.user,this.props.data.users,"users","id",["name","domainLogin","login"]),this.addResult(t,e,DWKitAdminLang.searchbox.group,this.props.data.groups,"groups","id",["name"]),this.addResult(t,e,DWKitAdminLang.searchbox.role,this.props.data.roles,"roles","id",["code","name"]),this.addResult(t,e,DWKitAdminLang.searchbox.codeaction,this.props.data.codeActions,"codeactions","id",["name"]),t}},{key:"addResult",value:function(e,t,n,a,r,o,i){var l=this.searchInArray(t,a,r,o,i);Array.isArray(l)&&0<l.length&&(e[n]={name:n,results:l})}},{key:"searchInArray",value:function(e,t,n,a,r){var o=[];for(var i in t){for(var l=t[i],s=0;s<r.length;s++){var u=r[s];if(null!=l[u]&&0<=l[u].search(new RegExp(e,"i"))){o.push({title:l[u],panelindex:n,id:l[a]});break}}if(4<o.length){o.push({title:"...",panelindex:n});break}}return o}},{key:"render",value:function(){return o.default.createElement(i.Search,{category:!0,fluid:!0,loading:this.state.isLoading,onResultSelect:this.handleResultSelect.bind(this),onSearchChange:this.handleSearchChange.bind(this),results:this.state.results,value:this.state.value})}}]),u);function u(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(u.__proto__||Object.getPrototypeOf(u)).call(this,e));return t.state={value:""},t}t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e};function r(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var o=d(n(0)),i=n(1),l=d(n(32)),s=n(14),u=n(33);function d(e){return e&&e.__esModule?e:{default:e}}var c="dwkitadmin_locale",f=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(p,o.default.Component),a(p,[{key:"render",value:function(){return Array.isArray(this.state.options)?o.default.createElement("div",{className:"localization"},o.default.createElement(i.Dropdown,{selection:!0,options:this.state.options,value:this.state.locale,onChange:this.onChange.bind(this)})):o.default.createElement("div",null)}},{key:"init",value:function(e,r){if(null!=e){var o=this;(0,l.default)(e+"localization_manifest.json").then(function(e){return e.json()}).then(function(e){var t=[],n=0;e.langs.forEach(function(e){t.push({key:n,value:e.locale,flag:e.flag?e.flag:e.locale,text:e.name}),n++});var a=r;null!=a&&""!=a||(a=o.getCookie(c)),null!=a&&""!=a||(a="en"),o.state.options=t,o.state.langs=e.langs,o.registerLocale(a),o.forceUpdate()})}}},{key:"registerLocale",value:function(e){var t=this;if(null!=t.state.locale||"en"!=e){var n=t.state.langs,a=void 0;for(var r in n)if(n[r].locale==e){a=n[r];break}null!=a&&(Array.isArray(a.scripts)&&a.scripts.forEach(function(e){t.loadScript(t.props.folder+e)}),t.setCookie(c,e))}t.setState({locale:e}),null!=t.props.parent&&setTimeout(function(){window.DWKitAdminLang=(0,u.mergeDeep)(s.defaultLocalization,window.DWKitAdminLang),t.props.parent.forceUpdate()},200)}},{key:"onChange",value:function(e,t){t.value!=this.state.locale&&this.registerLocale(t.value)}},{key:"getCookie",value:function(e){var t=document.cookie.match(new RegExp("(?:^|; )"+e.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,"\\$1")+"=([^;]*)"));return t?decodeURIComponent(t[1]):void 0}},{key:"setCookie",value:function(e,t,n){var a=(n=n||{}).expires;if("number"==typeof a&&a){var r=new Date;r.setTime(r.getTime()+1e3*a),a=n.expires=r}a&&a.toUTCString&&(n.expires=a.toUTCString());var o=e+"="+(t=encodeURIComponent(t));for(var i in n){o+="; "+i;var l=n[i];!0!==l&&(o+="="+l)}document.cookie=o}},{key:"loadScript",value:function(e){var t=document.createElement("script");t.async=!1,t.src=e,document.getElementsByTagName("body")[0].appendChild(t)}}]),p);function p(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,p);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(p.__proto__||Object.getPrototypeOf(p)).call(this,e));return t.state={},t.init(e.folder,e.locale),t}t.default=f},function(e,t){e.exports=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mergeDeep=void 0;var a,r=n(34),o=(a=r)&&a.__esModule?a:{default:a};function i(e,t){return t}t.mergeDeep=function(e,t){return(0,o.default)(e,t,{arrayMerge:i})}},function(e,t){e.exports=c},function(e,t){e.exports=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},r=function(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e};function o(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var i=c(n(0)),l=(c(n(2)),c(n(3)),n(1)),s=c(n(4)),u=c(n(37)),d=c(n(38));function c(e){return e&&e.__esModule?e:{default:e}}var f=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(p,s.default),r(p,[{key:"onRequestRenewLicense",value:function(){window.open("https://dwkit.com/contacts/")}},{key:"initData",value:function(e){var t=this.СloneObj(e);t=t.sort(function(e,t){return e.order!=t.order?e.order-t.order:e.groupName>t.groupName?1:e.groupName<t.groupName?-1:e.name>t.name?1:e.name<t.name?-1:0}),this.state.data=t}},{key:"onResetAppCache",value:function(){var e=new Array;e.push({name:"operation",value:"resetappcache"}),$.ajax({url:this.props.apiUrl,data:e,async:!0,type:"post",success:function(e){e.success?alertify.success(DWKitAdminLang.msg.appcachereseted):alertify.error(e.message)}})}},{key:"render",value:function(){return i.default.createElement("div",null,i.default.createElement("h1",null,"Dashboard"),i.default.createElement(u.default,{data:this.state.data,mdSettings:this.state.mdSettings,metadata:this.props.data,parent:this.props.parent,themesFolder:this.props.themesFolder}),i.default.createElement("hr",null),i.default.createElement("div",{className:"dwkit-formadmin-dashboard-buttons"},i.default.createElement("a",{onClick:this.onResetAppCache.bind(this)},DWKitAdminLang.button.resetappcache)),i.default.createElement("div",{className:"dwkitadmin-toolbar"},i.default.createElement(l.Button,{className:"buttontype1",onClick:this.onSave.bind(this)},DWKitAdminLang.button.save),i.default.createElement(l.Button,{className:"buttontype2",onClick:this.onCancel.bind(this)},DWKitAdminLang.button.cancel)),i.default.createElement(d.default,{data:this.props.data.licenseInfo,metadata:this.props.data,parent:this.props.parent}))}},{key:"onSave",value:function(){var t=this,n=[];this.state.data.forEach(function(e){null!=e.__state&&n.push(a({},e,{__type:t.datatype}))}),this.state.mdSettings.forEach(function(e){null!=e.__state&&n.push(a({},e,{__type:"settings"}))}),this.ChangeData(n,function(){t.ResetSystemProps(t.state.mdSettings),t.props.data.settings=t.state.mdSettings,t.forceUpdate()})}},{key:"onCancel",value:function(){this.initData(this.props.data.appSettings),this.state.mdSettings=this.props.data.settings,this.forceUpdate()}}]),p);function p(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,p);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(p.__proto__||Object.getPrototypeOf(p)).call(this,e));return t.datatype="appsettings",t.state={},t.initData(e.data.appSettings),t.state.mdSettings=e.data.settings?e.data.settings:[],t}t.default=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},a=function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e};function r(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var h=i(n(0)),o=(i(n(2)),i(n(4))),m=n(1);function i(e){return e&&e.__esModule?e:{default:e}}var l=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(s,o.default),a(s,[{key:"onChange",value:function(e,t,n){n.name;var a=n.checked,r=n.value;"checkbox"===e.editorType?e.value=a:e.value=r,"inserted"!==e.__state&&(e.__state="updated"),this.forceUpdate()}},{key:"render",value:function(){var e={},t=this.props.mdSettings,n=this.checkSettings("DefaultForm",t),a=this.checkSettings("RTL",t);""!=a.value&&"string"==typeof a.value&&(a.value=this.stringToBoolean(a.value)),a.editorType="checkbox";var r=void 0;this.props.themesFolder&&(r=this.checkSettings("DefaultTheme",t));var o=DWKitAdminLang.dashboard.settingsMain;e[o=o||"Main"]=[this.renderFormsList("formslist"),h.default.createElement(m.Form.Input,{key:"defaultform",label:"Default Form",list:"formslist",value:n.value,onChange:this.onChange.bind(this,n)})],r&&e[o].push(h.default.createElement(m.Form.Dropdown,{selection:!0,key:"defaulttheme",label:"Default Theme",options:this.state.themeOptions,value:r.value,onChange:this.onChange.bind(this,r)})),e[o].push(h.default.createElement(m.Form.Checkbox,{key:"rtl",label:"Default RTL for new users",checked:a.value,onChange:this.onChange.bind(this,a)}));for(var i=this.props.data,l=0;l<i.length;l++){var s=i[l];null==e[s.groupName]&&(e[s.groupName]=[]);var u=void 0,d={key:l.toString(),name:l.toString(),label:s.paramName};u="readonly"===s.editorType?h.default.createElement(m.Form.Input,p({},d,{disabled:!0,value:s.value,onChange:this.onChange.bind(this,s)})):"number"===s.editorType?h.default.createElement(m.Form.Input,p({},d,{type:"number",value:s.value,onChange:this.onChange.bind(this,s)})):"password"===s.editorType?h.default.createElement(m.Form.Input,p({},d,{type:"password",value:s.value,onChange:this.onChange.bind(this,s)})):"checkbox"===s.editorType?h.default.createElement(m.Form.Checkbox,p({},d,{checked:this.stringToBoolean(s.value),onChange:this.onChange.bind(this,s)})):h.default.createElement(m.Form.Input,p({},d,{value:s.value,onChange:this.onChange.bind(this,s)})),e[s.groupName].push(u)}e[DWKitAdminLang.dashboard.integrationapi]=h.default.createElement("div",null,h.default.createElement("span",null,DWKitAdminLang.dashboard.integrationapiswagger," "),h.default.createElement("a",{className:"ui button",target:"_blank",href:"/swagger"},DWKitAdminLang.button.download));var c=[];for(var f in e)c.push({menuItem:f,pane:{key:f,className:"top",content:h.default.createElement(m.Form,null,e[f])}});return h.default.createElement("div",{className:"dwkit-dashboard-settings"},h.default.createElement(m.Tab,{menu:{secondary:!0,pointing:!0},panes:c,renderActiveOnly:!1}))}},{key:"stringToBoolean",value:function(e){if(null==e.toLowerCase)return Boolean(e);switch(e.toLowerCase().trim()){case"true":case"yes":case"1":return!0;case"false":case"no":case"0":case null:return!1;default:return Boolean(e)}}},{key:"checkSettings",value:function(t,e){var n=void 0;return e.forEach(function(e){e&&e.name==t&&(n=e)}),null==n&&(n={name:t,value:"",__state:"inserted"},e.push(n)),n}},{key:"renderFormsList",value:function(e){var t=this.props.metadata.forms,n=[];return Array.isArray(t)&&t.forEach(function(e){n.push(h.default.createElement("option",{key:e.name,value:e.name}))}),h.default.createElement("datalist",{key:e,id:e},n)}},{key:"initThemeOptions",value:function(){var e=this.props.themesFolder;if(null!=e){var a=this;fetch(e+"theme_manifest.json").then(function(e){return e.json()}).then(function(e){var t=[],n=0;t.push({key:n,value:"",text:""}),n++,e.themes.forEach(function(e){t.push({key:n,value:e.name,text:e.title}),n++}),a.state.themeOptions=t,a.forceUpdate()})}}},{key:"stringToBoolean",value:function(e){switch(e.toLowerCase().trim()){case"true":case"yes":case"1":return!0;case"false":case"no":case"0":case null:return!1;default:return Boolean(e)}}}]),s);function s(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(s.__proto__||Object.getPrototypeOf(s)).call(this,e));return t.state={},t.initThemeOptions(),t}t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e};function r(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var l=i(n(0)),o=(i(n(2)),i(n(3)),i(n(4))),s=n(1);function i(e){return e&&e.__esModule?e:{default:e}}var u=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(d,o.default),a(d,[{key:"render",value:function(){var e=this.props.data,t=[];for(var n in e.limits){var a="-1"==e.limits[n]?"∞":e.limits[n],r=void 0;"Users"==n?r=void 0!==this.props.metadata.additionalParams&&null!==this.props.metadata.additionalParams?this.props.metadata.additionalParams.UsersCount:0:"Workflow"==n?r=this.props.metadata.workflow.length:"Forms"==n&&(r=this.props.metadata.forms.length);var o=!1;null!=r&&(o=Boolean(a<r),a=r+" / "+a),t.push(l.default.createElement(s.Form.Input,{key:n,label:n,error:o,readOnly:!0,value:a}))}var i=[];return e.holder.includes("_Trial")&&i.push(l.default.createElement("b",{key:"trialmsg"},"This is a trial version of DWKit. Don't forget to purchase the commercial license via ",l.default.createElement("a",{href:"https://dwkit.com"},"web-site"),".")),i.push(l.default.createElement("br",{key:"br"})),i.push(l.default.createElement("span",{key:"purchasemsg"},"You can ",l.default.createElement("a",{onClick:this.onUpload.bind(this)},"upload a license")," or create a ",l.default.createElement("a",{href:"https://dwkit.com/contacts/"},"request a new license"),".")),l.default.createElement("div",null,l.default.createElement(s.Form,null,l.default.createElement(s.Form.Input,{label:"License holder",readOnly:!0,value:e.holder}),l.default.createElement(s.Form.Group,{widths:"equal"},null!=e.licenseExpiry&&l.default.createElement(s.Form.Input,{label:DWKitAdminLang.license.expipedlabel,readOnly:!0,value:e.licenseExpiry}),null!=e.releaseExpiry&&l.default.createElement(s.Form.Input,{label:DWKitAdminLang.license.freeupdatedatalabel,readOnly:!0,value:e.releaseExpiry}),l.default.createElement(s.Form.Input,{label:DWKitAdminLang.license.licensechecktype,readOnly:!0,value:e.licenseCheckType})),l.default.createElement("div",{className:"field"},i),l.default.createElement(s.Form.Group,null,t)),l.default.createElement("form",{is:!0,action:"",id:"dwkitadmin-license-uploadform",method:"post",style:{display:"none"},enctype:"multipart/form-data",onsubmit:"tmp()"},l.default.createElement("input",{type:"file",name:"dwkitadmin-license-uploadfile",id:"dwkitadmin-license-uploadfile",onChange:this.onUpload_onchange.bind(this)})))}},{key:"onUpload",value:function(){$("#dwkitadmin-license-uploadfile").trigger("click")}},{key:"onUpload_onchange",value:function(){this.uploadLicense($("#dwkitadmin-license-uploadform")[0],function(){alertify.success("The file is uploaded!"),location.reload()})}},{key:"uploadLicense",value:function(e,t){var n="dwkit-formadmin-uploadiframe",a=this,r=document.createElement("iframe");function o(){i.detachEvent?i.detachEvent("onload",o):i.removeEventListener("load",o,!1);var e="";i.contentDocument?e=i.contentDocument.body.innerText:i.contentWindow?e=i.contentWindow.document.body.innerHTML:i.document&&(e=i.document.body.innerHTML),setTimeout(function(){i.parentNode.removeChild(i)},250),t&&t(a,e)}r.setAttribute("id",n),r.setAttribute("name",n),r.setAttribute("width","0"),r.setAttribute("height","0"),r.setAttribute("border","0"),r.setAttribute("style","width: 0; height: 0; border: none;"),e.parentNode.appendChild(r),window.frames[n].name=n;var i=document.getElementById(n);i.addEventListener&&i.addEventListener("load",o,!0),i.attachEvent&&i.attachEvent("onload",o),e.setAttribute("target",n),e.setAttribute("action",this.createurl("uploadlicense")),e.setAttribute("method","post"),e.setAttribute("enctype","multipart/form-data"),e.setAttribute("encoding","multipart/form-data"),e.submit()}}]),d);function d(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,d);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(d.__proto__||Object.getPrototypeOf(d)).call(this,e));return t.createurl=function(e){var t=this.props.parent.props.apiUrl,n="?";return 0<=t.indexOf("?")&&(n="&"),t+=n+"operation="+e},t}t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},r=function(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e};function o(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var l=i(n(0)),s=n(1),u=i(n(15));function i(e){return e&&e.__esModule?e:{default:e}}var d=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(c,i(n(4)).default),r(c,[{key:"componentDidMount",value:function(){this.openPath(this.getCurrentPath())}},{key:"render",value:function(){var t=this,e=this;if(this.state.error)return l.default.createElement("div",null,this.state.errorMsg);var n,a=window.innerHeight-200;a<400&&(a=400),null!=this.state.popup.errors&&(n=l.default.createElement(s.Message,{negative:!0},l.default.createElement("p",null,this.state.popup.errors)));var r=void 0;if(null!=this.state.imgcontent)r=l.default.createElement("div",{className:"dwkit-admin-resourceimg"},l.default.createElement("img",{src:this.state.imgcontent}));else if(null==this.state.item||this.state.item.isDirectory){var o={postUrl:e.props.apiUrl,iconFiletypes:[".jpg",".png",".css",".js"],showFiletypeIcon:!0},i={init:function(e){return t.dropzone=e},sending:function(e,t,n){n.append("id",e.name)},complete:function(){e.loadDir(e.state.item)}};r=l.default.createElement("div",{className:"dwkit-admin-resourceupload"},l.default.createElement(u.default,{config:o,eventHandlers:i,djsConfig:{autoProcessQueue:!0,params:{operation:"resources",suboperation:"filecreate"}}}))}return l.default.createElement("div",null,l.default.createElement("h1",null,DWKitAdminLang.resourceeditor.title),l.default.createElement("div",{className:"dwkit-admin-form-buttons"},l.default.createElement(s.Button,{className:"buttontype2",onClick:function(){e.setState({popup:{show:!0,type:"dir"}})}},DWKitAdminLang.resourceeditor.createfolder),l.default.createElement(s.Button,{className:"buttontype2",onClick:function(){e.setState({popup:{show:!0,type:"file"}})}},DWKitAdminLang.resourceeditor.createfile),this.state.item&&l.default.createElement(s.Button,{className:"buttontype2",style:{marginRight:10},onClick:function(){e.setState({confirmdeleteshow:!0})}},DWKitAdminLang.button.delete),l.default.createElement(s.Button,{className:"buttontype1",style:{display:this.state.haschanges?"":"none"},onClick:this.onSave.bind(this)},DWKitAdminLang.button.save),l.default.createElement(s.Button,{className:"buttontype2",style:{display:this.state.haschanges?"":"none"},onClick:this.onCancel.bind(this)},DWKitAdminLang.button.cancel)),l.default.createElement("div",{className:"dwkit-admin-resourcelist"},this.renderList(this.state.items,!0)),r,l.default.createElement("div",{id:"dwkit-admin-resourceeditor",style:{height:a,display:null==this.state.content?"none":""}}),l.default.createElement(s.Modal,{dimmer:"blurring",open:this.state.popup.show},l.default.createElement(s.Modal.Header,null,"Creating"),l.default.createElement(s.Modal.Content,null,l.default.createElement(s.Form,null,n,l.default.createElement(s.Form.Input,{key:"name",name:"newobjectname",label:DWKitAdminLang.field.name,required:!0,value:this.state.popup.name,onChange:this.handlePopupChange.bind(this),error:null!=this.state.popup.errors}))),l.default.createElement(s.Modal.Actions,null,l.default.createElement(s.Button,{className:"buttontype1",content:DWKitAdminLang.button.create,onClick:this.onCreateItem.bind(this)}),l.default.createElement(s.Button,{className:"buttontype2",content:DWKitAdminLang.button.cancel,onClick:function(){e.setState({popup:{show:!1}})}}))),l.default.createElement(s.Confirm,{open:this.state.confirmdeleteshow,dimmer:"blurring",content:DWKitAdminLang.resourceeditor.confirmdelete,onCancel:function(){e.setState({confirmdeleteshow:!1})},onConfirm:this.onDelete.bind(this)}))}},{key:"handlePopupChange",value:function(e,t){t.name;var n=t.value;t.checked,this.setState({popup:a({},this.state.popup,{name:n})})}},{key:"renderList",value:function(e,t){if(null!=e){var a=this,r=[];t&&r.push(l.default.createElement(s.List.Item,{key:"root"},l.default.createElement(s.List.Icon,{name:"folder"}),l.default.createElement(s.List.Content,null," ",l.default.createElement("a",{href:"#",onClick:a.onItemClick.bind(a,void 0)},"...")," ")));var o=a.getCurrentPath();return e.forEach(function(e){var t="#"+e.id,n=l.default.createElement("a",{href:t,onClick:a.onItemClick.bind(a,e)},e.name);o==t&&(n=l.default.createElement("b",null,n)),e.isDirectory?r.push(l.default.createElement(s.List.Item,{key:e.id},l.default.createElement(s.List.Icon,{name:"folder"}),l.default.createElement(s.List.Content,null,l.default.createElement(s.List.Header,null,n),e.children&&a.renderList(e.children)))):r.push(l.default.createElement(s.List.Item,{key:e.id},l.default.createElement(s.List.Icon,{name:"file text outline"}),l.default.createElement(s.List.Content,null," ",n," ")))}),l.default.createElement(s.List.List,null,r)}}},{key:"onItemClick",value:function(e){if(this.state.item=e,this.state.haschanges=!1,this.state.content=void 0,this.state.imgcontent=void 0,null!=e)if(e.isDirectory)if(null!=e.children){e.children=void 0;var t=this.getParentDir(e);setTimeout(function(){document.location.hash=null!=t?t.id:""},100),this.forceUpdate()}else this.loadDir(e);else this.openFile(e.id);else this.loadDir(void 0)}},{key:"loadDir",value:function(t,n){var a=this;this.sendRequest("dirload",null==t?"":t.id,function(e){e.success?(null==t?a.state.items=e.item:t.children=e.item,null!=n&&n(e.item),a.forceUpdate()):alertify.error(e.message)})}},{key:"openFile",value:function(e){var t=this,n=void 0;this.state.content=void 0,this.redrawEditor();var a=e.lastIndexOf(".");0<a&&(n=e.substring(a+1,e.length)),"png"==n||"jpg"==n||"jpeg"==n||"bmp"==n||"ico"==n?this.sendRequest("fileloadbase64",e,function(e){e.success?(t.state.imgcontent="data:image/"+n+";base64,"+e.item,t.state.content=void 0,t.state.haschanges=!1,t.forceUpdate()):alertify.error(e.message)}):this.sendRequest("fileload",e,function(e){e.success?(t.state.imgcontent=void 0,t.state.content=e.item,t.state.haschanges=!0,t.redrawEditor(n),t.forceUpdate()):alertify.error(e.message)})}},{key:"onSave",value:function(){var t=this,e=[],n=this.editor.getValue();e.push({name:"content",value:n}),this.sendRequest("fileupdate",t.state.item.id,function(e){e.success?(t.openFile(t.state.item.id),alertify.success(DWKitAdminLang.msg.saveok)):alertify.error(e.message)},e)}},{key:"onCancel",value:function(){this.redrawEditor()}},{key:"openPath",value:function(e){var n=this,a=void 0;if(null!=e&&""!=e){"#"==e[0]&&(e=e.substring(1,e.length));var r=[];if(0<(r=0<e.indexOf("/")?e.split("/"):0<e.indexOf("\\")?e.split("\\"):[e]).length){var o=0;a=function(e){if(0!=e.length)for(var t=0;t<e.length;t++)if(e[t].name==r[o]){if(n.state.item=e[t],e[t].isDirectory){n.state.item=e[t],n.loadDir(e[t],a),o++;break}return void n.openFile(e[t].id)}}}}this.loadDir(void 0,a)}},{key:"redrawEditor",value:function(e){if(0<$("#dwkit-admin-resourceeditor").length){if(null==this.editor&&(this.editor=ace.edit("dwkit-admin-resourceeditor")),null!=e){var t="";"js"==e?t="ace/mode/javascript":"jsx"==e?t="ace/mode/jsx":"cs"==e?t="ace/mode/csharp":"css"==e?t="ace/mode/css":"svg"==e?t="ace/mode/svg":"xml"==e?t="ace/mode/xml":"html"==e&&(t="ace/mode/html"),this.editor.getSession().setMode(t)}var n=this.state.content;null==n&&(n=""),this.editor.setValue(n,-1)}}},{key:"onCreateItem",value:function(){var e=this.state.popup.name;""!=e&&null!=e?("dir"==this.state.popup.type?this.createDirectory(e):this.createFile(e),this.setState({popup:{show:!1}})):this.setState({popup:a({},this.state.popup,{errors:DWKitAdminLang.msg.fieldrequired})})}},{key:"createDirectory",value:function(e){var t=this,n=void 0;null!=this.state.item&&(n=this.state.item.isDirectory?this.state.item:this.getParentDir(this.state.item));var a=null==n?e:n.id+"\\"+e;this.sendRequest("dircreate",a,function(e){e.success?(t.loadDir(n),alertify.success(DWKitAdminLang.resourceeditor.foldercreated)):alertify.error(e.message)})}},{key:"createFile",value:function(e,t){var n=this,a=void 0;null!=this.state.item&&(a=this.state.item.isDirectory?this.state.item:this.getParentDir(this.state.item));var r=[];null!=t&&r.push({name:"content",value:t});var o=null==a?e:a.id+"\\"+e;this.sendRequest("filecreate",o,function(e){e.success?(alertify.success(DWKitAdminLang.resourceeditor.filecreated),document.location.hash=null==a?"":a.id,n.state.item=a,n.state.content=void 0,n.state.haschanges=!1,n.loadDir(a)):alertify.error(e.message)},r)}},{key:"onDelete",value:function(){var t=this;if(null!=this.state.item){var n=this.state.item.isDirectory?"dirdelete":"filedelete",a=this.getParentDir(this.state.item);this.sendRequest(n,this.state.item.id,function(e){e.success?(t.state.imgcontent=void 0,t.state.content=void 0,t.state.haschanges=!1,t.state.item=a,document.location.hash=null==a?"":a.id,t.loadDir(a),t.forceUpdate(),alertify.success("dirdeleted"==n?DWKitAdminLang.resourceeditor.folderdeleted:DWKitAdminLang.resourceeditor.filedeleted)):alertify.error(e.message)}),this.setState({confirmdeleteshow:!1}),window.location.hash=null!=a?a.id:""}}},{key:"getParentDir",value:function(e,t){var n=void 0;if(null!=(n=null==t?this.state.items:t.children))for(var a=0;a<n.length;a++){if(n[a].id==e.id)return t;if(null!=n[a].children){var r=this.getParentDir(e,n[a]);if(null!=r)return r}}}},{key:"sendRequest",value:function(e,t,n,a){var r=new Array;this.state.id=t,r.push({name:"operation",value:"resources"}),r.push({name:"suboperation",value:e}),r.push({name:"id",value:t}),null!=a&&a.forEach(function(e){r.push(e)}),$.ajax({url:this.props.apiUrl,data:r,async:!0,type:"post",success:function(e){n(e),Pace.stop()}})}},{key:"getCurrentPath",value:function(){return window.location.hash}}]),c);function c(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(c.__proto__||Object.getPrototypeOf(c)).call(this,e));return t.state={popup:{show:!1}},t}t.default=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e};function r(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}l(n(0)),l(n(2)),n(1);var o=l(n(5)),i=l(n(42));function l(e){return e&&e.__esModule?e:{default:e}}var s=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(u,o.default),a(u,[{key:"gridColumns",value:function(){return[{key:"name",name:DWKitAdminLang.column.name,resizable:!0}]}},{key:"validate",value:function(){var e=!0,t=this.state.editrow,n=DWKitAdminLang.msg.fieldrequired;return t.__error={name:null==t.name||""==t.name?n:void 0},e&=null==t.__error.name}}]),u);function u(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(u.__proto__||Object.getPrototypeOf(u)).call(this,e));return t.dataindex="modules",t.panelindex="modules",t.idfield="id",t.editform=i.default,t.title="Modules",t.datatype="modules",t}t.default=s},function(e,t){e.exports=p},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e};function r(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var k=i(n(0)),o=(i(n(2)),i(n(4))),w=n(1);function i(e){return e&&e.__esModule?e:{default:e}}var l=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(s,o.default),a(s,[{key:"validate",value:function(){return this.props.parent.validate()}},{key:"render",value:function(){this.validate();var e=this.props.metadata.forms,t=[];if(null!=e)for(var n=0;n<e.length;n++){var a=e[n];t.push({text:a.code,value:a.code})}var r=this.props.metadata.dataModel,o=[];if(null!=r)for(n=0;n<r.length;n++){var i=r[n];o.push({text:i.name,value:i.id})}var l=this.props.metadata.codeActions,s=[];if(null!=l)for(n=0;n<l.length;n++){var u=l[n];s.push({text:u.name,value:u.id})}var d=this.props.metadata.workflow,c=[];if(null!=d)for(n=0;n<d.length;n++){var f=d[n];c.push({text:f.code,value:f.code})}var p=this.props.metadata.businessFlow,h=[];if(null!=p)for(n=0;n<p.length;n++)f=p[n],h.push({text:f.name,value:f.id});var m=this.props.metadata.roles,g=[];if(null!=m)for(n=0;n<m.length;n++)f=m[n],g.push({text:f.name,value:f.id});var v=null==this.props.data?[]:this.props.data;this.correctData(v);var y=this.props.onSave.bind(this.props.parent),b=this.props.onCancel.bind(this.props.parent);return k.default.createElement("div",{className:"dwkit-formadmin-formedit"},k.default.createElement(w.Breadcrumb,null,k.default.createElement(w.Breadcrumb.Section,{onClick:this.props.parent.back.bind(this.props.parent),link:!0},"Modules"),k.default.createElement(w.Breadcrumb.Divider,null),k.default.createElement(w.Breadcrumb.Section,{active:!0},v.name)),k.default.createElement("div",{className:"dwkitadmin-toolbar-editform"},k.default.createElement(w.Button,{className:"buttontype1",onClick:y},DWKitAdminLang.button.save),k.default.createElement(w.Button,{className:"buttontype2",onClick:b},DWKitAdminLang.button.cancel)),k.default.createElement("h1",null,this.props.parent.title),k.default.createElement(w.Form,null,k.default.createElement(w.Form.Input,{name:"name",label:DWKitAdminLang.field.name,error:Boolean(v.__error.name),value:v.name,onChange:this.handleChange.bind(this,v)}),k.default.createElement(w.Form.TextArea,{autoHeight:!0,name:"commnet",label:"Comment",error:Boolean(v.__error.comment),onChange:this.handleChange.bind(this,v)}),k.default.createElement("h1",null,"Objects"),k.default.createElement(w.Form.Group,{widths:"equal"},k.default.createElement(w.Form.Dropdown,{label:"Roles",error:Boolean(v.__error.roles),name:"roles",search:!0,options:g,multiple:!0,value:v.roles,onChange:this.handleChange.bind(this,v)}),k.default.createElement(w.Form.Dropdown,{label:"Business flow",error:Boolean(v.__error.businessFlows),name:"businessFlows",search:!0,options:h,multiple:!0,value:v.businessFlows,onChange:this.handleChange.bind(this,v)})),k.default.createElement(w.Form.Group,{widths:"equal"},k.default.createElement(w.Form.Dropdown,{label:"Forms",name:"forms",error:Boolean(v.__error.forms),search:!0,options:t,multiple:!0,value:v.forms,onChange:this.handleChange.bind(this,v)}),k.default.createElement(w.Form.Dropdown,{label:"Worflow schemes",error:Boolean(v.__error.schemes),name:"schemes",search:!0,options:c,multiple:!0,value:v.schemes,onChange:this.handleChange.bind(this,v)})),k.default.createElement(w.Form.Group,{widths:"equal"},k.default.createElement(w.Form.Dropdown,{label:"Entities",error:Boolean(v.__error.entities),name:"entities",search:!0,options:o,multiple:!0,value:v.entities,onChange:this.handleChange.bind(this,v)}),k.default.createElement(w.Form.Dropdown,{label:"CodeActions",error:Boolean(v.__error.codeActions),name:"codeActions",search:!0,options:s,multiple:!0,value:v.codeActions,onChange:this.handleChange.bind(this,v)}))))}},{key:"correctData",value:function(e){null==e.roles&&(e.roles=[]),null==e.businessFlows&&(e.businessFlows=[]),null==e.forms&&(e.forms=[]),null==e.schemes&&(e.schemes=[]),null==e.entities&&(e.entities=[]),null==e.codeActions&&(e.codeActions=[])}},{key:"handleChange",value:function(e,t,n){var a=n.name,r=n.value,o=n.checked;e[a],e[a]=null==r?o:r,this.setUpdatedState(this.props.data),this.forceUpdate()}}]),s);function s(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(s.__proto__||Object.getPrototypeOf(s)).call(this,e));return t.state={},t}t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e};function r(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var o=u(n(0)),i=(u(n(2)),n(1)),l=u(n(5)),s=u(n(44));function u(e){return e&&e.__esModule?e:{default:e}}var d=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(c,l.default),a(c,[{key:"renderToolbar",value:function(){var t=this,n=this;return o.default.createElement("div",{className:"dwkitadmin-toolbar"},o.default.createElement(i.Button,{className:"buttontype1",onClick:function(){n.props.parent.openpage(t.panelindex,"new")}},DWKitAdminLang.button.create),o.default.createElement(i.Button,{className:"buttontype2",onClick:function(){var e=t.grid.getSeletedRowKeys();1!==e.length?alertify.error(DWKitAdminLang.msg.needtoselectoneitem):n.props.parent.openpage(t.panelindex,"new",e[0])}},DWKitAdminLang.button.copy),o.default.createElement(i.Button,{className:"buttontype2",onClick:function(){n.setState({confirmdeleteshow:!0})}},DWKitAdminLang.button.delete))}},{key:"gridColumns",value:function(){return[{key:"name",name:DWKitAdminLang.column.name,resizable:!0},{key:"dbObjectName",name:DWKitAdminLang.data.dbobjectfield,resizable:!0}]}},{key:"validate",value:function(){var t=!0,n=this.state.editrow,a=DWKitAdminLang.msg.fieldrequired,e=void 0;if(null!=n.primaryKeyAttribute&&""!=n.primaryKeyAttribute&&null!=n.attributes){for(var r=!1,o=0;o<n.attributes.length;o++)if(n.primaryKeyAttribute==n.attributes[o].name){r=!0;break}r||(e=!0)}var i=void 0;if(null!=n.extensionsContainerAttribute&&""!=n.extensionsContainerAttribute&&null!=n.attributes){for(var l=!1,s=0;s<n.attributes.length;s++)if(n.extensionsContainerAttribute==n.attributes[s].name){l=!0;break}l||(i=!0)}var u=!!n.name&&this.props.data.dataModel.some(function(e){return e.name.toLowerCase()===n.name.toLowerCase()&&e.id!==n.id});return n.__error={name:null==n.name||""==n.name?a:void 0,dbObjectName:null==n.dbObjectName||""==n.dbObjectName?a:void 0,primaryKeyAttribute:e,extensionsContainerAttribute:i,duplicateName:u},t&=!(n.__error.name||n.__error.dbObjectName||n.__error.primaryKeyAttribute||n.__error.extensionsContainerAttribute||n.__error.duplicateName),null!=n.attributes&&n.attributes.forEach(function(e){e.__error={name:null==e.name||""==e.name?a:void 0,type:0!=e.typeId||null!=e.type&&""!=e.type?void 0:a,referenceEntityId:1!=e.typeId||null!=e.referenceEntityId&&""!=e.referenceEntityId?void 0:a},e.isExtension&&!n.extensionsContainerAttribute&&(e.__error.isExtension=DWKitAdminLang.msg.extensionscontainerfieldrequired,n.__error.extensionsContainerAttribute=DWKitAdminLang.msg.extensionscontainerfieldrequired),t&=null==e.__error.name&&null==e.__error.type&&null==e.__error.referenceEntityId&&null==e.__error.isExtension}),null!=n.triggers&&n.triggers.forEach(function(e){e.__error={triggers:Array.isArray(e.triggers)&&0<e.triggers.length?void 0:a,codeActionId:null==e.codeActionId||""==e.codeActionId?a:void 0},t&=null==e.__error.triggers&&null==e.__error.codeActionId}),t&=null==n.__error.extensionsContainerAttribute}}]),c);function c(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(c.__proto__||Object.getPrototypeOf(c)).call(this,e));return t.dataindex="dataModel",t.panelindex="datamodel",t.defaultNamePrefix="table",t.datatype="datamodel",t.title=DWKitAdminLang.data.title,t.titleGetter=function(e){return e.data.title},t.idfield="id",t.editform=s.default,t}t.default=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e};function r(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var c=i(n(0)),o=(i(n(2)),i(n(3)),i(n(4))),f=n(1);i(n(12));function i(e){return e&&e.__esModule?e:{default:e}}var l=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(s,o.default),a(s,[{key:"validate",value:function(){return this.props.parent.validate()}},{key:"render",value:function(){this.state.needValidate&&(this.validate(),this.state.needValidate=!1);var t=this,e=this.props.data;null==e.attributes&&(e.attributes=[]),null==e.triggers&&(e.triggers=[]);var n=[];this.props.metadata.dataModel.forEach(function(e){n.push({value:e.id,text:e.name})});var a=[];this.props.metadata.codeActions.forEach(function(e){a.push({value:e.name,text:e.name})});var r=[];this.props.metadata.additionalParams.Types.forEach(function(e){r.push({value:e,text:e})});var o=this.props.onCancel.bind(this.props.parent),i=null!=e.__error?e.__error:{};return c.default.createElement("div",{className:"dwkit-formadmin-formedit"},c.default.createElement(f.Breadcrumb,null,c.default.createElement(f.Breadcrumb.Section,{onClick:this.props.parent.back.bind(this.props.parent),link:!0},DWKitAdminLang.data.title),c.default.createElement(f.Breadcrumb.Divider,null),c.default.createElement(f.Breadcrumb.Section,{active:!0},e.name)),c.default.createElement("div",{className:"dwkitadmin-toolbar-editform"},c.default.createElement(f.Button,{className:"buttontype1",onClick:function(){var e=t.props.onSave.bind(t.props.parent);t.props.parent.state.needGlobalReload=!0,e(),t.forceUpdate()}},DWKitAdminLang.button.save),c.default.createElement(f.Button,{className:"buttontype2",onClick:o},DWKitAdminLang.button.cancel)),c.default.createElement("h1",null,this.props.parent.title),(null==e.primaryKeyAttribute||""==e.primaryKeyAttribute)&&c.default.createElement(f.Message,{color:"orange"},DWKitAdminLang.data.notsetprimarykeymsg),i.primaryKeyAttribute&&c.default.createElement(f.Message,{color:"red"},DWKitAdminLang.data.notfoundprimarykeymsg),i.extensionsContainerAttribute&&c.default.createElement(f.Message,{color:"red"},DWKitAdminLang.data.notfoundprimaryextcontmsg),i.duplicateName&&c.default.createElement(f.Message,{color:"red"},DWKitAdminLang.data.nameexistsmsg),c.default.createElement(f.Form,null,c.default.createElement(f.Form.Group,{widths:"equal"},c.default.createElement("div",{className:"field"},c.default.createElement(f.Form.Input,{name:"name",label:DWKitAdminLang.field.name,error:i.name||i.duplicateName,value:e.name,onChange:this.handleChange.bind(this,e)}),c.default.createElement(f.Form.Input,{name:"dbObjectName",label:DWKitAdminLang.data.dbobjectfield,error:Boolean(i.dbObjectName),value:e.dbObjectName,onChange:this.handleChange.bind(this,e)}),c.default.createElement(f.Form.Input,{name:"schemaName",label:DWKitAdminLang.data.schemenamefield,error:Boolean(i.schemaName),value:e.schemaName,onChange:this.handleChange.bind(this,e)})),c.default.createElement("div",{className:"field"},c.default.createElement(f.Form.Input,{name:"primaryKeyAttribute",label:DWKitAdminLang.data.primarykeyfield,error:Boolean(i.primaryKeyAttribute),value:e.primaryKeyAttribute,onChange:this.handleChange.bind(this,e)}),c.default.createElement(f.Form.Input,{name:"extensionsContainerAttribute",label:DWKitAdminLang.data.extensionscontainerfield,error:Boolean(i.extensionsContainerAttribute),value:e.extensionsContainerAttribute,onChange:this.handleChange.bind(this,e)}))),c.default.createElement("div",null,c.default.createElement("h1",{className:"dwkit-formadmin-dataedit-attributeheader"},DWKitAdminLang.field.attributes),c.default.createElement(f.Checkbox,{className:"dwkit-formadmin-dataedit-attributeslider",slider:!0,checked:this.state.showextensioncolumns,onClick:this.onShowExtension.bind(this),label:DWKitAdminLang.data.showextensioncolumnsonly})),c.default.createElement("div",{className:"field",widths:"16"},this.renderAttributes(e.attributes,n,r))))}},{key:"renderAttributes",value:function(e,t,n){var a=[];a.push(c.default.createElement("a",{key:"btnadd",onClick:this.onAddAttribute.bind(this,e)},DWKitAdminLang.data.addattbutton));for(var r=0;r<e.length;r++){var o=e[r],i=null!=o.__error?o.__error:{};if(!0!==this.state.showextensioncolumns||!1!==o.isExtension){var l,s="att_"+o.id,u=1==o.typeId;l=u?c.default.createElement(f.Form.Dropdown,{key:"type",name:"referenceEntityId",selection:!0,fluid:!0,search:!0,label:DWKitAdminLang.data.refentityfield,value:o.referenceEntityId,error:Boolean(i.referenceEntityId),options:t,onChange:this.handleChange.bind(this,o)}):c.default.createElement(f.Form.Dropdown,{key:"type",options:n,selection:!0,fluid:!0,search:!0,name:"type",label:DWKitAdminLang.data.datatypefield,placeholder:"Choose a data type",error:Boolean(i.type),value:o.type,onChange:this.handleChange.bind(this,o)});var d=c.default.createElement(f.Form.Group,{key:s,widths:"equal",className:"dwkit-formadmin-item"},c.default.createElement("div",{key:"c1",className:"field"},c.default.createElement(f.Form.Input,{key:"name",name:"name",label:DWKitAdminLang.field.name,error:Boolean(i.name),value:o.name,onChange:this.handleChange.bind(this,o)}),c.default.createElement("label",{key:"c1label"},DWKitAdminLang.data.optionsfield),c.default.createElement(f.Form.Group,{widths:"equal"},c.default.createElement(f.Form.Checkbox,{name:"isNullable",label:DWKitAdminLang.data.nullablefield,error:Boolean(i.isNullable),checked:o.isNullable,onChange:this.handleChange.bind(this,o)}),c.default.createElement(f.Form.Checkbox,{name:"isCalculated",label:DWKitAdminLang.data.calculatefield,error:Boolean(i.isCalculated),checked:o.isCalculated,onChange:this.handleChange.bind(this,o)}),c.default.createElement(f.Form.Checkbox,{name:"isExtension",label:DWKitAdminLang.data.extensionfield,error:Boolean(i.isExtension),checked:o.isExtension,onChange:this.handleChange.bind(this,o)}))),c.default.createElement("div",{key:"c2",className:"field"},c.default.createElement("label",{key:"c2label"},DWKitAdminLang.field.type),c.default.createElement(f.Form.Group,{key:"c2g"},c.default.createElement(f.Form.Radio,{key:"typeColumn",name:s+"_typeId",error:Boolean(i.typeId),label:DWKitAdminLang.data.columnfield,value:0,checked:0==u,onChange:this.handleChangeTypeId.bind(this,o)}),c.default.createElement(f.Form.Radio,{key:"typeRef",name:s+"_typeId",error:Boolean(i.typeId),label:DWKitAdminLang.data.reffield,value:1,checked:u,onChange:this.handleChangeTypeId.bind(this,o)})),l),c.default.createElement(f.Image,{className:"dwkit-buttonimage",key:"btndelete",src:"/images/dwkit-delete.png",onClick:this.onDeleteAttribute.bind(this,e,o.id)}));a.push(d)}}return 0==e.length&&a.push(c.default.createElement("div",{className:"dwkit-formadmin-info",key:"message"},DWKitAdminLang.data.noattributesmsg,c.default.createElement("br",null),DWKitAdminLang.msg.click," ",c.default.createElement("a",{key:"btnadd2",onClick:this.onAddAttribute.bind(this,e)},DWKitAdminLang.msg.here)," ",DWKitAdminLang.data.forcreatetingmsg)),a}},{key:"handleChangeTypeId",value:function(e,t,n){n.name;var a=n.value;this.handleChange(e,t,{name:"typeId",value:a})}},{key:"handleChange",value:function(e,t,n){var a=n.name,r=n.value,o=n.checked;e[a],null==r?(e[a]=o,"isCalculated"==a&&o?e.isExtension=!1:"isExtension"==a&&o&&(e.isCalculated=!1)):e[a]=r,this.updateStateAndForce()}},{key:"onAddAttribute",value:function(e){var t={id:this.NewGUID(),type:"String",typeId:0,isExtension:this.state.showextensioncolumns};e.unshift(t),this.updateStateAndForce()}},{key:"onDeleteAttribute",value:function(e,t){for(var n=void 0,a=0;a<e.length;a++)if(e[a].id==t){n=a;break}null!=n&&e.splice(n,1),this.updateStateAndForce()}},{key:"updateStateAndForce",value:function(){this.setUpdatedState(this.props.data),this.forceUpdate()}},{key:"onShowExtension",value:function(){this.setState({showextensioncolumns:!this.state.showextensioncolumns})}}],[{key:"getDerivedStateFromProps",value:function(e,t){return{needValidate:!0}}}]),s);function s(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(s.__proto__||Object.getPrototypeOf(s)).call(this,e));return t.state={showextensioncolumns:!1},t}t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},r=function(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e};function o(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var l=u(n(0)),i=(u(n(2)),u(n(4))),s=n(1);u(n(3));function u(e){return e&&e.__esModule?e:{default:e}}var d=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(c,i.default),r(c,[{key:"render",value:function(){var e,t=this.state.data;return e=null==t?l.default.createElement("div",null,l.default.createElement("div",{className:"dwkit-formadmin-info"},l.default.createElement("br",null),l.default.createElement("br",null),l.default.createElement("a",{onClick:this.onRefresh.bind(this)},DWKitAdminLang.datasync.analysingmsg))):0==t.length?l.default.createElement("div",null,l.default.createElement("div",{className:"dwkit-formadmin-info"},l.default.createElement("br",null),l.default.createElement("br",null),DWKitAdminLang.datasync.noneedsyncmsg,l.default.createElement("br",null),l.default.createElement("a",{onClick:this.onRefresh.bind(this)},DWKitAdminLang.datasync.analysingagainmsg))):this.renderChanges(t),l.default.createElement("div",null,l.default.createElement("h1",null,this.titleGetter(DWKitAdminLang)),null!=t&&l.default.createElement("div",{className:"dwkitadmin-toolbar"},l.default.createElement(s.Button,{className:"buttontype2",onClick:this.onRefresh.bind(this)},DWKitAdminLang.button.refresh),l.default.createElement(s.Button,{className:"buttontype1",onClick:this.onApply.bind(this)},DWKitAdminLang.button.applyselectedchanges),l.default.createElement(s.Button,{className:"buttontype2",onClick:this.massChangeSelect.bind(this,void 0,!0)},DWKitAdminLang.button.selectall),l.default.createElement(s.Button,{className:"buttontype2",onClick:this.massChangeSelect.bind(this,void 0,!1)},DWKitAdminLang.button.deselectall),l.default.createElement(s.Checkbox,{slider:!0,checked:this.state.showsystemtables,onClick:this.onShowSystems.bind(this),label:DWKitAdminLang.datasync.showsystemtables})),e)}},{key:"renderChanges",value:function(e){for(var t=[],n=0;n<e.length;n++){var a=e[n];if(0!=this.state.showsystemtables||!this.isSystem(a)){var r=a.id,o=this.getChangedTitle(a.changedType),i=l.default.createElement("div",{key:r,className:"dwkit-formadmin-item"},l.default.createElement(s.Form,{key:"form"},l.default.createElement(s.Form.Group,{key:"formgroup",widths:"equal"},l.default.createElement("div",{key:"formgroupdiv",className:"field eight wide"},l.default.createElement(s.Form.Group,{key:"formgroup2",widths:"equal",style:{width:"400px;"}},l.default.createElement(s.Form.Checkbox,{width:1,name:"select",key:"check",checked:a.__select,onChange:this.handleSelectGroupChange.bind(this,a)}),l.default.createElement("div",{className:"field"},l.default.createElement(s.Form.Input,{key:"name",name:"name",label:DWKitAdminLang.field.name,value:a.name,readOnly:!0}),l.default.createElement(s.Form.Input,{key:"changeTitle",name:"changeTitle",label:DWKitAdminLang.datasync.changedtypefield,error:"deleted"==a.changedType,value:o,readOnly:!0}))),null!=a.changes&&0<a.changes.length&&l.default.createElement("div",{style:{marginTop:"10px"}},l.default.createElement("a",{key:"selectbutton",onClick:this.massChangeSelect.bind(this,a,!0)},DWKitAdminLang.button.select),"  ",l.default.createElement("a",{key:"deselectbutton",onClick:this.massChangeSelect.bind(this,a,!1)},DWKitAdminLang.button.deselect))),l.default.createElement("div",{key:"childrendiv",className:"field"},this.renderChildren(a)))));t.push(i)}}return t}},{key:"isSystem",value:function(e){if(null==e||null==e.name)return!1;for(var t=["dwAppSettings","dwSecurity","dwUploadedFiles","Workflow","dwV_Security","DWAPPSETTINGS","DWSECURITY","DWUPLOADEDFILES","WORKFLOW","DWV_SECURITY"],n=0;n<t.length;n++)if(e.name.startsWith(t[n]))return!0;return!1}},{key:"renderChildren",value:function(e){if(null!=e.changes&&0!=e.changes.length){for(var t=[],n=0;n<e.changes.length;n++){var a,r=e.changes[n],o=r.id;a=null==r.originalValue?this.getChangedTitle(r.changedType):r.originalValue+" -> "+r.newValue;var i=l.default.createElement(s.Form.Group,{key:o,widths:"equal"},l.default.createElement(s.Form.Checkbox,{name:"changeselect",width:1,key:"check",checked:r.__select,onChange:this.handleSelectChange.bind(this,e,r)}),l.default.createElement(s.Form.Input,{name:"parameter",width:5,key:"parameter",label:DWKitAdminLang.field.parameter,value:r.parameter,readOnly:!0}),l.default.createElement(s.Form.Input,{name:"change",width:10,key:"value",label:DWKitAdminLang.datasync.chages,error:"deleted"==r.changedType,value:a,readOnly:!0}));t.push(i)}return t}}},{key:"getChangedTitle",value:function(e){return"new"==e?DWKitAdminLang.datasync.changestypenew:"changed"==e?DWKitAdminLang.datasync.changetypechanged:"deleted"==e?DWKitAdminLang.datasync.changetypedeleted:void 0}},{key:"onApply",value:function(){var t=this,e=this.getChangesForApply(this.state.data);0!=e.length?this.ChangeData(e,function(e){t.onRefresh()}):alertify.error(DWKitAdminLang.msg.needtoselectitems)}},{key:"getChangesForApply",value:function(e){var n=[];return e.forEach(function(e){if(e.__select)n.push(a({},e,{__type:"datasync",__state:"inserted"}));else if(null!=e.changes&&0<e.changes.length){var t=[];e.changes.forEach(function(e){e.__select&&t.push(e)}),0<t.length&&n.push(a({},e,{changes:t,__type:"datasync",__state:"inserted"}))}}),n}},{key:"onRefresh",value:function(){var a=this,e=new Array;e.push({name:"operation",value:"analysedb"}),$.ajax({url:a.props.apiUrl,data:e,async:!0,type:"post",success:function(e){e.success?(a.setState({isloadig:!1,data:e.items}),a.props.parent.load()):alertify.error(e.message)},error:function(e,t){var n=a.getProcessLoadError(e,t);alertify.error(n)}})}},{key:"onSelectAll",value:function(){this.massChangeSelect(void 0,!0)}},{key:"onDeselectAll",value:function(){this.massChangeSelect(void 0,!1)}},{key:"onSelectGroup",value:function(e){this.massChangeSelect(e,!0)}},{key:"onShowSystems",value:function(){this.setState({showsystemtables:!this.state.showsystemtables})}},{key:"onDeselectGroup",value:function(e){this.massChangeSelect(e,!1)}},{key:"massChangeSelect",value:function(e,t){null!=e?(e.__select=t,null!=e.changes&&e.changes.forEach(function(e){e.__select=t})):this.state.data.forEach(function(e){e.__select=t,null!=e.changes&&e.changes.forEach(function(e){e.__select=t})}),this.forceUpdate()}},{key:"handleSelectChange",value:function(e,t,n,a){var r=a.checked;if(t.__select=r,null!=e.changes&&0<e.changes.length){var o=!0;e.changes.forEach(function(e){o&=e.__select}),e.__select=o}this.forceUpdate()}},{key:"handleSelectGroupChange",value:function(e,t,n){var a=n.checked;e.__select=a,null!=e.changes&&e.changes.forEach(function(e){e.__select=a}),this.forceUpdate()}}]),c);function c(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(c.__proto__||Object.getPrototypeOf(c)).call(this,e));return t.titleGetter=function(e){return e.datasync.title},t.state={showsystemtables:!1},t}t.default=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e};function r(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var o=u(n(0)),i=(u(n(2)),n(1)),l=u(n(5)),s=u(n(47));function u(e){return e&&e.__esModule?e:{default:e}}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function f(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var p=(f(h,l.default),a(h,[{key:"getTypeName",value:function(e){var t="Unknown";return 0===e&&(t="Filter"),1===e&&(t="Action"),2===e&&(t="Trigger"),t}},{key:"renderToolbar",value:function(){var e=this;return o.default.createElement("div",{className:"dwkitadmin-toolbar"},o.default.createElement(i.Button,{className:"buttontype1",onClick:function(){e.props.parent.openpage(e.panelindex,"new")}},DWKitAdminLang.button.create),o.default.createElement(i.Button,{className:"buttontype2",onClick:function(){e.setState({confirmdeleteshow:!0})}},DWKitAdminLang.button.delete),o.default.createElement(i.Button,{className:"buttontype1",onClick:this.recompileAll.bind(this)},DWKitAdminLang.button.recompileAll))}},{key:"gridColumns",value:function(){var n=this;return[{key:"name",name:DWKitAdminLang.column.name,resizable:!0,formatter:o.default.createElement(m,{data:this.props.data[this.dataindex],parent:this}),getRowMetaData:function(e){return e}},{key:"definedOnServer",name:DWKitAdminLang.codeaction.defineonservercolumn,resizable:!0,type:"checkbox"},{key:"type",name:DWKitAdminLang.column.type,resizable:!0,type:"custom",customFormatter:function(e){var t=e.value;return n.getTypeName(t)}}]}},{key:"getDefaultObjectCode",value:function(){return""}},{key:"showedit",value:function(e){e.definedOnServer?alertify.error(DWKitAdminLang.codeaction.defineonservermsg):function e(t,n,a){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,a)}if("value"in r)return r.value;var i=r.get;return void 0!==i?i.call(a):void 0}(h.prototype.__proto__||Object.getPrototypeOf(h.prototype),"showedit",this).call(this,e)}},{key:"validate",value:function(){var e=!0,t=this.state.editrow,n=DWKitAdminLang.msg.fieldrequired;return t.__error={name:null==t.name||""==t.name?n:void 0},e&=null==t.__error.name}},{key:"onDelete",value:function(){for(var e=this,t=[],n=[],a=this.grid.getSeletedRowKeys(),r=0;r<this.props.data[this.dataindex].length;r++){for(var o=this.props.data[this.dataindex][r],i=!1,l=0;l<a.length;l++)if(o[this.idfield]==a[l]){i=!0;break}if(i){var s=o;if(s.definedOnServer)return e.setState({confirmdeleteshow:!1}),void alertify.error(DWKitAdminLang.codeaction.defineonserverblockdeletemsg);s.__type=this.datatype,s.__state="deleted",n.push(s)}else t.push(o)}this.ChangeData(n,function(){e.props.data[e.dataindex]=t,e.setState({selectedIndexes:[],confirmdeleteshow:!1})})}}]),h);function h(e){d(this,h);var n=c(this,(h.__proto__||Object.getPrototypeOf(h)).call(this,e));return n.recompileAll=function(){var t=n,e=[];e.push({name:"operation",value:"recompileall"}),$.ajax({url:n.props.apiUrl,data:e,async:!0,type:"post",success:function(e){e.success?(alertify.success(DWKitAdminLang.msg.recompiled),null!==e.result&&void 0!==e.result&&(t.props.parent.state.data.additionalParams.CodeActionErrors=e.result.CodeActionErrors,t.props.parent.forceUpdate())):alertify.error(e.message)}})},n.dataindex="codeActions",n.panelindex="codeactions",n.defaultNamePrefix="",n.idfield="id",n.title=DWKitAdminLang.codeaction.title,n.titleGetter=function(e){return e.codeaction.title},n.datatype="codeactions",n.editform=s.default,n}t.default=p;var m=(f(g,o.default.Component),a(g,[{key:"render",value:function(){var e=this.props.value,t=this.props.parent.props,n=null!=t.data.additionalParams&&null!=t.data.additionalParams.CodeActionErrors?t.data.additionalParams.CodeActionErrors:void 0,a=this.props.dependentValues;return null!=n&&n.hasOwnProperty(this.props.parent.getTypeName(a.type)+"_"+a.name)?o.default.createElement("span",{style:{color:"red"}},o.default.createElement("div",{title:e},e)):o.default.createElement("span",null,o.default.createElement("div",{title:e},e))}},{key:"decapitalizeFirstLetter",value:function(e){return e.charAt(0).toLowerCase()+e.slice(1)}}]),g);function g(e){return d(this,g),c(this,(g.__proto__||Object.getPrototypeOf(g)).call(this,e))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e};function r(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var o=s(n(0)),i=n(1),l=s(n(3));function s(e){return e&&e.__esModule?e:{default:e}}var u=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(d,s(n(4)).default),a(d,[{key:"validate",value:function(){return this.props.parent.validate()}},{key:"componentDidMount",value:function(){this.redrawEditor()}},{key:"redrawEditor",value:function(){var e=null==this.props.data?[]:this.props.data,t=($(window).width(),$(window).height(),ace.edit("dwkit-admin-codeactions-editcode"));t.getSession().setMode("ace/mode/csharp"),null!=e.source&&t.setValue(e.source,-1)}},{key:"render",value:function(){this.validate();var e=this.props.data;return o.default.createElement("div",null,o.default.createElement("div",{className:"dwkitadmin-toolbar-editform"},o.default.createElement(i.Breadcrumb,null,o.default.createElement(i.Breadcrumb.Section,{onClick:this.props.parent.back.bind(this.props.parent),link:!0},DWKitAdminLang.codeaction.title),o.default.createElement(i.Breadcrumb.Divider,null),o.default.createElement(i.Breadcrumb.Section,{active:!0},e.name)),o.default.createElement("div",{className:"dwkitadmin-toolbar-editform"},o.default.createElement(i.Button,{className:"buttontype2",onClick:this.onCompile.bind(this)},DWKitAdminLang.button.compile),o.default.createElement(i.Button,{className:"buttontype1",onClick:this.onSave.bind(this)},DWKitAdminLang.button.save),o.default.createElement(i.Button,{className:"buttontype2",onClick:this.onCancel.bind(this)},DWKitAdminLang.button.cancel)),o.default.createElement("h1",null,this.props.parent.title),o.default.createElement(i.Form,null,o.default.createElement(i.Form.Group,{widths:"equal"},o.default.createElement(i.Form.Input,{name:"name",label:DWKitAdminLang.field.name,error:Boolean(e.__error.name),value:e.name,onChange:this.handleChange.bind(this,e)}),o.default.createElement("div",{className:"field"},o.default.createElement("label",null,DWKitAdminLang.field.type),o.default.createElement(i.Form.Group,{widths:"equal"},o.default.createElement(i.Form.Radio,{name:"type",label:"Filter",value:0,checked:0===e.type,onChange:this.handleChange.bind(this,e)}),o.default.createElement(i.Form.Radio,{name:"type",label:"Action",value:1,checked:1===e.type,onChange:this.handleChange.bind(this,e)}),o.default.createElement(i.Form.Radio,{name:"type",label:"Trigger",value:2,checked:2===e.type,onChange:this.handleChange.bind(this,e)}),o.default.createElement(i.Form.Checkbox,{name:"isAsync",label:"IsAsync",checked:e.isAsync,onChange:this.handleChange.bind(this,e)})))),o.default.createElement(i.Form.Group,{widths:"equal"},o.default.createElement(i.Form.TextArea,{rows:6,name:"usings",label:DWKitAdminLang.codeaction.usingsfield,value:e.usings,onChange:this.handleChange.bind(this,e)}),o.default.createElement(i.Form.TextArea,{rows:6,name:"comment",label:DWKitAdminLang.field.comment,value:e.comment,onChange:this.handleChange.bind(this,e)}))),o.default.createElement("span",null,this.getDefine(e.name,e.type,e.isAsync)),o.default.createElement("div",{id:"dwkit-admin-codeactions-editcode",style:{height:"415px"}}),this.state.message&&o.default.createElement(i.TextArea,{className:"dwkit-admin-codeactions-result",readOnly:!0,value:this.state.message})),o.default.createElement(i.Modal,{open:this.state.showConfirmRebuild,onClose:this.confirmNoHandler},o.default.createElement(i.Modal.Header,null,DWKitAdminLang.form.messagetitle),o.default.createElement(i.Modal.Content,null,o.default.createElement("p",null,DWKitAdminLang.msg.recompiledialog)),o.default.createElement(i.Modal.Actions,null,o.default.createElement(i.Button,{className:"buttontype1",content:DWKitAdminLang.button.yes,onClick:this.confirmYesHandler}),o.default.createElement(i.Button,{className:"buttontype2",content:DWKitAdminLang.button.no,onClick:this.confirmNoHandler}))))}},{key:"onSave",value:function(){var t=this,e=ace.edit("dwkit-admin-codeactions-editcode").getValue(),n=this.props.data;n.source=e;var a=this.props.parent.getEditRow(),r=a.source!==n.source||a.name!==n.name||a.type!==n.type||a.isAsync!==n.isAsync;this.setUpdatedState(n),this.props.onSave.bind(this.props.parent)(function(e){r&&t.setState({showConfirmRebuild:!0})})}},{key:"onCancel",value:function(){this.props.onCancel.bind(this.props.parent)(),this.redrawEditor()}},{key:"handleChange",value:function(e,t,n){var a=n.name,r=n.value,o=n.checked;if(e[a],e[a]=null==r?o:r,"type"===a){var i=this.getDefaultCodeByType(r);ace.edit("dwkit-admin-codeactions-editcode").setValue(i,-1)}this.setUpdatedState(this.props.data),this.forceUpdate()}},{key:"onCompile",value:function(){var t=this,e=ace.edit("dwkit-admin-codeactions-editcode").getValue();this.props.data.source=e;var n=new Array;n.push({name:"operation",value:"compile"}),n.push({name:"item",value:l.default.stringify(this.props.data)}),$.ajax({url:t.props.apiUrl,data:n,async:!0,type:"post",success:function(e){e.success?(alertify.success(DWKitAdminLang.msg.compileok),t.setState({message:void 0})):(alertify.error(e.message),t.setState({message:e.message}))}})}},{key:"getDefaultUsings",value:function(){return"System;\nSystem.Collections;\nSystem.Collections.Generic;\nSystem.Linq;\nSystem.Threading;\nSystem.Threading.Tasks;\nOptimaJet.Workflow;\nOptimaJet.Workflow.Core.Runtime;\nOptimaJet.Workflow.Core.Model;\nOptimaJet.DWKit.Core;\nOptimaJet.DWKit.Core.Model;"}},{key:"getDefaultCodeByType",value:function(e,t){var n="";return 0==e?n="//TODO: Replace the emplty filter to your filter;\nreturn Filter.Empty;":1==e?n="//TODO: Call your actons;\nreturn null;":2==e&&(n="//TODO: Check your trigger;\nreturn TriggerResult.Success();"),n}},{key:"getDefine",value:function(e,t,n){var a="",r="";return null==e&&(e="____"),0==t?(a=n?"public static async Task<Filter>":"public static Filter",r="(EntityModel model, List<dynamic> entities, dynamic options)"):1==t?(a=n?"public static async Task<object>":"public static object",r="(dynamic request)"):2==t&&(a=n?"public static async Task<TriggerResult>":"public static TriggerResult",r="(EntityModel model, List<dynamic> entities, TriggerExecutionContext context, dynamic options)"),o.default.createElement("span",{className:"dwkit-admin-codeactions-define"},a," ",o.default.createElement("span",{className:"dwkit-admin-codeactions-definefunctionname"},e),r)}}]),d);function d(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,d);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(d.__proto__||Object.getPrototypeOf(d)).call(this,e));return t.confirmYesHandler=function(){t.setState({showConfirmRebuild:!1}),t.props.parent.recompileAll()},t.confirmNoHandler=function(){t.setState({showConfirmRebuild:!1})},t.state={},"inserted"==e.data.__state&&null==e.data.type&&(e.data.type=0,e.data.usings=t.getDefaultUsings(),e.data.source=t.getDefaultCodeByType(e.data.type,e.data.isAsync)),t}t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e};function r(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}l(n(0)),l(n(2)),n(1),l(n(3));var o=l(n(6)),i=l(n(49));function l(e){return e&&e.__esModule?e:{default:e}}var s=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(u,o.default),a(u,[{key:"gridColumns",value:function(){return[{key:"name",name:DWKitAdminLang.column.name,resizable:!0},{key:"isTemplate",name:DWKitAdminLang.column.template,resizable:!0,type:"checkbox"}]}}]),u);function u(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(u.__proto__||Object.getPrototypeOf(u)).call(this,e));return t.editform=i.default,t.dataindex="forms",t.idfield="name",t.panelindex="forms",t.datatype="form",t.title=DWKitAdminLang.form.title,t.titleGetter=function(e){return e.form.title},t.ignoreidcase=!0,t}t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},a=function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e};function r(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var c=l(n(0)),f=(l(n(2)),n(1)),p=l(n(50)),o=l(n(3)),i=l(n(4));function l(e){return e&&e.__esModule?e:{default:e}}var h={icon:"browser"},m={icon:"server"},g={icon:"lightning"},s=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(u,i.default),a(u,[{key:"componentDidMount",value:function(){this.loadform()}},{key:"loadform",value:function(){var n=this,t=!1;if(n.state.id=n.props.data.name,this.props.metadata.forms.forEach(function(e){e.name===n.props.data.name&&(t=!0)}),!t)return this.props.data.__state="inserted",void(null!=n.builder&&n.builder.create());var e=new Array;e.push({name:"operation",value:"loadform"}),e.push({name:"name",value:n.props.data.name}),$.ajax({url:n.props.apiUrl,data:e,async:!0,type:"post",success:function(e){if(e.success){var t=JSON.parse(e.item.source);null!=n.builder&&n.builder.loadData(t),n.setState({actionHandlers:e.item.actionHandlers}),n.forceUpdate()}else alertify.error(e.message)}})}},{key:"messageClose",value:function(){this.setState({message:void 0})}},{key:"getForm",value:function(e){Pace.start();var t=new Array;t.push({name:"operation",value:"loadform"}),t.push({name:"name",value:e});var n=$.ajax({url:this.props.apiUrl,data:t,async:!1,type:"post"}).responseJSON;Pace.stop();var a=void 0;if(n.success)if(null!=n.item&&null!=n.item.source)a=o.default.parse(n.item.source);else{var r="FormBuilder: Incorrect source of '"+e+"' form!";alertify.error(r)}else alertify.error(n.message);return a}},{key:"getFormList",value:function(){var t=[];return this.props.metadata.forms.forEach(function(e){t.push(e.name)}),t}},{key:"getTemplateList",value:function(){var t=this,n=[];return this.props.metadata.forms.forEach(function(e){e.isTemplate&&e.name!==t.props.data.name&&n.push(e.name)}),n}},{key:"getAdditionalDataForControl",value:function(e,t,n){var a=t.startIndex,r=t.pageSize,o=(t.filters,t.sort,t.model);if("dictionary"===e.props["data-buildertype"]||"treepicker"===e.props["data-buildertype"]){for(var i=[],l=0;l<3;l++){var s={};s.key=o+"_"+l,s.text=o+"_"+l,s.value=l,i.push(s)}n({items:i})}else{for(var u=[],d=function(t){var n={};e.props.columns.forEach(function(e){n[e.key]=e.key+"_"+(Number(a)+Number(t))}),u.push(n)},c=0;c<r;c++)d(c);n({startIndex:a,pageSize:r,rowsCount:5,items:u})}}},{key:"render",value:function(){var t=this;this.state.id!==this.props.data.name&&this.loadform();var e=[];if(this.state.actionHandlers&&(e=this.state.actionHandlers.map(function(e){return d({},g,{text:e})})),this.props.parent.props.controlActions){var n=this.props.parent.props.controlActions.map(function(e){return"string"==typeof e?d({},h,{text:e}):e});e=e.concat(n.filter(function(t){return e.every(function(e){return e.text!==t.text})}))}if(this.props.parent.props.data&&this.props.parent.props.data.codeActions){var a=this.props.parent.props.data.codeActions.filter(function(e){return 1===e.type});e=e.concat(a.filter(function(t){return e.every(function(e){return e.text!==t.name})}).map(function(e){return d({},m,{text:e.name})}))}e.sort(function(e,t){return e.text.localeCompare(t.text)});var r=[];function o(){t.setState({workflowopen:!1})}function i(){t.setState({securityopen:!1})}this.props.metadata.workflow.forEach(function(e){r.push({text:e.code,value:e.code})});var l=null!=this.state.message,s=this.state.dropzoneactive?"":"dwkit-formbuilder-selector-preview",u=this.state.isFullScreen?"dwkit-admin-formbuilder-container-fullscreen":"dwkit-admin-formbuilder-container";return c.default.createElement("div",null,c.default.createElement("div",null,c.default.createElement("div",{className:"dwkit-admin-formheader-breadcrumb"},c.default.createElement(f.Breadcrumb,null,c.default.createElement(f.Breadcrumb.Section,{onClick:this.props.parent.back.bind(this.props.parent),link:!0},DWKitAdminLang.form.title),c.default.createElement(f.Breadcrumb.Divider,null),c.default.createElement(f.Breadcrumb.Section,{active:!0},this.props.data.name),c.default.createElement(f.Breadcrumb.Divider,{icon:"right angle"}),c.default.createElement(f.Breadcrumb.Section,{href:"?apanel=formdata&aid="+this.state.id,onClick:this.openDataMap.bind(this)},DWKitAdminLang.form.datamap),c.default.createElement(f.Breadcrumb.Divider,null),c.default.createElement(f.Breadcrumb.Section,{href:"?apanel=actionhandlers&aid="+this.state.id,onClick:this.openActionHandlers.bind(this)},DWKitAdminLang.form.actionhandler))),c.default.createElement("div",{className:"dwkit-admin-formheader-parameters"},c.default.createElement(f.Checkbox,{name:"isTemplate",label:DWKitAdminLang.form.template,checked:this.props.data.isTemplate,onChange:this.handleChange.bind(this)}))),c.default.createElement("div",{id:"formbuildercontainer",className:u},c.default.createElement("div",null,c.default.createElement("div",{className:"dwkit-admin-form-buttons"},c.default.createElement(f.Button,{className:"buttontype1",onClick:this.onSave.bind(this)},DWKitAdminLang.button.save),c.default.createElement(f.Button,{className:"buttontype2",onClick:this.onDownload.bind(this)},DWKitAdminLang.button.download),c.default.createElement(f.Button,{className:"buttontype2",onClick:this.onUpload.bind(this)},DWKitAdminLang.button.upload),c.default.createElement(f.Button,{className:"buttontype2",onClick:function(){t.setState({workflowopen:!0})}},DWKitAdminLang.button.workflow),c.default.createElement(f.Button,{className:"buttontype2",onClick:function(){t.setState({securityopen:!0})}},DWKitAdminLang.button.security),c.default.createElement("div",{style:{display:"inline",float:"right"}},c.default.createElement("div",{className:"dwkit-formbuilder-selector"},c.default.createElement("span",{className:s},DWKitAdminLang.form.preview),c.default.createElement(f.Checkbox,{toggle:!0,name:"cbShowDropzones",label:DWKitAdminLang.form.builder,checked:this.state.dropzoneactive,onChange:this.handleShowDropzonesClick.bind(this)})),c.default.createElement(f.Button,{className:"buttontype2",onClick:this.onFullscreen.bind(this)},DWKitAdminLang.form.fullscreenbutton),c.default.createElement(f.Button,{className:"buttontype2",onClick:this.onClearForm.bind(this)},DWKitAdminLang.form.clearformbutton))),c.default.createElement("form",{action:"",id:"dwkitadmin-form-uploadform",method:"post",style:{display:"none"},encType:"multipart/form-data",onSubmit:this.onEmpty.bind(this)},c.default.createElement("input",{type:"file",name:"dwkitadmin-form-uploadfile",id:"dwkitadmin-form-uploadfile",onChange:this.onUpload_onchange.bind(this)})),c.default.createElement(p.default,{actions:e,getFormFunc:this.getForm.bind(this),getFormList:this.getFormList.bind(this),getAdditionalDataForControl:this.getAdditionalDataForControl.bind(this),ref:function(e){t.builder=e},localization:window.DWKitAdminLang.formbuilder,templates:this.getTemplateList(),externalControlList:this.props.externalControlList,externalControlRender:this.props.externalControlRender,externalControlsOnly:this.props.externalControlsOnly}),c.default.createElement(f.Modal,{dimmer:"blurring",open:l,onClose:this.messageClose.bind(this)},c.default.createElement(f.Modal.Header,null,DWKitAdminLang.form.messagetitle),c.default.createElement(f.Modal.Content,null,c.default.createElement("p",null,this.state.message)),c.default.createElement(f.Modal.Actions,null,c.default.createElement(f.Button,{icon:"check",content:DWKitAdminLang.button.ok,onClick:this.messageClose.bind(this)}))),c.default.createElement(f.Modal,{dimmer:"blurring",open:this.state.workflowopen,onClose:o},c.default.createElement(f.Modal.Header,null,DWKitAdminLang.form.workflowwindowtitle),c.default.createElement(f.Modal.Content,null,c.default.createElement("p",null,DWKitAdminLang.form.workflowinfoblock),c.default.createElement(f.Form.Dropdown,{label:DWKitAdminLang.form.workflowschemesfield,name:"schemes",multiple:!0,search:!0,selection:!0,options:r,value:null==this.props.data.schemes?[]:this.props.data.schemes,onChange:this.handleChange.bind(this)})),c.default.createElement(f.Modal.Actions,null,c.default.createElement(f.Button,{className:"buttontype1",content:DWKitAdminLang.button.apply,onClick:o}))),c.default.createElement(f.Modal,{dimmer:"blurring",open:this.state.securityopen,onClose:i},c.default.createElement(f.Modal.Header,null,DWKitAdminLang.form.securitywindowtitle),c.default.createElement(f.Modal.Content,null,c.default.createElement("p",null,DWKitAdminLang.form.securityinfoblock),c.default.createElement(f.Form.Input,{label:DWKitAdminLang.form.permissionsgroupfield,name:"securityGroup",value:this.props.data.securityGroup,onChange:this.handleChange.bind(this)})),c.default.createElement(f.Modal.Actions,null,c.default.createElement(f.Button,{className:"buttontype1",content:DWKitAdminLang.button.apply,onClick:i}))))))}},{key:"openDataMap",value:function(e){this.props.parent.props.parent.openpage("formdata",this.state.id),e.preventDefault()}},{key:"openActionHandlers",value:function(e){this.props.parent.props.parent.openpage("actionhandlers",this.state.id),e.preventDefault()}},{key:"onClearForm",value:function(){this.builder.create()}},{key:"onSave",value:function(){var t=this;this.props.data.source=JSON.stringify(this.builder.getData()),t.setUpdatedState(this.props.data),this.props.data.__type=this.props.parent.datatype,this.ChangeData([this.props.data],function(e){t.props.data.__state,t.ResetSystemProps(t.props.data),t.props.parent.applyeditrow()})}},{key:"onDownload",value:function(){this.builder.download()}},{key:"onUpload",value:function(){$("#dwkitadmin-form-uploadfile").trigger("click")}},{key:"onUpload_onchange",value:function(){this.builder.upload($("#dwkitadmin-form-uploadfile")[0],function(){alertify.success(DWKitAdminLang.msg.fileupoaded)})}},{key:"onFullscreen",value:function(){this.setState({isFullScreen:!this.state.isFullScreen})}},{key:"handleShowDropzonesClick",value:function(e,t){t.name;var n=t.checked;this.builder.setBuilderMode(n),this.setState({dropzoneactive:n})}},{key:"handleChange",value:function(e,t){var n=t.name,a=t.value,r=t.checked;this.props.data[n]=void 0!==r?r:a,this.forceUpdate()}},{key:"onEmpty",value:function(){}}]),u);function u(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(u.__proto__||Object.getPrototypeOf(u)).call(this,e));return t.state={dropzoneactive:!0,actionHandlers:[]},t}t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e};function r(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var o=f(n(0)),i=(f(n(2)),f(n(51))),l=f(n(80)),s=f(n(13)),u=f(n(81)),d=f(n(82)),c=n(1);function f(e){return e&&e.__esModule?e:{default:e}}var p,h=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(m,o.default.Component),a(m,[{key:"exists",value:function(e){return s.default.exists(e)}},{key:"setBuilderMode",value:function(e){e?($(".dwkit-formbuilder-zone").show(),$(".dwkit-formbuilder-item-toolbar-header").show()):($(".dwkit-formbuilder-zone").hide(),$(".dwkit-formbuilder-item-toolbar-header").hide()),this.setState({dropzoneactive:e})}},{key:"create",value:function(){s.default.setData([]),this.setBuilderMode(!0)}},{key:"loadData",value:function(e){s.default.setData(e),this.setBuilderMode(!0)}},{key:"getData",value:function(){return s.default.getData()}},{key:"load",value:function(e){var t=this.props.getFormFunc(e);s.default.setData(t),this.setState({code:e}),this.setBuilderMode(!0)}},{key:"download",value:function(){var e=s.default.getData(),t=JSON.stringify(e,null,2),n=new Blob([t],{type:"octet/stream"}),a=window.URL.createObjectURL(n);if(void 0!==window.navigator.msSaveBlob)window.navigator.msSaveBlob(n,"form.json");else{var r=document.createElement("a");r.setAttribute("href",a),r.setAttribute("download","form.json"),document.body.appendChild(r),r.click()}}},{key:"upload",value:function(e,t){var n=e.files[0],a=new FileReader;a.onload=function(e){var t=JSON.parse(e.target.result);s.default.setData(t)},a.readAsText(n)}},{key:"handleShowDropzonesClick",value:function(e,t){t.name;var n=t.checked;this.setBuilderMode(n)}},{key:"onChooseFileUpload",value:function(e){$("#builderUploadFile").click()}},{key:"onChangeFileUpload",value:function(e){$("#builderUploadSubmit").click()}},{key:"onUpload",value:function(e){e.preventDefault(),this.upload(document.getElementById("builderUploadFile"))}},{key:"onDownload",value:function(e){this.download()}},{key:"scroll",value:(p=function(e){var t=$(window).scrollTop();$(window).scrollTop(t+e),stop||setTimeout(function(){scroll(e)},20)},g.toString=function(){return p.toString()},g)},{key:"getHeader",value:function(){var e=this.getCurrentLocalization(),t=[];this.props.extraHeaderButtons&&this.props.extraHeaderButtons.forEach(function(e){t.push(o.default.createElement(c.Button,{key:e.name,name:e.name,className:e.className,onClick:e.onClick},e.text))});var n=this.state.dropzoneactive?"":"dwkit-formbuilder-selector-preview";return o.default.createElement("div",{className:"dwkit-formbuilder-header"},o.default.createElement("div",{className:"dwkit-formbuilder-header-left"},o.default.createElement("a",{target:"_blank",href:"https://formbuilder.dev"},o.default.createElement("img",{className:"dwkit-formbuilder-header-logo",src:"/images/logo.svg"}))),o.default.createElement("div",{className:"dwkit-formbuilder-header-center"},o.default.createElement(c.Button,{name:"btnEmpty",className:"buttontype2",onClick:this.create.bind(this)},e.clearbutton),o.default.createElement(c.Button,{name:"btnUpload",className:"buttontype2",onClick:this.onChooseFileUpload.bind(this)},e.uploadbutton),o.default.createElement(c.Button,{name:"btnDownload",className:"buttontype2",onClick:this.onDownload.bind(this)},e.downloadbutton),t),o.default.createElement("div",{className:"dwkit-formbuilder-header-right"},o.default.createElement("div",{className:"dwkit-formbuilder-selector"},o.default.createElement("span",{className:n},"Preview"),o.default.createElement(c.Checkbox,{toggle:!0,name:"cbShowDropzones",label:"Builder",checked:this.state.dropzoneactive,onChange:this.handleShowDropzonesClick.bind(this)})),o.default.createElement("form",{action:"/",method:"post",id:"builderUploadForm",style:{display:"none"},onSubmit:this.onUpload.bind(this)},o.default.createElement("input",{type:"file",id:"builderUploadFile",onChange:this.onChangeFileUpload.bind(this)}),o.default.createElement("input",{type:"submit",id:"builderUploadSubmit"}))))}},{key:"render",value:function(){var e=this.getCurrentLocalization(),t="dwkit-formbuilder";this.state.dropzoneactive&&(t+=" dwkit-formbuilder-dropzoneactive");var n=o.default.createElement("div",{className:t,onDragOver:this.onDragOver},o.default.createElement("div",{className:"dwkit-formbuilder-content"},o.default.createElement(l.default,{getFormFunc:this.props.getFormFunc,getFormFist:this.props.getFormFist,getAdditionalDataForControl:this.props.getAdditionalDataForControl,localization:e.preview,downloadUrl:this.props.downloadUrl,uploadUrl:this.props.uploadUrl,externalControlRender:this.props.externalControlRender,externalControlList:this.props.externalControlList}),o.default.createElement(u.default,{actions:this.props.actions,localization:e.editforms,externalControlList:this.props.externalControlList})),o.default.createElement(i.default,{localization:e.toolbar,templates:this.props.templates,externalControlList:this.props.externalControlList,externalControlsOnly:this.props.externalControlsOnly}));return this.props.showHeader?o.default.createElement("div",null,this.getHeader(),n):n}},{key:"getCurrentLocalization",value:function(){return null!=this.props.localization?this.props.localization:d.default}}]),m);function m(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,m);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(m.__proto__||Object.getPrototypeOf(m)).call(this,e));return t.onDragOver=function(e){e.clientY<150&&t.scroll(-10),e.clientY>$(window).height()-150&&t.scroll(10)},t.state={apiurl:e.apiurl,imagefolder:e.imagefolder,dropzoneactive:!0},t}function g(e){return p.apply(this,arguments)}t.default=h},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e};function r(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var s=u(n(0)),o=u(n(7)),i=u(n(9)),l=n(18);function u(e){return e&&e.__esModule?e:{default:e}}var d=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(c,s.default.Component),a(c,[{key:"makeLocalization",value:function(e){if(this.props.localization)for(var t=this.props.localization,n=0;n<e.length;n++)null!=t[e[n].key]&&(e[n].title=t[e[n].key])}},{key:"onDragStart",value:function(e,t){var n=".dwkit-formbuilder-zone";if(t.dataTransfer.setData("text",""),null!=e.forContainerType){var a=e.forContainerType.split(","),r="";a.forEach(function(e){0<r.length&&(r+=","),r+="[data-buildertype='"+e+"'] > "+n}),n=r}$(n).addClass("dwkit-formbuilder-zone-active").on("dragenter",this.onTargetDragEnter.bind(this,e,"dwkit-formbuilder-zone-select")).on("dragleave",this.onTargetDragLeave.bind(this,e,"dwkit-formbuilder-zone-select")).on("dragover",function(e){e.preventDefault()}).on("drop",this.onDrop.bind(this,e))}},{key:"onTargetDragEnter",value:function(e,t,n){$(n.target).addClass(t)}},{key:"onTargetDragLeave",value:function(e,t,n){$(n.target).removeClass(t)}},{key:"onDragEnd",value:function(e){this.stop=!1;var t=$(".dwkit-formbuilder-zone");t.removeClass("dwkit-formbuilder-zone-active"),t.removeClass("dwkit-formbuilder-zone-select"),t.off()}},{key:"onDrop",value:function(e,t){var n=$(t.target);return 0<n.length&&o.default.add(e,n[0]),this.onDragEnd(e),!1}},{key:"onDoubleClick",value:function(e){o.default.add(e)}},{key:"onExpand",value:function(e,t){e.isexpanded=t,this.setCookie("toolbar_"+e.key,t),this.forceUpdate()}},{key:"getCookie",value:function(e){var t=document.cookie.match(new RegExp("(?:^|; )"+e.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,"\\$1")+"=([^;]*)"));return t?decodeURIComponent(t[1]):void 0}},{key:"setCookie",value:function(e,t,n){var a=(n=n||{}).expires;if("number"==typeof a&&a){var r=new Date;r.setTime(r.getTime()+1e3*a),a=n.expires=r}a&&a.toUTCString&&(n.expires=a.toUTCString());var o=e+"="+(t=encodeURIComponent(t));for(var i in n){o+="; "+i;var l=n[i];!0!==l&&(o+="="+l)}document.cookie=o}},{key:"render",value:function(){var o=this,i=this,l=!1;return s.default.createElement("div",{className:"dwkit-formbuilder-toolbox"},s.default.createElement("ul",null,this.state.items.map(function(e){var t=e.title;if(null!=i.props.localization&&null!=i.props.localization[e.key]&&(t=i.props.localization[e.key]),e.isseparate){var n,a;if(null==e.isexpanded){var r=i.getCookie("toolbar_"+e.key);e.isexpanded=null!=r?"true"==r:e.defaultopen}return n=e.isexpanded?(l=!0,a=i.onExpand.bind(i,e,!1),s.default.createElement("span",null,"–")):(l=!1,a=i.onExpand.bind(i,e,!0),s.default.createElement("span",null,"+")),s.default.createElement("li",{draggable:"false",onClick:a,className:"dwkit-formbuilder-toolbox-subheader",key:e.key},t,n)}if(l)return null!=e.imagewidth&&e.imagewidth,null!=e.imageheight&&e.imageheight,s.default.createElement("li",{draggable:"true",className:"dwkit-formbuilder-toolbox-control",key:e.key,onDragStart:o.onDragStart.bind(o,e),onDragEnd:o.onDragEnd.bind(o,e),onDoubleClick:o.onDoubleClick.bind(o,e)},s.default.createElement("img",{className:"dwkit-formbuilder-toolbox-control-icon",src:"/images/dwkitbuilder-toolbar-move.png"}),s.default.createElement("div",{className:"dwkit-formbuilder-toolbox-control-text"},t))})))}}]),c);function c(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(c.__proto__||Object.getPrototypeOf(c)).call(this,e)),n=t.props.externalControlsOnly;!0!==n&&!1!==n&&window.DWKitFormSettings&&(n=window.DWKitFormSettings.externalControlsOnly);var a=[];n||(a=[].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(i.default.Items))),Array.isArray(t.props.templates)&&0<t.props.templates.length&&(a.push({key:"sepTemplates",title:"Templates",isseparate:!0,defaultopen:!1}),t.props.templates.forEach(function(e){a.push({key:e,builderType:"customblock",title:e,control:void 0,editControl:l.CustomBlockEditControl,defaultValues:{formname:e,sourceType:"form"}})}));var r=t.props.externalControlList;return!r&&window.DWKitFormSettings&&(r=window.DWKitFormSettings.externalControlList),r&&(a=a.concat(r)),t.makeLocalization(a),t.state={items:a},t}t.default=d},function(e,t){e.exports=h},function(e,t){e.exports=m},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},a=function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e};function r(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var u=o(n(0)),d=n(1),c=o(n(8));function o(e){return e&&e.__esModule?e:{default:e}}var i=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(l,u.default.Component),a(l,[{key:"render",value:function(){var a=this,r=this.props.data,e=this.props.events,o=[];Array.isArray(this.props.actions)&&this.props.actions.forEach(function(e){"string"==typeof e?o.push({text:e,value:e}):o.push(s({},e,{value:e.text}))});var i=[].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(this.props.targets)),l=[];return e.forEach(function(e){var t=e+"_events",n=null!=r?r[e]:void 0;null==n&&(n={}),null==n.actions&&(n.actions=[]),null==n.targets&&(n.targets=[]),null==n.parameters&&(n.parameters=[]),Array.isArray(n.actions)&&n.actions.forEach(function(e){for(var t=!1,n=0;n<o.length;n++)if(e==o[n].value){t=!0;break}t||o.push({text:e,value:e})}),Array.isArray(n.targets)&&n.targets.forEach(function(e){for(var t=!1,n=0;n<i.length;n++)if(e===i[n].value){t=!0;break}t||i.push({text:e,value:e})}),l.push(u.default.createElement("div",{key:t},u.default.createElement(d.Form.Checkbox,{width:3,key:"active",label:e,name:"active",checked:n.active,onChange:a.handleChange.bind(a,e)}),u.default.createElement("div",{key:"divGroup",style:n.active?{}:{display:"none"}},u.default.createElement(d.Form.Group,{key:"Group"},u.default.createElement(d.Form.Dropdown,{key:"actions",label:"Actions",multiple:!0,search:!0,selection:!0,allowAdditions:!0,className:"dwkit-action-dropdown",name:"actions",options:o,value:n.actions,onAddItem:a.actionsOnAddItem.bind(a),onChange:a.handleChange.bind(a,e)}),u.default.createElement(c.default,{key:"parameters",columns:["name","value"],label:"Parameters",name:"parameters",value:n.parameters,onChange:a.handleChange.bind(a,e)}),u.default.createElement(d.Form.Dropdown,{key:"targets",label:"Targets",multiple:!0,search:!0,selection:!0,name:"targets",options:i,value:n.targets,onChange:a.handleChange.bind(a,e)})))))}),u.default.createElement("div",null,l)}},{key:"handleChange",value:function(e,t,n){var a=n.name,r=n.value,o=n.checked,i=this.props.data[e];null==i&&(i={},this.props.data[e]=i),null==r&&null!=o?i[a]=o:null!=(i[a]=r)&&""!=r&&(i.active=!0),null!=this.props.onChange&&this.props.onChange(t,{name:this.props.name,value:this.props.data})}},{key:"actionsOnAddItem",value:function(e,t){var n=t.value;null!=this.props.onAdditionActions&&this.props.onAdditionActions(e,{value:n})}}]),l);function l(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(l.__proto__||Object.getPrototypeOf(l)).call(this,e));return t.state={},t}t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e};function r(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var u=i(n(0)),o=i(n(3)),d=n(1);function i(e){return e&&e.__esModule?e:{default:e}}var l=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(s,u.default.Component),a(s,[{key:"handleItemClick",value:function(e,t){var n=t.name;null!=this.props.handleEvent&&0!=this.props.handleEvent({e:e,key:this.props.name,eventName:"onItemClick",parameters:{target:n}})&&this.setState({activeitem:n})}},{key:"handleItemClick2",value:function(e,t){this.handleItemClick(t,e),t.preventDefault()}},{key:"render",value:function(){var e=this.props["data-items"];null==e||""==e?e=[]:Array.isArray(e)||(e=o.default.parse(e));var t=this.renderItems(e),n={};for(var a in this.props)"data-items"!=a&&"activeItem"!=a&&"handleEvent"!=a&&"link"!=a&&(n[a]=this.props[a]);return u.default.createElement(d.Menu,n,t)}},{key:"renderItems",value:function(e,t){var n=[];void 0===t&&(t="");for(var a=0;a<e.length;a++){var r=e[a];if(void 0!==r.visibleCondition&&null!==r.visibleCondition&&""!==r.visibleCondition){var o="return "+r.visibleCondition;try{if(!new Function("",o)())continue}catch(e){}}var i=String(t)+String(a),l=u.default.createElement("span",{dangerouslySetInnerHTML:{__html:r.title}});if(Array.isArray(r.children)&&0<r.children.length)n.push(u.default.createElement(d.Menu.Item,{key:i},u.default.createElement(d.Menu.Header,null,l),u.default.createElement(d.Menu.Menu,null,this.renderItems(r.children,i+"_"))));else{var s=this.props.link?u.default.createElement("a",{style:{color:"inherit"},href:r.target,onClick:this.handleItemClick2.bind(this,{name:r.target})},l):l;this.props.link?n.push(u.default.createElement(d.Menu.Item,{key:i,name:r.target,active:this.state.activeitem===r.target},s)):n.push(u.default.createElement(d.Menu.Item,{key:i,name:r.target,active:this.state.activeitem===r.target,onClick:this.handleItemClick.bind(this)},s))}}return n}}],[{key:"getDerivedStateFromProps",value:function(e,t){return t.activeitem!==e.value?{activeitem:e.value}:null}}]),s);function s(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(s.__proto__||Object.getPrototypeOf(s)).call(this,e));return t.state={},null!=e.value?t.state.activeitem=e.value:null!=e.activeitem&&(t.state.activeitem=e.activeitem),t}t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=function(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e};function o(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var i,l=n(0),s=(i=l)&&i.__esModule?i:{default:i};var u=n(22),d=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(c,s.default.Component),r(c,[{key:"componentDidMount",value:function(){this.redrawChart()}},{key:"shouldComponentUpdate",value:function(e){return!u(this.props,e)}},{key:"componentDidUpdate",value:function(){this.redrawChart()}},{key:"componentWillUnmount",value:function(){null!=this.state.chart&&this.state.chart.destroy()}},{key:"redrawChart",value:function(){if(null!=this.state.chart&&(this.state.chart.destroy(),this.state.chart=void 0),null==this.state.chart){var e=document.getElementById(this.getDivId()).getContext("2d"),t=this.getChartData(),n=void 0;if(null!=t&&Array.isArray(t.datasets)){var a=[];if(t.datasets.forEach(function(e){null!=e.yAxisID&&null!=e.yAxisID&&(a.includes(e.yAxisID)||a.push(e.yAxisID))}),0<a.length){n=[];for(var r=0;r<a.length;r++)r?n.push({type:"linear",display:!0,position:"right",id:a[r],gridLines:{drawOnChartArea:!1}}):n.push({type:"linear",display:!0,position:"left",id:a[r]})}}var o={type:this.props.chartType,data:t,options:{responsive:Boolean(this.props.responsive),legend:{position:this.props.legendPosition},title:{fontSize:null==this.props.titleSize?14:this.props.titleSize,display:null!=this.props.title&&""!=this.props.title,text:this.props.title}}};null!=n&&(o.options.scales={yAxes:n}),this.state.chart=new Chart(e,o)}else this.state.chart.update()}},{key:"getDivId",value:function(){return"dwkit-chart-"+this.props.name}},{key:"getChartData",value:function(){if(this.props.datasetCustom){var e=[];null!=this.props.dataLabels&&(e=this.props.dataLabels.split(","));var t=[];try{t="string"==typeof this.props.value?JSON.parse(this.props.value):this.props.value}catch(e){console.log("Can't parse to JSON",this.props.value,this)}return{labels:e,datasets:[{label:this.props.datasetLabel,steppedLine:this.props.datasetSteppedLine,borderColor:this.props.datasetBorderColor,backgroundColor:this.props.datasetBackgroundColor,fill:this.props.datasetFill,borderWidth:this.props.datasetBorderWidth,data:t}]}}return this.copyObj(t)}},{key:"copyObj",value:function(e){if(null==e||"object"!=(void 0===e?"undefined":a(e)))return e;var t=e.constructor();for(var n in e)e.hasOwnProperty(n)&&(t[n]=this.copyObj(e[n]));return t}},{key:"render",value:function(){var e=this.props.style,t=null!=this.props.width?this.props.width:"400px";null!=e.width&&(t=e.width);var n=null!=this.props.height?this.props.height:"300px";null!=e.height&&(n=e.height),this.state.width==t&&this.state.height==n||null==this.state.chart||(this.state.chart.destroy(),this.state.chart=void 0),this.state.width=t,this.state.height=n;var a="field";return null!=this.props.className&&(a+=" "+this.props.className),s.default.createElement("div",{className:a,style:e},s.default.createElement("canvas",{id:this.getDivId(),width:t,height:n}))}}]),c);function c(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(c.__proto__||Object.getPrototypeOf(c)).call(this,e));return t.state={},t}t.default=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},a=function(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e};function o(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var i,l=n(0),s=(i=l)&&i.__esModule?i:{default:i},u=n(1);var d=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(c,s.default.Component),a(c,[{key:"componentDidMount",value:function(){this.isMount=!0}},{key:"componentWillUnmount",value:function(){this.isMount=!1}},{key:"checkGetAdditionalDataForControl",value:function(){var r=this;this.props.getAdditionalDataForControl||this.props.commands||this.props.states?this.props.getAdditionalDataForControl(this,{},function(e){var t=e.commands,n=e.states,a=e.processExists;r.setState({commands:t,states:n,processExists:a}),r.props.handleEvent&&(r.props.handleEvent({key:r.props.name,eventName:"onReceivedCommands",parameters:{commands:t,states:n}}),1<r.props.schemes.length&&!a&&r.props.enableSchemeSelection&&"auto"===r.props.dialogMode&&!r.props.selectedScheme&&r.selectWorkflowScheme()),r.isMount&&r.forceUpdate()}):console&&console.log("WorkflowBar: This control requres getAdditionalDataForControl or commands and states not undefined parameters!")}},{key:"renderCommands",value:function(e){if(!this.props.blockCommands&&Array.isArray(e)&&0<e.length){var n=this,a=[];return e.forEach(function(e){var t={};1==e.type?t.primary=!0:2==e.type&&(t.secondary=!0),a.push(s.default.createElement(u.Button,r({},t,{key:e.value,onClick:n.onCommand.bind(n,e)}),e.text))}),a}}},{key:"renderSetState",value:function(e){if(!this.props.blockSetState&&Array.isArray(e)&&0<e.length){var t=null==this.state.setstate||""==this.state.setstate,n="Set state";return null!=this.props.setStateButton&&""!=this.props.setStateButton?n=this.props.setStateButton:window.DWKitAdminLang&&window.DWKitAdminLang.workflowbar&&(n=window.DWKitAdminLang.workflowbar.setstate),[s.default.createElement(u.Dropdown,{key:"setstate",name:"setstate",className:"setstate",placeholder:"States",options:e,onChange:this.handleChanged.bind(this),selection:!0,search:!0}),s.default.createElement(u.Button,{key:"btnsetstate",disabled:t,onClick:this.onSetState.bind(this)},n)]}}},{key:"renderSelectScheme",value:function(){if(this.state.processExists||!this.props.enableSchemeSelection||"button"!==this.props.dialogMode)return null;var e="Start workflow";return this.props.startWorkflowButton?e=this.props.startWorkflowButton:window.DWKitAdminLang&&window.DWKitAdminLang.workflowbar&&window.DWKitAdminLang.workflowbar.startworkflow&&(e=window.DWKitAdminLang.workflowbar.startworkflow),s.default.createElement(u.Button,{key:"btnstartworkflow",className:"buttontype1",onClick:this.selectWorkflowScheme},e)}},{key:"onCommand",value:function(e){null!=this.props.handleEvent&&this.props.handleEvent({key:this.props.name,eventName:"onCommandClick",parameters:{command:e}})}},{key:"onSetState",value:function(){if(null!=this.props.handleEvent){for(var e=null!=this.state.states?this.state.states:this.props.states,t=void 0,n=0;n<e.length;n++)if(e[n].value==this.state.setstate){t=e[n];break}this.props.handleEvent({key:this.props.name,eventName:"onSetStateClick",parameters:{state:t}})}}},{key:"handleChanged",value:function(e,t){var n=t.name,a=t.value;this.setState(function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},n,a))}},{key:"render",value:function(){var t=this,e="dwkit-workflowbar";null!=this.props.className&&""!=this.props.className&&(e+=" "+this.props.className);var n=this.props.style,a=this.state.commands?this.state.commands:this.props.commands;this.props.selectedScheme&&(a=a.filter(function(e){return e.scheme===t.props.selectedScheme}));var r=this.state.states?this.state.states:this.props.states;return s.default.createElement("div",{className:e,style:n},s.default.createElement("div",{className:"dwkit-workflowbar-items"},this.renderCommands(a),this.renderSetState(r),this.renderSelectScheme()))}}]),c);function c(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(c.__proto__||Object.getPrototypeOf(c)).call(this,e));return t.selectWorkflowScheme=function(){t.props.handleEvent({key:t.props.name,eventName:"onSelectWorkflowScheme",parameters:{schemes:t.props.schemes}})},t.state={commands:e.commands,states:e.states,processExists:e.processExists},t.checkGetAdditionalDataForControl(),t}t.default=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},r=function(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e};function o(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var i,l=n(0),s=(i=l)&&i.__esModule?i:{default:i},u=n(1);var d=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(c,s.default.Component),r(c,[{key:"componentDidMount",value:function(){this.GetAdditionalData()}},{key:"componentDidUpdate",value:function(e,t){this.GetAdditionalData()}},{key:"GetAdditionalData",value:function(){if(void 0===this.state.dataModel)void 0!==console&&!0===this.props.buildermode&&console.log("Dictionary: Set DataModel label!");else if(void 0===this.state.getAdditionalDataForControl)void 0!==console&&!0===this.props.buildermode&&console.log("Dictionary: For paging on server need to set getAdditionalDataForControl func!");else{if(this.state.needFetch){var a=this,e={model:this.state.dataModel,filters:this.state.filters};this.props.paging&&(e.startIndex=0,e.pageSize=this.pageSize),this.state.isFetching=!0,this.state.needFetch=!1,this.state.getAdditionalDataForControl(this,e,function(e){var t=e.items,n=e.rowsCount;a.setData({items:t,rowsCount:n,page:0},!0)})}this.state.needValueFetch&&(this.state.needValueFetch=!1,this.loadCurrentValue())}}},{key:"render",value:function(){var e={};for(var t in this.props)"parentIsForm"!==t&&"getAdditionalDataForControl"!==t&&"dataModel"!==t&&"clearable"!==t&&"columns"!==t&&"paging"!==t&&"pageSize"!==t&&(e[t]=this.props[t]);if(this.props.readOnly&&(e.disabled=!0),e.options=this.state.options,e.onChange=this.onChange.bind(this),this.props.paging&&(e.onSearchChange=this.handleSearchChange.bind(this),e.onClose=this.onClose.bind(this),this.state.open&&(e.open=!0)),e.multiple&&(void 0!==e.value&&null!==e.value||(e.value=[]),Array.isArray(e.value)||(e.value=this.getArrayValues(e.value))),e.loading=this.state.isFetching,e.searchQuery=this.state.searchQuery,this.props.parentIsForm)return s.default.createElement(u.Form.Dropdown,a({},e,{error:null!=e.error&&null!=e.error}));var n="ui labeled input";return this.props.fluid&&(n+=" fluid"),this.props.error&&(n+=" error"),null==this.props.className&&""==this.props.className||(n+=" "+this.props.className),s.default.createElement("div",{className:n},this.props.label&&s.default.createElement("div",{className:"ui label label"},this.props.label),s.default.createElement(u.Dropdown,a({},e,{error:null!=e.error&&null!=e.error})))}},{key:"onChange",value:function(e,t){var n=this,a=(t.name,t.value),r=!1;if(this.props.multiple){if(Array.isArray(a)){var o=!1;filtered=new Array,a.forEach(function(e){"__load"===e&&(o=!0)}),o&&(r=!0)}}else"__load"===a&&(r=!0);r?(this.state.open=!0,this.setState({isFetching:!0}),this.loadNextPage(),a=this.props.value):null!=this.state.open&&(this.state.open=void 0);var i=null;if(Array.isArray(a))i=new Array,a.forEach(function(t){if("__load"!==t){var e=n.state.options.filter(function(e){return e.key===t});0<e.length&&i.push(e[0].values)}});else{var l=this.state.options.filter(function(e){return e.key===a});0<l.length&&(i=l[0].values)}this.props.onChange&&this.props.onChange(e,{propertyName:this.props.propertyName,name:this.props.name,value:a,additionalValues:i})}},{key:"onClose",value:function(){1!=this.state.open&&""!=this.state.searchQuery&&(this.state.isFetching=!0,this.state.searchQuery="",this.state.lastLoadPage=-1,this.loadNextPage(!0))}},{key:"handleSearchChange",value:function(e,t){var n=t.searchQuery,a=this;setTimeout(function(){a.setState({isFetching:!0,searchQuery:n,lastLoadPage:-1}),a.loadNextPage(!0)},100)}},{key:"loadNextPage",value:function(a){var r=this,e={model:this.state.dataModel},o=this.state.lastLoadPage+1;r.state.searchQuery&&(e.filters=[{column:this.getCollumnsForFilter(),term:"like",value:r.state.searchQuery}]),e.startIndex=o*this.pageSize,e.pageSize=this.pageSize,this.state.getAdditionalDataForControl(this,e,function(e){var t=e.items,n=e.rowsCount;r.setData({items:t,rowsCount:n,page:o},a),a&&r.loadCurrentValue()})}},{key:"setData",value:function(e,t){var n=e.items,a=e.rowsCount,r=e.page,o=void 0;if(t){if(a>(o=n).length){var i=(null!=this.state.searchQuery?this.state.searchQuery:"")+"...";o.push({key:"__load",value:"__load",text:i})}if(this.props.clearable&&!this.props.multiple&&o.unshift({key:"__reset",value:"",text:"   "}),this.props.multiple)for(var l=this.getArrayValues(this.props.value),s=0;s<l.length;s++)for(var u=l[s],d=0;d<this.state.options.length;d++){var c=this.state.options[d];u==c.value&&o.unshift(c)}}else{var f=void 0;0<(o=this.state.options).length&&"__load"===o[o.length-1].key&&(f=o.pop());for(var p=0;p<n.length;p++){for(var h=n[p],m=0;m<o.length;m++)if(o[m].key==h.key){o.splice(m,1);break}o.push(h)}void 0!==f&&a>o.length&&o.push(f)}this.setState({needFetch:!1,options:o,rowsCount:a,isFetching:!1,lastLoadPage:r})}},{key:"getArrayValues",value:function(e){var t=e;if(!Array.isArray(t)){var n=void 0;try{n=JSON.parse(t)}catch(e){}Array.isArray(n)||(n=[t]),t=n}return t}},{key:"loadCurrentValue",value:function(){var n=this;if(void 0!==this.props.value&&null!==this.props.value)if(this.props.multiple){for(var e=this.getArrayValues(this.props.value),t=[],a=0;a<e.length;a++){for(var r=e[a],o=!1,i=0;i<this.state.options.length;i++)if(this.state.options[i].value==r){o=!0;break}o||t.push(r)}if(0<t.length){var l={model:this.state.dataModel};l.filters=[{column:"__id",term:"in",value:t}],this.state.isFetching=!0,this.state.getAdditionalDataForControl(this,l,function(e){var t=e.items;n.addAdditionalOptions(t)})}}else{for(var s=!1,u=0;u<this.state.options.length;u++)if(this.state.options[u].value==this.props.value){s=!0;break}if(!s){var d={model:this.state.dataModel};d.filters=[{column:"__id",term:"=",value:n.props.value}],this.state.isFetching=!0,this.state.getAdditionalDataForControl(this,d,function(e){var t=e.items;n.addAdditionalOptions(t)})}}}},{key:"addAdditionalOptions",value:function(e){if(Array.isArray(e)&&e.length){for(var t=this.state.options,n=e.length-1;0<=n;n--){for(var a=!1,r=0;r<t.length;r++)if(t[r].key==e[n].key){a=!0;break}a||t.unshift(e[n])}this.state.isFetching=!1,this.forceUpdate()}}},{key:"getCollumnsForFilter",value:function(){var e=new RegExp(" asc","gi"),t=this.props.columns.replace(e,"");return e=new RegExp(" desc","gi"),t=t.replace(e,""),e=new RegExp(" ","gi"),t=t.replace(e,"")}}],[{key:"getDerivedStateFromProps",value:function(e,t){return e.dataModel!==t.dataModel?{getAdditionalDataForControl:e.getAdditionalDataForControl,dataModel:e.dataModel,needFetch:!0,needValueFetch:!0,filters:e.filters}:e.paging&&e.value!==t.value&&void 0!==e.value?{needValueFetch:!0,value:e.value}:e.filters!=t.filters?{needFetch:!0,filters:e.filters}:null}}]),c);function c(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(c.__proto__||Object.getPrototypeOf(c)).call(this,e));return t.state={options:[],value:t.props.value},t.pageSize=e.pageSize,t.pageSize||(t.pageSize=100),t}t.default=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e};function r(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var o,i=n(0),l=(o=i)&&o.__esModule?o:{default:o};n(1);var s=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(u,l.default.Component),a(u,[{key:"render",value:function(){return l.default.createElement("div",this.props)}}]),u);function u(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(u.__proto__||Object.getPrototypeOf(u)).call(this,e));return t.state={},t}t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},r=function(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e};function o(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var i,l=n(0),s=(i=l)&&i.__esModule?i:{default:i};var u=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(d,s.default.Component),r(d,[{key:"render",value:function(){var e={name:this.props.name,className:this.props["style-customcss"],style:this.props.style,"data-buildertype":this.props["data-buildertype"]};if(this.props.isHtml)return s.default.createElement("span",a({},e,{dangerouslySetInnerHTML:{__html:this.props.content}}));var t=null!=this.props.content?this.props.content.replace("\n","<br/>"):void 0;return s.default.createElement("span",e,t)}}]),d);function d(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,d);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(d.__proto__||Object.getPrototypeOf(d)).call(this,e));return t.state={},t}t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e};function r(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var o=l(n(0)),i=l(n(7));function l(e){return e&&e.__esModule?e:{default:e}}var s=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(u,o.default.Component),a(u,[{key:"onDragStart",value:function(e,t){var n=".dwkit-formbuilder-zone";if(t.dataTransfer.setData("text",""),null!=e.forContainerType){var a=e.forContainerType.split(","),r="";a.forEach(function(e){0<r.length&&(r+=","),r+="[data-buildertype='"+e+"'] > "+n}),n=r}$(n).addClass("dwkit-formbuilder-zone-active").on("dragenter",this.onTargetDragEnter.bind(this,e,"dwkit-formbuilder-zone-select")).on("dragleave",this.onTargetDragLeave.bind(this,e,"dwkit-formbuilder-zone-select")).on("dragover",function(e){e.preventDefault()}).on("drop",this.onDrop.bind(this,e))}},{key:"onTargetDragEnter",value:function(e,t,n){$(n.target).addClass(t)}},{key:"onTargetDragLeave",value:function(e,t,n){$(n.target).removeClass(t)}},{key:"onDragEnd",value:function(e){var t=$(".dwkit-formbuilder-zone");t.removeClass("dwkit-formbuilder-zone-active"),t.removeClass("dwkit-formbuilder-zone-select"),t.off()}},{key:"onDrop",value:function(e,t){var n=$(t.target);return 0<n.length&&i.default.move(e.key,n[0]),this.onDragEnd(e),!1}},{key:"render",value:function(){var e="dwkit-formbuilder-item-toolbar-header";return this.props.isGroup&&(e+=" dwkit-formbuilder-item-toolbar-controlbargroup"),this.props.controlOnRight?e+=" dwkit-formbuilder-item-toolbar-right":e+=" dwkit-formbuilder-item-toolbar-left",o.default.createElement("div",{className:e,onMouseOver:this.onMouseOver.bind(this),onMouseLeave:this.onMouseLeave.bind(this)},o.default.createElement("div",{className:"dwkit-formbuilder-item-toolbar-header-buttons"},o.default.createElement("div",{className:"dwkit-formbuilder-item-toolbar-header-title",title:this.props.text},this.props.model.key),o.default.createElement("img",{src:"/images/dwkitbuilder-move.svg",className:"move",height:"16px",draggable:!0,onDragStart:this.onDragStart.bind(this,this.props.model),onDragEnd:this.onDragEnd.bind(this,this.props.model)}),o.default.createElement("img",{src:"/images/dwkitbuilder-edit.svg",height:"16px",onClick:this.props.onEdit.bind(this.props.parent,this.props.model)}),o.default.createElement("img",{src:"/images/dwkitbuilder-copy.svg",height:"16px",onClick:this.props.onCopy.bind(this.props.parent,this.props.model)}),o.default.createElement("img",{src:"/images/dwkitbuilder-delete.svg",height:"16px",onClick:this.props.onDelete.bind(this.props.parent,this.props.model)})))}},{key:"onMouseOver",value:function(e){var t=$(e.target).parents(".dwkit-formbuilder-item-toolbar-header");this.props.controlOnRight?t.prev().addClass("dwkit-formbuilder-item-selected"):t.next().addClass("dwkit-formbuilder-item-selected")}},{key:"onMouseLeave",value:function(e){var t=$(e.target),n=$(e.target).parents(".dwkit-formbuilder-item-toolbar-header");this.props.controlOnRight?(t.prev().removeClass("dwkit-formbuilder-item-selected"),n.prev().removeClass("dwkit-formbuilder-item-selected")):(t.next().removeClass("dwkit-formbuilder-item-selected"),n.next().removeClass("dwkit-formbuilder-item-selected"))}}]),u);function u(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(u.__proto__||Object.getPrototypeOf(u)).apply(this,arguments))}t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},a=function(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e};function o(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var i,l=n(0),s=(i=l)&&i.__esModule?i:{default:i},u=n(1);var d=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(c,s.default.Component),a(c,[{key:"render",value:function(){var a={};for(var e in this.props)"imageUrl"!=e&&"defaultValue"!=e&&"value"!=e&&"handleEvent"!=e&&"items"!=e&&"propertyName"!=e&&(a[e]=this.props[e]);return a.options=[],this.props.items.forEach(function(e){var t=!1;if(void 0!==e.visibleCondition&&null!==e.visibleCondition&&""!==e.visibleCondition){var n="return "+e.visibleCondition;try{new Function("",n)()||(t=!0)}catch(e){}}t||a.options.push({value:e.target,text:e.title,target:e.target})}),a.value="",a.onChange=this.onChange.bind(this),a.trigger=s.default.createElement("span",null,null!=this.props.imageUrl&&s.default.createElement(u.Image,{avatar:!0,src:this.props.imageUrl})," ",null!=this.props.value?this.props.value:this.props.defaultValue),s.default.createElement(u.Dropdown,r({},a,{onMouseDown:this.onMouseDown.bind(this)}))}},{key:"onChange",value:function(e,t){t.name;var n=t.value;1!=this.state.opendialog?null!=this.props.handleEvent&&this.props.handleEvent({e:e,key:this.props.name,propertyName:this.props.propertyName,eventName:"onItemClick",parameters:{target:n}}):this.state.opendialog=!1}},{key:"onMouseDown",value:function(e){this.state.opendialog=!Boolean(this.state.opendialog)}}]),c);function c(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(c.__proto__||Object.getPrototypeOf(c)).call(this,e));return t.state={},t}t.default=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var w=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},a=function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e};function r(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var E=o(n(0)),C=n(1),_=o(n(19)),L=o(n(3)),D=o(n(20));function o(e){return e&&e.__esModule?e:{default:e}}var i=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(l,E.default.Component),a(l,[{key:"render",value:function(){var r=this,o=this,i={};for(var e in this.props)"additionalParams"!==e&&"items"!==e&&"propertyName"!==e&&(i[e]=this.props[e]);var t,n=this.props.additionalParams.model,a=this.props.additionalParams.data,l=this.props.additionalParams.errors,s=this.props.additionalParams.children,u=this.props.additionalParams.parentItem,d=this.props.additionalParams.handleEvent,c=n["data-buildertype"];if("header"===c)t=E.default.createElement(C.Header,w({},i,{textAlign:n.textAlign,size:n.size,content:this.props.content,subheader:this.props.subheader}));else if("button"===c)i.floated=n.floated,i.size=""!==n.size?n.size:null,i.content=this.props.content,i.basic=n.basic,i.circular=n.circular,i.compact=n.compact,i.disabled=n.disabled,i.fluid=n.fluid,i.primary=n.primary,i.secondary=n.secondary,n.icon&&(i.icon=n.icon),void 0!==d&&(i.onClick=function(e){return d({syntheticEvent:e,key:i.name,eventName:"onClick"})}),t=this.isForm(u)?E.default.createElement(C.Form.Button,i):E.default.createElement(C.Button,i);else if("label"===c)t=E.default.createElement(C.Label,w({},i,{size:n.size,content:this.props.content,attached:n.attached,basic:n.basic,circular:n.circular,corner:n.corner,floating:n.floating,pointing:n.pointing}));else if("message"===c)t=E.default.createElement(C.Message,w({},i,{floated:n.floated,size:n.size,content:this.props.content,compact:n.compact,error:n.error,floating:n.floating,info:n.info,negative:n.negative,positive:n.positive,success:n.success,warning:n.warning,header:this.props.header}));else if("input"===c)i.defaultValue=n.defaultvalue,i.size=n.size,null!=n.label&&""!=n.label&&(i.label=n.label),i.labelPosition=n.labelPosition,i.placeholder=n.placeholder,i.type=n.type,i.disabled=n.disabled,i.transparent=n.transparent,i.fluid=n.fluid,i.readOnly=n.readOnly||this.props.readOnly,null!=d&&(i.onChange=function(e,t){var n=t.name,a=t.value;d({syntheticEvent:e,key:i.name,propertyName:o.props.propertyName,eventName:"onChange",name:n,value:"number"===i.type?Number(a):a})}),null==i.value&&(i.value=""),i.error=Boolean(this.props.error),t="file"===i.type?(i.isForm=this.isForm(u),E.default.createElement(_.default,w({},i,{downloadUrl:this.props.additionalParams.downloadUrl,uploadUrl:this.props.additionalParams.uploadUrl}))):"date"===i.type||"time"===i.type||"datetime"===i.type?(i.isForm=this.isForm(u),E.default.createElement(D.default,i)):this.isForm(u)?E.default.createElement(C.Form.Input,i):E.default.createElement(C.Input,i);else if("textarea"===c){if(delete i.autoHeight,i.placeholder=n.placeholder,i.rows=null!==n.rows&&void 0!==n.rows?Number(n.rows):void 0,void 0!==n.label&&""!==n.label&&(i.label=n.label),i.readOnly=n.readOnly||this.props.readOnly,null!==d&&(i.onChange=function(e,t){var n=t.name,a=t.value;d({syntheticEvent:e,key:i.name,propertyName:o.props.propertyName,eventName:"onChange",name:n,value:a})}),null==i.value&&(i.value=""),!this.isForm(u)){var f="ui labeled input";return i.fluid&&(f+=" fluid"),i.error&&(f+=" error"),null==this.props.className&&""==this.props.className||(f+=" "+this.props.className),E.default.createElement("div",{className:f},i.label&&E.default.createElement("div",{className:"ui label label"},i.label),E.default.createElement(C.TextArea,i))}t=E.default.createElement(C.Form.TextArea,i)}else if("checkbox"===c)void 0!==n.label&&""!==n.label&&(i.label=n.label),i.placeholder=n.placeholder,i.type=n.type,i.disabled=n.disabled,i.fitted=n.fitted,i.indeterminate=n.indeterminate,i.readOnly=n.readOnly||this.props.readOnly,i.slider=n.slider,i.toggle=n.toggle,null!==d&&(i.onChange=function(e,t){var n=t.name,a=t.checked;d({syntheticEvent:e,key:i.name,propertyName:o.props.propertyName,eventName:"onChange",name:n,value:a})}),void 0!==a&&("boolean"==typeof variable?i.checked=a[i.name]:"true"===a[i.name]||"1"===a[i.name]?i.checked=!0:"false"===a[i.name]||"0"===a[i.name]?i.checked=!1:i.checked=Boolean(a[i.name])),l&&void 0!==l[n.key]&&1==Boolean(l[n.key])&&(null==i.className||""==i.className?i.className="error":i.className+=" error"),t=this.isForm(u)?E.default.createElement(C.Form.Checkbox,i):E.default.createElement(C.Checkbox,i);else if("dropdown"===c){var p=[];if(void 0!==n["data-elements"]&&(p=Array.isArray(n["data-elements"])?n["data-elements"]:L.default.parse(n["data-elements"])),void 0!==n.label&&""!==n.label&&(i.label=n.label),i.defaultValue=n.defaultvalue,i.placeholder=n.placeholder,i.options=p,i.fluid=n.fluid,i.selection=n.selection,i.multiple=n.multiple,i.search=n.search,i.disabled=n.disabled||n.readOnly||this.props.readOnly,n.clearable&&!n.multiple&&p.unshift({key:"__reset",value:"",text:"   "}),l&&void 0!==l[n.key]&&(i.error=Boolean(i.error)),null!==d&&(i.onChange=function(e,t){var n=t.name,a=t.value;d({syntheticEvent:e,key:i.name,propertyName:o.props.propertyName,eventName:"onChange",name:n,value:a})}),i.allowAdditions=n.allowAddItems,i.allowAdditions&&(i.onAddItem=function(e,t){var n=t.value,a=i.value;Array.isArray(a)?a.push(n):a=[n],i.onChange(e,{name:i.name,value:a})}),i.multiple){if(void 0!==i.value&&null!==i.value||(i.value=[]),!Array.isArray(i.value)){var h=void 0;try{h=L.default.parse(i.value)}catch(e){}Array.isArray(h)||(h=[i.value]),i.value=h}i.allowAdditions&&this.dropdownCheckAdditional(i.value,i.options)}if(!this.isForm(u)){var m="ui labeled input";return i.fluid&&(m+=" fluid"),i.error&&(m+=" error"),null==this.props.className&&""==this.props.className||(m+=" "+this.props.className),E.default.createElement("div",{className:m},i.label&&E.default.createElement("div",{className:"ui label label"},i.label),E.default.createElement(C.Dropdown,i))}t=E.default.createElement(C.Form.Dropdown,i)}else if("statistic"===c){var g=[];void 0!==n["data-elements"]&&(g=Array.isArray(n["data-elements"])?n["data-elements"]:L.default.parse(n["data-elements"])),t=E.default.createElement(C.Statistic.Group,w({},i,{floated:n.floated,horizontal:n.horizontal,size:n.size,items:g}))}else if("image"===c)t=E.default.createElement(C.Image,w({},i,{avatar:n.avatar,bordered:n.bordered,centered:n.centered,disabled:n.disabled,inline:n.inline,href:this.props.href,src:this.props.src,floated:n.floated,shape:n.shape,spaced:n.spaced,verticalAlign:n.verticalAlign,height:n.height,width:n.width}));else if("form"===c)t=E.default.createElement(C.Form,w({},i,{children:s,size:n.size}));else if("formgroup"===c){var v=n.widths;"custom"===v&&(v=n.widthsCustom),n.orientation&&(i[n.orientation]=!0),t=E.default.createElement(C.Form.Group,w({},i,{widths:v,children:s}))}else if("breadcrumb"===c){var y=[];if(Array.isArray(this.props.items))for(var b=function(e){var n=r.props.items[e],t={key:e};if(t.active=n.active,t.href=n.url,null!==d&&(t.onClick=function(e,t){t.name,t.checked,d({syntheticEvent:e,key:i.name,eventName:"onItemClick",parameters:{target:n.url}}),e.preventDefault()}),y.push(E.default.createElement(C.Breadcrumb.Section,t,void 0===n.text?"<not set>":n.text)),e<r.props.items.length-1){var a={key:e+"_d"};""!==n.divider&&(a.icon=n.divider),y.push(E.default.createElement(C.Breadcrumb.Divider,a))}},k=0;k<this.props.items.length;k++)b(k);t=E.default.createElement(C.Breadcrumb,w({},i,{children:y}))}else t=E.default.createElement("span",null,"Unknow type '",c,"' of '",this.props.name,"' element.");return t}},{key:"isForm",value:function(e){return null!=e&&("form"===e["data-buildertype"]||"formgroup"===e["data-buildertype"])}},{key:"dropdownCheckAdditional",value:function(e,a){Array.isArray(e)&&e.forEach(function(e){for(var t=!1,n=0;n<a.length;n++)if(e===a[n].value){t=!0;break}0==t&&a.push({value:e,text:e})})}}]),l);function l(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(l.__proto__||Object.getPrototypeOf(l)).call(this,e));return t.state={},t}t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e};function r(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var l=o(n(0)),s=(n(1),o(n(15)));function o(e){return e&&e.__esModule?e:{default:e}}var i=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(u,l.default.Component),a(u,[{key:"componentDidMount",value:function(){this.isMount=!0}},{key:"componentWillUnmount",value:function(){this.isMount=!1}},{key:"render",value:function(){this.props.additionalParams.data,this.props.additionalParams.errors;var e=this.props.additionalParams.parentItem,t=void this.props.additionalParams.handleEvent;if(null!=this.props.iconFiletypes&&""!=this.props.iconFiletypes){var n=this.props.iconFiletypes.split(",");Array.isArray(n)&&0<n.length&&(t=[],n.forEach(function(e){t.push(e.trim())}))}var a={addRemoveLinks:this.props.addRemoveLinks,autoProcessQueue:this.props.autoProcessQueue&&null!=this.props.postUrl},r={iconFiletypes:t,showFiletypeIcon:this.props.showFiletypeIcon,postUrl:null==this.props.postUrl?"no-url":this.props.postUrl},o={success:this.fileUploadSuccess.bind(this)},i=this.props.readOnly?l.default.createElement("div",null):l.default.createElement(s.default,{config:r,eventHandlers:o,djsConfig:a});return this.isForm(e)?l.default.createElement("div",{className:"field"},i):i}},{key:"isForm",value:function(e){return null!=e&&("form"==e["data-buildertype"]||"formgroup"==e["data-buildertype"])}},{key:"fileUploadSuccess",value:function(e,t){var n=this.props.additionalParams.handleEvent;null!=n&&(t.success?n({key:this.props.name,eventName:"success",name:this.props.name,propertyName:this.props.propertyName,value:t.message,parameters:{name:e.name,size:e.size,token:t.message,success:t.success}}):n({key:this.props.name,eventName:"fail",name:this.props.name,propertyName:this.props.propertyName,parameters:{name:e.name,size:e.size,message:t.message,success:t.success,details:t.details}}),setTimeout(function(){e._removeLink.click()},500))}},{key:"getEvents",value:function(){return["drop","dragstart","dragend","dragenter","dragover","dragleave","addedfile","removedfile","thumbnail","error","processing","uploadprogress","sending","success","complete","canceled","maxfilesreached","maxfilesexceeded","processingmultiple","sendingmultiple","successmultiple","completemultiple","canceledmultiple","totaluploadprogress","reset","queuecompleted"]}}]),u);function u(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(u.__proto__||Object.getPrototypeOf(u)).call(this,e));return t.state={commands:e.commands,states:e.states},t}t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},r=function(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e};function o(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var i,l=n(0),s=(i=l)&&i.__esModule?i:{default:i},u=n(1);var d=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(c,s.default.Component),r(c,[{key:"render",value:function(){var e={};for(var t in this.props)"value"!==t&&"handleEvent"!==t&&(e[t]=this.props[t]);return s.default.createElement(u.Search,a({},e,{fluid:!0,loading:this.state.isLoading,onResultSelect:this.handleResultSelect.bind(this),onSearchChange:this.handleSearchChange.bind(this),results:this.state.results,value:this.state.value}))}},{key:"resetSearch",value:function(){this.setState({isLoading:!1,results:[]})}},{key:"handleResultSelect",value:function(e,t){var n=t.result;void 0!==this.props.handleEvent&&this.props.handleEvent({key:this.props.name,propertyName:this.props.propertyName,eventName:"onSelect",parameters:n})}},{key:"handleSearchChange",value:function(e,t){var n=t.value,a=this;a.setState({isLoading:!0,value:n}),setTimeout(function(){if(null===a.state.value||void 0===a.state.value||a.state.value.length<2)return a.resetSearch();a.search(a.state.value)},200)}},{key:"search",value:function(e){var t=this,n=this.props.url;n+=this.props.url.includes("?")?"&":"?",n+="term="+e,fetch(n,{credentials:"same-origin"}).then(function(e){return e.json()}).then(function(e){t.setState({isLoading:!1,results:e})}).catch(function(e){null==console?alert(e):console.error(e)})}}]),c);function c(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(c.__proto__||Object.getPrototypeOf(c)).call(this,e));return t.state={value:""},t}t.default=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},a=function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e};function r(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var p=n(1),o=n(0),h=u(o),l=u(n(2)),s=u(n(67)),i=u(n(68));function u(e){return e&&e.__esModule?e:{default:e}}var d=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(c,o.Component),a(c,null,[{key:"getDerivedStateFromProps",value:function(e,t){return e.dataModel!==t.dataModel?{getAdditionalDataForControl:e.getAdditionalDataForControl,dataModel:e.dataModel,needFetch:!0,needValueFetch:!0}:e.paging&&e.value!==t.value&&void 0!==e.value?{needValueFetch:!0,value:e.value}:null}}]),a(c,[{key:"componentDidMount",value:function(){this.widget=$(l.default.findDOMNode(this)),this.nodes=[],this.tabs={},this.picked=[],this.opened=[],this.checkFetch()}},{key:"componentDidUpdate",value:function(e,t){this.checkFetch()}},{key:"checkFetch",value:function(){this.state.needFetch&&this.getAdditionalData(null),this.state.needValueFetch&&this.loadCurrentValue()}},{key:"getNodeById",value:function(t){var e=this.recursiveNodeSearch(this.nodes,function(e){return""+e.id==""+t});return e.length?e[0]:null}},{key:"getPicked",value:function(){var e=[];return this.props.multiple?this.getArrayValues(this.props.value):(this.props.value&&e.push(this.props.value),e)}},{key:"updatePickedNodes",value:function(e){if(e){var t=function(t){return function(e){return""+e.id==""+t}},n=!0,a=!(this.picked=[]),r=void 0;try{for(var o,i=e[Symbol.iterator]();!(n=(o=i.next()).done);n=!0){var l=o.value,s=this.recursiveNodeSearch(this.nodes,t(l));s.length&&this.picked.push(s[0])}}catch(e){a=!0,r=e}finally{try{!n&&i.return&&i.return()}finally{if(a)throw r}}}}},{key:"initializeNodes",value:function(e){var t=this.renderTree(e,this.state.rowsCount,null,0,{height:"400px",overflowY:"scroll"});return this.tabs.tree.html(t),this.initializeNodeList(t)}},{key:"recursiveNodeSearch",value:function(e,t){var n=[],a=!0,r=!1,o=void 0;try{for(var i,l=Array.from(e)[Symbol.iterator]();!(a=(i=l.next()).done);a=!0){var s=i.value;t(s)&&n.push(s),s[this.props.childrenKey]&&s[this.props.childrenKey].length&&(n=n.concat(this.recursiveNodeSearch(s[this.props.childrenKey],t)))}}catch(e){r=!0,o=e}finally{try{!a&&l.return&&l.return()}finally{if(r)throw o}}return n}},{key:"renderTree",value:function(e,t,n,a,r){var o,i,l,s;r=r||{};var u=$('<div class="ui tree-picker tree"></div>').css(r);for(l=0,s=e.length;l<s;l++){o=e[l];var d=this.opened.includes(o.id)?" opened":"";this.props.hidden(o)||(i=$('<div class="node'+d+'" data-id="'+o.id+'" data-name="'+o.name+'">\n    <div class="head">\n        <i class="add circle icon"></i>\n        <i class="minus circle icon"></i>\n        <i class="radio icon"></i>\n        <a class="name">'+o.name+'</a>\n        <i class="checkmark icon"></i>\n    </div>\n    <div class="content'+d+'"></div>\n</div>').appendTo(u),this.props.disabledClause(o)&&i.addClass("disabled"),o[this.props.childrenKey]&&o[this.props.childrenKey].length?$(".content",i).append(this.renderTree(o[this.props.childrenKey],o.rowsCount,o.id,0)):o.hasChild||i.addClass("childless"))}return this.props.paging&&e.length+a<t&&$('<div class="node pager" data-parent-id="'+n+'" data-start-index="'+(e.length+a)+'">\n    <div class="head">\n        <a class="name">...</a>\n    </div>\n</div>').appendTo(u),u}},{key:"initializeNodeList",value:function(e){var o=this;$(".node",e).each(function(e,t){var n=$(t),a=$(">.head",n),r=$(">.content",n);$(">.name",a).on("click",function(){n.hasClass("pager")?o.pagerClicked(n):o.nodeClicked(n)}),o.nodeIsPicked(n)&&n.addClass("picked"),n.hasClass("childless")||$(">.icon",a).on("click",function(){var t=o.getNodeById(o.getNodeId(n));!t||!t.hasChild||t[o.props.childrenKey]&&t[o.props.childrenKey].length?r.slideToggle():o.getAdditionalData(t.id,n),n.toggleClass("opened"),o.opened.includes(t.id)?o.opened=o.opened.filter(function(e){return e!==t.id}):o.opened.push(t.id)})})}},{key:"pagerClicked",value:function(e){this.getAdditionalData(e.data("parent-id"),e,e.data("start-index"))}},{key:"nodeClicked",value:function(e){if(!e.hasClass("disabled")){if(!this.props.multiple){if(this.picked.length&&this.props.clearable&&this.picked[0].id===this.getNodeId(e))return this.unpickNode(e);$(".node.picked",this.modal).removeClass("picked"),this.picked=[]}return e.toggleClass("picked"),e.hasClass("picked")?this.pickNode(e):this.unpickNode(e)}}},{key:"nodeIsPicked",value:function(t){var n=this;return this.picked.filter(function(e){return""+e.id===n.getNodeId(t)}).length}},{key:"updatePickedCount",value:function(){return this.picked.length?(this.count.closest(".item").addClass("highlighted"),this.count.html("("+this.picked.length+")")):(this.count.closest(".item").removeClass("highlighted"),this.count.html(""))}},{key:"getNodeId",value:function(e){return e.attr("data-id")}},{key:"pickNode",value:function(e){var t=this.getNodeId(e);return this.picked.push({id:t,name:e.attr("data-name")}),this.updatePickedCount(),$(".node[data-id="+t+"]",this.modal).addClass("picked")}},{key:"unpickNode",value:function(e){var t=this.getNodeId(e);return this.picked=this.picked.filter(function(e){return""+e.id!=""+t}),this.updatePickedCount(),$(".node[data-id="+t+"]",this.modal).removeClass("picked")}},{key:"showTree",value:function(){return $(".menu .item",this.modal).removeClass("active"),$(".menu .tree",this.modal).addClass("active"),this.tabs.tree.show(),this.tabs.search.hide(),this.tabs.picked.hide(),this.modal.attr("data-mode","tree")}},{key:"getColumnsForFilter",value:function(){var e=new RegExp(" asc","gi"),t=this.props.columns.replace(e,"");return e=new RegExp(" desc","gi"),t=t.replace(e,""),e=new RegExp(" ","gi"),t=t.replace(e,"")}},{key:"showSearch",value:function(n){var a=this;if(null!==n&&n.length>=this.props.minSearchQueryLength)if(this.props.paging){var e={model:this.state.dataModel,filters:[{column:this.getColumnsForFilter(),term:"like",value:n}]};this.setState({isFetching:!0},function(){a.state.getAdditionalDataForControl(a,e,function(e){var t=e.items;a.setState({isFetching:!1}),a.renderSearchResults(t,n)})})}else{var t=this.recursiveNodeSearch(this.nodes,function(e){return e.name&&-1<e.name.toLowerCase().indexOf(n.toLowerCase())});this.renderSearchResults(t,n)}else this.showTree()}},{key:"renderSearchResults",value:function(e,n){var t=this.renderList(e,{height:"400px",overflowY:"scroll"});$(".menu .item",this.modal).removeClass("active"),this.tabs.search.show().html(t),this.tabs.tree.hide(),this.tabs.picked.hide(),this.modal.attr("data-mode","search"),this.initializeNodeList(t),$(".name",t).each(function(){var e=$(this).text(),t=RegExp("("+n+")","gi");e=e.replace(t,"<strong class='search-query'>$1</strong>"),$(this).html(e)})}},{key:"showPicked",value:function(){var e;return e=this.renderList(this.picked,{height:"400px",overflowY:"scroll"}),$(".menu .item",this.modal).removeClass("active"),$(".menu .picked",this.modal).addClass("active"),this.tabs.picked.show().html(e),this.tabs.tree.hide(),this.tabs.search.hide(),this.modal.attr("data-mode","picked"),this.initializeNodeList(e)}},{key:"renderList",value:function(e,t){var n,a,r,o,i;for(t=t||{},n=$('<div class="ui tree-picker list"></div>').css(t),o=0,i=e.length;o<i;o++)a=e[o],this.props.hidden(a)||(r=$('<div class="node" data-id="'+a.id+'" data-name="'+a.name+'">\n    <div class="head">\n        <a class="name">'+a.name+'</a>\n        <i class="checkmark icon"></i>\n    </div>\n    <div class="content"></div>\n</div>').appendTo(n),this.props.disabledClause(a)&&r.addClass("disabled"));return n}},{key:"getAdditionalData",value:function(o,i,e){var l=this,s=2<arguments.length&&void 0!==e?e:0;if(this.state.dataModel)if(this.state.getAdditionalDataForControl){var t={model:this.state.dataModel};this.props.paging&&(t.startIndex=s,t.pageSize=this.props.pageSize),this.setState({isFetching:!0,needFetch:!1,parentIdToFetch:o},function(){l.state.getAdditionalDataForControl(l,t,function(e){var t=e.items,n=e.rowsCount,a=l.converter.toNested(t,o);if(l.setData({items:a,rowsCount:n,parentIdToFetch:o},!s),l.props.paging){var r=l.renderTree(a,n,o,s);l.initializeNodeList(r),s?i.replaceWith(r.children()):($(".content",i).append(r),$(">.content",i).slideToggle())}else l.updatePickedNodes(l.getPicked()),l.modal&&l.initializeNodes(l.nodes)})})}else this.props.buildermode&&console.log("TreePicker: For paging on server need to set getAdditionalDataForControl func!");else this.props.buildermode&&console.log("TreePicker: Set DataModel label!")}},{key:"loadCurrentValue",value:function(){var n=this;if(this.picked=[],void 0!==this.props.value&&null!==this.props.value)if(this.props.multiple){for(var e=this.getArrayValues(this.props.value),t=[],a=0;a<e.length;a++){var r=e[a],o=this.getNodeById(r);o?this.picked.push(o):t.push(r)}if(0<t.length){var i={model:this.state.dataModel};i.filters=[{column:"__id",term:"in",value:t}],this.setState({isFetching:!0},function(){n.state.getAdditionalDataForControl(n,i,function(e){var t=e.items;n.addSelectedNodes(t)})})}else this.modal&&this.updatePickedCount()}else{var l=this.getNodeById(this.props.value);if(l)this.picked.push(l),this.modal&&this.updatePickedCount();else{var s={model:this.state.dataModel};s.filters=[{column:"__id",term:"=",value:this.props.value}],this.setState({isFetching:!0},function(){n.state.getAdditionalDataForControl(n,s,function(e){var t=e.items;n.addSelectedNodes(t)})})}}this.state.needValueFetch&&this.setState({needValueFetch:!1})}},{key:"setData",value:function(e,t){var n=e.items,a=e.rowsCount,r=e.parentIdToFetch;if(t)if(r){var o=this.getNodeById(r);o&&(o[this.props.childrenKey]=n,o.rowsCount=a)}else this.nodes=n,this.setState({rowsCount:a});else if(r){var i=this.getNodeById(r);i&&(i[this.props.childrenKey]=i[this.props.childrenKey].concat(n))}else this.nodes=this.nodes.concat(n);this.setState({needFetch:!1,isFetching:!1})}},{key:"getArrayValues",value:function(e){var t=e;if(null==t)return[];if(!Array.isArray(t)){var n=void 0;try{n=JSON.parse(t)}catch(e){console.log(e)}Array.isArray(n)||(n=[t]),t=n}return t}},{key:"addSelectedNodes",value:function(e){Array.isArray(e)&&e.length&&(this.picked=this.picked.concat(e),this.modal&&this.updatePickedCount(),this.setState({isFetching:!1}))}},{key:"getLocalized",value:function(e,t){return window.DWKitAdminLang&&window.DWKitAdminLang.treepicker?window.DWKitAdminLang.treepicker[e]:t}},{key:"triggerElement",value:function(){var e=this.props.value,t=[];if(this.props.multiple){this.props.value||(e=[]),Array.isArray(this.props.value)||(e=this.getArrayValues(this.props.value));var n=!0,a=!1,r=void 0;try{for(var o,i=e[Symbol.iterator]();!(n=(o=i.next()).done);n=!0){var l=o.value,s=this.getNodeById(l);s&&t.push({value:s.id,text:s.name})}}catch(e){a=!0,r=e}finally{try{!n&&i.return&&i.return()}finally{if(a)throw r}}}else if(e){var u=this.getNodeById(e);u&&t.push({value:u.id,text:u.name})}var d={fluid:this.props.fluid,disabled:this.props.disabled,multiple:this.props.multiple,value:e,className:this.props.className,options:t,selection:this.props.selection};if(this.props.parentIsForm)return d.label=this.props.label,d.error=this.props.error,h.default.createElement(p.Form.Dropdown,f({},d,{onClick:this.handleOpen,onChange:this.onDropdownChange}));var c="ui labeled input";return this.props.fluid&&(c+=" fluid"),this.props.error&&(c+=" error"),h.default.createElement("div",{className:c},this.props.label&&h.default.createElement("div",{className:"ui label label"},this.props.label),h.default.createElement(p.Dropdown,f({},d,{onChange:this.onDropdownChange,onClick:this.handleOpen})))}},{key:"render",value:function(){var e="tree-picker "+this.props.modalCssClass;return h.default.createElement(p.Modal,{style:this.props.modalStyle,className:e,open:this.state.visible,trigger:this.triggerElement()},h.default.createElement(i.default,{name:this.props.label,onMount:this.onMount,selected:this.getLocalized("selected","Selected")}),h.default.createElement("div",{className:"ui search form"},h.default.createElement("div",{className:"field"},h.default.createElement("div",{className:"ui icon input"},h.default.createElement("input",{type:"text",placeholder:this.getLocalized("search","Search")}),h.default.createElement("i",{className:"search icon"})))),h.default.createElement(p.Modal.Content,null,h.default.createElement("div",{className:" active"},h.default.createElement("div",{className:"ui text loader"},this.getLocalized("loadingData","Loading data"))),h.default.createElement("div",{className:"tree-tab"},h.default.createElement("div",{style:{height:"400px"}})),h.default.createElement("div",{className:"search-tab"}),h.default.createElement("div",{className:"picked-tab"})),h.default.createElement(p.Modal.Actions,null,h.default.createElement(p.Button,{onClick:this.pickSearch,className:"pick-search"},h.default.createElement("i",{className:"checkmark icon"}),this.getLocalized("selectAll","Select all")),h.default.createElement(p.Button,{onClick:this.unpickSearch,className:"unpick-search"},h.default.createElement("i",{className:"remove icon"}),this.getLocalized("removeAll","Remove all")),h.default.createElement(p.Button,{onClick:this.unpickPicked,className:"unpick-picked"},h.default.createElement("i",{className:"remove icon"}),this.getLocalized("removeAll","Remove all")),h.default.createElement(p.Button,{onClick:this.handleSave,className:"blue"},this.getLocalized("ok","Ok")),h.default.createElement(p.Button,{onClick:this.handleClose},this.getLocalized("cancel","Cancel"))))}}]),c);function c(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(c.__proto__||Object.getPrototypeOf(c)).call(this,e));return i.onMount=function(e){i.modal=$(l.default.findDOMNode(e)).parent(),i.count=$(".count",i.modal),i.tabs={tree:$(".tree-tab",i.modal),search:$(".search-tab",i.modal),picked:$(".picked-tab",i.modal)},$(".menu .tree",i.modal).on("click",function(){return i.showTree()}),$(".menu .picked",i.modal).on("click",function(){return i.showPicked()}),$(".search input",i.modal).on("keyup",function(e){return i.showSearch($(e.currentTarget).val())}),i.nodes.length&&(i.props.paging?i.loadCurrentValue():(i.updatePickedNodes(i.getPicked()),i.updatePickedCount()),i.initializeNodes(i.nodes))},i.pickSearch=function(){$(".search-tab .node:not(.picked) .name",i.modal).trigger("click")},i.unpickSearch=function(){$(".search-tab .node.picked .name",i.modal).trigger("click")},i.unpickPicked=function(){$(".picked-tab .node.picked .name",i.modal).trigger("click")},i.handleOpen=function(){i.state.visible||i.setState({visible:!0})},i.handleClose=function(){i.setState({visible:!1})},i.handleSave=function(){var e,t;t=i.props.multiple?(e=i.picked.map(function(e){return e.id}),i.picked.map(function(e){return e.values})):(e=i.picked.length?i.picked[0].id:null,i.picked.length?i.picked[0].values:null),i.props.onChange&&i.props.onChange(null,{name:i.props.name,propertyName:i.props.propertyName,value:e,additionalValues:t}),i.setState({visible:!1})},i.onDropdownChange=function(e,t){var n,a=t.value;if(i.nodes.length)if(Array.isArray(a)){var r=a.map(function(e){return""+e});n=i.recursiveNodeSearch(i.nodes,function(e){return r.includes(""+e.id)}).map(function(e){return e.values})}else{var o=i.recursiveNodeSearch(i.nodes,function(e){return""+e.id==""+a});o.length&&(n=o[0].values)}i.props.onChange&&i.props.onChange(null,{name:i.props.name,value:a,additionalValues:n})},i.state={visible:!1,value:i.props.value},i.converter=new s.default({children:i.props.childrenKey}),i}d.defaultProps={hidden:function(e){return!1},disabledClause:function(e){return!1},childrenKey:"nodes",multiple:!1,minSearchQueryLength:3,pageSize:100},t.default=d},function(e,t,n){"use strict";function a(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function d(e,t,n){void 0===t[e]&&(t[e]=[]),t[e].push(n)}function c(e,t,n){var a;for(a=n.length,void 0===t[e]&&(t[e]=[]);0<a--;)t[e].push(n.shift())}Object.defineProperty(t,"__esModule",{value:!0});var r=(function(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),e}(o,[{key:"toNested",value:function(e,t){var n,a,r,o,i,l,s,u;for(n=0,o=[],r={},s={},a=e.length;n<a;n++)i=(u=e[n])[this.config.id],l=u[this.config.parent],r[i]=u,l===t?o.push(u):void 0!==r[l]?d(this.config.children,r[l],u):d(l,s,u),this.config.options.deleteParent&&delete u[this.config.parent],void 0!==s[i]&&c(this.config.children,u,s[i]);return o}}]),o);function o(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),this.config=e=e||{},this.config.id=e.id||"id",this.config.parent=e.parent||"parent",this.config.children=e.children||"nodes",this.config.options=e.options||{deleteParent:!1}}t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e};function r(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var o,i=n(0),l=(o=i)&&o.__esModule?o:{default:o},s=n(1);var u=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(d,i.Component),a(d,[{key:"componentDidMount",value:function(){this.props.onMount(this)}},{key:"render",value:function(){return l.default.createElement(s.Modal.Header,null,this.props.name,l.default.createElement("div",{className:"ui menu"},l.default.createElement(s.Item,{className:"active tree",as:"a"},l.default.createElement("i",{className:"list icon"})," Select"),l.default.createElement(s.Item,{className:"picked item",as:"a"},l.default.createElement("i",{className:"checkmark icon"})," ",this.props.selected," ",l.default.createElement("span",{className:"count"}))))}}]),d);function d(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,d),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(d.__proto__||Object.getPrototypeOf(d)).call(this,e))}t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e};function r(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var o=l(n(0)),i=(l(n(3)),n(1));function l(e){return e&&e.__esModule?e:{default:e}}var s=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(u,o.default.Component),a(u,[{key:"render",value:function(){var e={};e.pointing=this.props.pointing,e.secondary=this.props.secondary,e.tabular=this.props.tabular,e.fluid=this.props.fluid,e.vertical=this.props.vertical;var t=this.props.className;this.props.scroll&&(t="dwkit-tabgroup");var n=this.getPanes(this.props["data-panes"]);return o.default.createElement("div",{className:t,style:this.props.style},o.default.createElement(i.Tab,{menu:e,panes:n,renderActiveOnly:!1,onTabChange:this.onTabChange.bind(this)}))}},{key:"getPanes",value:function(e){var t=[];if(Array.isArray(e))for(var n=0;n<e.length;n++){var a=e[n];if(void 0!==a.visibleCondition&&null!==a.visibleCondition&&""!==a.visibleCondition){var r="return "+a.visibleCondition;try{if(!new Function("",r)())continue}catch(e){}}t.push({menuItem:a.title,pane:{key:a.psid,className:"top",content:this.renderPanel(a)}})}return t}},{key:"renderPanel",value:function(e){var t=void 0;if(null!=this.props.placeholders&&Array.isArray(this.props.placeholders[e.psid])&&0<this.props.placeholders[e.psid].length){var n=this.props.placeholders[e.psid];if(null!=n){t=this.props.createControls(this,{model:n,parentPlaceholder:e.psid});var a=e.psid;this.props.buildermode&&null!=this.props.createBuilderDropzone&&(0<t.length&&0<n.length&&t.unshift(this.props.createBuilderDropzone(a+"tab_dropzone_header",e.title,e.psid)),t.push(this.props.createBuilderDropzone(a+"tab_dropzone_footer",e.title,e.psid,n[n.length-1].key)))}}else this.props.buildermode&&null!=this.props.createBuilderDropzone&&(t=this.props.createBuilderDropzone("tab_dropzone_footer",e.title,e.psid));return t}},{key:"onTabChange",value:function(e,t){var n=t.activeIndex;null!=this.props.handleEvent&&this.props.handleEvent({e:e,key:this.props.name,eventName:"onTabChange",parameters:{targetIndex:n,pane:this.props["data-panes"][n]}})}}],[{key:"getDerivedStateFromProps",value:function(e,t){return t.activeitem!==e.value?{activeitem:e.value}:null}}]),u);function u(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(u.__proto__||Object.getPrototypeOf(u)).call(this,e));return t.state={},null!=e.value?t.state.activeitem=e.value:null!=e.activeitem&&(t.state.activeitem=e.activeitem),t}t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},a=function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e};function r(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var o=u(n(0)),i=(u(n(3)),u(n(71)),n(73)),l=u(i);n(74);function u(e){return e&&e.__esModule?e:{default:e}}var d=(0,i.WidthProvider)(l.default),c=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(f,o.default.Component),a(f,[{key:"render",value:function(){var e=this.getPanes(this.props["data-panes"]),t={isDraggable:!0,isResizable:!0,cols:null!=this.props.cols&&""!=this.props.cols?this.props.cols:12,rowHeight:30,containerPadding:[0,0]};this.props.buildermode||(t.isDraggable=this.props.draggable,t.isResizable=this.props.resizable);var n=this.props.className;return this.props.scroll&&(n="react-grid-scroll"),o.default.createElement("div",{className:n,style:this.props.style},o.default.createElement(d,s({onLayoutChange:this.onLayoutChange.bind(this)},t),e))}},{key:"getPanes",value:function(e){var n=this,a=[],t=void 0;if(!this.props.buildermode)try{t=JSON.parse(this.getCookie(window.location.pathname+"_"+this.props.name))}catch(e){}if(Array.isArray(e))for(var r=0;r<e.length;r++){var o=e[r];if(void 0!==o.visibleCondition&&null!==o.visibleCondition&&""!==o.visibleCondition){var i="return "+o.visibleCondition;try{if(!new Function("",i)())continue}catch(e){}}var l=!1;null!=t&&t.forEach(function(e){if(e.i==o.psid){l=!0;var t=s({},o);n.props.draggable&&(t.x=e.x,t.y=e.y),n.props.resizable&&(t.w=e.w,t.h=e.h),a.push(n.renderPanel(t))}}),l||a.push(this.renderPanel(o))}return a}},{key:"renderPanel",value:function(e){var t=void 0;if(null!=this.props.placeholders&&Array.isArray(this.props.placeholders[e.psid])&&0<this.props.placeholders[e.psid].length){var n=this.props.placeholders[e.psid];if(null!=n){t=this.props.createControls(this,{model:n,parentPlaceholder:e.psid});var a=e.psid;this.props.buildermode&&null!=this.props.createBuilderDropzone&&(0<t.length&&0<n.length&&t.unshift(this.props.createBuilderDropzone(a+"layout_dropzone_header",e.title,e.psid)),t.push(this.props.createBuilderDropzone(a+"layout_dropzone_footer",e.title,e.psid,n[n.length-1].key)))}}else this.props.buildermode&&null!=this.props.createBuilderDropzone&&(t=this.props.createBuilderDropzone("layout_dropzone_footer",e.title,e.psid));var r={x:null!=e.x?e.x:0,y:null!=e.y?e.y:0,w:null!=e.w?e.w:4,h:null!=e.h?e.h:4,i:e.psid};return o.default.createElement("div",{key:e.psid,className:e.cssclass,"data-grid":r},e.title&&o.default.createElement("div",{className:"react-grid-item-title"},e.title),t)}},{key:"onLayoutChange",value:function(e){if(this.props.buildermode){var t=this.props["data-panes"];Array.isArray(t)&&t.forEach(function(t){e.forEach(function(e){t.psid==e.i&&(t.x=e.x,t.y=e.y,t.w=e.w,t.h=e.h)})})}else(this.props.draggable||this.props.resizable)&&this.setCookie(window.location.pathname+"_"+this.props.name,JSON.stringify(e));null!=this.props.handleEvent&&this.props.handleEvent({undefined:void 0,key:this.props.name,eventName:"onLayoutChange",parameters:{layout:e}})}},{key:"getCookie",value:function(e){var t=document.cookie.match(new RegExp("(?:^|; )"+e.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,"\\$1")+"=([^;]*)"));return t?decodeURIComponent(t[1]):void 0}},{key:"setCookie",value:function(e,t,n){var a=(n=n||{}).expires;if("number"==typeof a&&a){var r=new Date;r.setTime(r.getTime()+1e3*a),a=n.expires=r}a&&a.toUTCString&&(n.expires=a.toUTCString());var o=e+"="+(t=encodeURIComponent(t));for(var i in n){o+="; "+i;var l=n[i];!0!==l&&(o+="="+l)}document.cookie=o}}]),f);function f(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,f);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(f.__proto__||Object.getPrototypeOf(f)).call(this,e));return t.state={},t}t.default=c},function(e,B,K){(function(V,W){var z;
/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright JS Foundation and other contributors <https://js.foundation/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */(function(){var ni,ai="Expected a function",ri="__lodash_hash_undefined__",oi="__lodash_placeholder__",ii=9007199254740991,li=NaN,si=4294967295,ui=[["ary",128],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]],di="[object Arguments]",ci="[object Array]",fi="[object Boolean]",pi="[object Date]",hi="[object Error]",mi="[object Function]",gi="[object GeneratorFunction]",vi="[object Map]",yi="[object Number]",bi="[object Object]",ki="[object Promise]",wi="[object RegExp]",Ei="[object Set]",Ci="[object String]",_i="[object Symbol]",Li="[object WeakMap]",Di="[object ArrayBuffer]",Oi="[object DataView]",Ai="[object Float32Array]",Fi="[object Float64Array]",xi="[object Int8Array]",Si="[object Int16Array]",ji="[object Int32Array]",Pi="[object Uint8Array]",Ii="[object Uint8ClampedArray]",Ni="[object Uint16Array]",Ti="[object Uint32Array]",Mi=/\b__p \+= '';/g,Ri=/\b(__p \+=) '' \+/g,Vi=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Wi=/&(?:amp|lt|gt|quot|#39);/g,zi=/[&<>"']/g,Bi=RegExp(Wi.source),Ki=RegExp(zi.source),Ui=/<%-([\s\S]+?)%>/g,Gi=/<%([\s\S]+?)%>/g,qi=/<%=([\s\S]+?)%>/g,Hi=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,$i=/^\w*$/,Yi=/^\./,Ji=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Qi=/[\\^$.*+?()[\]{}|]/g,Zi=RegExp(Qi.source),Xi=/^\s+|\s+$/g,el=/^\s+/,tl=/\s+$/,nl=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,al=/\{\n\/\* \[wrapped with (.+)\] \*/,rl=/,? & /,ol=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,il=/\\(\\)?/g,ll=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,sl=/\w*$/,ul=/^[-+]0x[0-9a-f]+$/i,dl=/^0b[01]+$/i,cl=/^\[object .+?Constructor\]$/,fl=/^0o[0-7]+$/i,pl=/^(?:0|[1-9]\d*)$/,hl=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,ml=/($^)/,gl=/['\n\r\u2028\u2029\\]/g,e="\\ud800-\\udfff",t="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",n="\\u2700-\\u27bf",a="a-z\\xdf-\\xf6\\xf8-\\xff",r="A-Z\\xc0-\\xd6\\xd8-\\xde",o="\\ufe0e\\ufe0f",i="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",l="["+e+"]",s="["+i+"]",u="["+t+"]",d="\\d+",c="["+n+"]",f="["+a+"]",p="[^"+e+i+d+n+a+r+"]",h="\\ud83c[\\udffb-\\udfff]",m="[^"+e+"]",g="(?:\\ud83c[\\udde6-\\uddff]){2}",v="[\\ud800-\\udbff][\\udc00-\\udfff]",y="["+r+"]",b="(?:"+f+"|"+p+")",k="(?:"+y+"|"+p+")",w="(?:['’](?:d|ll|m|re|s|t|ve))?",E="(?:['’](?:D|LL|M|RE|S|T|VE))?",C="(?:"+u+"|"+h+")"+"?",_="["+o+"]?",L=_+C+("(?:\\u200d(?:"+[m,g,v].join("|")+")"+_+C+")*"),D="(?:"+[c,g,v].join("|")+")"+L,O="(?:"+[m+u+"?",u,g,v,l].join("|")+")",vl=RegExp("['’]","g"),yl=RegExp(u,"g"),A=RegExp(h+"(?="+h+")|"+O+L,"g"),bl=RegExp([y+"?"+f+"+"+w+"(?="+[s,y,"$"].join("|")+")",k+"+"+E+"(?="+[s,y+b,"$"].join("|")+")",y+"?"+b+"+"+w,y+"+"+E,"\\d*(?:(?:1ST|2ND|3RD|(?![123])\\dTH)\\b)","\\d*(?:(?:1st|2nd|3rd|(?![123])\\dth)\\b)",d,D].join("|"),"g"),F=RegExp("[\\u200d"+e+t+o+"]"),kl=/[a-z][A-Z]|[A-Z]{2,}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,wl=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],El=-1,Cl={};Cl[Ai]=Cl[Fi]=Cl[xi]=Cl[Si]=Cl[ji]=Cl[Pi]=Cl[Ii]=Cl[Ni]=Cl[Ti]=!0,Cl[di]=Cl[ci]=Cl[Di]=Cl[fi]=Cl[Oi]=Cl[pi]=Cl[hi]=Cl[mi]=Cl[vi]=Cl[yi]=Cl[bi]=Cl[wi]=Cl[Ei]=Cl[Ci]=Cl[Li]=!1;var _l={};_l[di]=_l[ci]=_l[Di]=_l[Oi]=_l[fi]=_l[pi]=_l[Ai]=_l[Fi]=_l[xi]=_l[Si]=_l[ji]=_l[vi]=_l[yi]=_l[bi]=_l[wi]=_l[Ei]=_l[Ci]=_l[_i]=_l[Pi]=_l[Ii]=_l[Ni]=_l[Ti]=!0,_l[hi]=_l[mi]=_l[Li]=!1;var x={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Ll=parseFloat,Dl=parseInt,S="object"==typeof V&&V&&V.Object===Object&&V,j="object"==typeof self&&self&&self.Object===Object&&self,Ol=S||j||Function("return this")(),P=B&&!B.nodeType&&B,I=P&&"object"==typeof W&&W&&!W.nodeType&&W,Al=I&&I.exports===P,N=Al&&S.process,T=function(){try{return N&&N.binding&&N.binding("util")}catch(e){}}(),Fl=T&&T.isArrayBuffer,xl=T&&T.isDate,Sl=T&&T.isMap,jl=T&&T.isRegExp,Pl=T&&T.isSet,Il=T&&T.isTypedArray;function Nl(e,t){return e.set(t[0],t[1]),e}function Tl(e,t){return e.add(t),e}function Ml(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function Rl(e,t,n,a){for(var r=-1,o=null==e?0:e.length;++r<o;){var i=e[r];t(a,i,n(i),e)}return a}function Vl(e,t){for(var n=-1,a=null==e?0:e.length;++n<a&&!1!==t(e[n],n,e););return e}function Wl(e,t){for(var n=null==e?0:e.length;n--&&!1!==t(e[n],n,e););return e}function zl(e,t){for(var n=-1,a=null==e?0:e.length;++n<a;)if(!t(e[n],n,e))return!1;return!0}function Bl(e,t){for(var n=-1,a=null==e?0:e.length,r=0,o=[];++n<a;){var i=e[n];t(i,n,e)&&(o[r++]=i)}return o}function Kl(e,t){return!!(null==e?0:e.length)&&-1<Zl(e,t,0)}function Ul(e,t,n){for(var a=-1,r=null==e?0:e.length;++a<r;)if(n(t,e[a]))return!0;return!1}function Gl(e,t){for(var n=-1,a=null==e?0:e.length,r=Array(a);++n<a;)r[n]=t(e[n],n,e);return r}function ql(e,t){for(var n=-1,a=t.length,r=e.length;++n<a;)e[r+n]=t[n];return e}function Hl(e,t,n,a){var r=-1,o=null==e?0:e.length;for(a&&o&&(n=e[++r]);++r<o;)n=t(n,e[r],r,e);return n}function $l(e,t,n,a){var r=null==e?0:e.length;for(a&&r&&(n=e[--r]);r--;)n=t(n,e[r],r,e);return n}function Yl(e,t){for(var n=-1,a=null==e?0:e.length;++n<a;)if(t(e[n],n,e))return!0;return!1}var M=ns("length");function Jl(e,a,t){var r;return t(e,function(e,t,n){if(a(e,t,n))return r=t,!1}),r}function Ql(e,t,n,a){for(var r=e.length,o=n+(a?1:-1);a?o--:++o<r;)if(t(e[o],o,e))return o;return-1}function Zl(e,t,n){return t==t?function(e,t,n){var a=n-1,r=e.length;for(;++a<r;)if(e[a]===t)return a;return-1}(e,t,n):Ql(e,es,n)}function Xl(e,t,n,a){for(var r=n-1,o=e.length;++r<o;)if(a(e[r],t))return r;return-1}function es(e){return e!=e}function ts(e,t){var n=null==e?0:e.length;return n?rs(e,t)/n:li}function ns(t){return function(e){return null==e?ni:e[t]}}function R(t){return function(e){return null==t?ni:t[e]}}function as(e,a,r,o,t){return t(e,function(e,t,n){r=o?(o=!1,e):a(r,e,t,n)}),r}function rs(e,t){for(var n,a=-1,r=e.length;++a<r;){var o=t(e[a]);o!==ni&&(n=n===ni?o:n+o)}return n}function os(e,t){for(var n=-1,a=Array(e);++n<e;)a[n]=t(n);return a}function is(t){return function(e){return t(e)}}function ls(t,e){return Gl(e,function(e){return t[e]})}function ss(e,t){return e.has(t)}function us(e,t){for(var n=-1,a=e.length;++n<a&&-1<Zl(t,e[n],0););return n}function ds(e,t){for(var n=e.length;n--&&-1<Zl(t,e[n],0););return n}var cs=R({"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss","Ā":"A","Ă":"A","Ą":"A","ā":"a","ă":"a","ą":"a","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","ć":"c","ĉ":"c","ċ":"c","č":"c","Ď":"D","Đ":"D","ď":"d","đ":"d","Ē":"E","Ĕ":"E","Ė":"E","Ę":"E","Ě":"E","ē":"e","ĕ":"e","ė":"e","ę":"e","ě":"e","Ĝ":"G","Ğ":"G","Ġ":"G","Ģ":"G","ĝ":"g","ğ":"g","ġ":"g","ģ":"g","Ĥ":"H","Ħ":"H","ĥ":"h","ħ":"h","Ĩ":"I","Ī":"I","Ĭ":"I","Į":"I","İ":"I","ĩ":"i","ī":"i","ĭ":"i","į":"i","ı":"i","Ĵ":"J","ĵ":"j","Ķ":"K","ķ":"k","ĸ":"k","Ĺ":"L","Ļ":"L","Ľ":"L","Ŀ":"L","Ł":"L","ĺ":"l","ļ":"l","ľ":"l","ŀ":"l","ł":"l","Ń":"N","Ņ":"N","Ň":"N","Ŋ":"N","ń":"n","ņ":"n","ň":"n","ŋ":"n","Ō":"O","Ŏ":"O","Ő":"O","ō":"o","ŏ":"o","ő":"o","Ŕ":"R","Ŗ":"R","Ř":"R","ŕ":"r","ŗ":"r","ř":"r","Ś":"S","Ŝ":"S","Ş":"S","Š":"S","ś":"s","ŝ":"s","ş":"s","š":"s","Ţ":"T","Ť":"T","Ŧ":"T","ţ":"t","ť":"t","ŧ":"t","Ũ":"U","Ū":"U","Ŭ":"U","Ů":"U","Ű":"U","Ų":"U","ũ":"u","ū":"u","ŭ":"u","ů":"u","ű":"u","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","Ż":"Z","Ž":"Z","ź":"z","ż":"z","ž":"z","Ĳ":"IJ","ĳ":"ij","Œ":"Oe","œ":"oe","ŉ":"'n","ſ":"s"}),fs=R({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function ps(e){return"\\"+x[e]}function hs(e){return F.test(e)}function ms(e){var n=-1,a=Array(e.size);return e.forEach(function(e,t){a[++n]=[t,e]}),a}function gs(t,n){return function(e){return t(n(e))}}function vs(e,t){for(var n=-1,a=e.length,r=0,o=[];++n<a;){var i=e[n];i!==t&&i!==oi||(e[n]=oi,o[r++]=n)}return o}function ys(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e}),n}function bs(e){return hs(e)?function(e){var t=A.lastIndex=0;for(;A.test(e);)++t;return t}(e):M(e)}function ks(e){return hs(e)?function(e){return e.match(A)||[]}(e):function(e){return e.split("")}(e)}var ws=R({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"});var Es=function e(t){var n,L=(t=null==t?Ol:Es.defaults(Ol.Object(),t,Es.pick(Ol,wl))).Array,a=t.Date,r=t.Error,g=t.Function,o=t.Math,m=t.Object,v=t.RegExp,d=t.String,y=t.TypeError,i=L.prototype,l=g.prototype,s=m.prototype,u=t["__core-js_shared__"],c=l.toString,k=s.hasOwnProperty,f=0,p=(n=/[^.]+$/.exec(u&&u.keys&&u.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"",h=s.toString,b=c.call(m),w=Ol._,E=v("^"+c.call(k).replace(Qi,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),C=Al?t.Buffer:ni,_=t.Symbol,D=t.Uint8Array,O=C?C.allocUnsafe:ni,A=gs(m.getPrototypeOf,m),F=m.create,x=s.propertyIsEnumerable,S=i.splice,j=_?_.isConcatSpreadable:ni,P=_?_.iterator:ni,I=_?_.toStringTag:ni,N=function(){try{var e=zn(m,"defineProperty");return e({},"",{}),e}catch(e){}}(),T=t.clearTimeout!==Ol.clearTimeout&&t.clearTimeout,M=a&&a.now!==Ol.Date.now&&a.now,R=t.setTimeout!==Ol.setTimeout&&t.setTimeout,V=o.ceil,W=o.floor,z=m.getOwnPropertySymbols,B=C?C.isBuffer:ni,K=t.isFinite,U=i.join,G=gs(m.keys,m),q=o.max,H=o.min,$=a.now,Y=t.parseInt,J=o.random,Q=i.reverse,Z=zn(t,"DataView"),X=zn(t,"Map"),ee=zn(t,"Promise"),te=zn(t,"Set"),ne=zn(t,"WeakMap"),ae=zn(m,"create"),re=ne&&new ne,oe={},ie=ha(Z),le=ha(X),se=ha(ee),ue=ha(te),de=ha(ne),ce=_?_.prototype:ni,fe=ce?ce.valueOf:ni,pe=ce?ce.toString:ni;function he(e){if(Sr(e)&&!kr(e)&&!(e instanceof be)){if(e instanceof ye)return e;if(k.call(e,"__wrapped__"))return ma(e)}return new ye(e)}var me=function(e){if(!xr(e))return{};if(F)return F(e);ge.prototype=e;var t=new ge;return ge.prototype=ni,t};function ge(){}function ve(){}function ye(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=ni}function be(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=si,this.__views__=[]}function ke(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var a=e[t];this.set(a[0],a[1])}}function we(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var a=e[t];this.set(a[0],a[1])}}function Ee(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var a=e[t];this.set(a[0],a[1])}}function Ce(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new Ee;++t<n;)this.add(e[t])}function _e(e){var t=this.__data__=new we(e);this.size=t.size}function Le(e,t){var n=kr(e),a=!n&&br(e),r=!n&&!a&&_r(e),o=!n&&!a&&!r&&Vr(e),i=n||a||r||o,l=i?os(e.length,d):[],s=l.length;for(var u in e)!t&&!k.call(e,u)||i&&("length"==u||r&&("offset"==u||"parent"==u)||o&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||$n(u,s))||l.push(u);return l}function De(e){var t=e.length;return t?e[Ct(0,t-1)]:ni}function Oe(e,t){return ua(rn(e),Te(t,0,e.length))}function Ae(e){return ua(rn(e))}function Fe(e,t,n){(n===ni||gr(e[t],n))&&(n!==ni||t in e)||Ie(e,t,n)}function xe(e,t,n){var a=e[t];k.call(e,t)&&gr(a,n)&&(n!==ni||t in e)||Ie(e,t,n)}function Se(e,t){for(var n=e.length;n--;)if(gr(e[n][0],t))return n;return-1}function je(e,a,r,o){return ze(e,function(e,t,n){a(o,e,r(e),n)}),o}function Pe(e,t){return e&&on(t,lo(t),e)}function Ie(e,t,n){"__proto__"==t&&N?N(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function Ne(e,t){for(var n=-1,a=t.length,r=L(a),o=null==e;++n<a;)r[n]=o?ni:no(e,t[n]);return r}function Te(e,t,n){return e==e&&(n!==ni&&(e=e<=n?e:n),t!==ni&&(e=t<=e?e:t)),e}function Me(n,a,r,e,t,o){var i,l=1&a,s=2&a,u=4&a;if(r&&(i=t?r(n,e,t,o):r(n)),i!==ni)return i;if(!xr(n))return n;var d=kr(n);if(d){if(i=function(e){var t=e.length,n=e.constructor(t);t&&"string"==typeof e[0]&&k.call(e,"index")&&(n.index=e.index,n.input=e.input);return n}(n),!l)return rn(n,i)}else{var c=Un(n),f=c==mi||c==gi;if(_r(n))return Zt(n,l);if(c==bi||c==di||f&&!t){if(i=s||f?{}:qn(n),!l)return s?function(e,t){return on(e,Kn(e),t)}(n,function(e,t){return e&&on(t,so(t),e)}(i,n)):function(e,t){return on(e,Bn(e),t)}(n,Pe(i,n))}else{if(!_l[c])return t?n:{};i=function(e,t,n,a){var r=e.constructor;switch(t){case Di:return Xt(e);case fi:case pi:return new r(+e);case Oi:return function(e,t){var n=t?Xt(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}(e,a);case Ai:case Fi:case xi:case Si:case ji:case Pi:case Ii:case Ni:case Ti:return en(e,a);case vi:return function(e,t,n){return Hl(t?n(ms(e),1):ms(e),Nl,new e.constructor)}(e,a,n);case yi:case Ci:return new r(e);case wi:return function(e){var t=new e.constructor(e.source,sl.exec(e));return t.lastIndex=e.lastIndex,t}(e);case Ei:return function(e,t,n){return Hl(t?n(ys(e),1):ys(e),Tl,new e.constructor)}(e,a,n);case _i:return function(e){return fe?m(fe.call(e)):{}}(e)}}(n,c,Me,l)}}var p=(o=o||new _e).get(n);if(p)return p;o.set(n,i);var h=d?ni:(u?s?In:Pn:s?so:lo)(n);return Vl(h||n,function(e,t){h&&(e=n[t=e]),xe(i,t,Me(e,a,r,t,n,o))}),i}function Re(e,t,n){var a=n.length;if(null==e)return!a;for(e=m(e);a--;){var r=n[a],o=t[r],i=e[r];if(i===ni&&!(r in e)||!o(i))return!1}return!0}function Ve(e,t,n){if("function"!=typeof e)throw new y(ai);return oa(function(){e.apply(ni,n)},t)}function We(e,t,n,a){var r=-1,o=Kl,i=!0,l=e.length,s=[],u=t.length;if(!l)return s;n&&(t=Gl(t,is(n))),a?(o=Ul,i=!1):200<=t.length&&(o=ss,i=!1,t=new Ce(t));e:for(;++r<l;){var d=e[r],c=null==n?d:n(d);if(d=a||0!==d?d:0,i&&c==c){for(var f=u;f--;)if(t[f]===c)continue e;s.push(d)}else o(t,c,a)||s.push(d)}return s}he.templateSettings={escape:Ui,evaluate:Gi,interpolate:qi,variable:"",imports:{_:he}},(he.prototype=ve.prototype).constructor=he,(ye.prototype=me(ve.prototype)).constructor=ye,(be.prototype=me(ve.prototype)).constructor=be,ke.prototype.clear=function(){this.__data__=ae?ae(null):{},this.size=0},ke.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},ke.prototype.get=function(e){var t=this.__data__;if(ae){var n=t[e];return n===ri?ni:n}return k.call(t,e)?t[e]:ni},ke.prototype.has=function(e){var t=this.__data__;return ae?t[e]!==ni:k.call(t,e)},ke.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=ae&&t===ni?ri:t,this},we.prototype.clear=function(){this.__data__=[],this.size=0},we.prototype.delete=function(e){var t=this.__data__,n=Se(t,e);return!(n<0)&&(n==t.length-1?t.pop():S.call(t,n,1),--this.size,!0)},we.prototype.get=function(e){var t=this.__data__,n=Se(t,e);return n<0?ni:t[n][1]},we.prototype.has=function(e){return-1<Se(this.__data__,e)},we.prototype.set=function(e,t){var n=this.__data__,a=Se(n,e);return a<0?(++this.size,n.push([e,t])):n[a][1]=t,this},Ee.prototype.clear=function(){this.size=0,this.__data__={hash:new ke,map:new(X||we),string:new ke}},Ee.prototype.delete=function(e){var t=Vn(this,e).delete(e);return this.size-=t?1:0,t},Ee.prototype.get=function(e){return Vn(this,e).get(e)},Ee.prototype.has=function(e){return Vn(this,e).has(e)},Ee.prototype.set=function(e,t){var n=Vn(this,e),a=n.size;return n.set(e,t),this.size+=n.size==a?0:1,this},Ce.prototype.add=Ce.prototype.push=function(e){return this.__data__.set(e,ri),this},Ce.prototype.has=function(e){return this.__data__.has(e)},_e.prototype.clear=function(){this.__data__=new we,this.size=0},_e.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},_e.prototype.get=function(e){return this.__data__.get(e)},_e.prototype.has=function(e){return this.__data__.has(e)},_e.prototype.set=function(e,t){var n=this.__data__;if(n instanceof we){var a=n.__data__;if(!X||a.length<199)return a.push([e,t]),this.size=++n.size,this;n=this.__data__=new Ee(a)}return n.set(e,t),this.size=n.size,this};var ze=un(Ye),Be=un(Je,!0);function Ke(e,a){var r=!0;return ze(e,function(e,t,n){return r=!!a(e,t,n)}),r}function Ue(e,t,n){for(var a=-1,r=e.length;++a<r;){var o=e[a],i=t(o);if(null!=i&&(l===ni?i==i&&!Rr(i):n(i,l)))var l=i,s=o}return s}function Ge(e,a){var r=[];return ze(e,function(e,t,n){a(e,t,n)&&r.push(e)}),r}function qe(e,t,n,a,r){var o=-1,i=e.length;for(n=n||Hn,r=r||[];++o<i;){var l=e[o];0<t&&n(l)?1<t?qe(l,t-1,n,a,r):ql(r,l):a||(r[r.length]=l)}return r}var He=dn(),$e=dn(!0);function Ye(e,t){return e&&He(e,t,lo)}function Je(e,t){return e&&$e(e,t,lo)}function Qe(t,e){return Bl(e,function(e){return Or(t[e])})}function Ze(e,t){for(var n=0,a=(t=$t(t,e)).length;null!=e&&n<a;)e=e[pa(t[n++])];return n&&n==a?e:ni}function Xe(e,t,n){var a=t(e);return kr(e)?a:ql(a,n(e))}function et(e){return null==e?e===ni?"[object Undefined]":"[object Null]":I&&I in m(e)?function(e){var t=k.call(e,I),n=e[I];try{e[I]=ni;var a=!0}catch(e){}var r=h.call(e);a&&(t?e[I]=n:delete e[I]);return r}(e):function(e){return h.call(e)}(e)}function tt(e,t){return t<e}function nt(e,t){return null!=e&&k.call(e,t)}function at(e,t){return null!=e&&t in m(e)}function rt(e,t,n){for(var a=n?Ul:Kl,r=e[0].length,o=e.length,i=o,l=L(o),s=1/0,u=[];i--;){var d=e[i];i&&t&&(d=Gl(d,is(t))),s=H(d.length,s),l[i]=!n&&(t||120<=r&&120<=d.length)?new Ce(i&&d):ni}d=e[0];var c=-1,f=l[0];e:for(;++c<r&&u.length<s;){var p=d[c],h=t?t(p):p;if(p=n||0!==p?p:0,!(f?ss(f,h):a(u,h,n))){for(i=o;--i;){var m=l[i];if(!(m?ss(m,h):a(e[i],h,n)))continue e}f&&f.push(h),u.push(p)}}return u}function ot(e,t,n){var a=null==(e=aa(e,t=$t(t,e)))?e:e[pa(Da(t))];return null==a?ni:Ml(a,e,n)}function it(e){return Sr(e)&&et(e)==di}function lt(e,t,n,a,r){return e===t||(null==e||null==t||!Sr(e)&&!Sr(t)?e!=e&&t!=t:function(e,t,n,a,r,o){var i=kr(e),l=kr(t),s=i?ci:Un(e),u=l?ci:Un(t),d=(s=s==di?bi:s)==bi,c=(u=u==di?bi:u)==bi,f=s==u;if(f&&_r(e)){if(!_r(t))return!1;d=!(i=!0)}if(f&&!d)return o=o||new _e,i||Vr(e)?Sn(e,t,n,a,r,o):function(e,t,n,a,r,o,i){switch(n){case Oi:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case Di:return!(e.byteLength!=t.byteLength||!o(new D(e),new D(t)));case fi:case pi:case yi:return gr(+e,+t);case hi:return e.name==t.name&&e.message==t.message;case wi:case Ci:return e==t+"";case vi:var l=ms;case Ei:var s=1&a;if(l=l||ys,e.size!=t.size&&!s)return!1;var u=i.get(e);if(u)return u==t;a|=2,i.set(e,t);var d=Sn(l(e),l(t),a,r,o,i);return i.delete(e),d;case _i:if(fe)return fe.call(e)==fe.call(t)}return!1}(e,t,s,n,a,r,o);if(!(1&n)){var p=d&&k.call(e,"__wrapped__"),h=c&&k.call(t,"__wrapped__");if(p||h){var m=p?e.value():e,g=h?t.value():t;return o=o||new _e,r(m,g,n,a,o)}}return f&&(o=o||new _e,function(e,t,n,a,r,o){var i=1&n,l=Pn(e),s=l.length,u=Pn(t).length;if(s!=u&&!i)return!1;var d=s;for(;d--;){var c=l[d];if(!(i?c in t:k.call(t,c)))return!1}var f=o.get(e);if(f&&o.get(t))return f==t;var p=!0;o.set(e,t),o.set(t,e);var h=i;for(;++d<s;){c=l[d];var m=e[c],g=t[c];if(a)var v=i?a(g,m,c,t,e,o):a(m,g,c,e,t,o);if(!(v===ni?m===g||r(m,g,n,a,o):v)){p=!1;break}h=h||"constructor"==c}if(p&&!h){var y=e.constructor,b=t.constructor;y!=b&&"constructor"in e&&"constructor"in t&&!("function"==typeof y&&y instanceof y&&"function"==typeof b&&b instanceof b)&&(p=!1)}return o.delete(e),o.delete(t),p}(e,t,n,a,r,o))}(e,t,n,a,lt,r))}function st(e,t,n,a){var r=n.length,o=r,i=!a;if(null==e)return!o;for(e=m(e);r--;){var l=n[r];if(i&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++r<o;){var s=(l=n[r])[0],u=e[s],d=l[1];if(i&&l[2]){if(u===ni&&!(s in e))return!1}else{var c=new _e;if(a)var f=a(u,d,s,e,t,c);if(!(f===ni?lt(d,u,3,a,c):f))return!1}}return!0}function ut(e){return!(!xr(e)||function(e){return!!p&&p in e}(e))&&(Or(e)?E:cl).test(ha(e))}function dt(e){return"function"==typeof e?e:null==e?Io:"object"==typeof e?kr(e)?gt(e[0],e[1]):mt(e):Ko(e)}function ct(e){if(!Xn(e))return G(e);var t=[];for(var n in m(e))k.call(e,n)&&"constructor"!=n&&t.push(n);return t}function ft(e){if(!xr(e))return function(e){var t=[];if(null!=e)for(var n in m(e))t.push(n);return t}(e);var t=Xn(e),n=[];for(var a in e)("constructor"!=a||!t&&k.call(e,a))&&n.push(a);return n}function pt(e,t){return e<t}function ht(e,a){var r=-1,o=Er(e)?L(e.length):[];return ze(e,function(e,t,n){o[++r]=a(e,t,n)}),o}function mt(t){var n=Wn(t);return 1==n.length&&n[0][2]?ta(n[0][0],n[0][1]):function(e){return e===t||st(e,t,n)}}function gt(n,a){return Jn(n)&&ea(a)?ta(pa(n),a):function(e){var t=no(e,n);return t===ni&&t===a?ao(e,n):lt(a,t,3)}}function vt(a,r,o,i,l){a!==r&&He(r,function(e,t){if(xr(e))l=l||new _e,function(e,t,n,a,r,o,i){var l=e[n],s=t[n],u=i.get(s);if(u)return Fe(e,n,u);var d=o?o(l,s,n+"",e,t,i):ni,c=d===ni;if(c){var f=kr(s),p=!f&&_r(s),h=!f&&!p&&Vr(s);d=s,f||p||h?d=kr(l)?l:Cr(l)?rn(l):p?Zt(s,!(c=!1)):h?en(s,!(c=!1)):[]:Ir(s)||br(s)?br(d=l)?d=Hr(l):(!xr(l)||a&&Or(l))&&(d=qn(s)):c=!1}c&&(i.set(s,d),r(d,s,a,o,i),i.delete(s));Fe(e,n,d)}(a,r,t,o,vt,i,l);else{var n=i?i(a[t],e,t+"",a,r,l):ni;n===ni&&(n=e),Fe(a,t,n)}},so)}function yt(e,t){var n=e.length;if(n)return $n(t+=t<0?n:0,n)?e[t]:ni}function bt(e,a,n){var r=-1;return a=Gl(a.length?a:[Io],is(Rn())),function(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}(ht(e,function(t,e,n){return{criteria:Gl(a,function(e){return e(t)}),index:++r,value:t}}),function(e,t){return function(e,t,n){var a=-1,r=e.criteria,o=t.criteria,i=r.length,l=n.length;for(;++a<i;){var s=tn(r[a],o[a]);if(s){if(l<=a)return s;var u=n[a];return s*("desc"==u?-1:1)}}return e.index-t.index}(e,t,n)})}function kt(e,t,n){for(var a=-1,r=t.length,o={};++a<r;){var i=t[a],l=Ze(e,i);n(l,i)&&At(o,$t(i,e),l)}return o}function wt(e,t,n,a){var r=a?Xl:Zl,o=-1,i=t.length,l=e;for(e===t&&(t=rn(t)),n&&(l=Gl(e,is(n)));++o<i;)for(var s=0,u=t[o],d=n?n(u):u;-1<(s=r(l,d,s,a));)l!==e&&S.call(l,s,1),S.call(e,s,1);return e}function Et(e,t){for(var n=e?t.length:0,a=n-1;n--;){var r=t[n];if(n==a||r!==o){var o=r;$n(r)?S.call(e,r,1):Wt(e,r)}}return e}function Ct(e,t){return e+W(J()*(t-e+1))}function _t(e,t){var n="";if(!e||t<1||ii<t)return n;for(;t%2&&(n+=e),(t=W(t/2))&&(e+=e),t;);return n}function Lt(e,t){return ia(na(e,t,Io),e+"")}function Dt(e){return De(vo(e))}function Ot(e,t){var n=vo(e);return ua(n,Te(t,0,n.length))}function At(e,t,n,a){if(!xr(e))return e;for(var r=-1,o=(t=$t(t,e)).length,i=o-1,l=e;null!=l&&++r<o;){var s=pa(t[r]),u=n;if(r!=i){var d=l[s];(u=a?a(d,s,l):ni)===ni&&(u=xr(d)?d:$n(t[r+1])?[]:{})}xe(l,s,u),l=l[s]}return e}var Ft=re?function(e,t){return re.set(e,t),e}:Io,xt=N?function(e,t){return N(e,"toString",{configurable:!0,enumerable:!1,value:So(t),writable:!0})}:Io;function St(e){return ua(vo(e))}function jt(e,t,n){var a=-1,r=e.length;t<0&&(t=r<-t?0:r+t),(n=r<n?r:n)<0&&(n+=r),r=n<t?0:n-t>>>0,t>>>=0;for(var o=L(r);++a<r;)o[a]=e[a+t];return o}function Pt(e,a){var r;return ze(e,function(e,t,n){return!(r=a(e,t,n))}),!!r}function It(e,t,n){var a=0,r=null==e?a:e.length;if("number"==typeof t&&t==t&&r<=2147483647){for(;a<r;){var o=a+r>>>1,i=e[o];null!==i&&!Rr(i)&&(n?i<=t:i<t)?a=1+o:r=o}return r}return Nt(e,t,Io,n)}function Nt(e,t,n,a){t=n(t);for(var r=0,o=null==e?0:e.length,i=t!=t,l=null===t,s=Rr(t),u=t===ni;r<o;){var d=W((r+o)/2),c=n(e[d]),f=c!==ni,p=null===c,h=c==c,m=Rr(c);if(i)var g=a||h;else g=u?h&&(a||f):l?h&&f&&(a||!p):s?h&&f&&!p&&(a||!m):!p&&!m&&(a?c<=t:c<t);g?r=d+1:o=d}return H(o,4294967294)}function Tt(e,t){for(var n=-1,a=e.length,r=0,o=[];++n<a;){var i=e[n],l=t?t(i):i;if(!n||!gr(l,s)){var s=l;o[r++]=0===i?0:i}}return o}function Mt(e){return"number"==typeof e?e:Rr(e)?li:+e}function Rt(e){if("string"==typeof e)return e;if(kr(e))return Gl(e,Rt)+"";if(Rr(e))return pe?pe.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function Vt(e,t,n){var a=-1,r=Kl,o=e.length,i=!0,l=[],s=l;if(n)i=!1,r=Ul;else if(200<=o){var u=t?null:Ln(e);if(u)return ys(u);i=!1,r=ss,s=new Ce}else s=t?[]:l;e:for(;++a<o;){var d=e[a],c=t?t(d):d;if(d=n||0!==d?d:0,i&&c==c){for(var f=s.length;f--;)if(s[f]===c)continue e;t&&s.push(c),l.push(d)}else r(s,c,n)||(s!==l&&s.push(c),l.push(d))}return l}function Wt(e,t){return null==(e=aa(e,t=$t(t,e)))||delete e[pa(Da(t))]}function zt(e,t,n,a){return At(e,t,n(Ze(e,t)),a)}function Bt(e,t,n,a){for(var r=e.length,o=a?r:-1;(a?o--:++o<r)&&t(e[o],o,e););return n?jt(e,a?0:o,a?o+1:r):jt(e,a?o+1:0,a?r:o)}function Kt(e,t){var n=e;return n instanceof be&&(n=n.value()),Hl(t,function(e,t){return t.func.apply(t.thisArg,ql([e],t.args))},n)}function Ut(e,t,n){var a=e.length;if(a<2)return a?Vt(e[0]):[];for(var r=-1,o=L(a);++r<a;)for(var i=e[r],l=-1;++l<a;)l!=r&&(o[r]=We(o[r]||i,e[l],t,n));return Vt(qe(o,1),t,n)}function Gt(e,t,n){for(var a=-1,r=e.length,o=t.length,i={};++a<r;){var l=a<o?t[a]:ni;n(i,e[a],l)}return i}function qt(e){return Cr(e)?e:[]}function Ht(e){return"function"==typeof e?e:Io}function $t(e,t){return kr(e)?e:Jn(e,t)?[e]:fa($r(e))}var Yt=Lt;function Jt(e,t,n){var a=e.length;return n=n===ni?a:n,!t&&a<=n?e:jt(e,t,n)}var Qt=T||function(e){return Ol.clearTimeout(e)};function Zt(e,t){if(t)return e.slice();var n=e.length,a=O?O(n):new e.constructor(n);return e.copy(a),a}function Xt(e){var t=new e.constructor(e.byteLength);return new D(t).set(new D(e)),t}function en(e,t){var n=t?Xt(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}function tn(e,t){if(e!==t){var n=e!==ni,a=null===e,r=e==e,o=Rr(e),i=t!==ni,l=null===t,s=t==t,u=Rr(t);if(!l&&!u&&!o&&t<e||o&&i&&s&&!l&&!u||a&&i&&s||!n&&s||!r)return 1;if(!a&&!o&&!u&&e<t||u&&n&&r&&!a&&!o||l&&n&&r||!i&&r||!s)return-1}return 0}function nn(e,t,n,a){for(var r=-1,o=e.length,i=n.length,l=-1,s=t.length,u=q(o-i,0),d=L(s+u),c=!a;++l<s;)d[l]=t[l];for(;++r<i;)(c||r<o)&&(d[n[r]]=e[r]);for(;u--;)d[l++]=e[r++];return d}function an(e,t,n,a){for(var r=-1,o=e.length,i=-1,l=n.length,s=-1,u=t.length,d=q(o-l,0),c=L(d+u),f=!a;++r<d;)c[r]=e[r];for(var p=r;++s<u;)c[p+s]=t[s];for(;++i<l;)(f||r<o)&&(c[p+n[i]]=e[r++]);return c}function rn(e,t){var n=-1,a=e.length;for(t=t||L(a);++n<a;)t[n]=e[n];return t}function on(e,t,n,a){var r=!n;n=n||{};for(var o=-1,i=t.length;++o<i;){var l=t[o],s=a?a(n[l],e[l],l,n,e):ni;s===ni&&(s=e[l]),r?Ie(n,l,s):xe(n,l,s)}return n}function ln(r,o){return function(e,t){var n=kr(e)?Rl:je,a=o?o():{};return n(e,r,Rn(t,2),a)}}function sn(l){return Lt(function(e,t){var n=-1,a=t.length,r=1<a?t[a-1]:ni,o=2<a?t[2]:ni;for(r=3<l.length&&"function"==typeof r?(a--,r):ni,o&&Yn(t[0],t[1],o)&&(r=a<3?ni:r,a=1),e=m(e);++n<a;){var i=t[n];i&&l(e,i,n,r)}return e})}function un(o,i){return function(e,t){if(null==e)return e;if(!Er(e))return o(e,t);for(var n=e.length,a=i?n:-1,r=m(e);(i?a--:++a<n)&&!1!==t(r[a],a,r););return e}}function dn(s){return function(e,t,n){for(var a=-1,r=m(e),o=n(e),i=o.length;i--;){var l=o[s?i:++a];if(!1===t(r[l],l,r))break}return e}}function cn(r){return function(e){var t=hs(e=$r(e))?ks(e):ni,n=t?t[0]:e.charAt(0),a=t?Jt(t,1).join(""):e.slice(1);return n[r]()+a}}function fn(t){return function(e){return Hl(Ao(ko(e).replace(vl,"")),t,"")}}function pn(a){return function(){var e=arguments;switch(e.length){case 0:return new a;case 1:return new a(e[0]);case 2:return new a(e[0],e[1]);case 3:return new a(e[0],e[1],e[2]);case 4:return new a(e[0],e[1],e[2],e[3]);case 5:return new a(e[0],e[1],e[2],e[3],e[4]);case 6:return new a(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new a(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var t=me(a.prototype),n=a.apply(t,e);return xr(n)?n:t}}function hn(i){return function(e,t,n){var a=m(e);if(!Er(e)){var r=Rn(t,3);e=lo(e),t=function(e){return r(a[e],e,a)}}var o=i(e,t,n);return-1<o?a[r?e[o]:o]:ni}}function mn(s){return jn(function(r){var o=r.length,e=o,t=ye.prototype.thru;for(s&&r.reverse();e--;){var n=r[e];if("function"!=typeof n)throw new y(ai);if(t&&!i&&"wrapper"==Tn(n))var i=new ye([],!0)}for(e=i?e:o;++e<o;){var a=Tn(n=r[e]),l="wrapper"==a?Nn(n):ni;i=l&&Qn(l[0])&&424==l[1]&&!l[4].length&&1==l[9]?i[Tn(l[0])].apply(i,l[3]):1==n.length&&Qn(n)?i[a]():i.thru(n)}return function(){var e=arguments,t=e[0];if(i&&1==e.length&&kr(t))return i.plant(t).value();for(var n=0,a=o?r[n].apply(this,e):t;++n<o;)a=r[n].call(this,a);return a}})}function gn(u,d,c,f,p,h,m,g,v,y){var b=128&d,k=1&d,w=2&d,E=24&d,C=512&d,_=w?ni:pn(u);return function e(){for(var t=arguments.length,n=L(t),a=t;a--;)n[a]=arguments[a];if(E)var r=Mn(e),o=function(e,t){for(var n=e.length,a=0;n--;)e[n]===t&&++a;return a}(n,r);if(f&&(n=nn(n,f,p,E)),h&&(n=an(n,h,m,E)),t-=o,E&&t<y){var i=vs(n,r);return Cn(u,d,gn,e.placeholder,c,n,i,g,v,y-t)}var l=k?c:this,s=w?l[u]:u;return t=n.length,g?n=function(e,t){for(var n=e.length,a=H(t.length,n),r=rn(e);a--;){var o=t[a];e[a]=$n(o,n)?r[o]:ni}return e}(n,g):C&&1<t&&n.reverse(),b&&v<t&&(n.length=v),this&&this!==Ol&&this instanceof e&&(s=_||pn(s)),s.apply(l,n)}}function vn(n,a){return function(e,t){return function(e,a,r,o){return Ye(e,function(e,t,n){a(o,r(e),t,n)}),o}(e,n,a(t),{})}}function yn(a,r){return function(e,t){var n;if(e===ni&&t===ni)return r;if(e!==ni&&(n=e),t!==ni){if(n===ni)return t;t="string"==typeof e||"string"==typeof t?(e=Rt(e),Rt(t)):(e=Mt(e),Mt(t)),n=a(e,t)}return n}}function bn(a){return jn(function(e){return e=Gl(e,is(Rn())),Lt(function(t){var n=this;return a(e,function(e){return Ml(e,n,t)})})})}function kn(e,t){var n=(t=t===ni?" ":Rt(t)).length;if(n<2)return n?_t(t,e):t;var a=_t(t,V(e/bs(t)));return hs(t)?Jt(ks(a),0,e).join(""):a.slice(0,e)}function wn(a){return function(e,t,n){return n&&"number"!=typeof n&&Yn(e,t,n)&&(t=n=ni),e=Kr(e),t===ni?(t=e,e=0):t=Kr(t),function(e,t,n,a){for(var r=-1,o=q(V((t-e)/(n||1)),0),i=L(o);o--;)i[a?o:++r]=e,e+=n;return i}(e,t,n=n===ni?e<t?1:-1:Kr(n),a)}}function En(n){return function(e,t){return"string"==typeof e&&"string"==typeof t||(e=qr(e),t=qr(t)),n(e,t)}}function Cn(e,t,n,a,r,o,i,l,s,u){var d=8&t;t|=d?32:64,4&(t&=~(d?64:32))||(t&=-4);var c=[e,t,r,d?o:ni,d?i:ni,d?ni:o,d?ni:i,l,s,u],f=n.apply(ni,c);return Qn(e)&&ra(f,c),f.placeholder=a,la(f,e,t)}function _n(e){var a=o[e];return function(e,t){if(e=qr(e),t=null==t?0:H(Ur(t),292)){var n=($r(e)+"e").split("e");return+((n=($r(a(n[0]+"e"+(+n[1]+t)))+"e").split("e"))[0]+"e"+(+n[1]-t))}return a(e)}}var Ln=te&&1/ys(new te([,-0]))[1]==1/0?function(e){return new te(e)}:Vo;function Dn(n){return function(e){var t=Un(e);return t==vi?ms(e):t==Ei?function(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=[e,e]}),n}(e):function(t,e){return Gl(e,function(e){return[e,t[e]]})}(e,n(e))}}function On(e,t,n,a,r,o,i,l){var s=2&t;if(!s&&"function"!=typeof e)throw new y(ai);var u=a?a.length:0;if(u||(t&=-97,a=r=ni),i=i===ni?i:q(Ur(i),0),l=l===ni?l:Ur(l),u-=r?r.length:0,64&t){var d=a,c=r;a=r=ni}var f=s?ni:Nn(e),p=[e,t,n,a,r,d,c,o,i,l];if(f&&function(e,t){var n=e[1],a=t[1],r=n|a,o=r<131,i=128==a&&8==n||128==a&&256==n&&e[7].length<=t[8]||384==a&&t[7].length<=t[8]&&8==n;if(!o&&!i)return;1&a&&(e[2]=t[2],r|=1&n?0:4);var l=t[3];if(l){var s=e[3];e[3]=s?nn(s,l,t[4]):l,e[4]=s?vs(e[3],oi):t[4]}(l=t[5])&&(s=e[5],e[5]=s?an(s,l,t[6]):l,e[6]=s?vs(e[5],oi):t[6]);(l=t[7])&&(e[7]=l);128&a&&(e[8]=null==e[8]?t[8]:H(e[8],t[8]));null==e[9]&&(e[9]=t[9]);e[0]=t[0],e[1]=r}(p,f),e=p[0],t=p[1],n=p[2],a=p[3],r=p[4],!(l=p[9]=p[9]===ni?s?0:e.length:q(p[9]-u,0))&&24&t&&(t&=-25),t&&1!=t)h=8==t||16==t?function(i,l,s){var u=pn(i);return function e(){for(var t=arguments.length,n=L(t),a=t,r=Mn(e);a--;)n[a]=arguments[a];var o=t<3&&n[0]!==r&&n[t-1]!==r?[]:vs(n,r);return(t-=o.length)<s?Cn(i,l,gn,e.placeholder,ni,n,o,ni,ni,s-t):Ml(this&&this!==Ol&&this instanceof e?u:i,this,n)}}(e,t,l):32!=t&&33!=t||r.length?gn.apply(ni,p):function(l,e,s,u){var d=1&e,c=pn(l);return function e(){for(var t=-1,n=arguments.length,a=-1,r=u.length,o=L(r+n),i=this&&this!==Ol&&this instanceof e?c:l;++a<r;)o[a]=u[a];for(;n--;)o[a++]=arguments[++t];return Ml(i,d?s:this,o)}}(e,t,n,a);else var h=function(t,e,n){var a=1&e,r=pn(t);return function e(){return(this&&this!==Ol&&this instanceof e?r:t).apply(a?n:this,arguments)}}(e,t,n);return la((f?Ft:ra)(h,p),e,t)}function An(e,t,n,a){return e===ni||gr(e,s[n])&&!k.call(a,n)?t:e}function Fn(e,t,n,a,r,o){return xr(e)&&xr(t)&&(o.set(t,e),vt(e,t,ni,Fn,o),o.delete(t)),e}function xn(e){return Ir(e)?ni:e}function Sn(e,t,n,a,r,o){var i=1&n,l=e.length,s=t.length;if(l!=s&&!(i&&l<s))return!1;var u=o.get(e);if(u&&o.get(t))return u==t;var d=-1,c=!0,f=2&n?new Ce:ni;for(o.set(e,t),o.set(t,e);++d<l;){var p=e[d],h=t[d];if(a)var m=i?a(h,p,d,t,e,o):a(p,h,d,e,t,o);if(m!==ni){if(m)continue;c=!1;break}if(f){if(!Yl(t,function(e,t){if(!ss(f,t)&&(p===e||r(p,e,n,a,o)))return f.push(t)})){c=!1;break}}else if(p!==h&&!r(p,h,n,a,o)){c=!1;break}}return o.delete(e),o.delete(t),c}function jn(e){return ia(na(e,ni,wa),e+"")}function Pn(e){return Xe(e,lo,Bn)}function In(e){return Xe(e,so,Kn)}var Nn=re?function(e){return re.get(e)}:Vo;function Tn(e){for(var t=e.name+"",n=oe[t],a=k.call(oe,t)?n.length:0;a--;){var r=n[a],o=r.func;if(null==o||o==e)return r.name}return t}function Mn(e){return(k.call(he,"placeholder")?he:e).placeholder}function Rn(){var e=he.iteratee||No;return e=e===No?dt:e,arguments.length?e(arguments[0],arguments[1]):e}function Vn(e,t){var n=e.__data__;return function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}(t)?n["string"==typeof t?"string":"hash"]:n.map}function Wn(e){for(var t=lo(e),n=t.length;n--;){var a=t[n],r=e[a];t[n]=[a,r,ea(r)]}return t}function zn(e,t){var n=function(e,t){return null==e?ni:e[t]}(e,t);return ut(n)?n:ni}var Bn=z?function(t){return null==t?[]:(t=m(t),Bl(z(t),function(e){return x.call(t,e)}))}:qo,Kn=z?function(e){for(var t=[];e;)ql(t,Bn(e)),e=A(e);return t}:qo,Un=et;function Gn(e,t,n){for(var a=-1,r=(t=$t(t,e)).length,o=!1;++a<r;){var i=pa(t[a]);if(!(o=null!=e&&n(e,i)))break;e=e[i]}return o||++a!=r?o:!!(r=null==e?0:e.length)&&Fr(r)&&$n(i,r)&&(kr(e)||br(e))}function qn(e){return"function"!=typeof e.constructor||Xn(e)?{}:me(A(e))}function Hn(e){return kr(e)||br(e)||!!(j&&e&&e[j])}function $n(e,t){return!!(t=null==t?ii:t)&&("number"==typeof e||pl.test(e))&&-1<e&&e%1==0&&e<t}function Yn(e,t,n){if(!xr(n))return!1;var a=typeof t;return!!("number"==a?Er(n)&&$n(t,n.length):"string"==a&&t in n)&&gr(n[t],e)}function Jn(e,t){if(kr(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!Rr(e))||($i.test(e)||!Hi.test(e)||null!=t&&e in m(t))}function Qn(e){var t=Tn(e),n=he[t];if("function"!=typeof n||!(t in be.prototype))return!1;if(e===n)return!0;var a=Nn(n);return!!a&&e===a[0]}(Z&&Un(new Z(new ArrayBuffer(1)))!=Oi||X&&Un(new X)!=vi||ee&&Un(ee.resolve())!=ki||te&&Un(new te)!=Ei||ne&&Un(new ne)!=Li)&&(Un=function(e){var t=et(e),n=t==bi?e.constructor:ni,a=n?ha(n):"";if(a)switch(a){case ie:return Oi;case le:return vi;case se:return ki;case ue:return Ei;case de:return Li}return t});var Zn=u?Or:Ho;function Xn(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||s)}function ea(e){return e==e&&!xr(e)}function ta(t,n){return function(e){return null!=e&&(e[t]===n&&(n!==ni||t in m(e)))}}function na(o,i,l){return i=q(i===ni?o.length-1:i,0),function(){for(var e=arguments,t=-1,n=q(e.length-i,0),a=L(n);++t<n;)a[t]=e[i+t];t=-1;for(var r=L(i+1);++t<i;)r[t]=e[t];return r[i]=l(a),Ml(o,this,r)}}function aa(e,t){return t.length<2?e:Ze(e,jt(t,0,-1))}var ra=sa(Ft),oa=R||function(e,t){return Ol.setTimeout(e,t)},ia=sa(xt);function la(e,t,n){var a=t+"";return ia(e,function(e,t){var n=t.length;if(!n)return e;var a=n-1;return t[a]=(1<n?"& ":"")+t[a],t=t.join(2<n?", ":" "),e.replace(nl,"{\n/* [wrapped with "+t+"] */\n")}(a,function(n,a){return Vl(ui,function(e){var t="_."+e[0];a&e[1]&&!Kl(n,t)&&n.push(t)}),n.sort()}(function(e){var t=e.match(al);return t?t[1].split(rl):[]}(a),n)))}function sa(n){var a=0,r=0;return function(){var e=$(),t=16-(e-r);if(r=e,0<t){if(800<=++a)return arguments[0]}else a=0;return n.apply(ni,arguments)}}function ua(e,t){var n=-1,a=e.length,r=a-1;for(t=t===ni?a:t;++n<t;){var o=Ct(n,r),i=e[o];e[o]=e[n],e[n]=i}return e.length=t,e}var da,ca,fa=(ca=(da=dr(function(e){var r=[];return Yi.test(e)&&r.push(""),e.replace(Ji,function(e,t,n,a){r.push(n?a.replace(il,"$1"):t||e)}),r},function(e){return 500===ca.size&&ca.clear(),e})).cache,da);function pa(e){if("string"==typeof e||Rr(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function ha(e){if(null!=e){try{return c.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function ma(e){if(e instanceof be)return e.clone();var t=new ye(e.__wrapped__,e.__chain__);return t.__actions__=rn(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}var ga=Lt(function(e,t){return Cr(e)?We(e,qe(t,1,Cr,!0)):[]}),va=Lt(function(e,t){var n=Da(t);return Cr(n)&&(n=ni),Cr(e)?We(e,qe(t,1,Cr,!0),Rn(n,2)):[]}),ya=Lt(function(e,t){var n=Da(t);return Cr(n)&&(n=ni),Cr(e)?We(e,qe(t,1,Cr,!0),ni,n):[]});function ba(e,t,n){var a=null==e?0:e.length;if(!a)return-1;var r=null==n?0:Ur(n);return r<0&&(r=q(a+r,0)),Ql(e,Rn(t,3),r)}function ka(e,t,n){var a=null==e?0:e.length;if(!a)return-1;var r=a-1;return n!==ni&&(r=Ur(n),r=n<0?q(a+r,0):H(r,a-1)),Ql(e,Rn(t,3),r,!0)}function wa(e){return(null==e?0:e.length)?qe(e,1):[]}function Ea(e){return e&&e.length?e[0]:ni}var Ca=Lt(function(e){var t=Gl(e,qt);return t.length&&t[0]===e[0]?rt(t):[]}),_a=Lt(function(e){var t=Da(e),n=Gl(e,qt);return t===Da(n)?t=ni:n.pop(),n.length&&n[0]===e[0]?rt(n,Rn(t,2)):[]}),La=Lt(function(e){var t=Da(e),n=Gl(e,qt);return(t="function"==typeof t?t:ni)&&n.pop(),n.length&&n[0]===e[0]?rt(n,ni,t):[]});function Da(e){var t=null==e?0:e.length;return t?e[t-1]:ni}var Oa=Lt(Aa);function Aa(e,t){return e&&e.length&&t&&t.length?wt(e,t):e}var Fa=jn(function(e,t){var n=null==e?0:e.length,a=Ne(e,t);return Et(e,Gl(t,function(e){return $n(e,n)?+e:e}).sort(tn)),a});function xa(e){return null==e?e:Q.call(e)}var Sa=Lt(function(e){return Vt(qe(e,1,Cr,!0))}),ja=Lt(function(e){var t=Da(e);return Cr(t)&&(t=ni),Vt(qe(e,1,Cr,!0),Rn(t,2))}),Pa=Lt(function(e){var t=Da(e);return t="function"==typeof t?t:ni,Vt(qe(e,1,Cr,!0),ni,t)});function Ia(t){if(!t||!t.length)return[];var n=0;return t=Bl(t,function(e){if(Cr(e))return n=q(e.length,n),!0}),os(n,function(e){return Gl(t,ns(e))})}function Na(e,t){if(!e||!e.length)return[];var n=Ia(e);return null==t?n:Gl(n,function(e){return Ml(t,ni,e)})}var Ta=Lt(function(e,t){return Cr(e)?We(e,t):[]}),Ma=Lt(function(e){return Ut(Bl(e,Cr))}),Ra=Lt(function(e){var t=Da(e);return Cr(t)&&(t=ni),Ut(Bl(e,Cr),Rn(t,2))}),Va=Lt(function(e){var t=Da(e);return t="function"==typeof t?t:ni,Ut(Bl(e,Cr),ni,t)}),Wa=Lt(Ia);var za=Lt(function(e){var t=e.length,n=1<t?e[t-1]:ni;return n="function"==typeof n?(e.pop(),n):ni,Na(e,n)});function Ba(e){var t=he(e);return t.__chain__=!0,t}function Ka(e,t){return t(e)}var Ua=jn(function(t){function e(e){return Ne(e,t)}var n=t.length,a=n?t[0]:0,r=this.__wrapped__;return!(1<n||this.__actions__.length)&&r instanceof be&&$n(a)?((r=r.slice(a,+a+(n?1:0))).__actions__.push({func:Ka,args:[e],thisArg:ni}),new ye(r,this.__chain__).thru(function(e){return n&&!e.length&&e.push(ni),e})):this.thru(e)});var Ga=ln(function(e,t,n){k.call(e,n)?++e[n]:Ie(e,n,1)});var qa=hn(ba),Ha=hn(ka);function $a(e,t){return(kr(e)?Vl:ze)(e,Rn(t,3))}function Ya(e,t){return(kr(e)?Wl:Be)(e,Rn(t,3))}var Ja=ln(function(e,t,n){k.call(e,n)?e[n].push(t):Ie(e,n,[t])});var Qa=Lt(function(e,t,n){var a=-1,r="function"==typeof t,o=Er(e)?L(e.length):[];return ze(e,function(e){o[++a]=r?Ml(t,e,n):ot(e,t,n)}),o}),Za=ln(function(e,t,n){Ie(e,n,t)});function Xa(e,t){return(kr(e)?Gl:ht)(e,Rn(t,3))}var er=ln(function(e,t,n){e[n?0:1].push(t)},function(){return[[],[]]});var tr=Lt(function(e,t){if(null==e)return[];var n=t.length;return 1<n&&Yn(e,t[0],t[1])?t=[]:2<n&&Yn(t[0],t[1],t[2])&&(t=[t[0]]),bt(e,qe(t,1),[])}),nr=M||function(){return Ol.Date.now()};function ar(e,t,n){return t=n?ni:t,t=e&&null==t?e.length:t,On(e,128,ni,ni,ni,ni,t)}function rr(e,t){var n;if("function"!=typeof t)throw new y(ai);return e=Ur(e),function(){return 0<--e&&(n=t.apply(this,arguments)),e<=1&&(t=ni),n}}var or=Lt(function(e,t,n){var a=1;if(n.length){var r=vs(n,Mn(or));a|=32}return On(e,a,t,n,r)}),ir=Lt(function(e,t,n){var a=3;if(n.length){var r=vs(n,Mn(ir));a|=32}return On(t,a,e,n,r)});function lr(a,n,e){var r,o,i,l,s,u,d=0,c=!1,f=!1,t=!0;if("function"!=typeof a)throw new y(ai);function p(e){var t=r,n=o;return r=o=ni,d=e,l=a.apply(n,t)}function h(e){var t=e-u;return u===ni||n<=t||t<0||f&&i<=e-d}function m(){var e=nr();if(h(e))return g(e);s=oa(m,function(e){var t=n-(e-u);return f?H(t,i-(e-d)):t}(e))}function g(e){return s=ni,t&&r?p(e):(r=o=ni,l)}function v(){var e=nr(),t=h(e);if(r=arguments,o=this,u=e,t){if(s===ni)return function(e){return d=e,s=oa(m,n),c?p(e):l}(u);if(f)return s=oa(m,n),p(u)}return s===ni&&(s=oa(m,n)),l}return n=qr(n)||0,xr(e)&&(c=!!e.leading,i=(f="maxWait"in e)?q(qr(e.maxWait)||0,n):i,t="trailing"in e?!!e.trailing:t),v.cancel=function(){s!==ni&&Qt(s),d=0,r=u=o=s=ni},v.flush=function(){return s===ni?l:g(nr())},v}var sr=Lt(function(e,t){return Ve(e,1,t)}),ur=Lt(function(e,t,n){return Ve(e,qr(t)||0,n)});function dr(r,o){if("function"!=typeof r||null!=o&&"function"!=typeof o)throw new y(ai);var i=function(){var e=arguments,t=o?o.apply(this,e):e[0],n=i.cache;if(n.has(t))return n.get(t);var a=r.apply(this,e);return i.cache=n.set(t,a)||n,a};return i.cache=new(dr.Cache||Ee),i}function cr(t){if("function"!=typeof t)throw new y(ai);return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}}dr.Cache=Ee;var fr=Yt(function(a,r){var o=(r=1==r.length&&kr(r[0])?Gl(r[0],is(Rn())):Gl(qe(r,1),is(Rn()))).length;return Lt(function(e){for(var t=-1,n=H(e.length,o);++t<n;)e[t]=r[t].call(this,e[t]);return Ml(a,this,e)})}),pr=Lt(function(e,t){var n=vs(t,Mn(pr));return On(e,32,ni,t,n)}),hr=Lt(function(e,t){var n=vs(t,Mn(hr));return On(e,64,ni,t,n)}),mr=jn(function(e,t){return On(e,256,ni,ni,ni,t)});function gr(e,t){return e===t||e!=e&&t!=t}var vr=En(tt),yr=En(function(e,t){return t<=e}),br=it(function(){return arguments}())?it:function(e){return Sr(e)&&k.call(e,"callee")&&!x.call(e,"callee")},kr=L.isArray,wr=Fl?is(Fl):function(e){return Sr(e)&&et(e)==Di};function Er(e){return null!=e&&Fr(e.length)&&!Or(e)}function Cr(e){return Sr(e)&&Er(e)}var _r=B||Ho,Lr=xl?is(xl):function(e){return Sr(e)&&et(e)==pi};function Dr(e){if(!Sr(e))return!1;var t=et(e);return t==hi||"[object DOMException]"==t||"string"==typeof e.message&&"string"==typeof e.name&&!Ir(e)}function Or(e){if(!xr(e))return!1;var t=et(e);return t==mi||t==gi||"[object AsyncFunction]"==t||"[object Proxy]"==t}function Ar(e){return"number"==typeof e&&e==Ur(e)}function Fr(e){return"number"==typeof e&&-1<e&&e%1==0&&e<=ii}function xr(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function Sr(e){return null!=e&&"object"==typeof e}var jr=Sl?is(Sl):function(e){return Sr(e)&&Un(e)==vi};function Pr(e){return"number"==typeof e||Sr(e)&&et(e)==yi}function Ir(e){if(!Sr(e)||et(e)!=bi)return!1;var t=A(e);if(null===t)return!0;var n=k.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&c.call(n)==b}var Nr=jl?is(jl):function(e){return Sr(e)&&et(e)==wi};var Tr=Pl?is(Pl):function(e){return Sr(e)&&Un(e)==Ei};function Mr(e){return"string"==typeof e||!kr(e)&&Sr(e)&&et(e)==Ci}function Rr(e){return"symbol"==typeof e||Sr(e)&&et(e)==_i}var Vr=Il?is(Il):function(e){return Sr(e)&&Fr(e.length)&&!!Cl[et(e)]};var Wr=En(pt),zr=En(function(e,t){return e<=t});function Br(e){if(!e)return[];if(Er(e))return Mr(e)?ks(e):rn(e);if(P&&e[P])return function(e){for(var t,n=[];!(t=e.next()).done;)n.push(t.value);return n}(e[P]());var t=Un(e);return(t==vi?ms:t==Ei?ys:vo)(e)}function Kr(e){return e?(e=qr(e))!==1/0&&e!==-1/0?e==e?e:0:17976931348623157e292*(e<0?-1:1):0===e?e:0}function Ur(e){var t=Kr(e),n=t%1;return t==t?n?t-n:t:0}function Gr(e){return e?Te(Ur(e),0,si):0}function qr(e){if("number"==typeof e)return e;if(Rr(e))return li;if(xr(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=xr(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(Xi,"");var n=dl.test(e);return n||fl.test(e)?Dl(e.slice(2),n?2:8):ul.test(e)?li:+e}function Hr(e){return on(e,so(e))}function $r(e){return null==e?"":Rt(e)}var Yr=sn(function(e,t){if(Xn(t)||Er(t))on(t,lo(t),e);else for(var n in t)k.call(t,n)&&xe(e,n,t[n])}),Jr=sn(function(e,t){on(t,so(t),e)}),Qr=sn(function(e,t,n,a){on(t,so(t),e,a)}),Zr=sn(function(e,t,n,a){on(t,lo(t),e,a)}),Xr=jn(Ne);var eo=Lt(function(e){return e.push(ni,An),Ml(Qr,ni,e)}),to=Lt(function(e){return e.push(ni,Fn),Ml(co,ni,e)});function no(e,t,n){var a=null==e?ni:Ze(e,t);return a===ni?n:a}function ao(e,t){return null!=e&&Gn(e,t,at)}var ro=vn(function(e,t,n){e[t]=n},So(Io)),oo=vn(function(e,t,n){k.call(e,t)?e[t].push(n):e[t]=[n]},Rn),io=Lt(ot);function lo(e){return Er(e)?Le(e):ct(e)}function so(e){return Er(e)?Le(e,!0):ft(e)}var uo=sn(function(e,t,n){vt(e,t,n)}),co=sn(function(e,t,n,a){vt(e,t,n,a)}),fo=jn(function(t,e){var n={};if(null==t)return n;var a=!1;e=Gl(e,function(e){return e=$t(e,t),a=a||1<e.length,e}),on(t,In(t),n),a&&(n=Me(n,7,xn));for(var r=e.length;r--;)Wt(n,e[r]);return n});var po=jn(function(e,t){return null==e?{}:function(n,e){return kt(n,e,function(e,t){return ao(n,t)})}(e,t)});function ho(e,n){if(null==e)return{};var t=Gl(In(e),function(e){return[e]});return n=Rn(n),kt(e,t,function(e,t){return n(e,t[0])})}var mo=Dn(lo),go=Dn(so);function vo(e){return null==e?[]:ls(e,lo(e))}var yo=fn(function(e,t,n){return t=t.toLowerCase(),e+(n?bo(t):t)});function bo(e){return Oo($r(e).toLowerCase())}function ko(e){return(e=$r(e))&&e.replace(hl,cs).replace(yl,"")}var wo=fn(function(e,t,n){return e+(n?"-":"")+t.toLowerCase()}),Eo=fn(function(e,t,n){return e+(n?" ":"")+t.toLowerCase()}),Co=cn("toLowerCase");var _o=fn(function(e,t,n){return e+(n?"_":"")+t.toLowerCase()});var Lo=fn(function(e,t,n){return e+(n?" ":"")+Oo(t)});var Do=fn(function(e,t,n){return e+(n?" ":"")+t.toUpperCase()}),Oo=cn("toUpperCase");function Ao(e,t,n){return e=$r(e),(t=n?ni:t)===ni?function(e){return kl.test(e)}(e)?function(e){return e.match(bl)||[]}(e):function(e){return e.match(ol)||[]}(e):e.match(t)||[]}var Fo=Lt(function(e,t){try{return Ml(e,ni,t)}catch(e){return Dr(e)?e:new r(e)}}),xo=jn(function(t,e){return Vl(e,function(e){e=pa(e),Ie(t,e,or(t[e],t))}),t});function So(e){return function(){return e}}var jo=mn(),Po=mn(!0);function Io(e){return e}function No(e){return dt("function"==typeof e?e:Me(e,1))}var To=Lt(function(t,n){return function(e){return ot(e,t,n)}}),Mo=Lt(function(t,n){return function(e){return ot(t,e,n)}});function Ro(a,t,e){var n=lo(t),r=Qe(t,n);null!=e||xr(t)&&(r.length||!n.length)||(e=t,t=a,a=this,r=Qe(t,lo(t)));var o=!(xr(e)&&"chain"in e&&!e.chain),i=Or(a);return Vl(r,function(e){var n=t[e];a[e]=n,i&&(a.prototype[e]=function(){var e=this.__chain__;if(o||e){var t=a(this.__wrapped__);return(t.__actions__=rn(this.__actions__)).push({func:n,args:arguments,thisArg:a}),t.__chain__=e,t}return n.apply(a,ql([this.value()],arguments))})}),a}function Vo(){}var Wo=bn(Gl),zo=bn(zl),Bo=bn(Yl);function Ko(e){return Jn(e)?ns(pa(e)):function(t){return function(e){return Ze(e,t)}}(e)}var Uo=wn(),Go=wn(!0);function qo(){return[]}function Ho(){return!1}var $o=yn(function(e,t){return e+t},0),Yo=_n("ceil"),Jo=yn(function(e,t){return e/t},1),Qo=_n("floor");var Zo,Xo=yn(function(e,t){return e*t},1),ei=_n("round"),ti=yn(function(e,t){return e-t},0);return he.after=function(e,t){if("function"!=typeof t)throw new y(ai);return e=Ur(e),function(){if(--e<1)return t.apply(this,arguments)}},he.ary=ar,he.assign=Yr,he.assignIn=Jr,he.assignInWith=Qr,he.assignWith=Zr,he.at=Xr,he.before=rr,he.bind=or,he.bindAll=xo,he.bindKey=ir,he.castArray=function(){if(!arguments.length)return[];var e=arguments[0];return kr(e)?e:[e]},he.chain=Ba,he.chunk=function(e,t,n){t=(n?Yn(e,t,n):t===ni)?1:q(Ur(t),0);var a=null==e?0:e.length;if(!a||t<1)return[];for(var r=0,o=0,i=L(V(a/t));r<a;)i[o++]=jt(e,r,r+=t);return i},he.compact=function(e){for(var t=-1,n=null==e?0:e.length,a=0,r=[];++t<n;){var o=e[t];o&&(r[a++]=o)}return r},he.concat=function(){var e=arguments.length;if(!e)return[];for(var t=L(e-1),n=arguments[0],a=e;a--;)t[a-1]=arguments[a];return ql(kr(n)?rn(n):[n],qe(t,1))},he.cond=function(a){var r=null==a?0:a.length,t=Rn();return a=r?Gl(a,function(e){if("function"!=typeof e[1])throw new y(ai);return[t(e[0]),e[1]]}):[],Lt(function(e){for(var t=-1;++t<r;){var n=a[t];if(Ml(n[0],this,e))return Ml(n[1],this,e)}})},he.conforms=function(e){return function(t){var n=lo(t);return function(e){return Re(e,t,n)}}(Me(e,1))},he.constant=So,he.countBy=Ga,he.create=function(e,t){var n=me(e);return null==t?n:Pe(n,t)},he.curry=function e(t,n,a){var r=On(t,8,ni,ni,ni,ni,ni,n=a?ni:n);return r.placeholder=e.placeholder,r},he.curryRight=function e(t,n,a){var r=On(t,16,ni,ni,ni,ni,ni,n=a?ni:n);return r.placeholder=e.placeholder,r},he.debounce=lr,he.defaults=eo,he.defaultsDeep=to,he.defer=sr,he.delay=ur,he.difference=ga,he.differenceBy=va,he.differenceWith=ya,he.drop=function(e,t,n){var a=null==e?0:e.length;return a?jt(e,(t=n||t===ni?1:Ur(t))<0?0:t,a):[]},he.dropRight=function(e,t,n){var a=null==e?0:e.length;return a?jt(e,0,(t=a-(t=n||t===ni?1:Ur(t)))<0?0:t):[]},he.dropRightWhile=function(e,t){return e&&e.length?Bt(e,Rn(t,3),!0,!0):[]},he.dropWhile=function(e,t){return e&&e.length?Bt(e,Rn(t,3),!0):[]},he.fill=function(e,t,n,a){var r=null==e?0:e.length;return r?(n&&"number"!=typeof n&&Yn(e,t,n)&&(n=0,a=r),function(e,t,n,a){var r=e.length;for((n=Ur(n))<0&&(n=r<-n?0:r+n),(a=a===ni||r<a?r:Ur(a))<0&&(a+=r),a=a<n?0:Gr(a);n<a;)e[n++]=t;return e}(e,t,n,a)):[]},he.filter=function(e,t){return(kr(e)?Bl:Ge)(e,Rn(t,3))},he.flatMap=function(e,t){return qe(Xa(e,t),1)},he.flatMapDeep=function(e,t){return qe(Xa(e,t),1/0)},he.flatMapDepth=function(e,t,n){return n=n===ni?1:Ur(n),qe(Xa(e,t),n)},he.flatten=wa,he.flattenDeep=function(e){return(null==e?0:e.length)?qe(e,1/0):[]},he.flattenDepth=function(e,t){return(null==e?0:e.length)?qe(e,t=t===ni?1:Ur(t)):[]},he.flip=function(e){return On(e,512)},he.flow=jo,he.flowRight=Po,he.fromPairs=function(e){for(var t=-1,n=null==e?0:e.length,a={};++t<n;){var r=e[t];a[r[0]]=r[1]}return a},he.functions=function(e){return null==e?[]:Qe(e,lo(e))},he.functionsIn=function(e){return null==e?[]:Qe(e,so(e))},he.groupBy=Ja,he.initial=function(e){return(null==e?0:e.length)?jt(e,0,-1):[]},he.intersection=Ca,he.intersectionBy=_a,he.intersectionWith=La,he.invert=ro,he.invertBy=oo,he.invokeMap=Qa,he.iteratee=No,he.keyBy=Za,he.keys=lo,he.keysIn=so,he.map=Xa,he.mapKeys=function(e,a){var r={};return a=Rn(a,3),Ye(e,function(e,t,n){Ie(r,a(e,t,n),e)}),r},he.mapValues=function(e,a){var r={};return a=Rn(a,3),Ye(e,function(e,t,n){Ie(r,t,a(e,t,n))}),r},he.matches=function(e){return mt(Me(e,1))},he.matchesProperty=function(e,t){return gt(e,Me(t,1))},he.memoize=dr,he.merge=uo,he.mergeWith=co,he.method=To,he.methodOf=Mo,he.mixin=Ro,he.negate=cr,he.nthArg=function(t){return t=Ur(t),Lt(function(e){return yt(e,t)})},he.omit=fo,he.omitBy=function(e,t){return ho(e,cr(Rn(t)))},he.once=function(e){return rr(2,e)},he.orderBy=function(e,t,n,a){return null==e?[]:(kr(t)||(t=null==t?[]:[t]),kr(n=a?ni:n)||(n=null==n?[]:[n]),bt(e,t,n))},he.over=Wo,he.overArgs=fr,he.overEvery=zo,he.overSome=Bo,he.partial=pr,he.partialRight=hr,he.partition=er,he.pick=po,he.pickBy=ho,he.property=Ko,he.propertyOf=function(t){return function(e){return null==t?ni:Ze(t,e)}},he.pull=Oa,he.pullAll=Aa,he.pullAllBy=function(e,t,n){return e&&e.length&&t&&t.length?wt(e,t,Rn(n,2)):e},he.pullAllWith=function(e,t,n){return e&&e.length&&t&&t.length?wt(e,t,ni,n):e},he.pullAt=Fa,he.range=Uo,he.rangeRight=Go,he.rearg=mr,he.reject=function(e,t){return(kr(e)?Bl:Ge)(e,cr(Rn(t,3)))},he.remove=function(e,t){var n=[];if(!e||!e.length)return n;var a=-1,r=[],o=e.length;for(t=Rn(t,3);++a<o;){var i=e[a];t(i,a,e)&&(n.push(i),r.push(a))}return Et(e,r),n},he.rest=function(e,t){if("function"!=typeof e)throw new y(ai);return Lt(e,t=t===ni?t:Ur(t))},he.reverse=xa,he.sampleSize=function(e,t,n){return t=(n?Yn(e,t,n):t===ni)?1:Ur(t),(kr(e)?Oe:Ot)(e,t)},he.set=function(e,t,n){return null==e?e:At(e,t,n)},he.setWith=function(e,t,n,a){return a="function"==typeof a?a:ni,null==e?e:At(e,t,n,a)},he.shuffle=function(e){return(kr(e)?Ae:St)(e)},he.slice=function(e,t,n){var a=null==e?0:e.length;return a?(n=n&&"number"!=typeof n&&Yn(e,t,n)?(t=0,a):(t=null==t?0:Ur(t),n===ni?a:Ur(n)),jt(e,t,n)):[]},he.sortBy=tr,he.sortedUniq=function(e){return e&&e.length?Tt(e):[]},he.sortedUniqBy=function(e,t){return e&&e.length?Tt(e,Rn(t,2)):[]},he.split=function(e,t,n){return n&&"number"!=typeof n&&Yn(e,t,n)&&(t=n=ni),(n=n===ni?si:n>>>0)?(e=$r(e))&&("string"==typeof t||null!=t&&!Nr(t))&&!(t=Rt(t))&&hs(e)?Jt(ks(e),0,n):e.split(t,n):[]},he.spread=function(a,r){if("function"!=typeof a)throw new y(ai);return r=null==r?0:q(Ur(r),0),Lt(function(e){var t=e[r],n=Jt(e,0,r);return t&&ql(n,t),Ml(a,this,n)})},he.tail=function(e){var t=null==e?0:e.length;return t?jt(e,1,t):[]},he.take=function(e,t,n){return e&&e.length?jt(e,0,(t=n||t===ni?1:Ur(t))<0?0:t):[]},he.takeRight=function(e,t,n){var a=null==e?0:e.length;return a?jt(e,(t=a-(t=n||t===ni?1:Ur(t)))<0?0:t,a):[]},he.takeRightWhile=function(e,t){return e&&e.length?Bt(e,Rn(t,3),!1,!0):[]},he.takeWhile=function(e,t){return e&&e.length?Bt(e,Rn(t,3)):[]},he.tap=function(e,t){return t(e),e},he.throttle=function(e,t,n){var a=!0,r=!0;if("function"!=typeof e)throw new y(ai);return xr(n)&&(a="leading"in n?!!n.leading:a,r="trailing"in n?!!n.trailing:r),lr(e,t,{leading:a,maxWait:t,trailing:r})},he.thru=Ka,he.toArray=Br,he.toPairs=mo,he.toPairsIn=go,he.toPath=function(e){return kr(e)?Gl(e,pa):Rr(e)?[e]:rn(fa($r(e)))},he.toPlainObject=Hr,he.transform=function(e,a,r){var t=kr(e),n=t||_r(e)||Vr(e);if(a=Rn(a,4),null==r){var o=e&&e.constructor;r=n?t?new o:[]:xr(e)&&Or(o)?me(A(e)):{}}return(n?Vl:Ye)(e,function(e,t,n){return a(r,e,t,n)}),r},he.unary=function(e){return ar(e,1)},he.union=Sa,he.unionBy=ja,he.unionWith=Pa,he.uniq=function(e){return e&&e.length?Vt(e):[]},he.uniqBy=function(e,t){return e&&e.length?Vt(e,Rn(t,2)):[]},he.uniqWith=function(e,t){return t="function"==typeof t?t:ni,e&&e.length?Vt(e,ni,t):[]},he.unset=function(e,t){return null==e||Wt(e,t)},he.unzip=Ia,he.unzipWith=Na,he.update=function(e,t,n){return null==e?e:zt(e,t,Ht(n))},he.updateWith=function(e,t,n,a){return a="function"==typeof a?a:ni,null==e?e:zt(e,t,Ht(n),a)},he.values=vo,he.valuesIn=function(e){return null==e?[]:ls(e,so(e))},he.without=Ta,he.words=Ao,he.wrap=function(e,t){return pr(Ht(t),e)},he.xor=Ma,he.xorBy=Ra,he.xorWith=Va,he.zip=Wa,he.zipObject=function(e,t){return Gt(e||[],t||[],xe)},he.zipObjectDeep=function(e,t){return Gt(e||[],t||[],At)},he.zipWith=za,he.entries=mo,he.entriesIn=go,he.extend=Jr,he.extendWith=Qr,Ro(he,he),he.add=$o,he.attempt=Fo,he.camelCase=yo,he.capitalize=bo,he.ceil=Yo,he.clamp=function(e,t,n){return n===ni&&(n=t,t=ni),n!==ni&&(n=(n=qr(n))==n?n:0),t!==ni&&(t=(t=qr(t))==t?t:0),Te(qr(e),t,n)},he.clone=function(e){return Me(e,4)},he.cloneDeep=function(e){return Me(e,5)},he.cloneDeepWith=function(e,t){return Me(e,5,t="function"==typeof t?t:ni)},he.cloneWith=function(e,t){return Me(e,4,t="function"==typeof t?t:ni)},he.conformsTo=function(e,t){return null==t||Re(e,t,lo(t))},he.deburr=ko,he.defaultTo=function(e,t){return null==e||e!=e?t:e},he.divide=Jo,he.endsWith=function(e,t,n){e=$r(e),t=Rt(t);var a=e.length,r=n=n===ni?a:Te(Ur(n),0,a);return 0<=(n-=t.length)&&e.slice(n,r)==t},he.eq=gr,he.escape=function(e){return(e=$r(e))&&Ki.test(e)?e.replace(zi,fs):e},he.escapeRegExp=function(e){return(e=$r(e))&&Zi.test(e)?e.replace(Qi,"\\$&"):e},he.every=function(e,t,n){var a=kr(e)?zl:Ke;return n&&Yn(e,t,n)&&(t=ni),a(e,Rn(t,3))},he.find=qa,he.findIndex=ba,he.findKey=function(e,t){return Jl(e,Rn(t,3),Ye)},he.findLast=Ha,he.findLastIndex=ka,he.findLastKey=function(e,t){return Jl(e,Rn(t,3),Je)},he.floor=Qo,he.forEach=$a,he.forEachRight=Ya,he.forIn=function(e,t){return null==e?e:He(e,Rn(t,3),so)},he.forInRight=function(e,t){return null==e?e:$e(e,Rn(t,3),so)},he.forOwn=function(e,t){return e&&Ye(e,Rn(t,3))},he.forOwnRight=function(e,t){return e&&Je(e,Rn(t,3))},he.get=no,he.gt=vr,he.gte=yr,he.has=function(e,t){return null!=e&&Gn(e,t,nt)},he.hasIn=ao,he.head=Ea,he.identity=Io,he.includes=function(e,t,n,a){e=Er(e)?e:vo(e),n=n&&!a?Ur(n):0;var r=e.length;return n<0&&(n=q(r+n,0)),Mr(e)?n<=r&&-1<e.indexOf(t,n):!!r&&-1<Zl(e,t,n)},he.indexOf=function(e,t,n){var a=null==e?0:e.length;if(!a)return-1;var r=null==n?0:Ur(n);return r<0&&(r=q(a+r,0)),Zl(e,t,r)},he.inRange=function(e,t,n){return t=Kr(t),n===ni?(n=t,t=0):n=Kr(n),function(e,t,n){return e>=H(t,n)&&e<q(t,n)}(e=qr(e),t,n)},he.invoke=io,he.isArguments=br,he.isArray=kr,he.isArrayBuffer=wr,he.isArrayLike=Er,he.isArrayLikeObject=Cr,he.isBoolean=function(e){return!0===e||!1===e||Sr(e)&&et(e)==fi},he.isBuffer=_r,he.isDate=Lr,he.isElement=function(e){return Sr(e)&&1===e.nodeType&&!Ir(e)},he.isEmpty=function(e){if(null==e)return!0;if(Er(e)&&(kr(e)||"string"==typeof e||"function"==typeof e.splice||_r(e)||Vr(e)||br(e)))return!e.length;var t=Un(e);if(t==vi||t==Ei)return!e.size;if(Xn(e))return!ct(e).length;for(var n in e)if(k.call(e,n))return!1;return!0},he.isEqual=function(e,t){return lt(e,t)},he.isEqualWith=function(e,t,n){var a=(n="function"==typeof n?n:ni)?n(e,t):ni;return a===ni?lt(e,t,ni,n):!!a},he.isError=Dr,he.isFinite=function(e){return"number"==typeof e&&K(e)},he.isFunction=Or,he.isInteger=Ar,he.isLength=Fr,he.isMap=jr,he.isMatch=function(e,t){return e===t||st(e,t,Wn(t))},he.isMatchWith=function(e,t,n){return n="function"==typeof n?n:ni,st(e,t,Wn(t),n)},he.isNaN=function(e){return Pr(e)&&e!=+e},he.isNative=function(e){if(Zn(e))throw new r("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return ut(e)},he.isNil=function(e){return null==e},he.isNull=function(e){return null===e},he.isNumber=Pr,he.isObject=xr,he.isObjectLike=Sr,he.isPlainObject=Ir,he.isRegExp=Nr,he.isSafeInteger=function(e){return Ar(e)&&-ii<=e&&e<=ii},he.isSet=Tr,he.isString=Mr,he.isSymbol=Rr,he.isTypedArray=Vr,he.isUndefined=function(e){return e===ni},he.isWeakMap=function(e){return Sr(e)&&Un(e)==Li},he.isWeakSet=function(e){return Sr(e)&&"[object WeakSet]"==et(e)},he.join=function(e,t){return null==e?"":U.call(e,t)},he.kebabCase=wo,he.last=Da,he.lastIndexOf=function(e,t,n){var a=null==e?0:e.length;if(!a)return-1;var r=a;return n!==ni&&(r=(r=Ur(n))<0?q(a+r,0):H(r,a-1)),t==t?function(e,t,n){for(var a=n+1;a--;)if(e[a]===t)return a;return a}(e,t,r):Ql(e,es,r,!0)},he.lowerCase=Eo,he.lowerFirst=Co,he.lt=Wr,he.lte=zr,he.max=function(e){return e&&e.length?Ue(e,Io,tt):ni},he.maxBy=function(e,t){return e&&e.length?Ue(e,Rn(t,2),tt):ni},he.mean=function(e){return ts(e,Io)},he.meanBy=function(e,t){return ts(e,Rn(t,2))},he.min=function(e){return e&&e.length?Ue(e,Io,pt):ni},he.minBy=function(e,t){return e&&e.length?Ue(e,Rn(t,2),pt):ni},he.stubArray=qo,he.stubFalse=Ho,he.stubObject=function(){return{}},he.stubString=function(){return""},he.stubTrue=function(){return!0},he.multiply=Xo,he.nth=function(e,t){return e&&e.length?yt(e,Ur(t)):ni},he.noConflict=function(){return Ol._===this&&(Ol._=w),this},he.noop=Vo,he.now=nr,he.pad=function(e,t,n){e=$r(e);var a=(t=Ur(t))?bs(e):0;if(!t||t<=a)return e;var r=(t-a)/2;return kn(W(r),n)+e+kn(V(r),n)},he.padEnd=function(e,t,n){e=$r(e);var a=(t=Ur(t))?bs(e):0;return t&&a<t?e+kn(t-a,n):e},he.padStart=function(e,t,n){e=$r(e);var a=(t=Ur(t))?bs(e):0;return t&&a<t?kn(t-a,n)+e:e},he.parseInt=function(e,t,n){return t=n||null==t?0:t&&+t,Y($r(e).replace(el,""),t||0)},he.random=function(e,t,n){if(n&&"boolean"!=typeof n&&Yn(e,t,n)&&(t=n=ni),n===ni&&("boolean"==typeof t?(n=t,t=ni):"boolean"==typeof e&&(n=e,e=ni)),e===ni&&t===ni?(e=0,t=1):(e=Kr(e),t===ni?(t=e,e=0):t=Kr(t)),t<e){var a=e;e=t,t=a}if(n||e%1||t%1){var r=J();return H(e+r*(t-e+Ll("1e-"+((r+"").length-1))),t)}return Ct(e,t)},he.reduce=function(e,t,n){var a=kr(e)?Hl:as,r=arguments.length<3;return a(e,Rn(t,4),n,r,ze)},he.reduceRight=function(e,t,n){var a=kr(e)?$l:as,r=arguments.length<3;return a(e,Rn(t,4),n,r,Be)},he.repeat=function(e,t,n){return t=(n?Yn(e,t,n):t===ni)?1:Ur(t),_t($r(e),t)},he.replace=function(){var e=arguments,t=$r(e[0]);return e.length<3?t:t.replace(e[1],e[2])},he.result=function(e,t,n){var a=-1,r=(t=$t(t,e)).length;for(r||(r=1,e=ni);++a<r;){var o=null==e?ni:e[pa(t[a])];o===ni&&(a=r,o=n),e=Or(o)?o.call(e):o}return e},he.round=ei,he.runInContext=e,he.sample=function(e){return(kr(e)?De:Dt)(e)},he.size=function(e){if(null==e)return 0;if(Er(e))return Mr(e)?bs(e):e.length;var t=Un(e);return t==vi||t==Ei?e.size:ct(e).length},he.snakeCase=_o,he.some=function(e,t,n){var a=kr(e)?Yl:Pt;return n&&Yn(e,t,n)&&(t=ni),a(e,Rn(t,3))},he.sortedIndex=function(e,t){return It(e,t)},he.sortedIndexBy=function(e,t,n){return Nt(e,t,Rn(n,2))},he.sortedIndexOf=function(e,t){var n=null==e?0:e.length;if(n){var a=It(e,t);if(a<n&&gr(e[a],t))return a}return-1},he.sortedLastIndex=function(e,t){return It(e,t,!0)},he.sortedLastIndexBy=function(e,t,n){return Nt(e,t,Rn(n,2),!0)},he.sortedLastIndexOf=function(e,t){if(null==e?0:e.length){var n=It(e,t,!0)-1;if(gr(e[n],t))return n}return-1},he.startCase=Lo,he.startsWith=function(e,t,n){return e=$r(e),n=null==n?0:Te(Ur(n),0,e.length),t=Rt(t),e.slice(n,n+t.length)==t},he.subtract=ti,he.sum=function(e){return e&&e.length?rs(e,Io):0},he.sumBy=function(e,t){return e&&e.length?rs(e,Rn(t,2)):0},he.template=function(i,e,t){var n=he.templateSettings;t&&Yn(i,e,t)&&(e=ni),i=$r(i),e=Qr({},e,n,An);var l,s,a=Qr({},e.imports,n.imports,An),r=lo(a),o=ls(a,r),u=0,d=e.interpolate||ml,c="__p += '",f=v((e.escape||ml).source+"|"+d.source+"|"+(d===qi?ll:ml).source+"|"+(e.evaluate||ml).source+"|$","g"),p="//# sourceURL="+("sourceURL"in e?e.sourceURL:"lodash.templateSources["+ ++El+"]")+"\n";i.replace(f,function(e,t,n,a,r,o){return n=n||a,c+=i.slice(u,o).replace(gl,ps),t&&(l=!0,c+="' +\n__e("+t+") +\n'"),r&&(s=!0,c+="';\n"+r+";\n__p += '"),n&&(c+="' +\n((__t = ("+n+")) == null ? '' : __t) +\n'"),u=o+e.length,e}),c+="';\n";var h=e.variable;h||(c="with (obj) {\n"+c+"\n}\n"),c=(s?c.replace(Mi,""):c).replace(Ri,"$1").replace(Vi,"$1;"),c="function("+(h||"obj")+") {\n"+(h?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(l?", __e = _.escape":"")+(s?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+c+"return __p\n}";var m=Fo(function(){return g(r,p+"return "+c).apply(ni,o)});if(m.source=c,Dr(m))throw m;return m},he.times=function(e,t){if((e=Ur(e))<1||ii<e)return[];var n=si,a=H(e,si);t=Rn(t),e-=si;for(var r=os(a,t);++n<e;)t(n);return r},he.toFinite=Kr,he.toInteger=Ur,he.toLength=Gr,he.toLower=function(e){return $r(e).toLowerCase()},he.toNumber=qr,he.toSafeInteger=function(e){return e?Te(Ur(e),-ii,ii):0===e?e:0},he.toString=$r,he.toUpper=function(e){return $r(e).toUpperCase()},he.trim=function(e,t,n){if((e=$r(e))&&(n||t===ni))return e.replace(Xi,"");if(!e||!(t=Rt(t)))return e;var a=ks(e),r=ks(t);return Jt(a,us(a,r),ds(a,r)+1).join("")},he.trimEnd=function(e,t,n){if((e=$r(e))&&(n||t===ni))return e.replace(tl,"");if(!e||!(t=Rt(t)))return e;var a=ks(e);return Jt(a,0,ds(a,ks(t))+1).join("")},he.trimStart=function(e,t,n){if((e=$r(e))&&(n||t===ni))return e.replace(el,"");if(!e||!(t=Rt(t)))return e;var a=ks(e);return Jt(a,us(a,ks(t))).join("")},he.truncate=function(e,t){var n=30,a="...";if(xr(t)){var r="separator"in t?t.separator:r;n="length"in t?Ur(t.length):n,a="omission"in t?Rt(t.omission):a}var o=(e=$r(e)).length;if(hs(e)){var i=ks(e);o=i.length}if(o<=n)return e;var l=n-bs(a);if(l<1)return a;var s=i?Jt(i,0,l).join(""):e.slice(0,l);if(r===ni)return s+a;if(i&&(l+=s.length-l),Nr(r)){if(e.slice(l).search(r)){var u,d=s;for(r.global||(r=v(r.source,$r(sl.exec(r))+"g")),r.lastIndex=0;u=r.exec(d);)var c=u.index;s=s.slice(0,c===ni?l:c)}}else if(e.indexOf(Rt(r),l)!=l){var f=s.lastIndexOf(r);-1<f&&(s=s.slice(0,f))}return s+a},he.unescape=function(e){return(e=$r(e))&&Bi.test(e)?e.replace(Wi,ws):e},he.uniqueId=function(e){var t=++f;return $r(e)+t},he.upperCase=Do,he.upperFirst=Oo,he.each=$a,he.eachRight=Ya,he.first=Ea,Ro(he,(Zo={},Ye(he,function(e,t){k.call(he.prototype,t)||(Zo[t]=e)}),Zo),{chain:!1}),he.VERSION="4.17.4",Vl(["bind","bindKey","curry","curryRight","partial","partialRight"],function(e){he[e].placeholder=he}),Vl(["drop","take"],function(n,a){be.prototype[n]=function(e){e=e===ni?1:q(Ur(e),0);var t=this.__filtered__&&!a?new be(this):this.clone();return t.__filtered__?t.__takeCount__=H(e,t.__takeCount__):t.__views__.push({size:H(e,si),type:n+(t.__dir__<0?"Right":"")}),t},be.prototype[n+"Right"]=function(e){return this.reverse()[n](e).reverse()}}),Vl(["filter","map","takeWhile"],function(e,t){var n=t+1,a=1==n||3==n;be.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:Rn(e,3),type:n}),t.__filtered__=t.__filtered__||a,t}}),Vl(["head","last"],function(e,t){var n="take"+(t?"Right":"");be.prototype[e]=function(){return this[n](1).value()[0]}}),Vl(["initial","tail"],function(e,t){var n="drop"+(t?"":"Right");be.prototype[e]=function(){return this.__filtered__?new be(this):this[n](1)}}),be.prototype.compact=function(){return this.filter(Io)},be.prototype.find=function(e){return this.filter(e).head()},be.prototype.findLast=function(e){return this.reverse().find(e)},be.prototype.invokeMap=Lt(function(t,n){return"function"==typeof t?new be(this):this.map(function(e){return ot(e,t,n)})}),be.prototype.reject=function(e){return this.filter(cr(Rn(e)))},be.prototype.slice=function(e,t){e=Ur(e);var n=this;return n.__filtered__&&(0<e||t<0)?new be(n):(e<0?n=n.takeRight(-e):e&&(n=n.drop(e)),t!==ni&&(n=(t=Ur(t))<0?n.dropRight(-t):n.take(t-e)),n)},be.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},be.prototype.toArray=function(){return this.take(si)},Ye(be.prototype,function(c,e){var f=/^(?:filter|find|map|reject)|While$/.test(e),p=/^(?:head|last)$/.test(e),h=he[p?"take"+("last"==e?"Right":""):e],m=p||/^find/.test(e);h&&(he.prototype[e]=function(){function e(e){var t=h.apply(he,ql([e],n));return p&&i?t[0]:t}var t=this.__wrapped__,n=p?[1]:arguments,a=t instanceof be,r=n[0],o=a||kr(t);o&&f&&"function"==typeof r&&1!=r.length&&(a=o=!1);var i=this.__chain__,l=!!this.__actions__.length,s=m&&!i,u=a&&!l;if(m||!o)return s&&u?c.apply(this,n):(d=this.thru(e),s?p?d.value()[0]:d.value():d);t=u?t:new be(this);var d=c.apply(t,n);return d.__actions__.push({func:Ka,args:[e],thisArg:ni}),new ye(d,i)})}),Vl(["pop","push","shift","sort","splice","unshift"],function(e){var n=i[e],a=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",r=/^(?:pop|shift)$/.test(e);he.prototype[e]=function(){var t=arguments;if(!r||this.__chain__)return this[a](function(e){return n.apply(kr(e)?e:[],t)});var e=this.value();return n.apply(kr(e)?e:[],t)}}),Ye(be.prototype,function(e,t){var n=he[t];if(n){var a=n.name+"";(oe[a]||(oe[a]=[])).push({name:t,func:n})}}),oe[gn(ni,2).name]=[{name:"wrapper",func:ni}],be.prototype.clone=function(){var e=new be(this.__wrapped__);return e.__actions__=rn(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=rn(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=rn(this.__views__),e},be.prototype.reverse=function(){if(this.__filtered__){var e=new be(this);e.__dir__=-1,e.__filtered__=!0}else(e=this.clone()).__dir__*=-1;return e},be.prototype.value=function(){var e=this.__wrapped__.value(),t=this.__dir__,n=kr(e),a=t<0,r=n?e.length:0,o=function(e,t,n){var a=-1,r=n.length;for(;++a<r;){var o=n[a],i=o.size;switch(o.type){case"drop":e+=i;break;case"dropRight":t-=i;break;case"take":t=H(t,e+i);break;case"takeRight":e=q(e,t-i)}}return{start:e,end:t}}(0,r,this.__views__),i=o.start,l=o.end,s=l-i,u=a?l:i-1,d=this.__iteratees__,c=d.length,f=0,p=H(s,this.__takeCount__);if(!n||!a&&r==s&&p==s)return Kt(e,this.__actions__);var h=[];e:for(;s--&&f<p;){for(var m=-1,g=e[u+=t];++m<c;){var v=d[m],y=v.iteratee,b=v.type,k=y(g);if(2==b)g=k;else if(!k){if(1==b)continue e;break e}}h[f++]=g}return h},he.prototype.at=Ua,he.prototype.chain=function(){return Ba(this)},he.prototype.commit=function(){return new ye(this.value(),this.__chain__)},he.prototype.next=function(){this.__values__===ni&&(this.__values__=Br(this.value()));var e=this.__index__>=this.__values__.length;return{done:e,value:e?ni:this.__values__[this.__index__++]}},he.prototype.plant=function(e){for(var t,n=this;n instanceof ve;){var a=ma(n);a.__index__=0,a.__values__=ni,t?r.__wrapped__=a:t=a;var r=a;n=n.__wrapped__}return r.__wrapped__=e,t},he.prototype.reverse=function(){var e=this.__wrapped__;if(e instanceof be){var t=e;return this.__actions__.length&&(t=new be(this)),(t=t.reverse()).__actions__.push({func:Ka,args:[xa],thisArg:ni}),new ye(t,this.__chain__)}return this.thru(xa)},he.prototype.toJSON=he.prototype.valueOf=he.prototype.value=function(){return Kt(this.__wrapped__,this.__actions__)},he.prototype.first=he.prototype.head,P&&(he.prototype[P]=function(){return this}),he}();Ol._=Es,(z=function(){return Es}.call(B,K,B,W))===ni||(W.exports=z)}).call(this)}).call(this,K(23),K(72)(e))},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t){e.exports=g},function(e,t,n){"use strict";t.decode=t.parse=n(75),t.encode=t.stringify=n(76)},function(e,t,n){"use strict";e.exports=function(e,t,n,a){t=t||"&",n=n||"=";var r={};if("string"!=typeof e||0===e.length)return r;var o=/\+/g;e=e.split(t);var i=1e3;a&&"number"==typeof a.maxKeys&&(i=a.maxKeys);var l,s,u=e.length;0<i&&i<u&&(u=i);for(var d=0;d<u;++d){var c,f,p,h,m=e[d].replace(o,"%20"),g=m.indexOf(n);f=0<=g?(c=m.substr(0,g),m.substr(g+1)):(c=m,""),p=decodeURIComponent(c),h=decodeURIComponent(f),l=r,s=p,Object.prototype.hasOwnProperty.call(l,s)?v(r[p])?r[p].push(h):r[p]=[r[p],h]:r[p]=h}return r};var v=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}},function(e,t,n){"use strict";function o(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}}e.exports=function(n,a,r,e){return a=a||"&",r=r||"=",null===n&&(n=void 0),"object"==typeof n?l(s(n),function(e){var t=encodeURIComponent(o(e))+r;return i(n[e])?l(n[e],function(e){return t+encodeURIComponent(o(e))}).join(a):t+encodeURIComponent(o(n[e]))}).join(a):e?encodeURIComponent(o(e))+r+encodeURIComponent(o(n)):""};var i=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)};function l(e,t){if(e.map)return e.map(t);for(var n=[],a=0;a<e.length;a++)n.push(t(e[a],a));return n}var s=Object.keys||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.push(n);return t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e};function r(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var c=l(n(0)),o=l(n(78)),i=l(n(3)),f=n(1);function l(e){return e&&e.__esModule?e:{default:e}}var s=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(u,c.default.Component),a(u,[{key:"render",value:function(){var e="dwkit-repeater";return this.props.className&&(e+=" "+this.props.className),this.isServerMode()&&this.state.firstLoad?(this.state.firstLoad=!1,this.loadNextPage(),c.default.createElement("div",{className:e,style:this.props.style},this.state.loading&&c.default.createElement(f.Loader,{active:!0,inline:"centered"}))):this.props.slider&&0<this.state.items.length?c.default.createElement("div",{className:e,style:this.props.style},c.default.createElement(o.default,{dots:!0,infinite:!0,speed:500,slidesToShow:1,slidesToScroll:1},this.renderItems(this.state.items,this.state.rowsCount,!0)),this.state.loading&&c.default.createElement(f.Loader,{active:!0,inline:"centered"})):c.default.createElement("div",{className:e,style:this.props.style},this.renderItems(this.state.items,this.state.rowsCount),this.state.loading&&c.default.createElement(f.Loader,{active:!0,inline:"centered"}))}},{key:"renderItems",value:function(e,t,n){var a=this,r=[],o=0;if(Array.isArray(e)&&0<e.length)e.forEach(function(e){var t=a.renderItem(o,e,0==o&&a.props.buildermode);null!=t&&(n?r.push(c.default.createElement("div",{key:o},t)):r.push(t)),o++});else if(this.props.buildermode){var i=this.renderItem(o,{},0==o);null!=i&&(n?r.push(c.default.createElement("div",null,i)):r.push(i))}else if(!this.state.loading&&this.isServerMode()){var l=this.props.noRecordsLabel;null!=l&&""!=l||(l="No records. Refresh...");var s=c.default.createElement("div",{key:"norecords",className:"dwkit-repeater-norecords"},c.default.createElement(f.Button,{onClick:this.loadNextPage.bind(this)},l));r.push(s)}if(!this.state.loading&&this.isServerMode()&&t>e.length&&0<e.length){var u=this.props.loadButtonLabel;null!=u&&""!=u||(u="Load more...");var d=c.default.createElement("div",{key:"loadmore",className:"dwkit-repeater-loadmore"},c.default.createElement(f.Button,{onClick:this.loadNextPage.bind(this)},u));r.push(d)}return r}},{key:"renderItem",value:function(e,a,t){var r=this;if(!this.props.buildermode&&""!=this.props["item-visibleCondition"]&&null!=this.props["item-visibleCondition"]&&null!=this.props["item-visibleCondition"]){var n="return "+this.props["item-visibleCondition"];try{if(!new Function("data",n)(a))return}catch(e){return}}var o=void 0;if(null!=this.props.placeholders&&Array.isArray(this.props.placeholders[this.psTemplate])&&0<this.props.placeholders[this.psTemplate].length){var i=this.props.placeholders[this.psTemplate];if(null!=i){o=this.props.createControls(this,{model:i,parentPlaceholder:this.psTemplate,data:a,errors:Array.isArray(this.props.error)?this.props.error[e]:void 0,handleEvent:function(e){null==e.parameters&&(e.parameters={}),null==e.parameters.row&&(e.parameters.row=a),"onChange"===e.eventName?r.handleChange(a,e.syntheticEvent,e):r.props.handleEvent(e)},getAdditionalDataForControl:function(e,t,n){return null==t&&(t={}),null==t.row&&(t.row=a),r.props.getAdditionalDataForControl(e,t,n)}});var l=e+"_";t&&null!=this.props.createBuilderDropzone&&(0<o.length&&0<i.length&&o.unshift(this.props.createBuilderDropzone(l+"repeter_dropzone_header",this.psTemplate)),o.push(this.props.createBuilderDropzone(l+"repeter_dropzone_footer",this.psTemplate,i[i.length-1].key)))}}else t&&null!=this.props.createBuilderDropzone&&(o=this.props.createBuilderDropzone("repeater_dropzone_footer",this.psTemplate));return o}},{key:"handleChange",value:function(e,t,n){var a=n.name,r=n.propertyName,o=n.value,i=n.checked;if(null!=this.props.onChange){var l=r;void 0===l&&(l=a),e[l]=null==o&&null!=i?i:o,this.isServerMode()?this.forceUpdate():(this.sendChangesToParent(),null!=t?t.preventDefault():this.forceUpdate())}}},{key:"sendChangesToParent",value:function(){var e=this.state.items,t="string"==typeof this.props.value?i.default.stringify(e):e;this.props.onChange(null,{name:this.props.name,value:t})}},{key:"loadNextPage",value:function(){var e=this.state.pageSize,t=0;null!=this.state.items&&(t=this.state.items.length),this.loadPage(t,e)}},{key:"loadPage",value:function(r,e){var o=this;if(void 0===this.props.getAdditionalDataForControl)void 0!==console&&console.log("Repeater: For paging on server need to set getAdditionalDataForControl func!");else{var t=this.state.sort;""===t&&void 0!==this.props.defaultSort&&(t=this.props.defaultSort),this.setState({loading:!0}),this.props.getAdditionalDataForControl(this,{startIndex:r,pageSize:e,filters:void 0!==this.state.filter?this.state.filter.GetFilterAsObjects():[],sort:t},function(e){e.sIndex,e.pageSize;var t=e.rowsCount,n=e.items;if(void 0===t||void 0===n);else if(o.state.rowsCount=t,o.state.items.length==r)for(var a=0;a<n.length;a++)o.state.items.push(n[a]);o.setState({loading:!1})})}}},{key:"isServerMode",value:function(){return u.staticIsServerMode(this.props)}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n=null;if(function(e,t){return JSON.stringify(e)===JSON.stringify(t)}(t.filter,e.filter)){if(!u.staticIsServerMode(e)&&t.originalItems!==e.value){n={};var a=Array.isArray(e.value)?u.staticGetSortedAndFilteredItems(e.value,t.filter,t.sort,e.defaultSort):[];n.items=a,n.rowsCount=a.length,n.selectedIndexes=[],n.originalItems=e.value}}else if(n={filter:e.filter},u.staticIsServerMode(e))n.items=[],n.firstLoad=!0,n.rowsCount=void 0;else{var r=Array.isArray(e.value)?u.staticGetSortedAndFilteredItems(e.value,e.filter,t.sort,e.defaultSort):[];n.items=r,n.selectedIndexes=[],n.rowsCount=r.length}return n}},{key:"staticIsServerMode",value:function(e){return"server"===e.pagerType}},{key:"staticCheckData",value:function(e){var t=null==e?[]:e;if(Array.isArray(t))t=t;else try{t=i.default.parse(t)}catch(e){}return t}},{key:"staticGetSortedAndFilteredItems",value:function(e,t,n,a){var r=u.staticCheckData(e);if(void 0===r)return r;void 0!==t&&(r=r.filter(function(e){return t.IsRowMatched(e)}));var o=n;if("NONE"===n||""===n){if(void 0===a)return r;o=a}var i=o.indexOf(" "),l=o.substring(0,i),s=o.substring(i+1,o.length);return r.slice(0).sort(function(e,t){var n=void 0!==e[l]&&null!==e[l]&&void 0!==e[l].toLowerCase?e[l].toLowerCase():e[l],a=void 0!==t[l]&&null!==t[l]&&void 0!==t[l].toLowerCase?t[l].toLowerCase():t[l];return n===a?0:null==n?1:null==a?-1:"ASC"===s?a<n?1:-1:"DESC"===s?n<a?1:-1:void 0})}}]),u);function u(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(u.__proto__||Object.getPrototypeOf(u)).call(this,e));return t.psTemplate="template",t.state={items:[],sort:"",filter:e.filter,firstLoad:!e.buildermode&&u.staticIsServerMode(e),pageSize:e.pageSize?e.pageSize:20},t}t.default=s},function(e,t){e.exports=v},function(e,t){e.exports=y},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e};function r(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var o=u(n(0)),i=u(n(13)),l=u(n(7)),s=u(n(9));n(1);function u(e){return e&&e.__esModule?e:{default:e}}var d=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(c,o.default.Component),a(c,[{key:"dataChanged",value:function(e){this.setState({data:e,editElement:null})}},{key:"_onEdit",value:function(e){l.default.showEditForm(e.key)}},{key:"_onCopy",value:function(e){i.default.copy(e)}},{key:"_onDestroy",value:function(e){i.default.remove(e)}},{key:"_handleEvent",value:function(e){}},{key:"render",value:function(){var e=s.default.createControls(this,{model:this.state.data,data:void 0,buildermode:!0,eventOnEdit:this._onEdit,eventOnDelete:this._onDestroy,eventOnCopy:this._onCopy,parentItem:void 0,handleEvent:this._handleEvent,getFormFunc:this.props.getFormFunc,getFormFist:this.props.getFormFist,getAdditionalDataForControl:this.props.getAdditionalDataForControl,disableRefs:!0,downloadUrl:this.props.downloadUrl,uploadUrl:this.props.uploadUrl,controlsToReplace:[],needCheckReplace:!1,externalControlRender:this.props.externalControlRender,externalControlList:this.props.externalControlList}),t=void 0;null!=this.props.localization&&null!=this.props.localization.preview&&(t=this.props.localization.preview.dropzonetext);var n=s.default.createBuilderDropzone("dropzone_header",void 0,void 0,t),a=0<e.length?s.default.createBuilderDropzone("dropzone_footer",void 0,void 0,t):"";return o.default.createElement("div",{className:"dwkit-formbuilder-preview"},n,e,a)}}]),c);function c(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(c.__proto__||Object.getPrototypeOf(c)).call(this,e));return t.state={data:[],editElement:null},i.default.listen(t.dataChanged.bind(t)),t}t.default=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=function(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e};function o(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var i=c(n(0)),l=(c(n(2)),c(n(13))),s=c(n(7)),u=c(n(9)),d=n(1);function c(e){return e&&e.__esModule?e:{default:e}}var f=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(p,i.default.Component),a(p,[{key:"handleChange",value:function(e,t){var n=t.name,a=t.value,r=t.checked,o=this.state.item;o[n]=null==a?r:a,this.setState({item:o})}},{key:"onShow",value:function(e){var t=l.default.getByKey(e),n={};for(var a in t)"object"===r(t[a])?n[a]=JSON.parse(JSON.stringify(t[a])):n[a]=t[a];this.setState({key:e,item:n,open:!0})}},{key:"isChangedItem",value:function(){var e=l.default.getByKey(this.state.key),t=this.state.item;for(var n in t)if(JSON.stringify(t[n])==JSON.stringify(e[n]));else if("events"!=n||null!=t[n]&&"{}"!=JSON.stringify(t[n])||null!=e[n]&&"{}"!=JSON.stringify(e[n]))return!0;return!1}},{key:"getControlsList",value:function(){return l.default.getAllKeys(l.default.getData())}},{key:"showConfirm",value:function(e,t){this.setState({confirm:!0,confirmtext:e,confirmHandle:t})}},{key:"onClose",value:function(){if(this.isChangedItem()){var e="Close without save?";null!=this.props.localization&&(e=this.props.localization.base.closewithoutsavequestion),this.showConfirm(e,this.onCloseConfirmed.bind(this))}else this.onCloseConfirmed()}},{key:"onSave",value:function(){l.default.updateItemByKey(this.state.key,this.state.item),this.onCloseConfirmed(),"gridlayout"==this.state.item["data-buildertype"]&&setTimeout(function(){if("function"==typeof Event)window.dispatchEvent(new Event("resize"));else{var e=window.document.createEvent("UIEvents");e.initUIEvent("resize",!0,!1,window,0),window.dispatchEvent(e)}},100)}},{key:"onCloseConfirmed",value:function(){this.setState({open:!1,confirm:!1})}},{key:"createError",value:function(e){var t="Close";return null!=this.props.localization&&(t=this.props.localization.base.closebutton),i.default.createElement(d.Modal,{open:this.state.open,onClose:this.onClose.bind(this)},i.default.createElement(d.Modal.Header,null,"Error"),i.default.createElement(d.Modal.Content,null,i.default.createElement("p",null,e)),i.default.createElement(d.Modal.Actions,null,i.default.createElement(d.Button,{onClick:this.onClose.bind(this)},t)))}},{key:"render",value:function(){var e=this;if(null==this.state.item)return i.default.createElement("div",null);var t=u.default.getEditControlByType(this.state.item["data-buildertype"],this.props.externalControlList);if(!t)return this.createError("EditForm is not found for this control!");var n="OK";null!=this.props.localization&&(n=this.props.localization.base.okbutton);var a="Cancel";null!=this.props.localization&&(a=this.props.localization.base.cancelbutton);var r="Question";function o(){return e.setState({confirm:!1})}return null!=this.props.localization&&(r=this.props.localization.base.questiontitle),i.default.createElement("div",null,i.default.createElement(t,{key:"editform",data:this.state.item,parent:this,open:this.state.open,onSave:this.onSave,onClose:this.onClose,actions:this.props.actions,className:"dwkit-formbuilder-editform",localization:this.props.localization}),i.default.createElement(d.Modal,{size:"small",open:this.state.confirm,dimmer:"inverted",onClose:o},i.default.createElement(d.Modal.Header,null,r),i.default.createElement(d.Modal.Content,null,i.default.createElement("p",null,this.state.confirmtext)),i.default.createElement(d.Modal.Actions,null,i.default.createElement(d.Button,{className:"buttontype1",onClick:this.state.confirmHandle},n),i.default.createElement(d.Button,{className:"buttontype2",onClick:o},a))))}}]),p);function p(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,p);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(p.__proto__||Object.getPrototypeOf(p)).call(this,e));return t.state={key:void 0,item:void 0,open:!1},l.default.listenTo(s.default.showEditForm,t.onShow.bind(t)),t}t.default=f},function(e,t,n){"use strict";var a;function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var o={clearbutton:"Clear",uploadbutton:"Upload",downloadbutton:"Download",toolbar:{sepContainers:"Containers",container:"DIV",form:"Form",formgroup:"Form Group",menu:"Menu",workflowbar:"Workflow bar",customblock:"Custom block",sepCollection:"Collections",gridview:"GridView",collectioneditor:"Collection Editor",sepControls:"Controls",header:"Header",input:"Input",textarea:"TextArea",dictionary:"Dictionary",dropdown:"Dropdown",checkbox:"CheckBox",radiogroup:"Radio group",button:"Button",label:"Label",message:"Message",image:"Image",statistic:"Statistic",customcontrol:"Custom control",staticcontent:"Static Content",dropdowntrigger:"Dropdown trigger",sepCharts:"Charts",barchart:"Bar",linechart:"Line",scatterchart:"Scatter",doughnutchart:"Doughnut",piechart:"Pie",radarchart:"Radar"},preview:{dropzonetext:"DROP ZONE"},editforms:{base:{generaltab:"General",styletab:"Style",eventstab:"Events",othertab:"Other",widthfield:"Width",heightfield:"Height",margintopfield:"Margin Top",marginbottomfield:"Margin Bottom",marginleftfield:"Margin Left",marginrightfield:"Margin Right",customcssclassfield:"Custom CSS class",stylefield:"Style",hiddenfield:"Hidden",controlhasnoeventsmsg:"This control has no events.",eventsinfomsg:"These flags enable processing from this element.",requiredfield:"Required",defaultvaluefield:"Default value",customvalidationfield:"Custom Validation",visibleconditionfield:"Visible condition",readonlyconditionfield:"ReadOnly condition",savebutton:"Save",cancelbutton:"Cancel",okbutton:"OK",closebutton:"Close",sizedefault:"Default",sizemini:"Mini",sizetiny:"Tiny",sizesmall:"Small",sizemedium:"Medium",sizelarge:"Large",sizebig:"Big",sizehuge:"Huge",sizemassive:"Massive",attachednone:"None",attachedtop:"Top",attachedbottom:"Bottom",attachedtopright:"Top right",attachedtopleft:"Top left",attachedbottomleft:"Bottom left",attachedbottomright:"Bottom right",labeldefault:"Default",labelleft:"Left",labelright:"Right",labelleftcorner:"Left corner",labelrightcorner:"Right corner",closewithoutsavequestion:"Close without save?",questiontitle:"Question",onchangetimeout:"onChange timeout"},headerform:{namefield:"Name",sizefield:"Size",contentfield:"Content",textalignfield:"Text Align",textalignleft:"Left",textaligncenter:"Center",textalignright:"Right",subheaderfield:"Subheader"},buttonform:{namefield:"Name",typefield:"Type",typenonefield:"None",typesubmitfield:"Submit",sizefield:"Size",contentfield:"Content",optionsfield:"Options",basicfield:"Basic",circularfield:"Circular",compactfield:"Compact",disabledfield:"Disabled",fluidfield:"Fluid",invertedfield:"Inverted",loadingfield:"Loading",primaryfield:"Primary",secondaryfield:"Secondary",togglefield:"Toggle",floatedfield:"Floated",floateddefaultfield:"Default",floatedleftfield:"Left",floatedrightfield:"Right"},labelform:(a={namefield:"Name",attachedfield:"Attached",contentfield:"Content",sizefield:"Size",optionsfield:"Options"},r(a,"contentfield","Content"),r(a,"basicfield","Basic"),r(a,"circularfield","Circular"),r(a,"cornerfield","Corner"),r(a,"floatingfield","Floating"),r(a,"horizontalfield","Horizontal"),r(a,"pointingfield","Pointing"),a),staticcontentform:{namefield:"Name",fontsizefield:"Font size",contentfield:"Content",allowhtmlfield:"Allow HTML"},messageform:{namefield:"Name",headerfield:"Header",optionsfield:"Options",compactfield:"Compact",errorfield:"Error",floatingfield:"Floating",infofield:"Info",negativefield:"Negative",positivefield:"Positive",successfield:"Success",warningfield:"Warning",contentfield:"Content",sizefield:"Size"},inputform:{namefield:"Name",labelfield:"Label",typefield:"Type",typetext:"Text",typenumber:"Number",typedate:"Date",typetime:"Time",typedatetime:"Date & Time",typepasswod:"Password",labelpositionfield:"Label position",optionsfield:"Options",loadingfield:"Loading",invertedfield:"Inverted",errorfield:"Error",disabledfield:"Disabled",transparentfield:"Transparent",fluidfield:"Fluid",readonlyfield:"Read only",placeholderfield:"Placeholder",sizefield:"Size",dateformatfield:"Date Format"},textareaform:{namefield:"Name",labelfield:"Label",rowsfield:"Rows",optionsfield:"Options",placeholderfield:"Placeholder",readonlyfield:"Read only"},checkboxform:{namefield:"Name",labelfield:"Label",optionsfield:"Options",fittedfield:"Fitted",indeterminatefield:"Indeterminate",readonlyfield:"ReadOnly",disabledfield:"Disabled",sliderfield:"Slider",togglefield:"Toggle"},dropdownform:{namefield:"Name",labelfield:"Label",datafield:"Data",datakeycolumn:"Key",datavaluecolumn:"Value",datatextcolumn:"Text",optionsfield:"Options",loadingfield:"Loading",errorfield:"Error",disabledfield:"Disabled",fluidfield:"Fluid",multiplefield:"Multiple",searchfield:"Search",selectionfield:"Selection",readonlyfield:"Read only",clearablefield:"Clearable",allowAddItemsfield:"Allow add items"},dictionaryform:{namefield:"Name",labelfield:"Label",datamodelfield:"Data model",placeholderfield:"Placeholder",columnsfield:"Columns (Name ASC, Email)",optionsfield:"Options",loadingfield:"Loading",errorfield:"Error",disabledfield:"Disabled",fluidfield:"Fluid",multiplefield:"Multiple",searchfield:"Search",selectionfield:"Selection",readonlyfield:"Read only",clearablefield:"Clearable",pagingfield:"Server pagination",pagesizefield:"Page Size",parentidfield:"Parent Field"},radiogroupform:{namefield:"Name",labelfield:"Label",datafield:"Data",datakeycolumn:"Key",datavaluecolumn:"Value",datatextcolumn:"Text",groupdirectfield:"Group direction",directionhorizontalfield:"Horizontal",directionverticalfield:"Vertical",readonlyfield:"Read only"},form:{namefield:"Name",sizefield:"Size",optionsfield:"Options",loadingfield:"Loading",errorfield:"Error",invertedfield:"Inverted",replyfield:"Reply",successfield:"Success",warningfield:"Warning"},formgroupform:{namefield:"Name",widthsfield:"Widths",widthsdefaultfield:"Default",widthsequalfield:"Equal",widthscustomfield:"Custom (1 - 16)",typefield:"Type",orientationcolumnsfield:"Columns",orientationrowsfield:"Rows"},containerform:{namefield:"Name",floatfield:"Float",floatnonefield:"None",floatleftfield:"Left",floatrightfield:"Right"},imageform:{namefield:"Name",srcfield:"Src",hreffield:"Href",optionsfield:"Options",avatarfield:"Avatar",borderedfield:"Bordered",centeredfield:"Centered",disabledfield:"Disabled",inlinefield:"Inline",spacedfield:"Spaced",floatedfield:"Floated",floatedleftfield:"Left",floatedrightfield:"Right",verticalalignfield:"Vertical align",verticalaligntopfield:"Top",verticalalignmiddlefield:"Middle",verticalalignbottomfield:"Bottom"},statisticform:{namefield:"Name",optionsfield:"Options",floatedfield:"Floated",horizontalfield:"Horizontal",datafield:"Data",sizefield:"Size"},gridform:{namefield:"Name",optionsfield:"Options",multiselectfield:"Multiselect",filterrowfield:"Filter row",disablesortfield:"Disable sorting",editformfield:"Edit form",editformshowtypefield:"Edit form show type",editformsidebardirectionfield:"Sidebar comes from",editformtypedefaultfield:"Default",editformtypemodalfield:"Modal",editformtypesidebarfield:"Sidebar",columnsfield:"Columns",keycolumn:"Key",namecolumn:"Name",typecolumn:"Type",widthcolumn:"Width",resizablecolumn:"Resizable",rowkeyfield:"Row key",pagertypefield:"Pagination type",pagertypenonefield:"None",pagertypeserverfield:"Server",pagesizefield:"Page size",defaultsortfield:"Default sort",rowheightfield:"Row height",minheightfield:"Min height",autoheightfield:"Auto Height",offsetfield:"OffSet",editType:"Edit type",editflowfield:"Edit flow",editformsidebarderectionleftfield:"Left",editformsidebarderectionrightfield:"Right",editformsidebarderectionbottomfield:"Bottom"},collectioneditorform:{namefield:"Name",idfield:"Id field",optionsfield:"Options",readonlyfield:"ReadOnly",draggablefield:"Draggable",hierarchicalfield:"Hierarchical",collapseallfield:"Collapse all",parentidfield:"ParentId field",columnsfield:"Columns",keycolumn:"Key",namecolumn:"Name",controlcolumn:"Control",widthcolumn:"Width",disableAdd:"Disable Add",childrenField:"Children field"},customform:{namefield:"Name",typefield:"Control type",propsfield:"Props",childrenfield:"Children"},customblockform:{namefield:"Name",sourcetypefield:"Source type",sourcetypeformfield:"Form name",sourcetypejsonfield:"JSON source",formnamefield:"Form name",sourcefield:"JSON source",placeholderfield:"Placeholder"},menuform:{namefield:"Name",activeitemfield:"Active Item",itemsfield:"Items",itemstargetcolumn:"Target",itemstitlecolumn:"Title",optionsfield:"Options",pointingfield:"Pointing",secondaryfield:"Secondary",tabularfield:"Tabular",fluidfield:"Fluid",verticalfield:"Vertical",linkfield:"Link",visibleConditioncolumn:"Visible Condition"},dropdowntriggerform:{namefield:"Name",defaultvaluefield:"Default Value",itemsfield:"Items",itemstargetcolumn:"Target",itemstitlecolumn:"Title",itemsvisibleconditioncolumn:"Visible Condition",imageurlfield:"ImageUrl"},chartform:{namefield:"Name",titlefield:"Title",titlesizefield:"Title size",legendpositionfield:"Legend position",responsivefield:"Responsive",datasetcustomfield:"Dataset custom",datalabelsplaceholder:"Q1, Q2, Q3, Q4",datalabelsfield:"Data labels",datasetlabelfield:"Dataset Label",datasetbackgroundcolorfield:"Dataset BackgroundColor"},workflowform:{namefield:"Name",setstatebuttonfield:"Set state button",blocksetstatefield:"Block SetState",enableschemeselectionfiled:"Enable Scheme selection dialog",selectiondialogmodefield:"Scheme selection dialog mode",startworkflowbuttonfield:"Start workflow button",dialogmodeautofield:"Auto",dialogmodebuttonfield:"Button"},uploadform:{namefield:"Name",iconFiletypes:"Icon file types",customPostUrl:"Custom post url",showFiletypeIcon:"Show file type icon",autoProcessQueue:"Auto process queue",addRemoveLinks:"Add remove links",multile:"Multiple file upload"},breadcrumbform:{namefield:"Name",itemsfield:"Items",itemstextcolumn:"Text",itemsurlcolumn:"Url",itemsactivecolumn:"Active",itemsiconcolumn:"Divider Icon"},searchform:{namefield:"Name",urlfield:"Url",categoryfield:"Enable Categories"},treepickerform:{namefield:"Name",labelfield:"Label",datamodelfield:"Data model",columnsfield:"Columns (Name ASC, Email)",optionsfield:"Options",errorfield:"Error",disabledfield:"Disabled",fluidfield:"Fluid",multiplefield:"Multiple",selectionfield:"Selection",readonlyfield:"Read only",clearablefield:"Clearable",pagingfield:"Server pagination",pagesizefield:"Page Size",parentidfield:"Parent Field",buttoncssclass:"Custom CSS class for Button",buttonstyle:"Button style",modalcssclass:"Custom CSS class for modal",modalstyle:"Modal style"}}};e.exports=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e};function r(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var o=s(n(0)),i=(s(n(2)),n(1),s(n(3)),s(n(6))),l=s(n(84));function s(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var f=(c(p,i.default),a(p,[{key:"gridColumns",value:function(){var e=void 0;return null!=this.props.data.additionalParams&&null!=this.props.data.additionalParams.FormMappingErrors&&(e=this.props.data.additionalParams.FormMappingErrors),[{key:"name",name:DWKitAdminLang.column.name,resizable:!0,formatter:o.default.createElement(h,{data:this.props.data[this.dataindex],errors:e,parent:this}),getRowMetaData:function(e){return e}}]}}]),p);function p(e){u(this,p);var t=d(this,(p.__proto__||Object.getPrototypeOf(p)).call(this,e));return t.editform=l.default,t.dataindex="forms",t.idfield="name",t.panelindex="formdata",t.datatype="form",t.title=DWKitAdminLang.datamap.title,t.titleGetter=function(e){return e.datamap.title},t.hidebuttons=!0,t.ignoreidcase=!0,t}t.default=f;var h=(c(m,o.default.Component),a(m,[{key:"render",value:function(){var e=this.props.value,t=this.props.errors;return this.props.dependentValues,null!=t&&t.includes(e)?o.default.createElement("span",{style:{color:"red"}},o.default.createElement("div",{title:e},e)):o.default.createElement("span",null,o.default.createElement("div",{title:e},e))}},{key:"decapitalizeFirstLetter",value:function(e){return e.charAt(0).toLowerCase()+e.slice(1)}}]),m);function m(e){return u(this,m),d(this,(m.__proto__||Object.getPrototypeOf(m)).call(this,e))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},a=function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e};function r(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var u=i(n(0)),o=(i(n(2)),i(n(4))),d=n(1),c=i(n(3)),f=i(n(85)),p=i(n(86)),m=i(n(25)),g=i(n(12));function i(e){return e&&e.__esModule?e:{default:e}}var l,s=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(v,o.default),a(v,[{key:"scroll",value:(l=function(e){var t=$(window).scrollTop();$(window).scrollTop(t+e),stop||setTimeout(function(){scroll(e)},20)},y.toString=function(){return l.toString()},y)},{key:"render",value:function(){if(this.state.id!=this.props.data.name)return this.setForm(this.props.data.name),null;for(var e=[{text:"...",value:""}],t=this.props.metadata.dataModel,n=0;n<t.length;n++){var a=t[n];e.push({text:a.name,value:a.id})}var r=this.props.metadata.codeActions,o=[{text:"...",value:""}],i=[];for(n=0;n<r.length;n++){var l=r[n];0===l.type?o.push({text:l.name,value:l.name}):2===l.type&&i.push({text:l.name,value:l.name})}null==this.state.form.triggers&&(this.state.form.triggers=[]),this.validate();var s=this.getTriggerTypes();return u.default.createElement("div",{className:"dwkitadmin-formmapping",onDragOver:this.onDragOver},u.default.createElement(d.Breadcrumb,null,u.default.createElement(d.Breadcrumb.Section,{onClick:this.props.parent.back.bind(this.props.parent),link:!0},DWKitAdminLang.datamap.title),u.default.createElement(d.Breadcrumb.Divider,null),u.default.createElement(d.Breadcrumb.Section,{active:!0},this.props.data.name),u.default.createElement(d.Breadcrumb.Divider,{icon:"right angle"}),u.default.createElement(d.Breadcrumb.Section,{href:"?apanel=forms&aid="+this.state.id,onClick:this.openBuilder.bind(this)},DWKitAdminLang.datamap.builder),u.default.createElement(d.Breadcrumb.Divider,null),u.default.createElement(d.Breadcrumb.Section,{href:"?apanel=actionhandlers&aid="+this.state.id,onClick:this.openActionHandlers.bind(this)},DWKitAdminLang.datamap.actionhandler)),u.default.createElement("div",{className:"dwkit-admin-form-buttons"},u.default.createElement(d.Button,{className:"buttontype1",onClick:this.onSave.bind(this)},DWKitAdminLang.button.save),u.default.createElement(d.Button,{className:"buttontype1",onClick:this.onAutoMapping.bind(this)},DWKitAdminLang.datamap.automappingbutton),u.default.createElement(d.Button,{className:"buttontype2",onClick:this.onResetMapping.bind(this)},DWKitAdminLang.datamap.resetmappingbutton)),this.getWarning(),u.default.createElement("div",{className:"dwkitadmin-formmapping-left"},u.default.createElement("div",{className:"dwkitadmin-formmapping-block"},u.default.createElement(p.default,{form:this.state.form,entities:e,parent:this}))),u.default.createElement("div",{className:"dwkitadmin-formmapping-right"},u.default.createElement("label",null,"Controls"),u.default.createElement(f.default,{formsource:this.state.source,form:this.state.form,parent:this})),u.default.createElement("div",{className:"dwkitadmin-formmapping-triggers"},u.default.createElement("h1",null,DWKitAdminLang.datamap.mainentitytriggers),u.default.createElement("div",{className:"field",widths:"16"},u.default.createElement(d.Form,null,u.default.createElement(g.default,{data:this.state.form.triggers,types:s,codeactions:i})))),u.default.createElement("div",{style:{clear:"both"}},u.default.createElement(m.default,{form:this.state.form,entities:e,codeactions:o,parent:this,formsource:this.state.source,codeActionsTriggers:i})))}},{key:"getTriggerTypes",value:function(){return null!==this.state.form.entityId&&void 0!==this.state.form.entityId&&""!==this.state.form.entityId?["Validate","AfterSelect","BeforeInsert","AfterInsert","BeforeUpdate","AfterUpdate","BeforeDelete","AfterDelete","BeforeTransaction","AfterTransaction","BeforeBatch","AfterBatch","AfterNew","AfterCopy"]:["Validate","BeforeTransaction","AfterTransaction","BeforeBatch","AfterBatch"]}},{key:"openBuilder",value:function(e){this.props.parent.props.parent.openpage("forms",this.state.id),e.preventDefault()}},{key:"openActionHandlers",value:function(e){this.props.parent.props.parent.openpage("actionhandlers",this.state.id),e.preventDefault()}},{key:"onDragStart",value:function(e,t){t.dataTransfer.setData("controlkey",e),$(".dwkit-formmapping-zone").addClass("dwkit-formmapping-zone-active").on("dragenter",this.onTargetDragEnter.bind(this,e,"dwkit-formmapping-zone-select")).on("dragleave",this.onTargetDragLeave.bind(this,e,"dwkit-formmapping-zone-select")).on("dragover",function(e){e.preventDefault()}).on("drop",this.onDrop.bind(this,e))}},{key:"onTargetDragEnter",value:function(e,t,n){$(n.target).addClass(t)}},{key:"onTargetDragLeave",value:function(e,t,n){$(n.target).removeClass(t)}},{key:"onDragEnd",value:function(e){var t=$(".dwkit-formmapping-zone");t.removeClass("dwkit-formmapping-zone-active"),t.removeClass("dwkit-formmapping-zone-select"),t.off()}},{key:"onDoubleClick",value:function(t){this.state.form.dataMap.forEach(function(e){if(e.control==t)return e.control=void 0,!1}),this.state.form.dataColl.forEach(function(e){if(e.control==t)return e.control=void 0,!1}),this.forceUpdate()}},{key:"onDrop",value:function(t,e){var n=$(e.target);if(0<n.length){if(null==n[0].attributes["data-id"])this.state.form.dataMap.forEach(function(e){if(e.control==t)return e.control=void 0,!1}),this.state.form.dataColl.forEach(function(e){if(e.control==t)return e.control=void 0,!1});else{var a=n[0].attributes["data-id"].value;this.state.form.dataMap.forEach(function(e){e.control==t&&(e.control=void 0),e.id==a&&(e.control=t,e.isLoadable=!0)}),this.state.form.dataColl.forEach(function(e){e.control==t&&(e.control=void 0),e.id==a&&(e.control=t)})}this.forceUpdate()}return this.onDragEnd(t),!1}},{key:"redirectToFormEdit",value:function(){this.props.parent.openpage("forms")}},{key:"validate",value:function(){var t=this,n=!0,e=this.state.form;if(null==e)return!1;var a=DWKitAdminLang.msg.fieldrequired;return e.__error={},n&=null==e.__error.entityId,null!=e.dataColl&&e.dataColl.forEach(function(e){e.__error={entityId:null==e.entityId||""==e.entityId||e.entityId==t.GuidEmpty()?a:void 0},n&=null==e.__error.entityId,void 0!==e.triggers&&null!==e.triggers&&e.triggers.forEach(function(e){e.__error={triggers:Array.isArray(e.triggers)&&0<e.triggers.length?void 0:a,codeAction:null==e.codeAction||""==e.codeAction?a:void 0},n&=null==e.__error.triggers&&null==e.__error.codeAction})}),null!=e.triggers&&e.triggers.forEach(function(e){e.__error={triggers:Array.isArray(e.triggers)&&0<e.triggers.length?void 0:a,codeAction:null==e.codeAction||""==e.codeAction?a:void 0},n&=null==e.__error.triggers&&null==e.__error.codeAction}),n}},{key:"getControlsByFormForDataMapping",value:function(e,l){if(null==e||e.constructor!=Array)return[];var s=this,u=[];return e.forEach(function(e){var t=e["data-buildertype"];"button"!==t&&"form"!==t&&"formgroup"!==t&&"customblock"!==t&&u.push({key:e.key,type:e["data-buildertype"],parent:l});var n=e.formname;if("customblock"===t&&void 0!==n){var a=s.loadform(n,void 0,!0);if(void 0!==a){var r=void 0;try{r=c.default.parse(a.source)}catch(e){alertify.error(e)}var o=s.getControlsByFormForDataMapping(r,e.key);u=u.concat(o)}}if(null!=e.children&&0<e.children.length&&(u=u.concat(s.getControlsByFormForDataMapping(e.children,e.key))),null!=e.placeholders)for(var i in e.placeholders)Array.isArray(e.placeholders[i])&&0<e.placeholders[i].length&&(u=u.concat(s.getControlsByFormForDataMapping(e.placeholders[i],e.key)))}),u}},{key:"onSave",value:function(){var t=this;if(!this.validate())return alertify.error(DWKitAdminLang.msg.checkerrorsonform),void this.forceUpdate();this.state.form.__type="formmapping",this.state.form.__state="updated",this.ChangeData([this.state.form],function(e){t.ResetSystemProps(t.state.form),t.forceUpdate(),t.state.reloadMetadataAfterSave&&setTimeout(function(){t.props.parent.props.parent.load(),Pace.stop()},100)})}},{key:"onAutoMapping",value:function(){for(var e=["","id_name","_name"],t=this.state.form,n=this.getControlsByFormForDataMapping(this.state.source),a=0;a<n.length;a++){var r=n[a],o=r.key.toLowerCase();this.isAssociateControl(o)||this.mappingToDataMap(t.dataMap,r,e)||this.mappingToDataColl(t.dataColl,r)}alertify.success(DWKitAdminLang.datamap.automappingcompleatemsg),this.forceUpdate()}},{key:"mappingToDataMap",value:function(e,n,t){return t.forEach(function(t){e.forEach(function(e){if(e.attributeName.toLowerCase()==n.key.toLowerCase()+t)return e.control=n.key,e.isLoadable=!0})}),!1}},{key:"mappingToDataColl",value:function(e,n){var a=this;return e.forEach(function(e){var t=a.getModelName(e.entityId);if(null!=t&&t.toLowerCase()==n.key.toLowerCase())return e.control=n.key,!0}),e.forEach(function(e){var t=a.getModelName(e.entityId);if(null!=t&&t.toLowerCase().includes(n.key.toLowerCase()))return e.control=n.key,!0}),!1}},{key:"isAssociateControl",value:function(e){for(var t=this.state.form,n=0;n<t.dataMap.length;n++)if(t.dataMap[n].control==e)return!0;for(var a=0;a<t.dataColl.length;a++)if(t.dataColl[a].control==e)return!0;return!1}},{key:"getModelName",value:function(e){for(var t=this.props.metadata.dataModel,n=0;n<t.length;n++)if(t[n].id==e)return t[n].name}},{key:"onResetMapping",value:function(e){var t=this,n=this.state.form;n.dataMap=t.createDataMap(n.entityId,void 0,"",[]),null==n.dataColl&&(n.dataColl=[]),n.dataColl.forEach(function(e){e.control=void 0,e.dataMap=t.createDataMap(e.entityId,void 0,"",[])}),1!=e&&this.forceUpdate()}},{key:"setForm",value:function(e){var t=this;this.loadform(e,function(e){e.dataMap=t.createDataMap(e.entityId,void 0,"",e.dataMap),null==e.dataColl&&(e.dataColl=[]),e.dataColl.forEach(function(e){e.dataMap=t.createDataMap(e.entityId,void 0,"",e.dataMap)}),t.setState({form:e,id:e.name,source:JSON.parse(e.source)})})}},{key:"loadform",value:function(e,t,n){var a=new Array;if(a.push({name:"operation",value:"loadform"}),a.push({name:"name",value:e}),!0===n){var r=$.ajax({url:this.props.apiUrl,data:a,async:!1,type:"post"}).responseJSON;return r.success?r.item:void alertify.error(r.message)}$.ajax({url:this.props.apiUrl,data:a,async:!0,type:"post",success:function(e){e.success?t(e.item):alertify.error(e.message)}})}},{key:"setEntity",value:function(e){e!=this.state.form.entityId&&(this.state.form.entityId=e,this.state.form.dataMap=this.createDataMap(e,void 0,"",this.state.form.dataMap),this.forceUpdate())}},{key:"createDataMap",value:function(e,t,n,a,r){if(r&&!a.some(function(e){return e.parentId===t}))return[];var o=[];if(null==e)return o;var i=this.getEntityById(e);if(null==i)return o;for(var l=0;l<i.attributes.length;l++){for(var s=i.attributes[l],u=void 0,d=0;d<a.length;d++){var c=a[d];if(c.attributeId==s.id&&c.parentId==t){u=c;break}}var f=null;if(f=null==u?{id:this.NewGUID(),parentId:t,isLoadable:null==t,attributeId:s.id,attributeName:n+s.name,referenceEntityId:1===s.typeId?s.referenceEntityId:void 0}:h({},u,{attributeName:n+s.name,referenceEntityId:1===s.typeId?s.referenceEntityId:void 0}),o.push(f),null!=s.referenceEntityId&&1===s.typeId){var p=this.createDataMap(f.referenceEntityId,f.id,f.attributeName+"_",a,!0);o=o.concat(p)}}return o}},{key:"getEntityById",value:function(e){for(var t=this.props.metadata.dataModel,n=0;n<t.length;n++){var a=t[n];if(a.id==e)return a}}},{key:"updateStateAndForce",value:function(){this.forceUpdate()}},{key:"getWarning",value:function(){var e=void 0!==this.props.metadata.additionalParams&&void 0!==this.props.metadata.additionalParams.FormMappingErrors&&null!==this.props.metadata.additionalParams.FormMappingErrors&&this.props.metadata.additionalParams.FormMappingErrors.includes(this.state.id);if(this.state.reloadMetadataAfterSave=e)return u.default.createElement(d.Message,{color:"orange"},DWKitAdminLang.datamap.mismatchmodelmsg)}}]),v);function v(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,v);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(v.__proto__||Object.getPrototypeOf(v)).call(this,e));return t.onDragOver=function(e){e.clientY<150&&t.scroll(-10),e.clientY>$(window).height()-150&&t.scroll(10)},t.state={},t}function y(e){return l.apply(this,arguments)}t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e};function r(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var o=l(n(0)),i=(l(n(2)),n(1));l(n(3));function l(e){return e&&e.__esModule?e:{default:e}}var s=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(u,l(n(4)).default),a(u,[{key:"render",value:function(){var n=this,e=this.props.parent.getControlsByFormForDataMapping(this.props.formsource,void 0),a=[],r=n.props.parent;return e.forEach(function(e){if(!n.isAttached(e,n.props.form.dataMap)&&!n.isAttached(e,n.props.form.dataColl)){var t=e.key+" : "+e.type;null!=e.parent&&(t=e.parent+" -> "+t),a.push(o.default.createElement("div",{draggable:"true",className:"mapdatacontrol",key:e.key,onDragStart:r.onDragStart.bind(r,e.key),onDragEnd:r.onDragEnd.bind(r,e.key),onDoubleClick:r.onDoubleClick.bind(r,e.key)},o.default.createElement("span",{key:"el"},t)))}}),0<a.length?a.unshift(o.default.createElement(i.Message,{key:"MappingDataControlsMessage1"},DWKitAdminLang.datamap.moveitemsmsg)):a.unshift(o.default.createElement(i.Message,{key:"MappingDataControlsMessage2"},o.default.createElement(i.Icon,{name:"info"}),DWKitAdminLang.datamap.nocontrolsonformmsg)),a.push(o.default.createElement("div",{key:"controlsdropzone",className:"dwkit-formmapping-zone"},DWKitAdminLang.datamap.dropzonemsg)),o.default.createElement("div",null,a)}},{key:"isAttached",value:function(e,t){for(var n=0;n<t.length;n++)if(e.key==t[n].control)return!0;return!1}}]),u);function u(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(u.__proto__||Object.getPrototypeOf(u)).call(this,e))}t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e};function r(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var u=i(n(0)),d=(i(n(2)),n(1)),o=(i(n(3)),i(n(24)));function i(e){return e&&e.__esModule?e:{default:e}}var l=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(s,i(n(4)).default),a(s,[{key:"onExpand",value:function(e){this.setState({isexpanded:e})}},{key:"render",value:function(){var e,a=this,r=this,t=this.props.form.dataMap;e=this.state.isexpanded?u.default.createElement("img",{key:"btnexpand",onClick:this.onExpand.bind(this,!1),className:"dwkit-formadmin-imgbutton",src:"/images/collapse.svg"}):u.default.createElement("img",{key:"btnexpand",onClick:this.onExpand.bind(this,!0),className:"dwkit-formadmin-imgbutton",src:"/images/expand.svg"});var n=this.renderFields(t),o=[];function i(e,t){var n=t.name,a=t.value;r.props.parent.state.form[n]=a,r.props.parent.forceUpdate()}0<n.length&&(o.push(u.default.createElement("h3",{key:"titleAtt"},"Attributes")),o.push(n));var l=[],s=!1;return null===this.props.form.dataSourceType||""===this.props.form.dataSourceType?(s=!0,l.push(u.default.createElement(d.Form.Group,{key:"datatypeentity",widths:"equal"},u.default.createElement("div",{className:"dwkit-formadmin-imgbuttondiv"},e),u.default.createElement(d.Form.Dropdown,{label:DWKitAdminLang.datamap.mainentityfield,name:"entityId",options:this.props.entities,placeholder:DWKitAdminLang.datamap.mainentityps,error:Boolean(this.props.form.__error.entityId),value:this.props.form.entityId,onChange:function(e,t){var n=t.value;a.props.parent.setEntity(n)}.bind(this),selection:!0,fluid:!0,search:!0}))),this.state.isexpanded&&l.push(u.default.createElement("div",{key:"mapattributes",className:"field dwkit-formadmin-mapattributes"},o))):l.push(u.default.createElement(d.Form.Group,{key:"datatypeurl",widths:"equal"},u.default.createElement(d.Form.Input,{label:DWKitAdminLang.datamap.dataurlfield,name:"dataUrl",value:this.props.form.dataUrl,onChange:i}))),u.default.createElement("div",{className:"field"},u.default.createElement(d.Form,null,u.default.createElement("div",{className:"field"},u.default.createElement("label",{key:"c1label"},DWKitAdminLang.datamap.dataSourceType),u.default.createElement(d.Form.Group,{widths:"equal"},u.default.createElement(d.Form.Radio,{name:"dataSourceType",value:"",label:DWKitAdminLang.datamap.entityfield,checked:s,onChange:i}),u.default.createElement(d.Form.Radio,{name:"dataSourceType",value:"url",label:DWKitAdminLang.datamap.dataurlfield,checked:"url"===this.props.form.dataSourceType,onChange:i}))),l))}},{key:"renderFields",value:function(n){var a=[],r=this;return n.forEach(function(e){var t=e.id;null==e.parentId&&a.push(u.default.createElement(o.default,{key:t,item:e,parent:r,dataMap:n}))}),a}}]),s);function s(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(s.__proto__||Object.getPrototypeOf(s)).call(this,e));return t.state={isexpanded:!0},t}t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e};function r(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}l(n(0)),l(n(2)),n(1),l(n(3));var o=l(n(6)),i=l(n(88));function l(e){return e&&e.__esModule?e:{default:e}}var s=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(u,o.default),a(u,[{key:"gridColumns",value:function(){return[{key:"name",name:DWKitAdminLang.column.name,resizable:!0}]}}]),u);function u(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(u.__proto__||Object.getPrototypeOf(u)).call(this,e));return t.editform=i.default,t.dataindex="forms",t.idfield="name",t.panelindex="actionhandlers",t.datatype="form",t.title=DWKitAdminLang.actionhandler.title,t.titleGetter=function(e){return e.actionhandler.title},t.hidebuttons=!0,t.ignoreidcase=!0,t}t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e};function r(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var o=l(n(0)),i=(l(n(2)),n(1));l(n(3));function l(e){return e&&e.__esModule?e:{default:e}}var s=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(u,l(n(4)).default),a(u,[{key:"redrawEditor",value:function(){if(0<$("#dwkit-admin-formlogic-editcode").length){null==this.editor&&(this.editor=ace.edit("dwkit-admin-formlogic-editcode"),this.editor.getSession().setMode("ace/mode/javascript"));var e=this.state.form.javaScriptCode;null==e&&(e=" "),this.editor.setValue(this.state.form.javaScriptCode,-1)}}},{key:"render",value:function(){return this.state.id!=this.props.data.name?(this.setForm(this.props.data.name),null):(this.validate(),o.default.createElement("div",null,o.default.createElement(i.Breadcrumb,null,o.default.createElement(i.Breadcrumb.Section,{onClick:this.props.parent.back.bind(this.props.parent),link:!0},DWKitAdminLang.actionhandler.title),o.default.createElement(i.Breadcrumb.Divider,null),o.default.createElement(i.Breadcrumb.Section,{active:!0},this.props.data.name),o.default.createElement(i.Breadcrumb.Divider,{icon:"right angle"}),o.default.createElement(i.Breadcrumb.Section,{href:"?apanel=forms&aid="+this.state.id,onClick:this.openBuilder.bind(this)},DWKitAdminLang.actionhandler.builder),o.default.createElement(i.Breadcrumb.Divider,null),o.default.createElement(i.Breadcrumb.Section,{href:"?apanel=formdata&aid="+this.state.id,onClick:this.openDataMap.bind(this)},DWKitAdminLang.actionhandler.datamap)),o.default.createElement("div",{className:"dwkitadmin-toolbar",style:{marginTop:"5px"}},o.default.createElement(i.Button,{className:"buttontype1",onClick:this.onSave.bind(this)},DWKitAdminLang.button.save),o.default.createElement(i.Button,{className:"buttontype2",onClick:this.onCancel.bind(this)},DWKitAdminLang.button.cancel),o.default.createElement(i.Button,{floated:"right",className:"buttontype2",onClick:this.onSetDefaultTemplate.bind(this)},DWKitAdminLang.actionhandler.setdefaulttemplatebutton)),o.default.createElement("div",{id:"dwkit-admin-formlogic-editcode",style:{height:"calc(100vh - 180px)"}})))}},{key:"openDataMap",value:function(e){this.props.parent.props.parent.openpage("formdata",this.state.id),e.preventDefault()}},{key:"openBuilder",value:function(e){this.props.parent.props.parent.openpage("forms",this.state.id),e.preventDefault()}},{key:"setForm",value:function(e){var t=this;this.loadform(e,function(e){t.state.form=e,t.state.id=e.name,t.forceUpdate(),t.redrawEditor()})}},{key:"loadform",value:function(e,t){var n=new Array;this.state.id=this.props.data.name,n.push({name:"operation",value:"loadform"}),n.push({name:"name",value:e}),$.ajax({url:this.props.apiUrl,data:n,async:!0,type:"post",success:function(e){e.success?t(e.item):alertify.error(e.message)}})}},{key:"redirectToFormEdit",value:function(){this.props.parent.openpage("forms")}},{key:"onSave",value:function(){var e=ace.edit("dwkit-admin-formlogic-editcode");this.state.form.javaScriptCode=e.getValue();var t=this;if(!this.validate())return alertify.error(DWKitAdminLang.msg.checkerrorsonform),void this.forceUpdate();this.state.form.__type="formcode",this.state.form.__state="updated",this.ChangeData([this.state.form],function(e){t.ResetSystemProps(t.state.form),t.forceUpdate()})}},{key:"onCancel",value:function(){this.props.onCancel.bind(this.props.parent)(),this.redrawEditor()}},{key:"validate",value:function(){var e=this.state.form;return null!=e&&(e.__error={},!0)}},{key:"onSetDefaultTemplate",value:function(){var e="{\n";e+="//  validate: function ({data, originalData, state, component, formName, index, controlRef, eventArgs, isChild}){\n//    var errors = {};\n//    //TODO: Insert your code for validation this form\n//    if(data.name == undefined || data.name == ''){\n//      errors.name = 'This field is required!';\n//    }\n//    if(errors.name){\n//      throw {\n//          level: 1,\n//          message: 'Check errors on the form!',\n//          formerrors: {main: errors}\n//      };\n//    }\n//    return {};\n//  }";var t=this.props.controlActions;null==t&&(t=[]);var n=this.getControlsActions(JSON.parse(this.state.form.source));if(null!=n)for(var a=0;a<n.length;a++){for(var r=!1,o=0;o<this.props.controlActions.length;o++)if(n[a]==this.props.controlActions[o]){r=!0;break}r||(e+=",\n\n",e+="  "+n[a]+": function (args){\n    //TODO: Insert your code\n  }")}e+="\n}",this.editor.setValue(e,-1)}},{key:"getControlsActions",value:function(e){if(null==e||e.constructor!=Array)return[];var a=this,r=[];return e.forEach(function(e){if(null!=e.events)for(var t in e.events){var n=e.events[t].actions;Array.isArray(n)&&n.forEach(function(e){for(var t=!1,n=0;n<r.length;n++)if(e===r[n]){t=!0;break}t||r.push(e)})}null!=e.children&&0<e.children.length&&(n=a.getControlsActions(e.children)).forEach(function(e){for(var t=!1,n=0;n<r.length;n++)if(e===r[n]){t=!0;break}t||r.push(e)})}),r}}]),u);function u(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(u.__proto__||Object.getPrototypeOf(u)).call(this,e));return t.state={},t}t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e};function r(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}l(n(0)),l(n(2)),n(1),l(n(3));var o=l(n(6)),i=l(n(90));function l(e){return e&&e.__esModule?e:{default:e}}var s=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(u,o.default),a(u,[{key:"gridColumns",value:function(){return[{key:"name",name:DWKitAdminLang.column.name,resizable:!0}]}}]),u);function u(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(u.__proto__||Object.getPrototypeOf(u)).call(this,e));return t.editform=i.default,t.dataindex="localization",t.idfield="name",t.panelindex="localization",t.datatype="localization",t.title=DWKitAdminLang.localization.title,t.titleGetter=function(e){return e.localization.title},t.ignoreidcase=!0,t}t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e};function r(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var o=l(n(0)),i=(l(n(2)),n(1));l(n(3));function l(e){return e&&e.__esModule?e:{default:e}}var s=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(u,l(n(4)).default),a(u,[{key:"redrawEditor",value:function(){if(0<$("#dwkit-admin-localization").length){null==this.editor&&(this.editor=ace.edit("dwkit-admin-localization"),this.editor.getSession().setMode("ace/mode/javascript"));var e=this.state.obj.source;null==e&&(e="{\n\n\n}"),this.editor.setValue(e,-1)}}},{key:"render",value:function(){return this.state.id!=this.props.data.name?(this.setObject(this.props.data.name),null):(this.validate(),o.default.createElement("div",null,o.default.createElement(i.Breadcrumb,null,o.default.createElement(i.Breadcrumb.Section,{onClick:this.props.parent.back.bind(this.props.parent),link:!0},DWKitAdminLang.localization.title),o.default.createElement(i.Breadcrumb.Divider,null),o.default.createElement(i.Breadcrumb.Section,{active:!0},this.props.data.name)),o.default.createElement("div",{className:"dwkitadmin-toolbar",style:{marginTop:"5px"}},o.default.createElement(i.Button,{className:"buttontype1",onClick:this.onSave.bind(this)},DWKitAdminLang.button.save),o.default.createElement(i.Button,{className:"buttontype2",onClick:this.onCancel.bind(this)},DWKitAdminLang.button.cancel),o.default.createElement(i.Button,{floated:"right",className:"buttontype2",onClick:this.onUpdateTemplate.bind(this)},DWKitAdminLang.localization.updatetemplatebutton)),o.default.createElement("div",{id:"dwkit-admin-localization",style:{height:"calc(100vh - 180px)"}})))}},{key:"setObject",value:function(e){var t=this;this.loadobject(e,function(e){t.state.obj=e,t.state.id=e.name,t.forceUpdate(),t.redrawEditor()})}},{key:"loadobject",value:function(e,t){var n=new Array;this.state.id=this.props.data.name,n.push({name:"operation",value:"loadlocalization"}),n.push({name:"name",value:e}),$.ajax({url:this.props.apiUrl,data:n,async:!0,type:"post",success:function(e){e.success?t(e.item):alertify.error(e.message)}})}},{key:"onSave",value:function(){var e=ace.edit("dwkit-admin-localization");this.state.obj.source=e.getValue();var n=this;if(!this.validate())return alertify.error(DWKitAdminLang.msg.checkerrorsonform),void this.forceUpdate();this.state.obj.__type="localization",this.state.obj.__state="updated",this.ChangeData([this.state.obj],function(e){n.ResetSystemProps(n.state.obj),n.forceUpdate();var t=!1;n.props.metadata.localization.forEach(function(e){if(e.name==n.state.obj.name)return!(t=!0)}),t||n.props.metadata.localization.push({name:n.state.obj.name})})}},{key:"onCancel",value:function(){this.props.onCancel.bind(this.props.parent)(),this.redrawEditor()}},{key:"validate",value:function(){return!0}},{key:"onUpdateTemplate",value:function(){var t=this,e=new Array,n=ace.edit("dwkit-admin-localization").getValue();e.push({name:"operation",value:"localizationupdatetemplate"}),e.push({name:"name",value:t.state.obj.name}),e.push({name:"source",value:n}),$.ajax({url:t.props.apiUrl,data:e,async:!0,type:"post",success:function(e){e.success?t.editor.setValue(e.item,-1):alertify.error(e.message)}})}}]),u);function u(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(u.__proto__||Object.getPrototypeOf(u)).call(this,e));return t.state={},t}t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e};function r(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}l(n(0)),l(n(2)),n(1),l(n(3));var o=l(n(6)),i=l(n(92));function l(e){return e&&e.__esModule?e:{default:e}}var s=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(u,o.default),a(u,[{key:"gridColumns",value:function(){return[{key:"code",name:DWKitAdminLang.column.code,resizable:!0}]}},{key:"getEditRow",value:function(){var t=this,e=this.props.data.workflow.find(function(e){return e.code.toLowerCase()===t.props.id.toLowerCase()});return{code:e?e.code:this.props.id}}}]),u);function u(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(u.__proto__||Object.getPrototypeOf(u)).call(this,e));return t.editform=i.default,t.dataindex="workflow",t.panelindex="workflow",t.idfield="code",t.defaultNamePrefix="scheme",t.datatype="workflow",t.title=DWKitAdminLang.workflow.title,t.titleGetter=function(e){return e.workflow.title},t}t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e};function r(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var o=l(n(0)),i=(l(n(2)),n(1));l(n(3));function l(e){return e&&e.__esModule?e:{default:e}}var s=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(u,l(n(4)).default),a(u,[{key:"componentDidMount",value:function(){window.addEventListener("resize",this.redrawDesigner.bind(this)),this.redrawDesigner()}},{key:"componentWillUnmount",value:function(){null!=this.wfdesigner&&this.wfdesigner.destroy()}},{key:"redrawDesigner",value:function(){if(null!=this.props.parent.props.id){var e,t=$(window).width(),n=$(window).height();WorkflowDesignerConstants.FormMaxHeight=600,null!=this.wfdesigner&&(e=this.wfdesigner.data,this.wfdesigner.destroy()),this.wfdesigner=new WorkflowDesigner({name:"dwkit-admin-wfdesigner",apiurl:this.props.workflowApi,renderTo:"dwkit-admin-wfdesigner",imagefolder:"/images/",graphwidth:t-285-this.props.deltaWidth,graphheight:n-185-this.props.deltaHeight}),null==e?this.loadscheme():(this.wfdesigner.data=e,this.wfdesigner.render())}}},{key:"loadscheme",value:function(){var e={schemecode:this.props.data.code,processid:void 0};this.wfdesigner.exists(e)?this.wfdesigner.load(e):(this.wfdesigner.create(),this.props.data.__state="inserted"),this.state.id=this.props.data.code}},{key:"onClearScheme",value:function(){this.wfdesigner.create()}},{key:"onSave",value:function(){var e=this;e.wfdesigner.schemecode=e.props.data.code;var t=this.wfdesigner.validate();null!=t&&0<t.length?alertify.error(t):this.wfdesigner.save(function(){e.props.data.__state,e.ResetSystemProps(e.props.data),e.props.parent.applyeditrow(),alertify.success(DWKitAdminLang.workflow.schemesaved)})}},{key:"onDownload",value:function(){this.wfdesigner.downloadscheme()}},{key:"onUpload",value:function(){$("#dwkitadmin-workflow-uploadfile").trigger("click")}},{key:"onUpload_onchange",value:function(){this.wfdesigner.uploadscheme($("#dwkitadmin-workflow-uploadform")[0],function(){alertify.success(DWKitAdminLang.msg.fileupoaded)})}},{key:"messageClose",value:function(){this.setState({message:void 0})}},{key:"render",value:function(){null!=this.wfdesigner&&this.state.id!=this.props.data.code&&this.loadscheme();var e=null!=this.state.message;return o.default.createElement("div",null,o.default.createElement(i.Breadcrumb,null,o.default.createElement(i.Breadcrumb.Section,{onClick:this.props.parent.back.bind(this.props.parent),link:!0},DWKitAdminLang.workflow.title),o.default.createElement(i.Breadcrumb.Divider,null),o.default.createElement(i.Breadcrumb.Section,{active:!0},this.props.data.code)),o.default.createElement("div",{className:"dwkit-admin-wfdesigner-buttons"},o.default.createElement(i.Button,{className:"buttontype2",floated:"right",onClick:this.onClearScheme.bind(this)},DWKitAdminLang.workflow.clearschemebutton),o.default.createElement(i.Button,{className:"buttontype1",onClick:this.onSave.bind(this)},DWKitAdminLang.button.save),o.default.createElement(i.Button,{className:"buttontype2",onClick:this.onDownload.bind(this)},DWKitAdminLang.button.download),o.default.createElement(i.Button,{className:"buttontype2",onClick:this.onUpload.bind(this)},DWKitAdminLang.button.upload)),o.default.createElement("div",{id:"dwkit-admin-wfdesigner"}),o.default.createElement("form",{is:!0,action:"",id:"dwkitadmin-workflow-uploadform",method:"post",style:{display:"none"},enctype:"multipart/form-data",onsubmit:"tmp()"},o.default.createElement("input",{type:"file",name:"dwkitadmin-workflow-uploadfile",id:"dwkitadmin-workflow-uploadfile",onChange:this.onUpload_onchange.bind(this)})),o.default.createElement(i.Modal,{dimmer:"blurring",open:e,onClose:this.messageClose.bind(this)},o.default.createElement(i.Modal.Header,null,DWKitAdminLang.workflow.messagetitle),o.default.createElement(i.Modal.Content,null,o.default.createElement("p",null,this.state.message)),o.default.createElement(i.Modal.Actions,null,o.default.createElement(i.Button,{icon:"check",content:DWKitAdminLang.button.ok,onClick:this.messageClose.bind(this)}))))}}]),u);function u(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(u.__proto__||Object.getPrototypeOf(u)).call(this,e));return t.state={},t}t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e};function r(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var o=u(n(0)),i=(u(n(2)),u(n(26))),l=n(1),s=(u(n(3)),u(n(94)));function u(e){return e&&e.__esModule?e:{default:e}}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function f(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var p=(f(h,i.default),a(h,[{key:"gridColumns",value:function(){return[{key:"id",name:"Process Id",resizable:!0},{key:"schemeCode",name:DWKitAdminLang.workflowinstance.schemecolumn,resizable:!0},{key:"instanceStatus",name:DWKitAdminLang.workflowinstance.statuscolumn,resizable:!0,formatter:m},{key:"activityName",name:DWKitAdminLang.workflowinstance.activitycolumn,resizable:!0},{key:"stateName",name:DWKitAdminLang.workflowinstance.statecolumn,resizable:!0}]}},{key:"renderToolbar",value:function(){var e,t=this,n=[];null==this.state.popup&&(this.state.popup={show:!1}),null==this.state.filter&&(this.state.filter={}),n.push(o.default.createElement(l.Button,{key:"btnCreate",className:"buttontype1",onClick:function(){t.setState({popup:{show:!0,id:t.NewGUID()}})}},DWKitAdminLang.button.create)),n.push(o.default.createElement(l.Button,{key:"btnDelete",className:"buttontype2",onClick:function(){t.setState({confirmdeleteshow:!0})}},DWKitAdminLang.button.delete)),null!=this.state.popup.errors&&(e=o.default.createElement(l.Message,{negative:!0},o.default.createElement("p",null,this.state.popup.errors)));var a=[];a.push({text:"...",value:void 0});for(var r=0;r<=5;r++)a.push({key:r,text:v(r),value:r});return a.push({key:254,text:v(254),value:254}),a.push({key:255,text:v(255),value:255}),o.default.createElement("div",{className:"dwkitadmin-toolbar"},o.default.createElement("div",{className:"dwkitadmin-toolbarfilter"},o.default.createElement(l.Form,null,o.default.createElement(l.Form.Group,{widths:"equal"},o.default.createElement(l.Form.Input,{name:"id",label:"ProcessId",value:this.state.filter.id,onChange:this.handleFilterChange.bind(this)}),o.default.createElement(l.Form.Input,{name:"scheme",label:"Scheme",value:this.state.filter.scheme,onChange:this.handleFilterChange.bind(this)}),o.default.createElement(l.Form.Dropdown,{key:"status",name:"status",options:a,label:"Status",value:this.state.filter.status,onChange:this.handleFilterChange.bind(this),selection:!0,fluid:!0}),o.default.createElement(l.Form.Input,{name:"activity",label:"Activity",value:this.state.filter.activity,onChange:this.handleFilterChange.bind(this)}),o.default.createElement(l.Form.Input,{name:"state",label:"State",value:this.state.filter.state,onChange:this.handleFilterChange.bind(this)}),o.default.createElement(l.Button,{className:"buttontype2",content:DWKitAdminLang.button.search,onClick:this.onSearch.bind(this)})))),n,o.default.createElement("span",null,DWKitAdminLang.msg.totalcount," ",t.state.rowsCount),o.default.createElement(l.Modal,{dimmer:"blurring",open:this.state.popup.show},o.default.createElement(l.Modal.Header,null,"Create a process"),o.default.createElement(l.Modal.Content,null,o.default.createElement(l.Form,null,e,o.default.createElement(l.Form.Input,{key:"id",name:"id",label:"ProcessId",required:!0,value:this.state.popup.id,onChange:this.handlePopupChange.bind(this),error:null!=this.state.popup.iderrors}),o.default.createElement(l.Form.Input,{key:"scheme",name:"scheme",label:"Scheme",required:!0,value:this.state.popup.scheme,onChange:this.handlePopupChange.bind(this),error:null!=this.state.popup.schemeerrors}))),o.default.createElement(l.Modal.Actions,null,o.default.createElement(l.Button,{className:"buttontype1",content:DWKitAdminLang.button.create,onClick:this.onCreate.bind(this)}),o.default.createElement(l.Button,{className:"buttontype2",content:DWKitAdminLang.button.cancel,onClick:function(){t.setState({popup:{show:!1}})}}))))}},{key:"handleFilterChange",value:function(e,t){var n=t.name,a=t.value;this.state.filter[n]=a,this.forceUpdate()}},{key:"getAdditionalDataForControl",value:function(e,t,n){var a=t.startIndex,r=t.pageSize,o=(t.filters,t.sort),i=this,l=new Array;l.push({name:"operation",value:"workflow"}),l.push({name:"suboperation",value:"loadlist"}),l.push({name:"skip",value:a}),l.push({name:"take",value:r}),l.push({name:"sort",value:o}),null!=i.state.filter.id&&""!=i.state.filter.id&&l.push({name:"id",value:i.state.filter.id}),null!=i.state.filter.scheme&&""!=i.state.filter.scheme&&l.push({name:"scheme",value:i.state.filter.scheme}),null!=i.state.filter.status&&""!==i.state.filter.status&&l.push({name:"status",value:i.state.filter.status}),null!=i.state.filter.activity&&""!=i.state.filter.activity&&l.push({name:"activity",value:i.state.filter.activity}),null!=i.state.filter.state&&""!=i.state.filter.state&&l.push({name:"state",value:i.state.filter.state}),$.ajax({url:i.props.apiUrl,data:l,async:!0,type:"post",success:function(e){e.success?(n({sIndex:a,pSize:r,rowsCount:e.item.count,items:e.item.instances}),i.setState({rowsCount:e.item.count})):alertify.error(e.message)}})}},{key:"getEditRow",value:function(){var e=this.props.id,t=new Array;t.push({name:"operation",value:"workflow"}),t.push({name:"suboperation",value:"load"}),t.push({name:"instanceId",value:e});var n=$.ajax({url:this.props.apiUrl,data:t,async:!1,type:"post"}).responseJSON;if(n.success)return null==n.item?(alertify.error(DWKitAdminLang.msg.objectnotfound),this.back(),{}):n.item;alertify.error(n.message)}},{key:"onSearch",value:function(){this.grid.refresh()}},{key:"onCreate",value:function(){var t=this,n=t.state.popup.id,e=t.state.popup.scheme;if(t.state.popup.iderrors=null==n||""==n?"error":void 0,null==e||""==e?t.state.popup.schemeerrors="error":t.state.popup.iderrors=void 0,t.state.popup.iderrors||t.state.popup.schemeerrors)this.forceUpdate();else{var a=new Array;a.push({name:"operation",value:"workflow"}),a.push({name:"suboperation",value:"create"}),a.push({name:"processId",value:n}),a.push({name:"scheme",value:e}),$.ajax({url:t.props.apiUrl,data:a,async:!0,type:"post",success:function(e){t.setState({popup:{show:!1}}),e.success?t.props.parent.openpage("workflowinstances",n):alertify.error(e.message)}})}}},{key:"onDelete",value:function(){var t=this,e=new Array;t.setState({confirmdeleteshow:!1});var n=this.grid.getSeletedRowKeys();e.push({name:"operation",value:"workflow"}),e.push({name:"suboperation",value:"delete"}),e.push({name:"processIds",value:JSON.stringify(n)}),$.ajax({url:t.props.apiUrl,data:e,async:!0,type:"post",success:function(e){e.success?(t.grid.refresh(),alertify.success("Rows have been deleted!")):alertify.error(e.message)}})}},{key:"recalcSizeParams",value:function(){if(this._isMounted){var e=$(window).height();this.setState({gridHeight:e-280-this.props.deltaHeight})}}}]),h);function h(e){d(this,h);var t=c(this,(h.__proto__||Object.getPrototypeOf(h)).call(this,e));return t.title=DWKitAdminLang.workflowinstance.title,t.titleGetter=function(e){return e.workflowinstance.title},t.panelindex="workflowinstances",t.idfield="id",t.editform=s.default,t.state={popup:{show:!1},filter:{}},t}t.default=p;var m=(f(g,o.default.Component),a(g,[{key:"render",value:function(){var e=v(this.props.value);return o.default.createElement("span",null,e)}}]),g);function g(){return d(this,g),c(this,(g.__proto__||Object.getPrototypeOf(g)).apply(this,arguments))}var v=function(e){return void 0===e?"":255==e?"NotFound":254==e?"Unknown":0==e?"Initialized":1==e?"Running":2==e?"Idled":3==e?"Finalized":4==e?"Terminated":5==e?"Error":e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e};function r(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var o=l(n(0)),i=(l(n(2)),n(1));l(n(3));function l(e){return e&&e.__esModule?e:{default:e}}var s=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(u,l(n(4)).default),a(u,[{key:"componentDidMount",value:function(){window.addEventListener("resize",this.redrawDesigner.bind(this)),this.redrawDesigner()}},{key:"componentWillUnmount",value:function(){null!=this.wfdesigner&&this.wfdesigner.destroy()}},{key:"redrawDesigner",value:function(){if(null!=this.props.parent.props.id){var e,t=$(window).width(),n=$(window).height();WorkflowDesignerConstants.FormMaxHeight=600,null!=this.wfdesigner&&(e=this.wfdesigner.data,this.wfdesigner.destroy()),this.wfdesigner=new WorkflowDesigner({name:"dwkit-admin-wfdesigner",apiurl:this.props.workflowApi,renderTo:"dwkit-admin-wfdesigner",imagefolder:"/images/",graphwidth:t-285-this.props.deltaWidth,graphheight:n-185-this.props.deltaHeight}),null==e?this.loadscheme():(this.wfdesigner.data=e,this.wfdesigner.render())}}},{key:"loadscheme",value:function(){var e={processid:this.props.data.id,readonly:!0};this.wfdesigner.exists(e)?this.wfdesigner.load(e):alertify.error("The process '"+e.processid+"' is not found!"),this.state.id=this.props.data.id}},{key:"render",value:function(){var e=this;return null!=this.wfdesigner&&this.state.id!=this.props.data.id&&this.loadscheme(),this.state.message,o.default.createElement("div",null,o.default.createElement(i.Breadcrumb,null,o.default.createElement(i.Breadcrumb.Section,{onClick:this.props.parent.back.bind(this.props.parent),link:!0},DWKitAdminLang.workflowinstance.title),o.default.createElement(i.Breadcrumb.Divider,null),o.default.createElement(i.Breadcrumb.Section,{active:!0},this.props.data.id," (",this.getInstanceStatus(this.props.data.instanceStatus),")"),o.default.createElement(i.Breadcrumb.Divider,{icon:"right angle"}),o.default.createElement(i.Breadcrumb.Section,{href:"?apanel=workflow&aid="+this.state.id,onClick:this.openScheme.bind(this),link:!0},this.props.data.schemeCode)),o.default.createElement("div",{className:"dwkit-admin-wfdesigner-buttons"},o.default.createElement(i.Button,{className:"buttontype1",onClick:function(){e.setState({opensetstate:!0})}},DWKitAdminLang.workflowinstance.setstatebutton),o.default.createElement(i.Button,{className:"buttontype2",onClick:function(){e.setState({opensetstatus:!0})}},DWKitAdminLang.workflowinstance.setinstancestatusbutton)),o.default.createElement("div",{id:"dwkit-admin-wfdesigner"}),o.default.createElement(i.Modal,{dimmer:"blurring",open:this.state.opensetstate},o.default.createElement(i.Modal.Header,null,DWKitAdminLang.workflowinstance.setstatebutton),o.default.createElement(i.Modal.Content,null,o.default.createElement(i.Input,{label:DWKitAdminLang.workflowinstance.statefield,fluid:!0,name:"newstate",value:this.state.newstate,error:Boolean(this.state.newstateerror),onChange:this.handleStateChange.bind(this)})),o.default.createElement(i.Modal.Actions,null,o.default.createElement(i.Button,{className:"buttontype1",content:DWKitAdminLang.workflowinstance.setstatebutton,onClick:this.onSetState.bind(this)}),o.default.createElement(i.Button,{className:"buttontype2",content:DWKitAdminLang.button.cancel,onClick:function(){e.setState({opensetstate:!1,newstateerror:void 0,newstate:void 0})}}))),o.default.createElement(i.Modal,{dimmer:"blurring",open:this.state.opensetstatus},o.default.createElement(i.Modal.Header,null,DWKitAdminLang.workflowinstance.setinstancestatusbutton),o.default.createElement(i.Modal.Content,null,o.default.createElement(i.Button,{content:"Initialized",onClick:this.onSetInstanceStatus.bind(this,0)}),o.default.createElement(i.Button,{content:"Running",onClick:this.onSetInstanceStatus.bind(this,1)}),o.default.createElement(i.Button,{content:"Idled",onClick:this.onSetInstanceStatus.bind(this,2)}),o.default.createElement(i.Button,{content:"Finalized",onClick:this.onSetInstanceStatus.bind(this,3)})),o.default.createElement(i.Modal.Actions,null,o.default.createElement(i.Button,{className:"buttontype2",content:DWKitAdminLang.button.cancel,onClick:function(){e.setState({opensetstatus:!1})}}))))}},{key:"handleStateChange",value:function(e,t){var n=t.name,a=t.value;this.state[n]=a,this.forceUpdate()}},{key:"openScheme",value:function(e){this.props.parent.props.parent.openpage("workflow",this.props.data.schemeCode),e.preventDefault()}},{key:"onSetState",value:function(){var e=this.state.newstate;if(null==e||""==e)return this.state.newstateerror="error",void this.forceUpdate();this.state.newstateerror=void 0;var t=this,n=new Array;n.push({name:"operation",value:"workflow"}),n.push({name:"suboperation",value:"setstate"}),n.push({name:"processId",value:t.props.data.id}),n.push({name:"state",value:e}),$.ajax({url:t.props.apiUrl,data:n,async:!0,type:"post",success:function(e){t.setState({opensetstate:!1,newstateerror:void 0,newstate:void 0}),e.success?(alertify.success(DWKitAdminLang.workflowinstance.statechangedmsg),t.props.parent.reload(),t.wfdesigner.refresh()):alertify.error(e.message)}})}},{key:"onSetInstanceStatus",value:function(e){var t=this,n=new Array;n.push({name:"operation",value:"workflow"}),n.push({name:"suboperation",value:"setinstancestatus"}),n.push({name:"processId",value:t.props.data.id}),n.push({name:"status",value:e}),$.ajax({url:t.props.apiUrl,data:n,async:!0,type:"post",success:function(e){t.setState({opensetstatus:!1}),e.success?(alertify.success(DWKitAdminLang.workflowinstance.instancestatuschangedmsg),t.props.parent.reload()):alertify.error(e.message)}})}},{key:"getInstanceStatus",value:function(e){return void 0===e?"":255==e?"NotFound":254==e?"Unknown":0==e?"Initialized":1==e?"Running":2==e?"Idled":3==e?"Finalized":4==e?"Terminated":5==e?"Error":e}}]),u);function u(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(u.__proto__||Object.getPrototypeOf(u)).call(this,e));return t.state={},t}t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e};function r(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}l(n(0)),l(n(2)),n(1),l(n(3));var o=l(n(5)),i=l(n(96));function l(e){return e&&e.__esModule?e:{default:e}}var s=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(u,o.default),a(u,[{key:"gridColumns",value:function(){return[{key:"name",name:DWKitAdminLang.column.name,resizable:!0},{key:"scheme",name:DWKitAdminLang.businessflow.schemecolumn,resizable:!0},{key:"defaultForm",name:DWKitAdminLang.businessflow.defaultformcolumn,resizable:!0}]}},{key:"getDefaultObjectCode",value:function(){return""}},{key:"validate",value:function(){var n=!0,a=this.state.editrow,r=DWKitAdminLang.msg.fieldrequired,e=!!a.name&&this.props.data.businessFlow.some(function(e){return e.name.toLowerCase()===a.name.toLowerCase()&&e.id!==a.id});return a.__error={name:null==a.name||""==a.name?r:void 0,scheme:null==a.scheme||""==a.scheme?r:void 0,defaultForm:null==a.defaultForm||""==a.defaultForm?r:void 0,duplicateName:e},n&=!(a.__error.name||a.__error.scheme||a.__error.defaultForm||e),null!=a.map&&(a.__error.map=[],a.map.forEach(function(e){var t={states:Array.isArray(e.states)&&0!=e.states.length?void 0:r,roles:Array.isArray(e.roles)&&0!=e.roles.length?void 0:r,form:e.form?void 0:r};a.__error.map.push(t),n&=void 0===t.states&&void 0===t.roles&&void 0===t.form})),n}}]),u);function u(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(u.__proto__||Object.getPrototypeOf(u)).call(this,e));return t.dataindex="businessFlow",t.panelindex="businessflow",t.datatype="businessflow",t.idfield="id",t.editform=i.default,t.title=DWKitAdminLang.businessflow.title,t.titleGetter=function(e){return e.businessflow.title},t}t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e};function r(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var s=i(n(0)),u=(i(n(2)),n(1)),o=(i(n(3)),i(n(4))),d=i(n(8));function i(e){return e&&e.__esModule?e:{default:e}}var l=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(c,o.default),a(c,[{key:"validate",value:function(){return this.props.parent.validate()}},{key:"render",value:function(){this.validate();var e=null==this.props.data?[]:this.props.data;null==e.map&&(e.map=[]);var t=this.handleChange.bind(this,e),n=this.props.onSave.bind(this.props.parent),a=this.props.onCancel.bind(this.props.parent),r=[];r.push({text:"...",value:""}),this.props.metadata.forms.forEach(function(e){r.push({text:e.name,value:e.name})});var o=[];o.push({text:DWKitAdminLang.businessflow.anyroleitem,value:"*"}),this.props.metadata.roles.forEach(function(e){o.push({text:e.name,value:e.code})});var i=[];this.props.metadata.workflow.forEach(function(e){i.push({text:e.code,value:e.code})});var l=[{key:"states",name:DWKitAdminLang.businessflow.statescolumn,control:"dropdown",options:this.state.statearray,multiple:!0},{key:"roles",name:DWKitAdminLang.businessflow.rolescolumn,control:"dropdown",options:o,multiple:!0},{key:"form",name:DWKitAdminLang.businessflow.formcolumn,control:"dropdown",options:r}];return s.default.createElement("div",{className:"dwkit-formadmin-formedit"},s.default.createElement(u.Breadcrumb,null,s.default.createElement(u.Breadcrumb.Section,{onClick:this.props.parent.back.bind(this.props.parent),link:!0},DWKitAdminLang.businessflow.title),s.default.createElement(u.Breadcrumb.Divider,null),s.default.createElement(u.Breadcrumb.Section,{active:!0},e.name)),s.default.createElement("div",{className:"dwkitadmin-toolbar-editform"},s.default.createElement(u.Button,{className:"buttontype1",onClick:n},DWKitAdminLang.button.save),s.default.createElement(u.Button,{className:"buttontype2",onClick:a},DWKitAdminLang.button.cancel)),s.default.createElement("h1",null,this.props.parent.title),e.__error.duplicateName&&s.default.createElement(u.Message,{color:"red"},DWKitAdminLang.businessflow.nameexistsmsg),s.default.createElement(u.Form,null,s.default.createElement(u.Form.Input,{name:"name",label:DWKitAdminLang.field.name,error:e.__error.name||e.__error.duplicateName,value:e.name,onChange:t}),s.default.createElement(u.Form.Group,{widths:"equal"},s.default.createElement(u.Form.Dropdown,{name:"scheme",label:DWKitAdminLang.businessflow.schemecolumn,options:i,error:Boolean(e.__error.scheme),value:e.scheme,onChange:t,selection:!0,fluid:!0,search:!0}),s.default.createElement(u.Form.Dropdown,function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({name:"defaultForm",placeholder:"...",search:!0,label:DWKitAdminLang.businessflow.defaultformcolumn,error:Boolean(e.__error.defaultForm),options:r,value:e.defaultForm,onChange:t,selection:!0,fluid:!0},"search",!0))),s.default.createElement("h2",null,DWKitAdminLang.businessflow.mappingfield),s.default.createElement(d.default,{key:"map",columns:l,name:"map",value:e.map,onChange:t,error:e.__error.map})))}},{key:"handleChange",value:function(e,t,n){var a=n.name,r=n.value,o=n.checked;e[a],e[a]=null==r?o:r,"scheme"===a&&this.updateStates(e.scheme),this.setUpdatedState(this.props.data),this.forceUpdate()}},{key:"handleChildrenChange",value:function(e,t,n){var a=n.name,r=n.value;e[a]=r,this.setUpdatedState(this.props.data),this.forceUpdate()}},{key:"updateStates",value:function(e){var t=this,n=new Array;n.push({name:"operation",value:"workflow"}),n.push({name:"suboperation",value:"getstates"}),n.push({name:"scheme",value:e}),$.ajax({url:t.props.apiUrl,data:n,async:!0,type:"post",success:function(e){e.success?(Array.isArray(e.item)||alertify.error("Unknown format for getstates response!"),t.state.statearray=[{text:DWKitAdminLang.businessflow.anystateitem,value:"*"}],e.item.forEach(function(e){t.state.statearray.push({text:e,value:e})}),t.forceUpdate()):alertify.error(e.message)}})}}]),c);function c(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(c.__proto__||Object.getPrototypeOf(c)).call(this,e));t.state={statearray:[]};var n=t.props.data;return null!=n&&null!=n.scheme&&""!=n.scheme&&t.updateStates(n.scheme),t}t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e};function r(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var o=l(n(5)),i=l(n(98));n(99);function l(e){return e&&e.__esModule?e:{default:e}}var s=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(u,o.default),a(u,[{key:"gridColumns",value:function(){return[{key:"name",name:DWKitAdminLang.column.name,resizable:!0}]}},{key:"duplicateCommandMappingCheck",value:function(e,t,n){var a=e.map.filter(t);if(1!==a.length)return n(null,a[0]);for(var r in this.props.data[this.dataindex]){var o=this.props.data[this.dataindex][r];if(o.id!==e.id){var i=o.map.filter(t);if(i.length)return n(o,i[0])}}}},{key:"validateMapping",value:function(n,e){function r(e,t){return e.name===t.name&&e.scheme===t.scheme}var o=e.commands;if(!o||!o.length)return this.duplicateCommandMappingCheck(n,function(e){return!e.commands||0===e.commands.length},function(e){return e?DWKitAdminLang.commandform.duplicatewildcardmappinginotherformmsg(e.name):DWKitAdminLang.commandform.duplicatewildcardmappingmsg});if(1===o.length){var t=this.duplicateCommandMappingCheck(n,function(e){return e.commands&&1===e.commands.length&&r(e.commands[0],o[0])},function(e,t){var n=t.commands[0];return e?DWKitAdminLang.commandform.duplicateonecommandmappinginotherformmsg(n.scheme+"."+n.name,e.name):DWKitAdminLang.commandform.duplicateonecommandmappingmsg(n.scheme+"."+n.name)});return t||(n.schemes&&0<n.schemes.length&&!n.schemes.includes(o[0].scheme)?DWKitAdminLang.commandform.schemenotselectedmsg(o[0].scheme,o[0].name):void 0)}function a(a){var e=n.map.reduce(function(e,t){if(t.commands&&1<t.commands.length){var n=t.commands.filter(function(e){return r(e,o[a])});n.length&&e.push(n[0])}return e},[]);if(1!==e.length){var t=e[0];return{v:DWKitAdminLang.commandform.duplicatemulticommandmappingmsg(t.scheme+"."+t.name)}}}for(var i in o){var l=a(i);if("object"===(void 0===l?"undefined":h(l)))return l.v}for(var i in this.props.data[this.dataindex]){var s=this.props.data[this.dataindex][i];if(s.id!==n.id){var u=function(a){var e=s.map.reduce(function(e,t){if(t.commands&&1<t.commands.length){var n=t.commands.filter(function(e){return r(e,o[a])});n.length&&e.push(n[0])}return e},[]);if(e.length){var t=e[0];return{v:DWKitAdminLang.commandform.duplicatemulticommandmappinginotherformmsg(t.scheme+"."+t.name,s.name)}}};for(var d in o){var c=u(d);if("object"===(void 0===c?"undefined":h(c)))return c.v}}}if(n.schemes&&0<n.schemes.length)for(var f in o){var p=o[f];if(!n.schemes.includes(p.scheme))return DWKitAdminLang.commandform.schemenotselectedmsg(p.scheme,p.name)}}},{key:"validate",value:function(){var n=this,a=!0,r=this.state.editrow,o=DWKitAdminLang.msg.fieldrequired,e=!!r.name&&this.props.data[this.dataindex].some(function(e){return e.name.toLowerCase()===r.name.toLowerCase()&&e.id!==r.id});return r.__error={name:r.name?void 0:o,duplicateName:e,commandMappingErrors:[]},a&=!r.__error.name&&!e,r.map&&0<r.map.length?(r.__error.map=[],r.map.forEach(function(e){var t={form:e.form?void 0:o,commands:n.validateMapping(r,e)};r.__error.map.push(t),a&=void 0===t.form,t.commands&&!r.__error.commandMappingErrors.includes(t.commands)&&r.__error.commandMappingErrors.push(t.commands)})):(a=!1,r.__error.mapRequired=!0),a}}]),u);function u(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(u.__proto__||Object.getPrototypeOf(u)).call(this,e));return t.dataindex="commandForms",t.panelindex="commandform",t.datatype="commandform",t.idfield="id",t.editform=i.default,t.titleGetter=function(e){return e.commandform.title},t}t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e};function r(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var s=i(n(0)),u=n(1),o=i(n(4)),d=i(n(8));function i(e){return e&&e.__esModule?e:{default:e}}var l=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(c,o.default),a(c,[{key:"validate",value:function(){return this.props.parent.validate()}},{key:"render",value:function(){this.validate();var e=this.props.data?this.props.data:{};e.map||(e.map=[]);var t=this.handleChange.bind(this,e),n=this.props.onSave.bind(this.props.parent),a=this.props.onCancel.bind(this.props.parent),r=[];this.props.metadata.forms.forEach(function(e){r.push({text:e.name,value:e.name})});var o=[];this.props.metadata.workflow.forEach(function(e){o.push({text:e.code,value:e.code})});var i=e.map.reduce(function(e,t){return e.concat(t.commands.filter(function(t){return!e.some(function(e){return e.name===t.name&&e.scheme===t.scheme})}))},[].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(this.state.commands))).map(function(e){return{text:e.scheme+"."+e.name,value:JSON.stringify(e)}}),l=[{key:"commands",name:DWKitAdminLang.commandform.commandscolumn,control:"dropdown",options:i,multiple:!0,placeholder:"*"},{key:"form",name:DWKitAdminLang.commandform.formcolumn,control:"dropdown",options:r}];return s.default.createElement("div",{className:"dwkit-formadmin-formedit"},s.default.createElement(u.Breadcrumb,null,s.default.createElement(u.Breadcrumb.Section,{onClick:this.props.parent.back.bind(this.props.parent),link:!0},DWKitAdminLang.commandform.title),s.default.createElement(u.Breadcrumb.Divider,null),s.default.createElement(u.Breadcrumb.Section,{active:!0},e.name)),s.default.createElement("div",{className:"dwkitadmin-toolbar-editform"},s.default.createElement(u.Button,{className:"buttontype1",onClick:n},DWKitAdminLang.button.save),s.default.createElement(u.Button,{className:"buttontype2",onClick:a},DWKitAdminLang.button.cancel)),s.default.createElement("h1",null,this.props.parent.title),e.__error.duplicateName&&s.default.createElement(u.Message,{color:"red"},DWKitAdminLang.commandform.nameexistsmsg),e.__error.mapRequired&&s.default.createElement(u.Message,{color:"red"},DWKitAdminLang.commandform.maprequiredsmsg),e.__error.commandMappingErrors&&e.__error.commandMappingErrors.map(function(e){return s.default.createElement(u.Message,{color:"red"},e)}),s.default.createElement(u.Form,null,s.default.createElement(u.Form.Input,{name:"name",label:DWKitAdminLang.field.name,error:e.__error.name||e.__error.duplicateName,value:e.name,onChange:t}),s.default.createElement(u.Form.Group,{widths:"equal"},s.default.createElement(u.Form.Dropdown,{placeholder:"*",name:"schemes",label:DWKitAdminLang.commandform.schemescolumn,options:o,value:e.schemes,onChange:t,selection:!0,fluid:!0,search:!0,multiple:!0})),s.default.createElement("h2",null,DWKitAdminLang.commandform.mappingfield),s.default.createElement(d.default,{key:"map",columns:l,name:"map",value:e.map.map(function(e){return{form:e.form,commands:e.commands.map(function(e){return JSON.stringify(e)})}}),onChange:t,error:e.__error.map})))}},{key:"handleChange",value:function(e,t,n){var a=n.name,r=n.value,o=n.checked;e[a]=void 0===r?o:"map"===a?r.map(function(e){return{form:e.form,commands:e.commands?e.commands.map(function(e){return JSON.parse(e)}):[]}}):r,"schemes"===a&&this.updateCommands(e.schemes),this.setUpdatedState(this.props.data),this.forceUpdate()}},{key:"handleChildrenChange",value:function(e,t,n){var a=n.name,r=n.value;e[a]=r,this.setUpdatedState(this.props.data),this.forceUpdate()}},{key:"updateCommands",value:function(e){var t=this,n=new Array;n.push({name:"operation",value:"workflow"}),n.push({name:"suboperation",value:"getcommands"}),n.push({name:"schemes",value:JSON.stringify(e)}),$.ajax({url:this.props.apiUrl,data:n,async:!0,type:"post",success:function(e){e.success?(Array.isArray(e.item)||alertify.error("Unknown format for getstates response!"),t.setState({commands:e.item})):alertify.error(e.message)}})}}]),c);function c(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(c.__proto__||Object.getPrototypeOf(c)).call(this,e));t.state={commands:[]};var n=t.props.data;return n&&t.updateCommands(n.schemes),t}t.default=l},function(e,M,R){"use strict";(function(e){
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */
var a=R(100),o=R(101),i=R(102);function n(){return c.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function l(e,t){if(n()<t)throw new RangeError("Invalid typed array length");return c.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=c.prototype:(null===e&&(e=new c(t)),e.length=t),e}function c(e,t,n){if(!(c.TYPED_ARRAY_SUPPORT||this instanceof c))return new c(e,t,n);if("number"!=typeof e)return r(this,e,t,n);if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return u(this,e)}function r(e,t,n,a){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?function(e,t,n,a){if(t.byteLength,n<0||t.byteLength<n)throw new RangeError("'offset' is out of bounds");if(t.byteLength<n+(a||0))throw new RangeError("'length' is out of bounds");t=void 0===n&&void 0===a?new Uint8Array(t):void 0===a?new Uint8Array(t,n):new Uint8Array(t,n,a);c.TYPED_ARRAY_SUPPORT?(e=t).__proto__=c.prototype:e=d(e,t);return e}(e,t,n,a):"string"==typeof t?function(e,t,n){"string"==typeof n&&""!==n||(n="utf8");if(!c.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var a=0|p(t,n),r=(e=l(e,a)).write(t,n);r!==a&&(e=e.slice(0,r));return e}(e,t,n):function(e,t){if(c.isBuffer(t)){var n=0|f(t.length);return 0===(e=l(e,n)).length||t.copy(e,0,0,n),e}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||function(e){return e!=e}(t.length)?l(e,0):d(e,t);if("Buffer"===t.type&&i(t.data))return d(e,t.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}function s(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function u(e,t){if(s(t),e=l(e,t<0?0:0|f(t)),!c.TYPED_ARRAY_SUPPORT)for(var n=0;n<t;++n)e[n]=0;return e}function d(e,t){var n=t.length<0?0:0|f(t.length);e=l(e,n);for(var a=0;a<n;a+=1)e[a]=255&t[a];return e}function f(e){if(e>=n())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+n().toString(16)+" bytes");return 0|e}function p(e,t){if(c.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var n=e.length;if(0===n)return 0;for(var a=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return I(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return N(e).length;default:if(a)return I(e).length;t=(""+t).toLowerCase(),a=!0}}function h(e,t,n){var a=e[t];e[t]=e[n],e[n]=a}function m(e,t,n,a,r){if(0===e.length)return-1;if("string"==typeof n?(a=n,n=0):2147483647<n?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=r?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(r)return-1;n=e.length-1}else if(n<0){if(!r)return-1;n=0}if("string"==typeof t&&(t=c.from(t,a)),c.isBuffer(t))return 0===t.length?-1:g(e,t,n,a,r);if("number"==typeof t)return t&=255,c.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?r?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):g(e,[t],n,a,r);throw new TypeError("val must be string, number or Buffer")}function g(e,t,n,a,r){var o,i=1,l=e.length,s=t.length;if(void 0!==a&&("ucs2"===(a=String(a).toLowerCase())||"ucs-2"===a||"utf16le"===a||"utf-16le"===a)){if(e.length<2||t.length<2)return-1;l/=i=2,s/=2,n/=2}function u(e,t){return 1===i?e[t]:e.readUInt16BE(t*i)}if(r){var d=-1;for(o=n;o<l;o++)if(u(e,o)===u(t,-1===d?0:o-d)){if(-1===d&&(d=o),o-d+1===s)return d*i}else-1!==d&&(o-=o-d),d=-1}else for(l<n+s&&(n=l-s),o=n;0<=o;o--){for(var c=!0,f=0;f<s;f++)if(u(e,o+f)!==u(t,f)){c=!1;break}if(c)return o}return-1}function v(e,t,n,a){n=Number(n)||0;var r=e.length-n;a?r<(a=Number(a))&&(a=r):a=r;var o=t.length;if(o%2!=0)throw new TypeError("Invalid hex string");o/2<a&&(a=o/2);for(var i=0;i<a;++i){var l=parseInt(t.substr(2*i,2),16);if(isNaN(l))return i;e[n+i]=l}return i}function y(e,t,n,a){return T(function(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,a)}function b(e,t,n){return 0===t&&n===e.length?a.fromByteArray(e):a.fromByteArray(e.slice(t,n))}function k(e,t,n){n=Math.min(e.length,n);for(var a=[],r=t;r<n;){var o,i,l,s,u=e[r],d=null,c=239<u?4:223<u?3:191<u?2:1;if(r+c<=n)switch(c){case 1:u<128&&(d=u);break;case 2:128==(192&(o=e[r+1]))&&127<(s=(31&u)<<6|63&o)&&(d=s);break;case 3:o=e[r+1],i=e[r+2],128==(192&o)&&128==(192&i)&&2047<(s=(15&u)<<12|(63&o)<<6|63&i)&&(s<55296||57343<s)&&(d=s);break;case 4:o=e[r+1],i=e[r+2],l=e[r+3],128==(192&o)&&128==(192&i)&&128==(192&l)&&65535<(s=(15&u)<<18|(63&o)<<12|(63&i)<<6|63&l)&&s<1114112&&(d=s)}null===d?(d=65533,c=1):65535<d&&(d-=65536,a.push(d>>>10&1023|55296),d=56320|1023&d),a.push(d),r+=c}return function(e){var t=e.length;if(t<=w)return String.fromCharCode.apply(String,e);var n="",a=0;for(;a<t;)n+=String.fromCharCode.apply(String,e.slice(a,a+=w));return n}(a)}M.Buffer=c,M.SlowBuffer=function(e){+e!=e&&(e=0);return c.alloc(+e)},M.INSPECT_MAX_BYTES=50,c.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(e){return!1}}(),M.kMaxLength=n(),c.poolSize=8192,c._augment=function(e){return e.__proto__=c.prototype,e},c.from=function(e,t,n){return r(null,e,t,n)},c.TYPED_ARRAY_SUPPORT&&(c.prototype.__proto__=Uint8Array.prototype,c.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&c[Symbol.species]===c&&Object.defineProperty(c,Symbol.species,{value:null,configurable:!0})),c.alloc=function(e,t,n){return function(e,t,n,a){return s(t),t<=0?l(e,t):void 0!==n?"string"==typeof a?l(e,t).fill(n,a):l(e,t).fill(n):l(e,t)}(null,e,t,n)},c.allocUnsafe=function(e){return u(null,e)},c.allocUnsafeSlow=function(e){return u(null,e)},c.isBuffer=function(e){return!(null==e||!e._isBuffer)},c.compare=function(e,t){if(!c.isBuffer(e)||!c.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var n=e.length,a=t.length,r=0,o=Math.min(n,a);r<o;++r)if(e[r]!==t[r]){n=e[r],a=t[r];break}return n<a?-1:a<n?1:0},c.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},c.concat=function(e,t){if(!i(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return c.alloc(0);var n;if(void 0===t)for(n=t=0;n<e.length;++n)t+=e[n].length;var a=c.allocUnsafe(t),r=0;for(n=0;n<e.length;++n){var o=e[n];if(!c.isBuffer(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(a,r),r+=o.length}return a},c.byteLength=p,c.prototype._isBuffer=!0,c.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)h(this,t,t+1);return this},c.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)h(this,t,t+3),h(this,t+1,t+2);return this},c.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)h(this,t,t+7),h(this,t+1,t+6),h(this,t+2,t+5),h(this,t+3,t+4);return this},c.prototype.toString=function(){var e=0|this.length;return 0==e?"":0===arguments.length?k(this,0,e):function(e,t,n){var a=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e=e||"utf8";;)switch(e){case"hex":return _(this,t,n);case"utf8":case"utf-8":return k(this,t,n);case"ascii":return E(this,t,n);case"latin1":case"binary":return C(this,t,n);case"base64":return b(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return L(this,t,n);default:if(a)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),a=!0}}.apply(this,arguments)},c.prototype.equals=function(e){if(!c.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===c.compare(this,e)},c.prototype.inspect=function(){var e="",t=M.INSPECT_MAX_BYTES;return 0<this.length&&(e=this.toString("hex",0,t).match(/.{2}/g).join(" "),this.length>t&&(e+=" ... ")),"<Buffer "+e+">"},c.prototype.compare=function(e,t,n,a,r){if(!c.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===a&&(a=0),void 0===r&&(r=this.length),t<0||n>e.length||a<0||r>this.length)throw new RangeError("out of range index");if(r<=a&&n<=t)return 0;if(r<=a)return-1;if(n<=t)return 1;if(this===e)return 0;for(var o=(r>>>=0)-(a>>>=0),i=(n>>>=0)-(t>>>=0),l=Math.min(o,i),s=this.slice(a,r),u=e.slice(t,n),d=0;d<l;++d)if(s[d]!==u[d]){o=s[d],i=u[d];break}return o<i?-1:i<o?1:0},c.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},c.prototype.indexOf=function(e,t,n){return m(this,e,t,n,!0)},c.prototype.lastIndexOf=function(e,t,n){return m(this,e,t,n,!1)},c.prototype.write=function(e,t,n,a){if(void 0===t)a="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)a=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(n)?(n|=0,void 0===a&&(a="utf8")):(a=n,n=void 0)}var r=this.length-t;if((void 0===n||r<n)&&(n=r),0<e.length&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");a=a||"utf8";for(var o,i,l,s,u,d,c,f,p,h=!1;;)switch(a){case"hex":return v(this,e,t,n);case"utf8":case"utf-8":return f=t,p=n,T(I(e,(c=this).length-f),c,f,p);case"ascii":return y(this,e,t,n);case"latin1":case"binary":return y(this,e,t,n);case"base64":return s=this,u=t,d=n,T(N(e),s,u,d);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return i=t,l=n,T(function(e,t){for(var n,a,r,o=[],i=0;i<e.length&&!((t-=2)<0);++i)n=e.charCodeAt(i),a=n>>8,r=n%256,o.push(r),o.push(a);return o}(e,(o=this).length-i),o,i,l);default:if(h)throw new TypeError("Unknown encoding: "+a);a=(""+a).toLowerCase(),h=!0}},c.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var w=4096;function E(e,t,n){var a="";n=Math.min(e.length,n);for(var r=t;r<n;++r)a+=String.fromCharCode(127&e[r]);return a}function C(e,t,n){var a="";n=Math.min(e.length,n);for(var r=t;r<n;++r)a+=String.fromCharCode(e[r]);return a}function _(e,t,n){var a=e.length;(!t||t<0)&&(t=0),(!n||n<0||a<n)&&(n=a);for(var r="",o=t;o<n;++o)r+=P(e[o]);return r}function L(e,t,n){for(var a=e.slice(t,n),r="",o=0;o<a.length;o+=2)r+=String.fromCharCode(a[o]+256*a[o+1]);return r}function D(e,t,n){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(n<e+t)throw new RangeError("Trying to access beyond buffer length")}function O(e,t,n,a,r,o){if(!c.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(r<t||t<o)throw new RangeError('"value" argument is out of bounds');if(n+a>e.length)throw new RangeError("Index out of range")}function A(e,t,n,a){t<0&&(t=65535+t+1);for(var r=0,o=Math.min(e.length-n,2);r<o;++r)e[n+r]=(t&255<<8*(a?r:1-r))>>>8*(a?r:1-r)}function F(e,t,n,a){t<0&&(t=4294967295+t+1);for(var r=0,o=Math.min(e.length-n,4);r<o;++r)e[n+r]=t>>>8*(a?r:3-r)&255}function x(e,t,n,a){if(n+a>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function S(e,t,n,a,r){return r||x(e,0,n,4),o.write(e,t,n,a,23,4),n+4}function j(e,t,n,a,r){return r||x(e,0,n,8),o.write(e,t,n,a,52,8),n+8}c.prototype.slice=function(e,t){var n,a=this.length;if((e=~~e)<0?(e+=a)<0&&(e=0):a<e&&(e=a),(t=void 0===t?a:~~t)<0?(t+=a)<0&&(t=0):a<t&&(t=a),t<e&&(t=e),c.TYPED_ARRAY_SUPPORT)(n=this.subarray(e,t)).__proto__=c.prototype;else{var r=t-e;n=new c(r,void 0);for(var o=0;o<r;++o)n[o]=this[o+e]}return n},c.prototype.readUIntLE=function(e,t,n){e|=0,t|=0,n||D(e,t,this.length);for(var a=this[e],r=1,o=0;++o<t&&(r*=256);)a+=this[e+o]*r;return a},c.prototype.readUIntBE=function(e,t,n){e|=0,t|=0,n||D(e,t,this.length);for(var a=this[e+--t],r=1;0<t&&(r*=256);)a+=this[e+--t]*r;return a},c.prototype.readUInt8=function(e,t){return t||D(e,1,this.length),this[e]},c.prototype.readUInt16LE=function(e,t){return t||D(e,2,this.length),this[e]|this[e+1]<<8},c.prototype.readUInt16BE=function(e,t){return t||D(e,2,this.length),this[e]<<8|this[e+1]},c.prototype.readUInt32LE=function(e,t){return t||D(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},c.prototype.readUInt32BE=function(e,t){return t||D(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},c.prototype.readIntLE=function(e,t,n){e|=0,t|=0,n||D(e,t,this.length);for(var a=this[e],r=1,o=0;++o<t&&(r*=256);)a+=this[e+o]*r;return(r*=128)<=a&&(a-=Math.pow(2,8*t)),a},c.prototype.readIntBE=function(e,t,n){e|=0,t|=0,n||D(e,t,this.length);for(var a=t,r=1,o=this[e+--a];0<a&&(r*=256);)o+=this[e+--a]*r;return(r*=128)<=o&&(o-=Math.pow(2,8*t)),o},c.prototype.readInt8=function(e,t){return t||D(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},c.prototype.readInt16LE=function(e,t){t||D(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},c.prototype.readInt16BE=function(e,t){t||D(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},c.prototype.readInt32LE=function(e,t){return t||D(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},c.prototype.readInt32BE=function(e,t){return t||D(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},c.prototype.readFloatLE=function(e,t){return t||D(e,4,this.length),o.read(this,e,!0,23,4)},c.prototype.readFloatBE=function(e,t){return t||D(e,4,this.length),o.read(this,e,!1,23,4)},c.prototype.readDoubleLE=function(e,t){return t||D(e,8,this.length),o.read(this,e,!0,52,8)},c.prototype.readDoubleBE=function(e,t){return t||D(e,8,this.length),o.read(this,e,!1,52,8)},c.prototype.writeUIntLE=function(e,t,n,a){e=+e,t|=0,n|=0,a||O(this,e,t,n,Math.pow(2,8*n)-1,0);var r=1,o=0;for(this[t]=255&e;++o<n&&(r*=256);)this[t+o]=e/r&255;return t+n},c.prototype.writeUIntBE=function(e,t,n,a){e=+e,t|=0,n|=0,a||O(this,e,t,n,Math.pow(2,8*n)-1,0);var r=n-1,o=1;for(this[t+r]=255&e;0<=--r&&(o*=256);)this[t+r]=e/o&255;return t+n},c.prototype.writeUInt8=function(e,t,n){return e=+e,t|=0,n||O(this,e,t,1,255,0),c.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},c.prototype.writeUInt16LE=function(e,t,n){return e=+e,t|=0,n||O(this,e,t,2,65535,0),c.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):A(this,e,t,!0),t+2},c.prototype.writeUInt16BE=function(e,t,n){return e=+e,t|=0,n||O(this,e,t,2,65535,0),c.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):A(this,e,t,!1),t+2},c.prototype.writeUInt32LE=function(e,t,n){return e=+e,t|=0,n||O(this,e,t,4,4294967295,0),c.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):F(this,e,t,!0),t+4},c.prototype.writeUInt32BE=function(e,t,n){return e=+e,t|=0,n||O(this,e,t,4,4294967295,0),c.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):F(this,e,t,!1),t+4},c.prototype.writeIntLE=function(e,t,n,a){if(e=+e,t|=0,!a){var r=Math.pow(2,8*n-1);O(this,e,t,n,r-1,-r)}var o=0,i=1,l=0;for(this[t]=255&e;++o<n&&(i*=256);)e<0&&0===l&&0!==this[t+o-1]&&(l=1),this[t+o]=(e/i>>0)-l&255;return t+n},c.prototype.writeIntBE=function(e,t,n,a){if(e=+e,t|=0,!a){var r=Math.pow(2,8*n-1);O(this,e,t,n,r-1,-r)}var o=n-1,i=1,l=0;for(this[t+o]=255&e;0<=--o&&(i*=256);)e<0&&0===l&&0!==this[t+o+1]&&(l=1),this[t+o]=(e/i>>0)-l&255;return t+n},c.prototype.writeInt8=function(e,t,n){return e=+e,t|=0,n||O(this,e,t,1,127,-128),c.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},c.prototype.writeInt16LE=function(e,t,n){return e=+e,t|=0,n||O(this,e,t,2,32767,-32768),c.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):A(this,e,t,!0),t+2},c.prototype.writeInt16BE=function(e,t,n){return e=+e,t|=0,n||O(this,e,t,2,32767,-32768),c.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):A(this,e,t,!1),t+2},c.prototype.writeInt32LE=function(e,t,n){return e=+e,t|=0,n||O(this,e,t,4,2147483647,-2147483648),c.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):F(this,e,t,!0),t+4},c.prototype.writeInt32BE=function(e,t,n){return e=+e,t|=0,n||O(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),c.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):F(this,e,t,!1),t+4},c.prototype.writeFloatLE=function(e,t,n){return S(this,e,t,!0,n)},c.prototype.writeFloatBE=function(e,t,n){return S(this,e,t,!1,n)},c.prototype.writeDoubleLE=function(e,t,n){return j(this,e,t,!0,n)},c.prototype.writeDoubleBE=function(e,t,n){return j(this,e,t,!1,n)},c.prototype.copy=function(e,t,n,a){if(n=n||0,a||0===a||(a=this.length),t>=e.length&&(t=e.length),t=t||0,0<a&&a<n&&(a=n),a===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(a<0)throw new RangeError("sourceEnd out of bounds");a>this.length&&(a=this.length),e.length-t<a-n&&(a=e.length-t+n);var r,o=a-n;if(this===e&&n<t&&t<a)for(r=o-1;0<=r;--r)e[r+t]=this[r+n];else if(o<1e3||!c.TYPED_ARRAY_SUPPORT)for(r=0;r<o;++r)e[r+t]=this[r+n];else Uint8Array.prototype.set.call(e,this.subarray(n,n+o),t);return o},c.prototype.fill=function(e,t,n,a){if("string"==typeof e){if("string"==typeof t?(a=t,t=0,n=this.length):"string"==typeof n&&(a=n,n=this.length),1===e.length){var r=e.charCodeAt(0);r<256&&(e=r)}if(void 0!==a&&"string"!=typeof a)throw new TypeError("encoding must be a string");if("string"==typeof a&&!c.isEncoding(a))throw new TypeError("Unknown encoding: "+a)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;var o;if(t>>>=0,n=void 0===n?this.length:n>>>0,"number"==typeof(e=e||0))for(o=t;o<n;++o)this[o]=e;else{var i=c.isBuffer(e)?e:I(new c(e,a).toString()),l=i.length;for(o=0;o<n-t;++o)this[o+t]=i[o%l]}return this};var t=/[^+\/0-9A-Za-z-_]/g;function P(e){return e<16?"0"+e.toString(16):e.toString(16)}function I(e,t){var n;t=t||1/0;for(var a=e.length,r=null,o=[],i=0;i<a;++i){if(55295<(n=e.charCodeAt(i))&&n<57344){if(!r){if(56319<n){-1<(t-=3)&&o.push(239,191,189);continue}if(i+1===a){-1<(t-=3)&&o.push(239,191,189);continue}r=n;continue}if(n<56320){-1<(t-=3)&&o.push(239,191,189),r=n;continue}n=65536+(r-55296<<10|n-56320)}else r&&-1<(t-=3)&&o.push(239,191,189);if(r=null,n<128){if((t-=1)<0)break;o.push(n)}else if(n<2048){if((t-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function N(e){return a.toByteArray(function(e){if((e=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}(e).replace(t,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function T(e,t,n,a){for(var r=0;r<a&&!(r+n>=t.length||r>=e.length);++r)t[r+n]=e[r];return r}}).call(this,R(23))},function(e,t,n){"use strict";t.byteLength=function(e){var t=c(e),n=t[0],a=t[1];return 3*(n+a)/4-a},t.toByteArray=function(e){for(var t,n=c(e),a=n[0],r=n[1],o=new d(function(e,t,n){return 3*(t+n)/4-n}(0,a,r)),i=0,l=0<r?a-4:a,s=0;s<l;s+=4)t=u[e.charCodeAt(s)]<<18|u[e.charCodeAt(s+1)]<<12|u[e.charCodeAt(s+2)]<<6|u[e.charCodeAt(s+3)],o[i++]=t>>16&255,o[i++]=t>>8&255,o[i++]=255&t;2===r&&(t=u[e.charCodeAt(s)]<<2|u[e.charCodeAt(s+1)]>>4,o[i++]=255&t);1===r&&(t=u[e.charCodeAt(s)]<<10|u[e.charCodeAt(s+1)]<<4|u[e.charCodeAt(s+2)]>>2,o[i++]=t>>8&255,o[i++]=255&t);return o},t.fromByteArray=function(e){for(var t,n=e.length,a=n%3,r=[],o=0,i=n-a;o<i;o+=16383)r.push(s(e,o,i<o+16383?i:o+16383));1==a?(t=e[n-1],r.push(l[t>>2]+l[t<<4&63]+"==")):2==a&&(t=(e[n-2]<<8)+e[n-1],r.push(l[t>>10]+l[t>>4&63]+l[t<<2&63]+"="));return r.join("")};for(var l=[],u=[],d="undefined"!=typeof Uint8Array?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",r=0,o=a.length;r<o;++r)l[r]=a[r],u[a.charCodeAt(r)]=r;function c(e){var t=e.length;if(0<t%4)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function s(e,t,n){for(var a,r,o=[],i=t;i<n;i+=3)a=(e[i]<<16&16711680)+(e[i+1]<<8&65280)+(255&e[i+2]),o.push(l[(r=a)>>18&63]+l[r>>12&63]+l[r>>6&63]+l[63&r]);return o.join("")}u["-".charCodeAt(0)]=62,u["_".charCodeAt(0)]=63},function(e,t){t.read=function(e,t,n,a,r){var o,i,l=8*r-a-1,s=(1<<l)-1,u=s>>1,d=-7,c=n?r-1:0,f=n?-1:1,p=e[t+c];for(c+=f,o=p&(1<<-d)-1,p>>=-d,d+=l;0<d;o=256*o+e[t+c],c+=f,d-=8);for(i=o&(1<<-d)-1,o>>=-d,d+=a;0<d;i=256*i+e[t+c],c+=f,d-=8);if(0===o)o=1-u;else{if(o===s)return i?NaN:1/0*(p?-1:1);i+=Math.pow(2,a),o-=u}return(p?-1:1)*i*Math.pow(2,o-a)},t.write=function(e,t,n,a,r,o){var i,l,s,u=8*o-r-1,d=(1<<u)-1,c=d>>1,f=23===r?Math.pow(2,-24)-Math.pow(2,-77):0,p=a?0:o-1,h=a?1:-1,m=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(l=isNaN(t)?1:0,i=d):(i=Math.floor(Math.log(t)/Math.LN2),t*(s=Math.pow(2,-i))<1&&(i--,s*=2),2<=(t+=1<=i+c?f/s:f*Math.pow(2,1-c))*s&&(i++,s/=2),d<=i+c?(l=0,i=d):1<=i+c?(l=(t*s-1)*Math.pow(2,r),i+=c):(l=t*Math.pow(2,c-1)*Math.pow(2,r),i=0));8<=r;e[n+p]=255&l,p+=h,l/=256,r-=8);for(i=i<<r|l,u+=r;0<u;e[n+p]=255&i,p+=h,i/=256,u-=8);e[n+p-h]|=128*m}},function(e,t){var n={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==n.call(e)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e};function r(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var o=u(n(0)),i=n(1),l=u(n(104)),s=u(n(105));function u(e){return e&&e.__esModule?e:{default:e}}var d=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(c,l.default),a(c,[{key:"gridColumns",value:function(){return[{key:"name",name:DWKitAdminLang.column.name,resizable:!0},{key:"email",name:DWKitAdminLang.user.emailfield,resizable:!0},{key:"login",name:DWKitAdminLang.user.loginfield,resizable:!0,sortable:!1},{key:"domainLogin",name:DWKitAdminLang.user.domainloginfield,resizable:!0,sortable:!1},{key:"isLocked",name:DWKitAdminLang.user.lockedfield,resizable:!0,type:"checkbox"},{key:"rolesStr",name:DWKitAdminLang.user.rolesfield,resizable:!0,sortable:!1},{key:"groupsStr",name:DWKitAdminLang.user.groupsfield,resizable:!0,sortable:!1},{key:"externalId",name:DWKitAdminLang.user.externalIdField,resizable:!0,sortable:!1}]}},{key:"renderToolbar",value:function(){var e=this,t=this;this.state.filter||(this.state.filter={});var n=this.props.data.additionalParams.IsAvailableADImport;return o.default.createElement("div",{className:"dwkitadmin-toolbar"},this.renderImportResult(),o.default.createElement("div",{className:"dwkitadmin-toolbarfilter"},o.default.createElement(i.Form,null,o.default.createElement(i.Form.Group,{widths:"equal"},o.default.createElement(i.Form.Input,{name:"filter",label:DWKitAdminLang.field.name,value:this.state.filter.filter,onChange:this.handleFilterChange.bind(this)}),o.default.createElement(i.Button,{className:"buttontype2",content:DWKitAdminLang.button.search,onClick:this.onSearch.bind(this)})))),o.default.createElement(i.Button,{className:"buttontype1",onClick:function(){e.props.parent.openpage(e.panelindex,"new")}},DWKitAdminLang.button.create),o.default.createElement(i.Button,{className:"buttontype2",onClick:function(){t.setState({confirmdeleteshow:!0})}},DWKitAdminLang.button.delete),n&&o.default.createElement(i.Button,{onClick:this.showconfirmimport},DWKitAdminLang.button.importFromAd),o.default.createElement("span",null,DWKitAdminLang.msg.totalcount," ",t.state.rowsCount))}},{key:"renderConfirmModals",value:function(){return o.default.createElement(i.Confirm,{open:this.state.confirmimportshow,dimmer:"blurring",content:DWKitAdminLang.user.confirmimport,onCancel:this.hideconfirmdimport,onConfirm:this.confirmimport})}},{key:"renderImportResult",value:function(){if(!this.state.importResult)return null;function e(e){return isNaN(e)?e:o.default.createElement("b",null,e)}var t=this.state.importResult.GroupResult,n=this.state.importResult.UserResult;return o.default.createElement(i.Message,{onDismiss:this.clearImportResult},o.default.createElement(i.Message.Header,null,DWKitAdminLang.user.adimportresultheader),o.default.createElement(i.Message.List,null,t&&o.default.createElement(i.Message.Item,null,DWKitAdminLang.user.groupimportresultmsg(t.returned,t.added,t.deleted).map(e)),t&&0<t.duplicateNames.length&&o.default.createElement(i.Message.Item,null,DWKitAdminLang.user.groupswithduplicatenamesmsg,t.duplicateNames.map(function(e,t){return[0<t&&", ",o.default.createElement("b",null,e)]})),n&&o.default.createElement(i.Message.Item,null,DWKitAdminLang.user.userimportresultmsg(n.returned,n.added,n.updated,n.locked).map(e)),n&&0<n.duplicateCredentials.length&&o.default.createElement(i.Message.Item,null,DWKitAdminLang.user.userswithduplicateloginmsg,n.duplicateCredentials.map(function(e,t){return[0<t&&", ",o.default.createElement("b",null,e)]}))))}},{key:"handleFilterChange",value:function(e,t){var n=t.name,a=t.value;this.state.filter[n]=a,this.forceUpdate()}},{key:"onSearch",value:function(){this.grid.refresh()}},{key:"validate",value:function(){var e=!0,t=this.state.editrow,n=DWKitAdminLang.msg.fieldrequired;return t.__error={name:t.name?void 0:n},e&=void 0===t.__error.name}},{key:"applyeditrow",value:function(){for(var e=this.state.editrow[this.idfield],t=-1,n=this.props.data[this.dataindex],a=0;a<n.length;a++)if(e===n[a][this.idfield]){t=a;break}this.state.editrow.password=void 0,0<=t?this.props.data[this.dataindex][t]=this.state.editrow:this.props.data[this.dataindex].unshift(this.state.editrow)}},{key:"getAdditionalDataForControl",value:function(e,t,n){var a=t.startIndex,r=t.pageSize,o=(t.filters,t.sort),i=this,l=new Array;l.push({name:"operation",value:"users"}),l.push({name:"suboperation",value:"loadlist"}),l.push({name:"skip",value:a}),l.push({name:"take",value:r}),l.push({name:"sort",value:o}),null!=i.state.filter.filter&&""!=i.state.filter.filter&&l.push({name:"filter",value:i.state.filter.filter}),$.ajax({url:i.props.apiUrl,data:l,async:!0,type:"post",success:function(e){e.success?(n({sIndex:a,pSize:r,rowsCount:e.item.count,items:e.item.users}),i.setState({rowsCount:e.item.count})):alertify.error(e.message)}})}},{key:"getEditRow",value:function(){var e=this.props.id;if("new"===e){var t=this.createNewObject(),n=this.props.data.settings.find(function(e){return"RTL"==e.name});return n&&n.value&&(t.isRTL=!0),t}var a=new Array;a.push({name:"operation",value:"users"}),a.push({name:"suboperation",value:"load"}),a.push({name:"id",value:e});var r=$.ajax({url:this.props.apiUrl,data:a,async:!1,type:"post"}).responseJSON;if(r.success)return null==r.item?(alertify.error(DWKitAdminLang.msg.objectnotfound),this.back(),{}):r.item;alert(r.message)}},{key:"recalcSizeParams",value:function(){if(this._isMounted){var e=$(window).height();this.setState({gridHeight:e-280-this.props.deltaHeight})}}}]),c);function c(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(c.__proto__||Object.getPrototypeOf(c)).call(this,e));return t.showconfirmimport=function(){t.setState({confirmimportshow:!0})},t.hideconfirmdimport=function(){t.setState({confirmimportshow:!1})},t.confirmimport=function(){t.setState({confirmimportshow:!1});var e=new Array;e.push({name:"operation",value:"securityimport"}),$.ajax({url:t.props.apiUrl,data:e,async:!0,type:"post",success:function(e){e.success?(t.setState({importResult:e.result}),t.props.parent.load(function(){t.grid.refresh()}),alertify.success(DWKitAdminLang.user.importfinishedmsg)):alertify.error(e.message),Pace.stop()},error:function(e){Pace.stop();var t="";t=0===e.status?"Not connect.\n Verify Network.":404==e.status?"Requested page not found. [404]":500==e.status?"Internal Server Error [500].":"parsererror"===exception?"Requested JSON parse failed.":"timeout"===exception?"Time out error.":"abort"===exception?"Ajax request aborted.":"Uncaught Error.\n"+e.responseText,alertify.error(t)}})},t.clearImportResult=function(){t.setState({importResult:null})},t.dataindex="users",t.panelindex="users",t.idfield="id",t.editform=s.default,t.datatype="users",t.title=DWKitAdminLang.user.title,t.titleGetter=function(e){return e.user.title},t}t.default=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e};function r(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var o=l(n(0)),i=(l(n(2)),l(n(4)),n(1));l(n(3));function l(e){return e&&e.__esModule?e:{default:e}}var s=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(u,l(n(26)).default),a(u,[{key:"back",value:function(){this.state.openmodal=!1,function e(t,n,a){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,a)}if("value"in r)return r.value;var i=r.get;return void 0!==i?i.call(a):void 0}(u.prototype.__proto__||Object.getPrototypeOf(u.prototype),"back",this).call(this)}},{key:"render",value:function(){return this.state.editrowid!=this.props.id&&this.loadeditrow(),o.default.createElement("div",null,this.renderMainForm(),this.renderEditFormModal(),this.renderConfirmModals())}},{key:"renderConfirmModals",value:function(){return null}},{key:"renderEditFormModal",value:function(){return null!=this.props.id&&(this.state.openmodal=!0),o.default.createElement(i.Modal,{dimmer:"inverted",open:this.state.openmodal,onClose:this.onModalFormClose.bind(this)},o.default.createElement(i.Modal.Content,null,o.default.createElement(i.Modal.Description,null,this.renderEditForm())),o.default.createElement(i.Modal.Actions,null,o.default.createElement(i.Button,{className:"buttontype1",onClick:this.onModalFormSave.bind(this)},DWKitAdminLang.button.save),o.default.createElement(i.Button,{className:"buttontype2",onClick:this.onModalFormClose.bind(this)},DWKitAdminLang.button.close)))}},{key:"onModalFormSave",value:function(){var t=this;this.validate()?null!=(t=this).state.editrow.__state?(t.state.editrow.__type=this.datatype,this.ChangeData([t.state.editrow],function(e){t.ResetSystemProps(t.state.editrow),t.applyeditrow(),t.grid.refresh(),t.back()})):this.onModalFormClose():alertify.error(DWKitAdminLang.msg.checkerrorsonform)}},{key:"onModalFormClose",value:function(){this.back()}}]),u);function u(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(u.__proto__||Object.getPrototypeOf(u)).call(this,e));return t.state.openmodal=!1,t}t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e};function r(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var s=o(n(0)),u=n(1);function o(e){return e&&e.__esModule?e:{default:e}}var i=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(l,o(n(4)).default),a(l,[{key:"validate",value:function(){return this.props.parent.validate()}},{key:"removeExternalLogin",value:function(t){var e=this.props.data;e.externalLogins=e.externalLogins.filter(function(e){return e.name!==t.name&&e.externalId!==t.externalId}),this.setUpdatedState(e),this.forceUpdate()}},{key:"renderExternalLogin",value:function(t){var e=this.props.parent.props.data.additionalParams.ExternalLoginProviders.filter(function(e){return e.name===t.name}),n=e.length?e[0].displayName:t.name;return s.default.createElement(u.Label,null,n,s.default.createElement(u.Label.Detail,null,t.externalId),s.default.createElement(u.Icon,{name:"delete",onClick:this.removeExternalLogin.bind(this,t)}))}},{key:"render",value:function(){var t=this;this.validate();for(var e=[],n=0;n<this.props.metadata.groups.length;n++){var a=this.props.metadata.groups;e.push({text:a[n].name,value:a[n].id})}for(var r=[],o=0;o<this.props.metadata.roles.length;o++){var i=this.props.metadata.roles;r.push({text:i[o].name,value:i[o].id})}var l=this.props.data;return s.default.createElement(u.Form,null,s.default.createElement(u.Form.Group,{widths:"equal"},s.default.createElement("div",{className:"field"},s.default.createElement(u.Form.Input,{name:"name",label:DWKitAdminLang.field.name,error:Boolean(l.__error.name),value:l.name,onChange:this.handleChange.bind(this,l)}),s.default.createElement(u.Form.Input,{name:"email",label:DWKitAdminLang.user.emailfield,error:Boolean(l.__error.email),value:l.email,onChange:this.handleChange.bind(this,l)}),s.default.createElement(u.Form.Input,{name:"domainLogin",label:DWKitAdminLang.user.domainloginfield,error:Boolean(l.__error.domainLogin),value:l.domainLogin,onChange:this.handleChange.bind(this,l)}),s.default.createElement(u.Form.Input,{name:"localization",label:DWKitAdminLang.user.localizationfield,error:Boolean(l.__error.localization),value:l.localization,onChange:this.handleChange.bind(this,l)})),s.default.createElement("div",{className:"field"},s.default.createElement(u.Form.Input,{name:"login-new",label:DWKitAdminLang.user.loginfield,error:Boolean(l.__error.login),value:l.login,onChange:this.handleChange.bind(this,l)}),s.default.createElement(u.Form.Input,{type:"password",name:"password-new",placeholder:"*********",label:DWKitAdminLang.user.passwordfield,error:Boolean(l.__error.password),value:l.password,onChange:this.handleChange.bind(this,l)}),s.default.createElement(u.Form.Checkbox,{name:"isLocked",label:DWKitAdminLang.user.lockedfield,error:Boolean(l.__error.isLocked),checked:1==l.isLocked,onChange:this.handleChange.bind(this,l)}),s.default.createElement(u.Form.Checkbox,{name:"isRTL",label:DWKitAdminLang.user.rtlfield,error:Boolean(l.__error.isRTL),checked:l.isRTL,onChange:this.handleChange.bind(this,l)}))),s.default.createElement(u.Form.Group,{widths:"equal"},s.default.createElement(u.Form.Dropdown,{label:DWKitAdminLang.user.groupsfield,name:"groups",error:Boolean(l.__error.groups),multiple:!0,search:!0,selection:!0,options:e,value:null==l.groups?[]:l.groups,onChange:this.handleChange.bind(this,l)}),s.default.createElement(u.Form.Dropdown,{label:DWKitAdminLang.user.rolesfield,name:"roles",error:Boolean(l.__error.roles),multiple:!0,search:!0,selection:!0,options:r,value:null==l.roles?[]:l.roles,onChange:this.handleChange.bind(this,l)})),l.externalLogins&&0<l.externalLogins.length&&s.default.createElement(u.Form.Group,{widths:"equal"},s.default.createElement(u.Container,{fluid:!0},s.default.createElement(u.Header,{size:"medium"},DWKitAdminLang.user.externallogins),l.externalLogins.map(function(e){return t.renderExternalLogin(e)}))))}},{key:"handleChange",value:function(e,t,n){var a=n.name,r=n.value,o=n.checked;"login-new"===a?a="login":"password-new"===a&&(a="password"),e[a],e[a]=null==r?o:r,this.setUpdatedState(this.props.data),this.forceUpdate()}}]),l);function l(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(l.__proto__||Object.getPrototypeOf(l)).call(this,e));return t.state={},t}t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e};function r(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}l(n(0)),l(n(2)),n(1),l(n(3));var o=l(n(5)),i=l(n(107));function l(e){return e&&e.__esModule?e:{default:e}}var s=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(u,o.default),a(u,[{key:"gridColumns",value:function(){return[{key:"code",name:DWKitAdminLang.column.code,resizable:!0},{key:"name",name:DWKitAdminLang.column.name,resizable:!0}]}},{key:"validate",value:function(){var e=!0,t=this.state.editrow,n=DWKitAdminLang.msg.fieldrequired;return t.__error={name:null==t.name||""==t.name?n:void 0,code:null==t.code||""==t.code?n:void 0},e&=null==t.__error.name&&null==t.__error.code}}]),u);function u(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(u.__proto__||Object.getPrototypeOf(u)).call(this,e));return t.dataindex="roles",t.panelindex="roles",t.defaultNamePrefix="role",t.idfield="id",t.editform=i.default,t.title=DWKitAdminLang.role.title,t.titleGetter=function(e){return e.role.title},t.datatype="roles",t}t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e};function r(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var o=s(n(0)),i=(s(n(2)),n(1)),l=s(n(108));function s(e){return e&&e.__esModule?e:{default:e}}var u=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(d,s(n(4)).default),a(d,[{key:"validate",value:function(){return this.props.parent.validate()}},{key:"render",value:function(){this.validate();var e=this.props.data;null==e.permissions&&(e.permissions=[]);var t=this.props.onSave.bind(this.props.parent),n=this.props.onCancel.bind(this.props.parent);return o.default.createElement("div",{className:"dwkit-formadmin-formedit"},o.default.createElement(i.Breadcrumb,null,o.default.createElement(i.Breadcrumb.Section,{onClick:this.props.parent.back.bind(this.props.parent),link:!0},DWKitAdminLang.role.title),o.default.createElement(i.Breadcrumb.Divider,null),o.default.createElement(i.Breadcrumb.Section,{active:!0},this.props.data.name)),o.default.createElement("div",{className:"dwkitadmin-toolbar-editform"},o.default.createElement(i.Button,{className:"buttontype1",onClick:t},DWKitAdminLang.button.save),o.default.createElement(i.Button,{className:"buttontype2",onClick:n},DWKitAdminLang.button.cancel)),o.default.createElement("h1",null,this.props.parent.title),o.default.createElement(i.Form,null,o.default.createElement(i.Form.Input,{name:"code",label:DWKitAdminLang.field.code,error:Boolean(e.__error.code),value:e.code,onChange:this.handleChange.bind(this,e)}),o.default.createElement(i.Form.Input,{name:"name",label:DWKitAdminLang.field.name,error:Boolean(e.__error.name),value:e.name,onChange:this.handleChange.bind(this,e)}),o.default.createElement("h1",null,"Permissions"),o.default.createElement(l.default,{items:this.props.metadata.permissions,value:e.permissions,parent:this})))}},{key:"handleChange",value:function(e,t,n){var a=n.name,r=n.value,o=n.checked,i=e[a];e[a]=null==r?o:r,"code"==a&&(i!=e.name&&null!=e.name||(e.name=e.code)),this.setUpdatedState(this.props.data),this.forceUpdate()}}]),d);function d(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,d);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(d.__proto__||Object.getPrototypeOf(d)).call(this,e));return t.state={},t}t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e};function r(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var o,i=n(0),u=(o=i)&&o.__esModule?o:{default:o},d=n(1);var l=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(s,u.default.Component),a(s,[{key:"handleChange",value:function(e,t,n){n.name;for(var a=n.value,r=(n.checked,this.props.value),o=!1,i=0;i<r.length;i++)if(r[i].id==e){r[i].accessType=a,o=!0;break}o||this.props.value.push({id:e,accessType:a}),this.props.parent.setUpdatedState(this.props.parent.props.data),this.forceUpdate()}},{key:"setAccessType",value:function(e,t){if(e&&e.children){for(var n=this.props.value,a=0;a<e.children.length;a++){for(var r=!1,o=0;o<n.length;o++)n[o].id==e.children[a].id&&(n[o].accessType=t,r=!0);r||n.push({id:e.children[a].id,accessType:t})}this.props.parent.setUpdatedState(this.props.parent.props.data),this.forceUpdate()}}},{key:"render",value:function(){for(var e=[],t=this.props.items,n=0;n<t.length;n++){var a=t[n],r=a.name;a.code!==a.name&&(r+=" ("+a.code+")");var o="rolegroup_"+a.id,i=u.default.createElement(d.Form.Group,{key:o,widths:"16",className:"dwkit-formadmin-item"},u.default.createElement("div",{className:"field"},u.default.createElement(d.Form.Input,{key:"groupName",value:r,readOnly:!0}),u.default.createElement("div",null,u.default.createElement("a",{onClick:this.setAccessType.bind(this,a,0)},DWKitAdminLang.role.resetbutton),"  ",u.default.createElement("a",{onClick:this.setAccessType.bind(this,a,1)},DWKitAdminLang.role.allowbutton),"  ",u.default.createElement("a",{onClick:this.setAccessType.bind(this,a,2)},DWKitAdminLang.role.denybutton))),u.default.createElement("div",null,this.renderChildren(a,this.props.value)));e.push(i)}return u.default.createElement("div",null,e)}},{key:"renderChildren",value:function(e,t){for(var n=[],a=0;a<e.children.length;a++){var r=e.children[a],o=r.name;r.Code!=r.name&&(o+=" ("+r.code+")");var i="roleperm_"+r.id,l=this.getAccessType(r.id,t),s=u.default.createElement("div",{key:i+"_div"},u.default.createElement(d.Form.Group,{key:"group",className:"dwkit-formadmin-rolepersmissionsgroup"},u.default.createElement("div",{key:"c1",className:"field"},u.default.createElement("label",{key:"divlabel"},o),u.default.createElement(d.Form.Group,{key:"divgroup",widths:"equal"},u.default.createElement(d.Form.Radio,{key:"type0",name:i+"_type",label:DWKitAdminLang.role.inheritedtype,value:0,checked:0==l,onChange:this.handleChange.bind(this,r.id)}),u.default.createElement(d.Form.Radio,{key:"type1",name:i+"_type",label:DWKitAdminLang.role.allowtype,value:1,checked:1==l,onChange:this.handleChange.bind(this,r.id)}),u.default.createElement(d.Form.Radio,{key:"type2",name:i+"_type",label:DWKitAdminLang.role.denytype,value:2,checked:2==l,onChange:this.handleChange.bind(this,r.id)})))));n.push(s)}return n}},{key:"getAccessType",value:function(e,t){var n=0;if(null==t)return n;for(var a=0;a<t.length;a++)if(t[a].id==e){n=t[a].accessType;break}return n}}]),s);function s(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(s.__proto__||Object.getPrototypeOf(s)).call(this,e))}t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e};function r(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}l(n(0)),l(n(2)),n(1);var o=l(n(110)),i=l(n(111));function l(e){return e&&e.__esModule?e:{default:e}}var s=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(u,o.default),a(u,[{key:"gridColumns",value:function(){return[{key:"name",name:DWKitAdminLang.column.name,resizable:!0},{key:"isSyncWithDomainGroup",name:DWKitAdminLang.group.syncwithdomainfield,type:"checkbox",resizable:!0}]}},{key:"validate",value:function(){var e=!0,t=this.state.editrow,n=DWKitAdminLang.msg.fieldrequired;return t.__error={name:null==t.name||""==t.name?n:void 0},e&=null==t.__error.name}}]),u);function u(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(u.__proto__||Object.getPrototypeOf(u)).call(this,e));return t.dataindex="groups",t.panelindex="groups",t.idfield="id",t.editform=i.default,t.datatype="groups",t.title=DWKitAdminLang.group.title,t.titleGetter=function(e){return e.group.title},t}t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e};function r(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var o=l(n(0)),i=(l(n(2)),l(n(4)),n(1));l(n(3));function l(e){return e&&e.__esModule?e:{default:e}}var s=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(u,l(n(5)).default),a(u,[{key:"back",value:function(){this.state.openmodal=!1,function e(t,n,a){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,a)}if("value"in r)return r.value;var i=r.get;return void 0!==i?i.call(a):void 0}(u.prototype.__proto__||Object.getPrototypeOf(u.prototype),"back",this).call(this)}},{key:"render",value:function(){return this.state.editrowid!=this.props.id&&this.loadeditrow(),o.default.createElement("div",null,this.renderMainForm(),this.renderEditFormModal())}},{key:"renderEditFormModal",value:function(){return null!=this.props.id&&(this.state.openmodal=!0),o.default.createElement(i.Modal,{dimmer:"inverted",open:this.state.openmodal,onClose:this.onModalFormClose.bind(this)},o.default.createElement(i.Modal.Content,null,o.default.createElement(i.Modal.Description,null,this.renderEditForm())),o.default.createElement(i.Modal.Actions,null,o.default.createElement(i.Button,{className:"buttontype1",onClick:this.onModalFormSave.bind(this)},DWKitAdminLang.button.save),o.default.createElement(i.Button,{className:"buttontype2",onClick:this.onModalFormClose.bind(this)},DWKitAdminLang.button.close)))}},{key:"onModalFormSave",value:function(){var t=this;this.validate()?null!=(t=this).state.editrow.__state?(t.state.editrow.__type=this.datatype,this.ChangeData([t.state.editrow],function(e){t.ResetSystemProps(t.state.editrow),t.applyeditrow(),t.grid.refresh(),t.back()})):this.onModalFormClose():alertify.error(DWKitAdminLang.msg.checkerrorsonform)}},{key:"onModalFormClose",value:function(){this.back()}}]),u);function u(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(u.__proto__||Object.getPrototypeOf(u)).call(this,e));return t.state.openmodal=!1,t}t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e};function r(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var o=l(n(0)),i=(l(n(2)),n(1));l(n(3));function l(e){return e&&e.__esModule?e:{default:e}}var s=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(u,l(n(4)).default),a(u,[{key:"validate",value:function(){return this.props.parent.validate()}},{key:"render",value:function(){this.validate();for(var e=[],t=0;t<this.props.metadata.roles.length;t++){var n=this.props.metadata.roles;e.push({text:n[t].name,value:n[t].id})}var a=null==this.props.data?[]:this.props.data;return o.default.createElement(i.Form,null,o.default.createElement(i.Form.Input,{name:"name",label:DWKitAdminLang.field.name,error:Boolean(a.__error.name),value:a.name,onChange:this.handleChange.bind(this,a)}),o.default.createElement(i.Form.Dropdown,{label:DWKitAdminLang.group.rolesfield,name:"roles",error:Boolean(a.__error.roles),multiple:!0,search:!0,selection:!0,options:e,value:null==a.roles?[]:a.roles,onChange:this.handleChange.bind(this,a)}),o.default.createElement(i.Form.Checkbox,{name:"isSyncWithDomainGroup",label:DWKitAdminLang.group.syncwithdomainfield,checked:a.isSyncWithDomainGroup,onChange:this.handleChange.bind(this,a)}))}},{key:"handleChange",value:function(e,t,n){var a=n.name,r=n.value,o=n.checked;e[a]=null==r?o:r,this.setUpdatedState(this.props.data),this.forceUpdate()}}]),u);function u(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(u.__proto__||Object.getPrototypeOf(u)).call(this,e));return t.state={},t}t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},a=function(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e};function o(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var i=u(n(0)),l=u(n(4)),s=n(1);function u(e){return e&&e.__esModule?e:{default:e}}var d=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(c,l.default),a(c,[{key:"initData",value:function(e){function t(e,t){return e.name>t.name?1:e.name<t.name?-1:0}var n=this.СloneObj(e);n.forEach(function(e){null!=e.children&&(e.children=e.children.sort(t))}),n=n.sort(t),this.state.data=n}},{key:"render",value:function(){this.validate();for(var e=[],t=this.state.data,n=0;n<t.length;n++){var a=t[n];if("deleted"!=a.__state){var r=i.default.createElement("div",{key:"g_"+t[n].id,className:"dwkit-formadmin-item"},i.default.createElement(s.Form,{key:"form"},i.default.createElement(s.Form.Group,{key:"group"},i.default.createElement("div",{key:"div",className:"field",widths:"6"},i.default.createElement(s.Form.Input,{key:"code",name:"code",label:DWKitAdminLang.field.code,error:Boolean(a.__error.code),value:a.code,onChange:this.handleChange.bind(this,a)}),i.default.createElement(s.Form.Input,{key:"name",name:"name",label:DWKitAdminLang.field.name,error:Boolean(a.__error.name),value:a.name,onChange:this.handleChange.bind(this,a)}),i.default.createElement("div",{key:"buttons",style:{marginTop:"10px"}},i.default.createElement("a",{key:"btndelete",onClick:this.onDeleteGroup.bind(this,t[n].id)},DWKitAdminLang.permission.deletegroupbutton),"  ",i.default.createElement("a",{key:"btncreatepermission",onClick:this.onCreatePermission.bind(this,t[n].id)},DWKitAdminLang.permission.createpermissionbutton))),i.default.createElement("div",{key:"children",className:"field",widths:"10"},this.renderChildren(t[n])))));e.push(r)}}return i.default.createElement("div",null,i.default.createElement("h1",null,DWKitAdminLang.permission.managepermissionsfield),i.default.createElement("div",{className:"dwkitadmin-toolbar"},i.default.createElement(s.Button,{className:"buttontype1",onClick:this.onCreateGroup.bind(this)},DWKitAdminLang.permission.creategroupbutton),this.state.ischanged&&i.default.createElement(s.Button,{className:"buttontype1",onClick:this.onSave.bind(this)},DWKitAdminLang.button.save),this.state.ischanged&&i.default.createElement(s.Button,{className:"buttontype2",onClick:this.onCancel.bind(this)},DWKitAdminLang.button.cancel)),e)}},{key:"renderChildren",value:function(e){if(null!=e.children&&0!=e.children.length){for(var t=[],n=0;n<e.children.length;n++){var a=e.children[n],r=i.default.createElement(s.Form.Group,{key:"group_"+a.id,widths:"equal"},i.default.createElement(s.Form.Input,{key:"code",name:"code",label:DWKitAdminLang.field.code,error:Boolean(a.__error.code),value:a.code,onChange:this.handleChange.bind(this,a)}),i.default.createElement(s.Form.Input,{key:"name",name:"name",label:DWKitAdminLang.field.name,error:Boolean(a.__error.name),value:a.name,onChange:this.handleChange.bind(this,a)}),i.default.createElement(s.Image,{className:"dwkit-buttonimage",key:"btndelete",src:"/images/dwkit-delete.png",onClick:this.onDeletePermission.bind(this,e,a.id)}));t.push(r)}return t}}},{key:"handleChange",value:function(e,t,n){var a=n.name,r=n.value,o=(n.checked,e[a]);e[a]=r,"code"==a&&(o!=e.name&&null!=e.name||(e.name=e.code)),this.setUpdatedState(e),this.state.ischanged=!0,this.forceUpdate()}},{key:"validate",value:function(){var n=!0;return this.state.data.forEach(function(e){var t=DWKitAdminLang.msg.fieldrequired;e.__error={code:null==e.code||""==e.code?t:void 0,name:null==e.name||""==e.name?t:void 0},n&=null==e.__error.code&&null==e.__error.name,null!=e.children&&e.children.forEach(function(e){e.__error={code:null==e.code||""==e.code?t:void 0,name:null==e.name||""==e.name?t:void 0},n&=null==e.__error.code&&null==e.__error.name})}),n}},{key:"onSave",value:function(){var n=this;if(this.validate()){var a=[];this.state.data.forEach(function(e){if(null!=e.__state)a.push(r({},e,{isGroup:!0,__type:n.datatype}));else if(null!=e.children){var t=!1;e.children.forEach(function(e){null!=e.__state&&(t=!0)}),t&&a.push(r({},e,{isGroup:!0,__state:"updated",__type:n.datatype}))}}),this.ChangeData(a,function(e){n.ResetSystemProps(n.state.data),n.props.data.permissions=n.state.data,n.props.data.roles.forEach(function(e){e.permissions=e.permissions.filter(function(t){return n.props.data.permissions.some(function(e){return e.children.some(function(e){return e.id===t.id})})})}),n.onCancel()})}else alertify.error(DWKitAdminLang.msg.checkerrorsonform)}},{key:"onCancel",value:function(){this.initData(this.props.data.permissions),this.state.ischanged=!1,this.forceUpdate()}},{key:"onCreateGroup",value:function(){this.state.data.unshift({id:this.NewGUID(),__state:"inserted"}),this.state.ischanged=!0,this.forceUpdate()}},{key:"onDeleteGroup",value:function(e){for(var t=this.state.data,n=void 0,a=0;a<t.length;a++)if(t[a].id==e){n=a;break}null!=n&&("inserted"==t[a].__state?t.splice(n,1):t[a].__state="deleted"),this.state.ischanged=!0,this.forceUpdate()}},{key:"onCreatePermission",value:function(e){for(var t=this.state.data,n=0;n<t.length;n++)if(t[n].id==e){null==t[n].children&&(t[n].children=[]),t[n].children.unshift({id:this.NewGUID(),__state:"inserted"});break}this.state.ischanged=!0,this.forceUpdate()}},{key:"onDeletePermission",value:function(e,t){this.state.data;for(var n=void 0,a=0;a<e.children.length;a++)if(e.children[a].id==t){n=a;break}null!=n&&(e.children.splice(n,1),void 0!==e.__state&&null!==e.__state||(e.__state="updated")),this.state.ischanged=!0,this.forceUpdate()}}]),c);function c(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(c.__proto__||Object.getPrototypeOf(c)).call(this,e));return t.datatype="permissions",t.state={},t.initData(e.data.permissions),t}t.default=d}],b.c=w,b.d=function(e,t,n){b.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},b.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},b.t=function(t,e){if(1&e&&(t=b(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(b.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)b.d(n,a,function(e){return t[e]}.bind(null,a));return n},b.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return b.d(t,"a",t),t},b.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},b.p="",b(b.s=27);function b(e){if(w[e])return w[e].exports;var t=w[e]={i:e,l:!1,exports:{}};return k[e].call(t.exports,t,t.exports,b),t.l=!0,t.exports}var k,w});