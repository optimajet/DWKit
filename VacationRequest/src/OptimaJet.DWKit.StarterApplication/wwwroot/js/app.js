!function(n){var r={};function o(e){if(r[e])return r[e].exports;var t=r[e]={i:e,l:!1,exports:{}};return n[e].call(t.exports,t,t.exports,o),t.l=!0,t.exports}o.m=n,o.c=r,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)o.d(n,r,function(e){return t[e]}.bind(null,r));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="",o(o.s=167)}([function(e,t,n){var h=n(2),V=n(21),m=n(14),y=n(15),v=n(22),g="prototype",b=function(e,t,n){var r,o,i,a=e&b.F,l=e&b.G,s=e&b.S,c=e&b.P,u=e&b.B,p=l?h:s?h[t]||(h[t]={}):(h[t]||{})[g],f=l?V:V[t]||(V[t]={}),d=f[g]||(f[g]={});for(r in n=l?t:n)o=((i=!a&&p&&void 0!==p[r])?p:n)[r],i=u&&i?v(o,h):c&&"function"==typeof o?v(Function.call,o):o,p&&y(p,r,o,e&b.U),f[r]!=o&&m(f,r,i),c&&d[r]!=o&&(d[r]=o)};h.core=V,b.F=1,b.G=2,b.S=4,b.P=8,b.B=16,b.W=32,b.U=64,b.R=128,e.exports=b},function(e,t,n){var r=n(5);e.exports=function(e){if(!r(e))throw TypeError(e+" is not an object!");return e}},function(e,t){e=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=e)},function(e,t){e.exports=vendor_d6569809059efb5d834a},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t,n){e.exports=n(3)(0)},function(e,r,o){!function(e){var t,n;function $n(e){return($n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}window,n=function(n,r,o,i,a,l,s,c,u,p,f,d,h,V,m,y,v,g,b,w,O,C,k,E,A,S,_,x,P,j,R,D,T){return I={},F.m=N=[function(e,t){e.exports=n},function(e,t){e.exports=r},function(e,t){e.exports=o},function(e,t){e.exports=i},function(e,t){e.exports=a},function(e,t){e.exports=l},function(e,t){e.exports=s},function(e,t){e.exports=c},function(e,t){e.exports=u},function(e,t){e.exports=p},function(e,t){e.exports=f},function(e,t){e.exports=d},function(e,t){e.exports=h},function(e,t){e.exports=V},function(e,t){e.exports=m},function(e,t){e.exports=y},function(e,t){e.exports=v},function(e,t){e.exports=g},function(e,t){e.exports=b},function(e,t){e.exports=w},function(e,t){e.exports=O},function(e,t){e.exports=C},function(e,t){e.exports=k},function(e,t){e.exports=E},function(e,t){e.exports=A},function(e,t){e.exports=S},function(e,t){e.exports=_},function(e,t){e.exports=x},function(e,t){e.exports=P},function(e,r,o){!function(e){var t,n;function Fa(e){return(Fa="function"==typeof Symbol&&"symbol"==$n(Symbol.iterator)?function(e){return $n(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":$n(e)})(e)}window,n=function(n,r,o,i,a,l,s,c,u,p,f,d,h,V,m,y,v,g,b){return C={},w.m=O=[function(e,t){e.exports=n},function(e,t){e.exports=r},function(e,t){e.exports=o},function(e,t){function o(e){return(o="function"==typeof Symbol&&"symbol"==Fa(Symbol.iterator)?function(e){return Fa(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":Fa(e)})(e)}e.exports={initDefaultState:function e(t){var n=t.model,r=t.data;if(Array.isArray(n)&&void 0!==r)for(var o=0;o<n.length;o++){var i=n[o].propertyName||n[o].key;if(n[o].defaultValue&&!r[i]&&(r[i]=n[o].defaultValue),Array.isArray(n[o].children)&&e({model:n[o].children,data:r}),void 0!==n[o].placeholders)for(var a in n[o].placeholders)e({model:n[o].placeholders[a],data:r});"customblock"===n[o]["data-buildertype"]&&"source"===n[o].sourceType&&null!=n[o].source&&e({model:JSON5.parse(n[o].source),data:r})}},initDefaultStateFormUrl:function(e){void 0===e&&(e={});var t=null==(t=new RegExp("[?&]defaultvalues=([^&#]*)").exec(window.location.href))?null:decodeURI(t[1])||0;if(t){var n=void 0;try{n=JSON5.parse(t)}catch(e){}if(n&&"object"===o(n))for(var r in n)void 0!==n[r]&&(e[r]=n[r])}return e},validate:function(e){for(var t,n,r,o=e.data,i=!0,a={},l=function r(e){var o=[];return e.forEach(function(e){var t;if((!0===e["other-required"]||void 0!==e["other-customValidation"]&&""!==e["other-customValidation"])&&o.push(e),void 0!==e.children&&0<e.children.length&&(t=r(e.children),o=o.concat(t)),void 0!==e.placeholders)for(var n in e.placeholders)n=r(e.placeholders[n]),o=o.concat(n);"customblock"===e["data-buildertype"]&&"source"===e.sourceType&&null!=e.source&&(t=JSON5.parse(e.source),t=r(t),o=o.concat(t))}),o}(e.model),s=0;s<l.length;s++){var c=l[s].propertyName||l[s].key,u=(t=l[s],n=o?o[c]:void 0,r=o,!(u=void 0)===t["other-required"]&&(null==n||""===n||"collectioneditor"===t["data-buildertype"]&&Array.isArray(n)&&0===n.length)?u="This field is required!":void 0!==t["other-customValidation"]&&""!==t["other-customValidation"]&&(t="return "+t["other-customValidation"],"boolean"==typeof(r=new Function("value, data",t)(n,r))?!1===r&&(u=!0):u=r),u);u&&(a[c]=u,i=!1)}return{valid:i,errors:a}},checkConditions:function e(t){var n=t.model,r=t.data,o={hideControls:[],readOnlyControls:[]};if(!n||!r)return o;for(var i=0;i<n.length;i++){var a,l=n[i]["other-visibleConition"];if(void 0!==l&&""!==l&&(new Function("data","return "+l)(r)||o.hideControls.push(n[i].key)),void 0!==(l=n[i]["other-readOnlyConition"])&&""!==l&&new Function("data","return "+l)(r)&&o.readOnlyControls.push(n[i].key),Array.isArray(n[i].children)&&(a=e({model:n[i].children,data:r}),o={hideControls:o.hideControls.concat(a.hideControls),readOnlyControls:o.readOnlyControls.concat(a.readOnlyControls)}),void 0!==n[i].placeholders)for(var s in n[i].placeholders)s=e({model:n[i].placeholders[s],data:r}),o={hideControls:o.hideControls.concat(s.hideControls),readOnlyControls:o.readOnlyControls.concat(s.readOnlyControls)};"customblock"===n[i]["data-buildertype"]&&"source"===n[i].sourceType&&null!=n[i].source&&(a=e({model:JSON5.parse(n[i].source),data:r}),o={hideControls:o.hideControls.concat(a.hideControls),readOnlyControls:o.readOnlyControls.concat(a.readOnlyControls)})}return o},updateEventsFormat:function(r){return r.updated||(Object.keys(r).forEach(function(e){var t,n=r[e];(n.actions||n.parameters||n.targets)&&(t={actions:n.actions||[],parameters:n.parameters||[],targets:n.targets||[]},r[e]={active:n.active||!1,triggers:n.actions?[t]:void 0})}),r.updated=!0),r}}},function(e,t){e.exports=i},function(e,t){e.exports=a},function(e,t){e.exports=l},function(e,t){e.exports=s},function(e,t){e.exports=c},function(e,t){e.exports=u},function(e,t){e.exports=p},function(e,t,n){n(23),e.exports=self.fetch.bind(self)},function(e,t){e.exports=f},function(e,t,n){var r,o,i;function a(e){if(i[e])return i[e].exports;var t=i[e]={i:e,l:!1,exports:{}};return o[e].call(t.exports,t,t.exports,a),t.l=!0,t.exports}e.exports=(r=n(0),i={},a.m=o=[function(e,t){e.exports=r},function(e,t,n){e.exports=n(7)()},function(e,t,n){function r(e){if(i[e])return i[e].exports;var t=i[e]={i:e,l:!1,exports:{}};return o[e].call(t.exports,t,t.exports,r),t.l=!0,t.exports}var o,i;e.exports=(i={},r.m=o=[function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"e",function(){return o}),n.d(t,"a",function(){return i}),n.d(t,"f",function(){return a}),n.d(t,"c",function(){return l}),n.d(t,"b",function(){return s}),n.d(t,"d",function(){return c});var o=["user","environment"],i={USER:"user",ENVIRONMENT:"environment"},a=["jpg","png"],l={PNG:"png",JPG:"jpg"},s=(r(t={},"jpg","image/jpeg"),r(t,"png","image/png"),t),c={audio:!1,video:!0}},function(e,t,n){e.exports=n(2)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"FACING_MODES",function(){return i}),n.d(t,"IMAGE_TYPES",function(){return l});var a=n(3),r=n(5),o=a.a.IMAGE_TYPES.PNG,n=(function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(s.prototype,[{key:"_getStreamDevice",value:function(r,o){var i=this;return new Promise(function(t,n){var e=a.a.getIdealConstraints(r,o);i.mediaDevices.getUserMedia(e).then(function(e){i._gotStream(e),t(e)}).catch(function(e){n(e)})})}},{key:"_getStreamDeviceMaxResolution",value:function(r){var o=this,e=a.a.getMaxResolutionConstraints(r,this.numberOfMaxResolutionTry);return null!=e?new Promise(function(t,n){o.mediaDevices.getUserMedia(e).then(function(e){o._gotStream(e),t(e)}).catch(function(e){setTimeout(function(){o.numberOfMaxResolutionTry+=1,o._getStreamDeviceMaxResolution(r).catch(function(){n(e)})},20)})}):this._getStreamDevice(r,{})}},{key:"_setVideoSrc",value:function(e){"srcObject"in this.videoElement?this.videoElement.srcObject=e:(e=this.windowURL.createObjectURL(e),this.videoElement.src=e)}},{key:"_setSettings",value:function(e){this.settings=null,0<(e=e&&e.getTracks?e.getTracks():[]).length&&e[0].getSettings&&(this.settings=e[0].getSettings())}},{key:"_gotStream",value:function(e){this.stream=e,this._setSettings(e),this._setVideoSrc(e)}},{key:"getCameraSettings",value:function(){return this.settings}},{key:"startCamera",value:function(e,t){var n=this;return this.stopCamera().then(function(){}).catch(function(){}).then(function(){return n._getStreamDevice(e,t)})}},{key:"startCameraMaxResolution",value:function(){var e=this,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return this.stopCamera().then(function(){}).catch(function(){}).then(function(){return e._getStreamDeviceMaxResolution(t)})}},{key:"getDataUri",value:function(e){return e={sizeFactor:void 0===e.sizeFactor?r.c:e.sizeFactor,imageType:void 0===e.imageType?o:e.imageType,imageCompression:void 0===e.imageCompression?r.a:e.imageCompression,isImageMirror:void 0===e.isImageMirror?r.b:e.isImageMirror},a.a.getDataUri(this.videoElement,e)}},{key:"stopCamera",value:function(){var n=this;return new Promise(function(e,t){n.stream&&(n.stream.getTracks().forEach(function(e){e.stop()}),n.videoElement.src="",n.stream=null,n._setSettings(null),e()),t(Error("no stream to stop!"))})}}]),s),i=a.a.FACING_MODES,l=a.a.IMAGE_TYPES;function s(e){(function(e){if(!(e instanceof s))throw new TypeError("Cannot call a class as a function")})(this),this.videoElement=e,this.stream=null,this.numberOfMaxResolutionTry=1,this.settings=null,this.windowURL=a.a.getWindowURL(),this.mediaDevices=a.a.getNavigatorMediaDevices()}t.default=n},function(e,t,n){"use strict";var s=n(4),o=n(0),n=(function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(r,[{key:"getDataUri",value:function(e,t){var n=t.sizeFactor,r=t.imageType,o=t.imageCompression,i=t.isImageMirror,a=e.videoWidth,l=e.videoHeight,a=(t=Object(s.b)(a,l,n)).imageWidth,l=t.imageHeight;return(n=document.createElement("canvas")).width=a,n.height=l,t=n.getContext("2d"),i&&t.setTransform(-1,0,0,1,n.width,0),t.drawImage(e,0,0,a,l),Object(s.a)(n,r,o)}},{key:"getWindowURL",value:function(){return window.URL||window.webkitURL||window.mozURL||window.msURL}},{key:"getNavigatorMediaDevices",value:function(){var r,e=null,t=!(!navigator.mediaDevices||!navigator.mediaDevices.getUserMedia),n=!(!navigator.mozGetUserMedia&&!navigator.webkitGetUserMedia);return t?e=navigator.mediaDevices:n&&(r=navigator.mozGetUserMedia||navigator.webkitGetUserMedia,n={getUserMedia:function(n){return new Promise(function(e,t){r.call(navigator,n,e,t)})}},e=Object.assign(r,n)),e}},{key:"isSupportedFacingMode",value:function(){return r.getNavigatorMediaDevices().getSupportedConstraints().facingMode}},{key:"getIdealConstraints",value:function(e,t){var n={audio:!1,video:{}};if(Object(s.c)(e,t))return o.d;var r=navigator.mediaDevices.getSupportedConstraints();return r.width&&r.height&&r.facingMode?(e&&o.e.includes(e)&&(n.video.facingMode=e),t&&t.width&&(n.video.width=t.width),t&&t.height&&(n.video.height=t.height),n):(console.error("Constraint width height or facingMode not supported!"),o.d)}},{key:"getMaxResolutionConstraints",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1],n=r.getIdealConstraints(e);return t>=(e=[{width:{min:640},ideal:{facingMode:e=n.video.facingMode}},{width:{min:800},ideal:{facingMode:e}},{width:{min:900},ideal:{facingMode:e}},{width:{min:1024},ideal:{facingMode:e}},{width:{min:1080},ideal:{facingMode:e}},{width:{min:1280},ideal:{facingMode:e}},{width:{min:1920},ideal:{facingMode:e}},{width:{min:2560},ideal:{facingMode:e}},{width:{min:3840},ideal:{facingMode:e}}]).length?null:(t=e.slice(0,-t),n.video.advanced=t,n)}},{key:"FACING_MODES",get:function(){return o.a}},{key:"IMAGE_TYPES",get:function(){return o.c}}]),r);function r(){!function(e){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}(this)}t.a=n},function(e,t,n){"use strict";function r(e,t){var n={};try{(function(e){if(!(0<=t&&t<=1))throw new Error(t+" is invalid imageCompression, choose between: [0, 1]");if(!o.f.includes(e))throw new Error(e+" is invalid imageType, choose between: "+o.f.join(", "))})(e),n.imageType=e,n.imageCompression=t}catch(e){console.error(e),console.error("default value of "+o.c.PNG+" is used"),n.imageType=o.c.PNG,n.imageCompression=null}return n}t.b=function(e,t,n){return{imageWidth:n=e*parseFloat(n),imageHeight:t/(e/n)}},t.a=function(e,t,n){return r(t,n).imageType===o.c.JPG?n?e.toDataURL(o.b[o.c.JPG],n):e.toDataURL(o.b[o.c.JPG]):e.toDataURL(o.b[t])},t.c=function(e,t){return!(e||t&&!function(e){if("object"===(void 0===e?"undefined":i(e)))for(var t in e)if(e.hasOwnProperty(t))return;return 1}(t))};var o=n(0),i="function"==typeof Symbol&&"symbol"==Fa(Symbol.iterator)?function(e){return Fa(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":Fa(e)}},function(e,t,n){"use strict";n.d(t,"c",function(){return r}),n.d(t,"a",function(){return o}),n.d(t,"b",function(){return i});var r=1,o=null,i=!1}],r.c=i,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:n})},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=1))},function(e,t,n){e.exports=n(4)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(5);n.d(t,"Camera",function(){return r.c}),n.d(t,"FACING_MODES",function(){return r.a}),n.d(t,"IMAGE_TYPES",function(){return r.b}),t.default=r.c},function(e,t,n){"use strict";var r=n(6);n.d(t,"a",function(){return r.a}),n.d(t,"b",function(){return r.b}),t.c=r.c},function(e,t,n){"use strict";function r(n){var e,t,r,o=(s=O(e=Object(V.useState)(""),2))[0],i=s[1],a=(r=O(u=Object(V.useState)(!0),2))[0],l=r[1],s=(e=O(t=Object(V.useState)(""),2))[0],c=e[1],u=Object(V.useRef)(null),p=(t=O(r=Object(y.a)(u,n.idealFacingMode,n.idealResolution,n.isMaxResolution),4))[0],f=t[1],d=t[2],h=t[3];return Object(V.useEffect)(function(){p?"function"==typeof n.onCameraStart&&n.onCameraStart(p):"function"==typeof n.onCameraStop&&n.onCameraStop()},[p]),Object(V.useEffect)(function(){f&&(c(f.name+" "+f.message),"function"==typeof n.onCameraError&&n.onCameraError(f))},[f]),Object(V.useEffect)(function(){d&&Object(w.d)(d.message)},[d]),e=Object(w.b)(a,n.isImageMirror),r=Object(w.a)(!a),t=n.isFullscreen?"react-html5-camera-photo-fullscreen":"",m.a.createElement("div",{className:"react-html5-camera-photo "+t},m.a.createElement(b.a,{cssClass:"display-error",isDisplayError:n.isDisplayStartCameraError,errorMsg:s}),m.a.createElement(g.a,{isShowWhiteFlash:!a}),m.a.createElement("img",{style:r,alt:"camera",src:o}),m.a.createElement("video",{style:e,ref:u,autoPlay:!0,muted:"muted",playsInline:!0}),m.a.createElement(v.a,{isClicked:!a,onClick:function(){var e={sizeFactor:n.sizeFactor,imageType:n.imageType,imageCompression:n.imageCompression,isImageMirror:n.isImageMirror},t=h(e);n.isSilentMode||Object(w.c)(),"function"==typeof n.onTakePhoto&&n.onTakePhoto(t),i(t),l(!1),C&&clearTimeout(C),C=setTimeout(function(){l(!0),"function"==typeof n.onTakePhotoAnimationDone&&n.onTakePhotoAnimationDone(t)},900)}}))}var V=n(0),m=n.n(V),o=n(1),i=n.n(o),a=n(2),y=(n.n(a),n(9)),v=n(13),g=n(15),b=n(17),w=n(19),o=n(21);function O(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,l=e[Symbol.iterator]();!(r=(a=l.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{!r&&l.return&&l.return()}finally{if(o)throw i}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}n.n(o),n.o(a,"FACING_MODES")&&n.d(t,"a",function(){return a.FACING_MODES}),n.o(a,"IMAGE_TYPES")&&n.d(t,"b",function(){return a.IMAGE_TYPES});var C=null;(t.c=r).propTypes={onTakePhoto:i.a.func,onTakePhotoAnimationDone:i.a.func,onCameraError:i.a.func,idealFacingMode:i.a.string,idealResolution:i.a.object,imageType:i.a.string,isImageMirror:i.a.bool,isSilentMode:i.a.bool,isDisplayStartCameraError:i.a.bool,imageCompression:i.a.number,isMaxResolution:i.a.bool,isFullscreen:i.a.bool,sizeFactor:i.a.number,onCameraStart:i.a.func,onCameraStop:i.a.func},r.defaultProps={isImageMirror:!0,isDisplayStartCameraError:!0}},function(e,t,n){"use strict";function r(){}function o(){}var a=n(8);o.resetWarningCache=r,e.exports=function(){function e(e,t,n,r,o,i){if(i!==a)throw(i=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types")).name="Invariant Violation",i}function t(){return e}var n={array:e.isRequired=e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:o,resetWarningCache:r};return n.PropTypes=n}},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t,n){"use strict";function p(e){return function(){var l=e.apply(this,arguments);return new Promise(function(i,a){return function t(e,n){try{var r=l[e](n),o=r.value}catch(e){return void a(e)}if(!r.done)return Promise.resolve(o).then(function(e){t("next",e)},function(e){t("throw",e)});i(o)}("next")})}}t.a=function(r,o,i,a){var e=Object(d.useState)(null),l=(n=V(e,2))[0],s=n[1],t=Object(d.useState)(null),n=(e=V(t,2))[0],c=e[1],t=Object(d.useState)(null),t=(e=V(t,2))[0],u=e[1];return Object(d.useEffect)(function(){r&&r.current&&(m=new h.a(r.current))},[r]),Object(d.useEffect)(function(){var e,t,n=(e=p(f.a.mark(function e(){var t;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(y=!0,e.prev=1,t=null,a)return e.next=6,m.startCameraMaxResolution(o);e.next=9;break;case 6:t=e.sent,e.next=12;break;case 9:return e.next=11,m.startCamera(o,i);case 11:t=e.sent;case 12:s(t),c(null),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(1),c(e.t0);case 19:case"end":return e.stop()}},e,this,[[1,16]])})),function(){return e.apply(this,arguments)});if(l)return t=p(f.a.mark(function e(){return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,y)return y=!1,e.next=5,m.stopCamera();e.next=5;break;case 5:r&&r.current&&(s(null),u(null)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),u(e.t0);case 11:case"end":return e.stop()}},e,this,[[0,8]])})),function(){return t.apply(this,arguments)};n()},[r,l,o,i,a]),[l,n,t,function(e){return m.getDataUri(e)}]};var t=n(10),f=n.n(t),d=n(0),t=(n.n(d),n(2)),h=n.n(t),V=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,l=e[Symbol.iterator]();!(r=(a=l.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{!r&&l.return&&l.return()}finally{if(o)throw i}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},m=null,y=!1},function(e,t,n){e.exports=n(11)},function(e,t,n){var r=function(){return this}()||Function("return this")(),o=r.regeneratorRuntime&&0<=Object.getOwnPropertyNames(r).indexOf("regeneratorRuntime"),i=o&&r.regeneratorRuntime;if(r.regeneratorRuntime=void 0,e.exports=n(12),o)r.regeneratorRuntime=i;else try{delete r.regeneratorRuntime}catch(e){r.regeneratorRuntime=void 0}},function(S,e){!function(e){"use strict";function i(e,t,n,r){var o,i,a,l,t=t&&t.prototype instanceof c?t:c,t=Object.create(t.prototype),r=new u(r||[]);return t._invoke=(o=e,i=n,a=r,l=w,function(e,t){if(l===C)throw new Error("Generator is already running");if(l===k){if("throw"===e)throw t;return f()}for(a.method=e,a.arg=t;;){var n=a.delegate;if(n){var r=function e(t,n){var r=t.iterator[n.method];if(r!==d)return"throw"===(r=s(r,t.iterator,n.arg)).type?(n.method="throw",n.arg=r.arg,n.delegate=null,E):(r=r.arg)?r.done?(n[t.resultName]=r.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=d),n.delegate=null,E):r:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,E);if(n.delegate=null,"throw"===n.method){if(t.iterator.return&&(n.method="return",n.arg=d,e(t,n),"throw"===n.method))return E;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return E}(n,a);if(r){if(r===E)continue;return r}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if(l===w)throw l=k,a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);if(l=C,"normal"===(r=s(o,i,a)).type){if(l=a.done?k:O,r.arg===E)continue;return{value:r.arg,done:a.done}}"throw"===r.type&&(l=k,a.method="throw",a.arg=r.arg)}}),t}function s(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}function c(){}function t(){}function n(){}function r(e){["next","throw","return"].forEach(function(t){e[t]=function(e){return this._invoke(t,e)}})}function a(a){var t;this._invoke=function(n,r){function e(){return new Promise(function(e,t){!function t(e,n,r,o){if("throw"!==(e=s(a[e],a,n)).type){var i=e.arg;return(n=i.value)&&"object"==Fa(n)&&V.call(n,"__await")?Promise.resolve(n.__await).then(function(e){t("next",e,r,o)},function(e){t("throw",e,r,o)}):Promise.resolve(n).then(function(e){i.value=e,r(i)},o)}o(e.arg)}(n,r,e,t)})}return t=t?t.then(e,e):e()}}function o(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function l(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function u(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(o,this),this.reset(!0)}function p(t){if(t){if(e=t[m])return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var e,n=-1;return(e=function e(){for(;++n<t.length;)if(V.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=d,e.done=!0,e}).next=e}}return{next:f}}function f(){return{value:d,done:!0}}var d,h=Object.prototype,V=h.hasOwnProperty,m=(g="function"==typeof Symbol?Symbol:{}).iterator||"@@iterator",y=g.asyncIterator||"@@asyncIterator",v=g.toStringTag||"@@toStringTag",g="object"==Fa(S),b=e.regeneratorRuntime;if(b)return g&&(S.exports=b);(b=e.regeneratorRuntime=g?S.exports:{}).wrap=i;var w="suspendedStart",O="suspendedYield",C="executing",k="completed",E={};(e={})[m]=function(){return this},(g=(g=Object.getPrototypeOf)&&g(g(p([]))))&&g!==h&&V.call(g,m)&&(e=g);var A=n.prototype=c.prototype=Object.create(e);(t.prototype=A.constructor=n).constructor=t,n[v]=t.displayName="GeneratorFunction",b.isGeneratorFunction=function(e){return!!(e="function"==typeof e&&e.constructor)&&(e===t||"GeneratorFunction"===(e.displayName||e.name))},b.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,n):(e.__proto__=n,v in e||(e[v]="GeneratorFunction")),e.prototype=Object.create(A),e},b.awrap=function(e){return{__await:e}},r(a.prototype),a.prototype[y]=function(){return this},b.AsyncIterator=a,b.async=function(e,t,n,r){var o=new a(i(e,t,n,r));return b.isGeneratorFunction(t)?o:o.next().then(function(e){return e.done?e.value:o.next()})},r(A),A[v]="Generator",A[m]=function(){return this},A.toString=function(){return"[object Generator]"},b.keys=function(n){var e,r=[];for(e in n)r.push(e);return r.reverse(),function e(){for(;r.length;){var t=r.pop();if(t in n)return e.value=t,e.done=!1,e}return e.done=!0,e}},b.values=p,u.prototype={constructor:u,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=d,this.done=!1,this.delegate=null,this.method="next",this.arg=d,this.tryEntries.forEach(l),!e)for(var t in this)"t"===t.charAt(0)&&V.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=d)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(n){function e(e,t){return i.type="throw",i.arg=n,r.next=e,t&&(r.method="next",r.arg=d),!!t}if(this.done)throw n;for(var r=this,t=this.tryEntries.length-1;0<=t;--t){var o=this.tryEntries[t],i=o.completion;if("root"===o.tryLoc)return e("end");if(o.tryLoc<=this.prev){var a=V.call(o,"catchLoc"),l=V.call(o,"finallyLoc");if(a&&l){if(this.prev<o.catchLoc)return e(o.catchLoc,!0);if(this.prev<o.finallyLoc)return e(o.finallyLoc)}else if(a){if(this.prev<o.catchLoc)return e(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return e(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;0<=n;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&V.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}var i=(o=o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc?null:o)?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,E):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),E},finish:function(e){for(var t=this.tryEntries.length-1;0<=t;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),l(n),E}},catch:function(e){for(var t=this.tryEntries.length-1;0<=t;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r,o=n.completion;return"throw"===o.type&&(r=o.arg,l(n)),r}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:p(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=d),E}}}(function(){return this}()||Function("return this")())},function(e,t,n){"use strict";var r=n(0),o=n.n(r),i=n(1),r=n.n(i),i=n(14);n.n(i),(i=function(e){var t=e.onClick,n=e.isClicked;return o.a.createElement("div",{id:"container-circles"},o.a.createElement("div",{id:"outer-circle",onClick:function(e){n||t()}},o.a.createElement("div",{id:"inner-circle",className:n?"is-clicked":""})))}).propTypes={onClick:r.a.func.isRequired,isClicked:r.a.bool.isRequired},t.a=i},function(e,t){},function(e,t,n){"use strict";var r=n(0),o=n.n(r),i=n(1),r=n.n(i),i=n(16);n.n(i),(i=function(e){return e=e.isShowWhiteFlash,o.a.createElement("div",{id:"white-flash",className:(e?"do-transition":"")+" normal"})}).propTypes={isShowWhiteFlash:r.a.bool.isRequired},t.a=i},function(e,t){},function(e,t,n){"use strict";var r=n(0),o=n.n(r),i=n(1),r=n.n(i),i=n(18);n.n(i),(i=function(e){var t=e.isDisplayError,n=e.errorMsg,r=e.cssClass;return e=n,t&&e&&0<e.length?(console.log("cssClass",r),o.a.createElement("div",{className:r,id:"display-error"},o.a.createElement("h1",null,"Camera error: ",n))):null}).propTypes={isDisplayError:r.a.bool,errorMsg:r.a.string,cssClass:r.a.string},t.a=i},function(e,t){},function(e,t,n){"use strict";function r(e){return e?{display:"inline-block"}:{display:"none"}}t.a=r,t.b=function(e,t){return Object.assign({},t?{transform:"rotateY(180deg)"}:{transform:"none"},r(e))},t.c=function(){new Audio("data:audio/mp3;base64,"+o.a.base64).play()},t.d=function(e){console.info("react-html5-camera-photo info:",e)};var t=n(20),o=n.n(t)},function(e,t){e.exports={base64:"SUQzBAAAAAAASVRQRTEAAAAcAAADU291bmRKYXkuY29tIFNvdW5kIEVmZmVjdHMAVFNTRQAAAA8AAANMYXZmNTcuNzIuMTAxAAAAAAAAAAAAAAD/+1QAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABJbmZvAAAADwAAAB0AACxAAA0NDRUVFR4eHh4nJycvLy8vODg4QUFBQUlJSVJSUlJbW1tjY2NsbGxsdXV1fX19fYaGho+Pj4+Xl5egoKCgqampsbGxurq6usPDw8vLy8vU1NTd3d3d5eXl7u7u7vf39////wAAAABMYXZjNTcuOTMAAAAAAAAAAAAAAAAkAkAAAAAAAAAsQC+b5ZH/+5RkAA/wAABpAAAACAAADSAAAAEAAAGkAAAAIAAANIAAAAR4RBEitS0FLUmhcO1TSK1JoJrUtC4dpmkUlLQTQUtC4dpqkUkVoJoJpxcO01KKSK1JoJoRcO01i0kUlLGJkCdw7Skpaho4aHGJkCZkO0pIrDBxw0OGHoEzD3aUkVhg4wMHDD0E4tjjUkUgw8YPDhloJxbSaSRSGhxg8YpaCcW00kRSRWpNBOxZ/1VVFlv/9LLLqu//VVVUW//WWWWXd/6VVVVd/+qsssGH/ZZZVVUDt+1VVlli1dIxZZVUDI0RhaqqyzX9GLLLKq/+QtVVGgCAACMZAAY0NkBDHeIlc0SIVc0Kpu8Sudc0SucfQq+iRCd4hOlc0SubvEJ3NHiE76FErnCr13iE74d4hO8Q0SuaJUSuaJXKvEJ330Su8Q0KuaFUJ3iVzcWaJQ7wWYBHSMAgAD4xjjeYxjZ35znnO/zkJOfqQhKnO6B88jTnnOd0IRjhwUZTnO85///znkD/+5Rkrg7gAABpAAAACAAADSAAAAEQ2Y50IITAARuAEEgQjXnhDgIHCKc53IHxdyEbnOehCEkJ+pCelSMp4gHBRQ4HG5CSE8hJCN/U7oIBwONJAAAAABzNHNlZ0RgQYz9Z7iGTHEB/80BaFYCuiQxoNtAsgAYQaVXEGCOw1eAQwscAnqCA4wbgC2AfcLWgsjQU2SxNkDIOQcAICYDsC/QfJunpFwYwiBPhc4QIMLhqQFyQQMafSYToaBt4ucd4uQQUAgwyMNQQuQItic+ghuLAQdlkELTqJsxICMaQ4UERZT0KbbSURTRUOZYcwcwY5MiwoENUDJjGFslwwOn609SlqYXIK0HgXO8XPcbKThcIPIuUVoQiSyXYhB9OtX////+MF0v////zWIAICAEKgAB/mXJmPHgWEBgPOgZOlaYsIFBP+AQ4QLHrqkMPcPAKKBZ7ZFyAhl8AcIGyALmsoLqwDiCwCxhv4aX8i47Q9MOXKIXAEgKFDAxNenFnkHFkEQb/+5RE9QADBV+6LQRgAltMZtWglABa0gEKuaiAC3vAoeM1MAAWYQILzHIICTw5nW7RcBUEpjnkHEoDmA3lH0Xw/cQVFJCxdNqCh2E2Xy+dJs3JsiossdgrUcoTkRIc5t++OWO8ToPJNi5D0XIXSYEJxaidDVAy5PlocIZPW62fVpyLigBQBAHrIuVrJOFrg5pLCcSAkokPocwjSNHPHN0//////////+QhCj7qaGYVYmpqaAAAGq7AwgBlh8VBaQtGWez8jOC40Cs8QWdoEoqxgWS1OGgVhKDhH+mSYIkesyxKFQLAOJPHUkiRlkHQGoXY9YwWxnKGEht1WcAxxbxjowl8ZZOpjMoTFYLhMp1UWNzTcRKlEThVyzRJ9C5JpucTzZNnKasIvafZ4+7b8Nv83+Mazrf1JvUKBJrxNz2pLmfWWKB/Cz8x/7RM5/1Ce/+L76+P5VVv//Of/6N7Pce0F4fxJEPU6bWE3FR6oN5kpCbjkeTdixgeMWuvWJWbPnn/+5RkagAFn1nIzmXgAoEqWPDHsABTQW8/uPeACTkOaPcYsABbsyzEjbu+fchSvlqOGJ9HCWDt1LSxKyl8Ukl5ZzCMTzuj69ziub5eq/GI1/jU05e/Vyef+sLP2UOTjPezyH/2pWN3Kd+UX7tbbLmTSNimTrrEzKqWI82ZXEVz/f+APYQWsTYAFgsDYkDgbEotLbToGU/zJZiBhooccZojHRxKjGTDmIYgELVTQ6I2QqDhXYc7gxAUg/WKLpvmqB/Aa3CjVqNWDqJq6FkPVCvUdaazrdNQLVgv4+X93OD48uq7h+33naGTRWem5b5x8/PzbP34OY+8UeZuq839/vV6xL5/9b/XgaviJ9X39eff////zE3/////R5XdMx9Zlv5kMT+fb+7lKgBsvQwB1JIZFR4wVnWT2FlJ/9ydOZTEtzzjSMAwIrF0HW4nk9iLot6Z7fXzZ9ce865weBD+l9AJVqCZJWiEQsTcMVtf+2qtxuAtqJsBk0mAUCkVg8GmyjH/+5RkCQADSzRfbjFgBDyCa4/GlACMzGFh/PMACSAXa/+SUACjoDx0SmqACERx/bjtG4yJBsfEURAKyS7HTNFQ7ithQtedceTij5ucmkWN8luex6UdfP/y85Ma9PZExfX7fX5N6mDZIDUU5B4GFjoqoho+gmvcXDwfOFEQBAJAImIAIgAEBgoCAACgBWBb6r87R1ptBJTt9CIxPHoSUlxjgK9m/SEj3c159dg8LocfP5dBMH0/+r8bNvCqREJgBAo3AsBPzmJsdpUPjpXS9g9FMzKZrbNwgKTOuEDqnHmTRomLkbR2pd3RDi2Tznwzv//7otGijIoTEh2G3Q46FAgGDpWjmXd5f7f/7jYhgVdpAWecCrcCQt2IrHuQFiFFHxnaDIwAAJAFyyJGMwQlgONtlkI6kliXEWGr3/aI4kBnKOqNM539ilaUrLMZH/lUzP+ubGjlo8qZtgiBDTywUCohJd1f/r7rKml6giMBAAJEqYxixGCLCoy4k/LilUWoA4T/+5RkDIIDKhvW+ekyIkcDiu8kYoQMtHVX56UMiSmMKrj0jJnnxKuJignB5BdoZW+9uSWOWnCfrsssUm7dsQBie/NwY8W5Mcwd2coQYLGa4lTralcVA1UmoIyYTV/+2yAhmrb2/n/usGNZ7WlQTff6IlqcUUhEAJEqA8DKDVVREeIr8esjOrIUkuirufCdazjA811RD9N4LbvbaQCrw4dHvhMDz5A2w6KgoASjBS/Z+oFXtQIWF1JaIlkIxIAVMLauzmL6Rl2Q88yap03k8jXbwTjyBATEib0nyZFm3bJLlisBM01260qLqxtjRyN3m+oeF0gaslaUUUQ+FPb3T5AmE9qgnWRkokRC7/ODQPHdJPvq//9E2/SxEVK8v8htbsiCAAAgWWvTAjwQFpoiNLhYgE54RXwYLM+nGalvD2YxIJBjCwcqYng0c1/O3ts1SX8vgE9ZFUddfs8VPyCUwUA1wwzDBe2/+arbfpkEAAkBTABB0BwGgTAGdBCwAkBHJh7/+5RkDAADMxjUaYxJwkuiap8xIygM4G9Tp5kQmQkTrXzAmmOsHqFdAdFFCiEr5yxbLwZtWEEdVovOs23MAvAStVLKV8IXKgKrT8ncmLedi7bB/cA3VbAaKlqOq5/HaA4InbPz5nmuucADoe6xcBNt7tSPMuqIZAAAJBShDfodhw8JW8ZZJHhUwH3Fw7/DalLuM1CoAAQXCh4QvMhMrHIu0JKhUHpigUiESAQcKQCBYuIlFAIIUGgiPNQr+3/qOciRRBARJTh8shKgNIuRVKUxSdti8UYsSmgfCmU53r4EGDk9h+UaQORLKigsxpCqsGqz2zQThjt29fjfjzCmksKQOfPf4ErnOwvcZIT9DQVP/9TFYZiYuyTT96/zSiWVZKgcauvX/Fd2hVVUNhuyQBJGdRxhU4uKqjyBE8rLjlmFbTMFLMEjhIDHv6NmRNmf/x/F/5cxOiRvEoLByWYmOhp3cSRgUq/7/qoYV0MBAAAAIAdHYSUB4FLQkP5cCxrCATz/+5RkDAADcxrQ+e8ackTCep8wwjpL4TlL56RsgQ2T6HjEiTjmdytbVp+p2hSvFX/J3siqX5Wp2r5mJhZB/SmifjK/QQ4ShGCxzKeZDGcp/kktH8kDWWOSZDARPRv7gK6He3vFplnf/ISQ4UblSirr/7W5uvEVbi7d/41VMOCGZhBRugHYuN2QEgAmo6plMR15BTDpS6GyW+h+zjhlE8LMf//ITt//LrTQsNbb/J9Zyp169ismbG93VWFmoE0ymLyzqiiAgAXG5uD/P1BnCX472hAoSyXQ5JvjJEp2tNIkZx/G6bBA1KGgQYzpIzGm5IWHFI3Mrnvebeakn//f8j/pWaH1rsSqWc2dp0jnbn3/7JmdV7+rm4jPHhXFE1r0tJiYoAAAAigB0SlA5VjmyuiQgE4EkySaHa9QarZQzE+i/c44HSRySJ4CDjRhoytL7p/+PEeSed2CYQgcEgTaIoDtrrpKeaNEABAKbd2LYYyuPAvgvmUzBhOEiQkCUASwM4n/+5RkDwACrRjR+eZCQEOC2f4x5jYL0TlD56RriN8N7HyXiJ54Gw8X6M1cW+MDfWrsKucJQ0gMq/komUNiAq4FSIwOpfEowi0zG6KleQCSwEHCweBskbbnvsRfcri9EggAAUkBeGC1nNGwSq4XGArmaGnlPGbIccshyzql3zEm2iXAZItfIUAwLCoVDYKxffIQWDp2wsVDAJDsKevOnvQcxkqRgBAKSS4GO+X2ZRCBlqF/QtpvneXKjA4qgriVakmnNLSUvMmiVGtept5SCQ5tDuocjzRsk/bPpezir/nVJu2kc4xlwvbaEtJd6zQ6R3eZfPv/ZJ9m7oiBSzn3SsPUuzAigOuJgJs0MnJOxdG1Hos5k5GjucbkewcqlX//d9egcowOwg72yIVFgeHHACCQIp/9PT01NnhGAQAAAknKA6Tbgw7HGWOAnUc4qlQxWxVTQozhF1NqtN4r5ZNzwrSNPp7VsAAhMNBEATOaL/+InKoczbIhOQm8yucxCbkEwBj/+5RkJQACy03O+eEWUj8Cqd0kI2JK7FM957BJCP8LZrDEjRj7MQQulP8iNv1ZQ4OWjvqHfxoAAAVtoBJyKgSboha50SOlHFNhEvo0yk1IDQILHJd8pzLwyCCFsP8b6IUbJYLXxxLBnDxp1STleWZlv/9Kz3aKJGABkluAYT6bKlJ0SsMEFQhDZNG46mJhXjMyWnaEijV2W3UQQjhJ2y0PbgCxKEv/f+ooiGu9UlKa1tKv4sNhxYveU5D+e9J/2/3u9i4YA5osaQqZV7oIAAVOEC1I9By09EwqKkMtLA2RufTbvi1rZ3AWUsGCwYCCGdpMJPBVQLQqxvFCAWEaRqjziYSr/tU5CgK2lSZ5l0MQIByXbAOUTklQFwOgfB8rh4B4jOlhhg7ZuucQTkGoy6+ZAqKKQ6gWMbPkZmZ9al/+kwJlkVSkI3uaVC2PdDdkO2QyMxaaVttL+yKt1NKxBTFCCAVrowyW2stA1KFv0hbLb65ETygHpTFEK1a04Ng4gIb/+5RkOwAC0k7O+YMUUj6BiiwFgg3KmJ8zphhtQRKNZGBmJRA3zVydPlFXGVS////puxqodg5reZNm7/MndWf/JPWm/zFfXM98bBIBmkEAqijiJIAzdzxAOh6LS9CEgB3NmijZQuE95VFuWutlsK2FVMstBJuVY76LLWembjBBYkSAGFCwCSE1Ppa8UNIPf/rQVegNg4JAcJFg6bBbQAIAMCuSFKdNYIqoIFhkZHZCSAvBs6hSPpInc9z4qA4OHAHPHf+l0aFJ/6EAAV2ArBonPBCu1MQoShTe7XNf9XsZ9qpd+AAP+gZLrd1p3akdlU8FYXUqpYXEkAAVGvN3ewT7cvODAwWv/t31+k+EtuUdesnV7G0KUzixLoR06olmbZdiqiqzv7N7ttT6aftruhpizihYWJqUcutcZKiaIBXJKbYkBix6RiszxMK5sJ3Ztcpka/ndJlS85HzhllK4TzomBkODyvw6MKWqB1yAbBMTKNvY95k+RrRGFkLBABAgI4n/+5RkT4QSok5JyeYT4kUDee0Z40mKUJ8YyLypwOeOZChhDhBy6cO3WizCTU0ThVTKhLA6LJCj9VhvNbUxMr572iZ6pVQhrx7L5n3lEWWQSMJMsqkMdU/2ogTDpQ1LUgDmIw0+xSPp8q74NAETGx7fpCHkBgwgHtJJbfdIBQ2Ei9iiS4Fg8HgwECBAIpSoj4KVspVh+KNAkISWq9gdCp655vAt6qxRINC8/20T9M/zI5/3sr5eevDsXTYoZDpVDe4LaAc3X7C+k/mRXV/V5vK5X/MCgvHUGw6tbfym3UZ9VRnJVEgkcSR3dZmtOt37p7dv6f/T6V/5QuVKCHLFJbd+mxP/FHcjQI+/uXECJ7zhGKxohM9ZXlY1KlYdgNDNEOUMYLMaFMiPhVqvdmtZbF0KohuyOtfX+j/+n/xVc7/7fut6xwOQ9a6vx5ougb49A6BJJiQoymSK5RLTnwaC0KFVw9GzUl1d/2ZWq5kZlbpVkQ4EZ1WpHor+uT365V/7vT//+5Rkao9yt1FEAeY+EEBoWIAk4pQJATkOBZhRAQuSIZBzCXDoq+3/8Y3/2M/FBCAObWqHRAAtBiifAQCA1BRpVb52s2S5LI2Dq/8pdzkc9Eo10eK9QbhdwiNCt85vHP1ouZJ3FHtp77tE/0fZHon7N6oJwACADvQx9SohjjDiuogvjxhWFb55pURta2RhcxRyGZ73J0P0VvoiQ4ZlVaNv1djz1ZmtRGX9aKt2/33+1vszag1xXTcAbOWQBd6nCJkAAAwE50ngeCHKFx4NgkajxyDQGDg8gbAB82lgNsldzF0/I1VXDWjZv6losVd/pjqv+mkYxQAgLAqKmFTMqgPTSAlvGL6vsVEwoP4QoNGxYoxifXxK5OK3E9Raod2Xk6CZV263XWvqrscMz9Fa3b0ATfVXh3tQen8E8aMctpDNFg+tKkvaxhtKRI5UCFQOo+ei5Y3ApV5GBuyyL3V5hL1tIrGwRIlHhIqrvQBtZxSWLjrVaqwMSGQ1hqCNaJDGiFH/+5RkhwBSYU3DQUYS4DThKHsAIgQHeGkNgIhqgQQJ4NQAjCJAlFF/+Pt02b8lSSXzdgtLH4ihpv64/LHJp/ekvx66X+Hd5lMVFew/KbF2/CeuO7/xf903H92Cr0eRG0lKHlls5APGEG0b1MrTN/Pxtf92++3b1/ZC7yOuo1L/fUJr99PmOau1+DczWWohH8L0eh/nWTbo8/OvyZ/ccZuEf/+Rn/l/L/M//+ZEqKpH+ZFToqJ+iqi+i/yoi+ip9yhgYMh27OZUWpgoIEd1ITFaxUllRQWcDAaskNCYwCgJAlEQaBsJgsBQSlREGgbCYLBUBAUSiINB2dKnUZK3kSJ1948Y9LNCn/I9c763Wf1AVct8rUxBTUUzLjk5LjVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+5REtg5yOQ+/ACAYIkLiWBAEIy5G6UjKQIBcAPWAH5ARjShVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVACCU025+ZGfywyOy3//ksyP+XMmstIyNWCggQNHI1ls////WWRyMmVgYME6GTLJZ///2WWxyNWWSoZGrWyzL/9WVqCBOhkyhgYMI6GrBQUqFpoVFP9bDILCzOLiv/rFRYk//qF+LCrDKm/4o2sVFtbP6hdmLCsyoXUxBTUUzLjk5LjVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+5Rkjg/ygl8ruCAaQiiABWAAAAAAAAGkAAAAIAAANIAAAARVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUxBTUUzLjk5LjVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+5RkUY/wAABpAAAACAAADSAAAAEAAAGkAAAAIAAANIAAAARVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUxBTUUzLjk5LjVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+5RkUY/wAABpAAAACAAADSAAAAEAAAGkAAAAIAAANIAAAARVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUxBTUUzLjk5LjVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+5RkUY/wAABpAAAACAAADSAAAAEAAAGkAAAAIAAANIAAAARVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUxBTUUzLjk5LjVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+5RkUY/wAABpAAAACAAADSAAAAEAAAGkAAAAIAAANIAAAARVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUxBTUUzLjk5LjVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+5RkUY/wAABpAAAACAAADSAAAAEAAAGkAAAAIAAANIAAAARVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUxBTUUzLjk5LjVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+5RkUY/wAABpAAAACAAADSAAAAEAAAGkAAAAIAAANIAAAARVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUxBTUUzLjk5LjVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+5RkUY/wAABpAAAACAAADSAAAAEAAAGkAAAAIAAANIAAAARVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUxBTUUzLjk5LjVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+5RkUY/wAABpAAAACAAADSAAAAEAAAGkAAAAIAAANIAAAARVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUxBTUUzLjk5LjVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+5RkUY/wAABpAAAACAAADSAAAAEAAAGkAAAAIAAANIAAAARVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUxBTUUzLjk5LjVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+5RkUY/wAABpAAAACAAADSAAAAEAAAGkAAAAIAAANIAAAARVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUxBTUUzLjk5LjVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+5RkUY/wAABpAAAACAAADSAAAAEAAAGkAAAAIAAANIAAAARVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUxBTUUzLjk5LjVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+5RkUY/wAABpAAAACAAADSAAAAEAAAGkAAAAIAAANIAAAARVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUxBTUUzLjk5LjVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+5RkUY/wAABpAAAACAAADSAAAAEAAAGkAAAAIAAANIAAAARVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVU="}},function(e,t){}],a.c=i,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:n})},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="",a(a.s=3))},function(e,t){e.exports=d},function(e,t){e.exports=h},function(e,t){e.exports=V},function(e,t){e.exports=m},function(e,t){e.exports=y},function(e,t){e.exports=v},function(e,t){e.exports=g},function(e,t){e.exports=b},function(e,t,n){var r,o,i,a,l,s;function c(e){if(s[e])return s[e].exports;var t=s[e]={exports:{},id:e,loaded:!1};return l[e].call(t.exports,t,t.exports,c),t.loaded=!0,t.exports}e.exports=(r=n(26),o=n(0),i=n(29),a=n(30),s={},c.m=l=[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=Fa(t)&&"function"!=typeof t?e:t}Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},a=function(e,t,n){return t&&d(e.prototype,t),n&&d(e,n),e},l=r(n(1)),s=n(2),c=r(s),u=r(n(3)),p=r(n(4));function f(){var e,o;!function(e){if(!(e instanceof f))throw new TypeError("Cannot call a class as a function")}(this);for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];return e=o=i(this,(e=f.__proto__||Object.getPrototypeOf(f)).call.apply(e,[this].concat(n))),o._sigPad=null,o._excludeOurProps=function(){var e=o.props;return e.canvasProps,e.clearOnResize,function(e,t){var n,r={};for(n in e)0<=t.indexOf(n)||Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n]);return r}(e,["canvasProps","clearOnResize"])},o.getCanvas=function(){return o._canvas},o.getTrimmedCanvas=function(){var e=document.createElement("canvas");return e.width=o._canvas.width,e.height=o._canvas.height,e.getContext("2d").drawImage(o._canvas,0,0),(0,p.default)(e)},o.getSignaturePad=function(){return o._sigPad},o._checkClearOnResize=function(){o.props.clearOnResize&&o._resizeCanvas()},o._resizeCanvas=function(){var e,t=o.props.canvasProps||{},n=t.width,r=t.height;n&&r||(e=o._canvas,t=Math.max(window.devicePixelRatio||1,1),n||(e.width=e.offsetWidth*t),r||(e.height=e.offsetHeight*t),e.getContext("2d").scale(t,t),o.clear())},o.on=function(){return window.addEventListener("resize",o._checkClearOnResize),o._sigPad.on()},o.off=function(){return window.removeEventListener("resize",o._checkClearOnResize),o._sigPad.off()},o.clear=function(){return o._sigPad.clear()},o.isEmpty=function(){return o._sigPad.isEmpty()},o.fromDataURL=function(e,t){return o._sigPad.fromDataURL(e,t)},o.toDataURL=function(e,t){return o._sigPad.toDataURL(e,t)},o.fromData=function(e){return o._sigPad.fromData(e)},o.toData=function(){return o._sigPad.toData()},i(o,e)}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+Fa(t));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)})(f,s.Component),a(f,[{key:"componentDidMount",value:function(){this._sigPad=new u.default(this._canvas,this._excludeOurProps()),this._resizeCanvas(),this.on()}},{key:"componentWillUnmount",value:function(){this.off()}},{key:"componentDidUpdate",value:function(){Object.assign(this._sigPad,this._excludeOurProps())}},{key:"render",value:function(){var t=this,e=this.props.canvasProps;return c.default.createElement("canvas",o({ref:function(e){t._canvas=e}},e))}}]),(a=f).propTypes={velocityFilterWeight:l.default.number,minWidth:l.default.number,maxWidth:l.default.number,minDistance:l.default.number,dotSize:l.default.oneOfType([l.default.number,l.default.func]),penColor:l.default.string,throttle:l.default.number,onEnd:l.default.func,onBegin:l.default.func,canvasProps:l.default.object,clearOnResize:l.default.bool},a.defaultProps={clearOnResize:!0},t.default=a},function(e,t){e.exports=r},function(e,t){e.exports=o},function(e,t){e.exports=i},function(e,t){e.exports=a}],c.c=s,c.p="",c(0))},function(e,t,n){"use strict";n.r(t),n.d(t,"Headers",function(){return u}),n.d(t,"Request",function(){return y}),n.d(t,"Response",function(){return g}),n.d(t,"DOMException",function(){return w}),n.d(t,"fetch",function(){return O});var r,o,l="undefined"!=typeof globalThis&&globalThis||"undefined"!=typeof self&&self||void 0!==l&&l,s={searchParams:"URLSearchParams"in l,iterable:"Symbol"in l&&"iterator"in Symbol,blob:"FileReader"in l&&"Blob"in l&&function(){try{return new Blob,!0}catch(e){return!1}}(),formData:"FormData"in l,arrayBuffer:"ArrayBuffer"in l};function i(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(e)||""===e)throw new TypeError('Invalid character in header field name: "'+e+'"');return e.toLowerCase()}function c(e){return"string"!=typeof e?String(e):e}function a(t){var e={next:function(){var e=t.shift();return{done:void 0===e,value:e}}};return s.iterable&&(e[Symbol.iterator]=function(){return e}),e}function u(t){this.map={},t instanceof u?t.forEach(function(e,t){this.append(t,e)},this):Array.isArray(t)?t.forEach(function(e){this.append(e[0],e[1])},this):t&&Object.getOwnPropertyNames(t).forEach(function(e){this.append(e,t[e])},this)}function p(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function f(n){return new Promise(function(e,t){n.onload=function(){e(n.result)},n.onerror=function(){t(n.error)}})}function d(e){var t=new FileReader,n=f(t);return t.readAsArrayBuffer(e),n}function h(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function V(){return this.bodyUsed=!1,this._initBody=function(e){this.bodyUsed=this.bodyUsed,(this._bodyInit=e)?"string"==typeof e?this._bodyText=e:s.blob&&Blob.prototype.isPrototypeOf(e)?this._bodyBlob=e:s.formData&&FormData.prototype.isPrototypeOf(e)?this._bodyFormData=e:s.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)?this._bodyText=e.toString():s.arrayBuffer&&s.blob&&e&&DataView.prototype.isPrototypeOf(e)?(this._bodyArrayBuffer=h(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):s.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(e)||o(e))?this._bodyArrayBuffer=h(e):this._bodyText=e=Object.prototype.toString.call(e):this._bodyText="",this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):s.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},s.blob&&(this.blob=function(){var e=p(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?p(this)||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer)):this.blob().then(d)}),this.text=function(){var e,t,n=p(this);if(n)return n;if(this._bodyBlob)return e=this._bodyBlob,n=f(t=new FileReader),t.readAsText(e),n;if(this._bodyArrayBuffer)return Promise.resolve(function(e){for(var t=new Uint8Array(e),n=new Array(t.length),r=0;r<t.length;r++)n[r]=String.fromCharCode(t[r]);return n.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},s.formData&&(this.formData=function(){return this.text().then(v)}),this.json=function(){return this.text().then(JSON.parse)},this}s.arrayBuffer&&(r=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],o=ArrayBuffer.isView||function(e){return e&&-1<r.indexOf(Object.prototype.toString.call(e))}),u.prototype.append=function(e,t){e=i(e),t=c(t);var n=this.map[e];this.map[e]=n?n+", "+t:t},u.prototype.delete=function(e){delete this.map[i(e)]},u.prototype.get=function(e){return e=i(e),this.has(e)?this.map[e]:null},u.prototype.has=function(e){return this.map.hasOwnProperty(i(e))},u.prototype.set=function(e,t){this.map[i(e)]=c(t)},u.prototype.forEach=function(e,t){for(var n in this.map)this.map.hasOwnProperty(n)&&e.call(t,this.map[n],n,this)},u.prototype.keys=function(){var n=[];return this.forEach(function(e,t){n.push(t)}),a(n)},u.prototype.values=function(){var t=[];return this.forEach(function(e){t.push(e)}),a(t)},u.prototype.entries=function(){var n=[];return this.forEach(function(e,t){n.push([t,e])}),a(n)},s.iterable&&(u.prototype[Symbol.iterator]=u.prototype.entries);var m=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function y(e,t){if(!(this instanceof y))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');var n,r=(t=t||{}).body;if(e instanceof y){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new u(e.headers)),this.method=e.method,this.mode=e.mode,this.signal=e.signal,r||null==e._bodyInit||(r=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"same-origin",!t.headers&&this.headers||(this.headers=new u(t.headers)),this.method=(e=(n=t.method||this.method||"GET").toUpperCase(),-1<m.indexOf(e)?e:n),this.mode=t.mode||this.mode||null,this.signal=t.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&r)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(r),"GET"!==this.method&&"HEAD"!==this.method||"no-store"!==t.cache&&"no-cache"!==t.cache||((t=/([?&])_=[^&]*/).test(this.url)?this.url=this.url.replace(t,"$1_="+(new Date).getTime()):this.url+=(/\?/.test(this.url)?"&":"?")+"_="+(new Date).getTime())}function v(e){var n=new FormData;return e.trim().split("&").forEach(function(e){var t;e&&(e=(t=e.split("=")).shift().replace(/\+/g," "),t=t.join("=").replace(/\+/g," "),n.append(decodeURIComponent(e),decodeURIComponent(t)))}),n}function g(e,t){if(!(this instanceof g))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');t=t||{},this.type="default",this.status=void 0===t.status?200:t.status,this.ok=200<=this.status&&this.status<300,this.statusText=void 0===t.statusText?"":""+t.statusText,this.headers=new u(t.headers),this.url=t.url||"",this._initBody(e)}y.prototype.clone=function(){return new y(this,{body:this._bodyInit})},V.call(y.prototype),V.call(g.prototype),g.prototype.clone=function(){return new g(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new u(this.headers),url:this.url})},g.error=function(){var e=new g(null,{status:0,statusText:""});return e.type="error",e};var b=[301,302,303,307,308];g.redirect=function(e,t){if(-1===b.indexOf(t))throw new RangeError("Invalid status code");return new g(null,{status:t,headers:{location:e}})};var w=l.DOMException;try{new w}catch(e){(w=function(e,t){this.message=e,this.name=t,e=Error(e),this.stack=e.stack}).prototype=Object.create(Error.prototype),w.prototype.constructor=w}function O(r,a){return new Promise(function(o,e){var t=new y(r,a);if(t.signal&&t.signal.aborted)return e(new w("Aborted","AbortError"));var i=new XMLHttpRequest;function n(){i.abort()}i.onload=function(){var e,n,t={status:i.status,statusText:i.statusText,headers:(e=i.getAllResponseHeaders()||"",n=new u,e.replace(/\r?\n[\t ]+/g," ").split("\r").map(function(e){return 0===e.indexOf("\n")?e.substr(1,e.length):e}).forEach(function(e){var t=e.split(":");(e=t.shift().trim())&&(t=t.join(":").trim(),n.append(e,t))}),n)};t.url="responseURL"in i?i.responseURL:t.headers.get("X-Request-URL");var r="response"in i?i.response:i.responseText;setTimeout(function(){o(new g(r,t))},0)},i.onerror=function(){setTimeout(function(){e(new TypeError("Network request failed"))},0)},i.ontimeout=function(){setTimeout(function(){e(new TypeError("Network request failed"))},0)},i.onabort=function(){setTimeout(function(){e(new w("Aborted","AbortError"))},0)},i.open(t.method,function(t){try{return""===t&&l.location.href?l.location.href:t}catch(e){return t}}(t.url),!0),"include"===t.credentials?i.withCredentials=!0:"omit"===t.credentials&&(i.withCredentials=!1),"responseType"in i&&(s.blob?i.responseType="blob":s.arrayBuffer&&t.headers.get("Content-Type")&&-1!==t.headers.get("Content-Type").indexOf("application/octet-stream")&&(i.responseType="arraybuffer")),!a||"object"!=Fa(a.headers)||a.headers instanceof u?t.headers.forEach(function(e,t){i.setRequestHeader(t,e)}):Object.getOwnPropertyNames(a.headers).forEach(function(e){i.setRequestHeader(e,c(a.headers[e]))}),t.signal&&(t.signal.addEventListener("abort",n),i.onreadystatechange=function(){4===i.readyState&&t.signal.removeEventListener("abort",n)}),i.send(void 0===t._bodyInit?null:t._bodyInit)})}O.polyfill=!0,l.fetch||(l.fetch=O,l.Headers=u,l.Request=y,l.Response=g)},function(t,n,r){!function(V){var e;void 0===(e="function"==typeof(e=function(){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function e(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e}function i(e){return(i=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function l(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function s(n){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e=i(n),t=r?(t=i(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this;return!t||"object"!==Fa(t)&&"function"!=typeof t?l(e):t}}function c(e,t,n){return(c="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){if(e=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=i(e)););return e}(e,t))return(t=Object.getOwnPropertyDescriptor(e,t)).get?t.get.call(n):t.value})(e,t,n||e)}var t,n,u=(e(h,[{key:"addEventListener",value:function(e,t){e in this.listeners||(this.listeners[e]=[]),this.listeners[e].push(t)}},{key:"removeEventListener",value:function(e,t){if(e in this.listeners)for(var n=this.listeners[e],r=0,o=n.length;r<o;r++)if(n[r]===t)return void n.splice(r,1)}},{key:"dispatchEvent",value:function(t){var n=this;if(t.type in this.listeners){for(var e=this.listeners[t.type],r=0,o=e.length;r<o;r++)!function(e){setTimeout(function(){return e.call(n,t)})}(e[r]);return!t.defaultPrevented}}}]),h),p=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(n,u);var t=s(n);function n(){var e;return r(this,n),(e=t.call(this)).listeners||u.call(l(e)),Object.defineProperty(l(e),"aborted",{value:!1,writable:!0,configurable:!0}),Object.defineProperty(l(e),"onabort",{value:null,writable:!0,configurable:!0}),e}return e(n,[{key:"toString",value:function(){return"[object AbortSignal]"}},{key:"dispatchEvent",value:function(e){"abort"===e.type&&(this.aborted=!0,"function"==typeof this.onabort&&this.onabort.call(this,e)),c(i(n.prototype),"dispatchEvent",this).call(this,e)}}]),n}(),f=(e(d,[{key:"abort",value:function(){var t;try{t=new Event("abort")}catch(e){"undefined"!=typeof document?document.createEvent?(t=document.createEvent("Event")).initEvent("abort",!1,!1):(t=document.createEventObject()).type="abort":t={type:"abort",bubbles:!1,cancelable:!1}}this.signal.dispatchEvent(t)}},{key:"toString",value:function(){return"[object AbortController]"}}]),d);function d(){r(this,d),Object.defineProperty(this,"signal",{value:new p,writable:!0,configurable:!0})}function h(){r(this,h),Object.defineProperty(this,"listeners",{value:{},writable:!0,configurable:!0})}"undefined"!=typeof Symbol&&Symbol.toStringTag&&(f.prototype[Symbol.toStringTag]="AbortController",p.prototype[Symbol.toStringTag]="AbortSignal"),((n=t="undefined"!=typeof self?self:V).__FORCE_INSTALL_ABORTCONTROLLER_POLYFILL?(console.log("__FORCE_INSTALL_ABORTCONTROLLER_POLYFILL=true is set, will force install polyfill"),1):"function"==typeof n.Request&&!n.Request.prototype.hasOwnProperty("signal")||!n.AbortController)&&(t.AbortController=f,t.AbortSignal=p)})?e.call(n,r,n,t):e)||(t.exports=e)}.call(this,r(25))},function(e,t){var n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==("undefined"==typeof window?"undefined":Fa(window))&&(n=window)}e.exports=n},function(e,t,n){e.exports=n(27)()},function(e,t,n){"use strict";var a=n(28);function r(){}function o(){}o.resetWarningCache=r,e.exports=function(){function e(e,t,n,r,o,i){if(i!==a)throw(i=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types")).name="Invariant Violation",i}function t(){return e}var n={array:e.isRequired=e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:o,resetWarningCache:r};return n.PropTypes=n}},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t,n){"use strict";
/*!
     * Signature Pad v2.3.2
     * https://github.com/szimek/signature_pad
     *
     * Copyright 2017 Szymon Nowak
     * Released under the MIT license
     *
     * The main idea and some parts of the code (e.g. drawing variable width Bzier curve) are taken from:
     * http://corner.squareup.com/2012/07/smoother-signatures.html
     *
     * Implementation of interpolation using cubic Bzier curves is taken from:
     * http://benknowscode.wordpress.com/2012/09/14/path-interpolation-using-cubic-bezier-and-control-point-estimation-in-javascript
     *
     * Algorithm for approximated length of a Bzier curve is taken from:
     * http://www.lemoda.net/maths/bezier-length/index.html
     *
     */function c(e,t,n){this.x=e,this.y=t,this.time=n||(new Date).getTime()}function r(e,t,n,r){this.startPoint=e,this.control1=t,this.control2=n,this.endPoint=r}function f(e,t){var n,r,o,i,a,l,s,c,u=this;function p(){c=!1===o.leading?0:Date.now(),s=null,l=n.apply(i,a),s||(i=a=null)}this.velocityFilterWeight=(t=t||{}).velocityFilterWeight||.7,this.minWidth=t.minWidth||.5,this.maxWidth=t.maxWidth||2.5,this.throttle="throttle"in t?t.throttle:16,this.minDistance="minDistance"in t?t.minDistance:5,this.throttle?this._strokeMoveUpdate=(n=f.prototype._strokeUpdate,r=this.throttle,s=null,c=0,o={},function(){var e=Date.now(),t=r-(e-(c=c||!1!==o.leading?c:e));return i=this,a=arguments,t<=0||r<t?(s&&(clearTimeout(s),s=null),c=e,l=n.apply(i,a),s||(i=a=null)):s||!1===o.trailing||(s=setTimeout(p,t)),l}):this._strokeMoveUpdate=f.prototype._strokeUpdate,this.dotSize=t.dotSize||function(){return(this.minWidth+this.maxWidth)/2},this.penColor=t.penColor||"black",this.backgroundColor=t.backgroundColor||"rgba(0,0,0,0)",this.onBegin=t.onBegin,this.onEnd=t.onEnd,this._canvas=e,this._ctx=e.getContext("2d"),this.clear(),this._handleMouseDown=function(e){1===e.which&&(u._mouseButtonDown=!0,u._strokeBegin(e))},this._handleMouseMove=function(e){u._mouseButtonDown&&u._strokeMoveUpdate(e)},this._handleMouseUp=function(e){1===e.which&&u._mouseButtonDown&&(u._mouseButtonDown=!1,u._strokeEnd(e))},this._handleTouchStart=function(e){1===e.targetTouches.length&&(e=e.changedTouches[0],u._strokeBegin(e))},this._handleTouchMove=function(e){e.preventDefault(),e=e.targetTouches[0],u._strokeMoveUpdate(e)},this._handleTouchEnd=function(e){e.target===u._canvas&&(e.preventDefault(),u._strokeEnd(e))},this.on()}n.r(t),c.prototype.velocityFrom=function(e){return this.time!==e.time?this.distanceTo(e)/(this.time-e.time):1},c.prototype.distanceTo=function(e){return Math.sqrt(Math.pow(this.x-e.x,2)+Math.pow(this.y-e.y,2))},c.prototype.equals=function(e){return this.x===e.x&&this.y===e.y&&this.time===e.time},r.prototype.length=function(){for(var e=0,t=void 0,n=void 0,r=0;r<=10;r+=1){var o,i=r/10,a=this._point(i,this.startPoint.x,this.control1.x,this.control2.x,this.endPoint.x),l=this._point(i,this.startPoint.y,this.control1.y,this.control2.y,this.endPoint.y);0<r&&(o=a-t,i=l-n,e+=Math.sqrt(o*o+i*i)),t=a,n=l}return e},r.prototype._point=function(e,t,n,r,o){return t*(1-e)*(1-e)*(1-e)+3*n*(1-e)*(1-e)*e+3*r*(1-e)*e*e+o*e*e*e},f.prototype.clear=function(){var e=this._ctx,t=this._canvas;e.fillStyle=this.backgroundColor,e.clearRect(0,0,t.width,t.height),e.fillRect(0,0,t.width,t.height),this._data=[],this._reset(),this._isEmpty=!0},f.prototype.fromDataURL=function(e){var t=this,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},r=new Image,o=n.ratio||window.devicePixelRatio||1,i=n.width||this._canvas.width/o,a=n.height||this._canvas.height/o;this._reset(),r.src=e,r.onload=function(){t._ctx.drawImage(r,0,0,i,a)},this._isEmpty=!1},f.prototype.toDataURL=function(e){var t;if("image/svg+xml"===e)return this._toSVG();for(var n=arguments.length,r=Array(1<n?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return(t=this._canvas).toDataURL.apply(t,[e].concat(r))},f.prototype.on=function(){this._handleMouseEvents(),this._handleTouchEvents()},f.prototype.off=function(){this._canvas.removeEventListener("mousedown",this._handleMouseDown),this._canvas.removeEventListener("mousemove",this._handleMouseMove),document.removeEventListener("mouseup",this._handleMouseUp),this._canvas.removeEventListener("touchstart",this._handleTouchStart),this._canvas.removeEventListener("touchmove",this._handleTouchMove),this._canvas.removeEventListener("touchend",this._handleTouchEnd)},f.prototype.isEmpty=function(){return this._isEmpty},f.prototype._strokeBegin=function(e){this._data.push([]),this._reset(),this._strokeUpdate(e),"function"==typeof this.onBegin&&this.onBegin(e)},f.prototype._strokeUpdate=function(e){var t=e.clientX,n=e.clientY,e=this._createPoint(t,n),t=(n=(t=this._data[this._data.length-1])&&t[t.length-1])&&e.distanceTo(n)<this.minDistance;n&&t||(t=(n=this._addPoint(e)).curve,n=n.widths,t&&n&&this._drawCurve(t,n.start,n.end),this._data[this._data.length-1].push({x:e.x,y:e.y,time:e.time,color:this.penColor}))},f.prototype._strokeEnd=function(e){var t,n=2<this.points.length,r=this.points[0];!n&&r&&this._drawDot(r),r&&(n=(t=this._data[this._data.length-1])[t.length-1],r.equals(n)||t.push({x:r.x,y:r.y,time:r.time,color:this.penColor})),"function"==typeof this.onEnd&&this.onEnd(e)},f.prototype._handleMouseEvents=function(){this._mouseButtonDown=!1,this._canvas.addEventListener("mousedown",this._handleMouseDown),this._canvas.addEventListener("mousemove",this._handleMouseMove),document.addEventListener("mouseup",this._handleMouseUp)},f.prototype._handleTouchEvents=function(){this._canvas.style.msTouchAction="none",this._canvas.style.touchAction="none",this._canvas.addEventListener("touchstart",this._handleTouchStart),this._canvas.addEventListener("touchmove",this._handleTouchMove),this._canvas.addEventListener("touchend",this._handleTouchEnd)},f.prototype._reset=function(){this.points=[],this._lastVelocity=0,this._lastWidth=(this.minWidth+this.maxWidth)/2,this._ctx.fillStyle=this.penColor},f.prototype._createPoint=function(e,t,n){var r=this._canvas.getBoundingClientRect();return new c(e-r.left,t-r.top,n||(new Date).getTime())},f.prototype._addPoint=function(e){var t=this.points;if(t.push(e),2<t.length){3===t.length&&t.unshift(t[0]);var n=this._calculateCurveControlPoints(t[0],t[1],t[2]).c2,e=this._calculateCurveControlPoints(t[1],t[2],t[3]).c1,n=new r(t[1],n,e,t[2]),e=this._calculateCurveWidths(n);return t.shift(),{curve:n,widths:e}}return{}},f.prototype._calculateCurveControlPoints=function(e,t,n){var r=e.x-t.x,o=e.y-t.y,i=t.x-n.x,a=t.y-n.y,l=(e.x+t.x)/2,s=(e.y+t.y)/2,e=(t.x+n.x)/2,n=(t.y+n.y)/2,o=Math.sqrt(r*r+o*o),a=Math.sqrt(i*i+a*a);return{c1:new c(l+(a=t.x-(e+(l-e)*(o=a/(o+a)))),s+(o=t.y-(n+(s-n)*o))),c2:new c(e+a,n+o)}},f.prototype._calculateCurveWidths=function(e){var t=e.startPoint,n=e.endPoint,e={start:null,end:null},n=this.velocityFilterWeight*n.velocityFrom(t)+(1-this.velocityFilterWeight)*this._lastVelocity,t=this._strokeWidth(n);return e.start=this._lastWidth,e.end=t,this._lastVelocity=n,this._lastWidth=t,e},f.prototype._strokeWidth=function(e){return Math.max(this.maxWidth/(e+1),this.minWidth)},f.prototype._drawPoint=function(e,t,n){var r=this._ctx;r.moveTo(e,t),r.arc(e,t,n,0,2*Math.PI,!1),this._isEmpty=!1},f.prototype._drawCurve=function(e,t,n){var r=this._ctx,o=n-t,i=Math.floor(e.length());r.beginPath();for(var a=0;a<i;a+=1){var l=a/i,s=l*l,c=s*l,u=1-l,p=u*u,f=p*u,d=f*e.startPoint.x;d+=3*p*l*e.control1.x,d+=3*u*s*e.control2.x,d+=c*e.endPoint.x,f*=e.startPoint.y,f+=3*p*l*e.control1.y,f+=3*u*s*e.control2.y,f+=c*e.endPoint.y,this._drawPoint(d,f,t+c*o)}r.closePath(),r.fill()},f.prototype._drawDot=function(e){var t=this._ctx,n="function"==typeof this.dotSize?this.dotSize():this.dotSize;t.beginPath(),this._drawPoint(e.x,e.y,n),t.closePath(),t.fill()},f.prototype._fromData=function(e,t,n){for(var r=0;r<e.length;r+=1){var o=e[r];if(1<o.length)for(var i=0;i<o.length;i+=1){var a=o[i],l=new c(a.x,a.y,a.time),s=a.color;0===i?(this.penColor=s,this._reset(),this._addPoint(l)):i!==o.length-1&&(l=(a=this._addPoint(l)).curve,a=a.widths,l&&a&&t(l,a,s))}else this._reset(),n(o[0])}},f.prototype._toSVG=function(){var r=this,e=this._data,t=this._canvas,n=Math.max(window.devicePixelRatio||1,1),o=t.width/n,n=t.height/n,i=document.createElementNS("http://www.w3.org/2000/svg","svg");if(i.setAttributeNS(null,"width",t.width),i.setAttributeNS(null,"height",t.height),this._fromData(e,function(e,t,n){var r=document.createElement("path");isNaN(e.control1.x)||isNaN(e.control1.y)||isNaN(e.control2.x)||isNaN(e.control2.y)||(e="M "+e.startPoint.x.toFixed(3)+","+e.startPoint.y.toFixed(3)+" C "+e.control1.x.toFixed(3)+","+e.control1.y.toFixed(3)+" "+e.control2.x.toFixed(3)+","+e.control2.y.toFixed(3)+" "+e.endPoint.x.toFixed(3)+","+e.endPoint.y.toFixed(3),r.setAttribute("d",e),r.setAttribute("stroke-width",(2.25*t.end).toFixed(3)),r.setAttribute("stroke",n),r.setAttribute("fill","none"),r.setAttribute("stroke-linecap","round"),i.appendChild(r))},function(e){var t=document.createElement("circle"),n="function"==typeof r.dotSize?r.dotSize():r.dotSize;t.setAttribute("r",n),t.setAttribute("cx",e.x),t.setAttribute("cy",e.y),t.setAttribute("fill",e.color),i.appendChild(t)}),o='<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 '+o+" "+n+'" width="'+o+'" height="'+n+'">',void 0===(n=i.innerHTML)){var a=document.createElement("dummy"),l=i.childNodes;a.innerHTML="";for(var s=0;s<l.length;s+=1)a.appendChild(l[s].cloneNode(!0));n=a.innerHTML}return"data:image/svg+xml;base64,"+btoa(o+n+"</svg>")},f.prototype.fromData=function(e){var n=this;this.clear(),this._fromData(e,function(e,t){return n._drawCurve(e,t.start,t.end)},function(e){return n._drawDot(e)}),this._data=e},f.prototype.toData=function(){return this._data},t.default=f},function(e,t,n){function r(e){if(i[e])return i[e].exports;var t=i[e]={exports:{},id:e,loaded:!1};return o[e].call(t.exports,t,t.exports,r),t.loaded=!0,t.exports}var o,i;e.exports=(i={},r.m=o=[function(e,t){"use strict";function l(e,t,n,r){return r[4*(n*t+e)],r[4*(n*t+e)+1],r[4*(n*t+e)+2],r[4*(n*t+e)+3]}function s(e,t,n,r){for(var o=e?1:-1,i=e?0:n-1;e?i<n:-1<i;i+=o)for(var a=0;a<t;a++)if(l(a,i,t,r))return i;return null}function c(e,t,n,r){for(var o=e?1:-1,i=e?0:t-1;e?i<t:-1<i;i+=o)for(var a=0;a<n;a++)if(l(i,a,t,r))return i;return null}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.getContext("2d"),n=e.width,r=e.height,o=s(!0,n,r,l=t.getImageData(0,0,n,r).data),i=s(!1,n,r,l),a=c(!0,n,r,l),l=c(!1,n,r,l)-a+1,o=t.getImageData(a,o,l,i=i-o+1);return e.width=l,e.height=i,t.clearRect(0,0,l,i),t.putImageData(o,0,0),e}}],r.c=i,r.p="",r(0))},function(e,t,n){"use strict";n.r(t),n.d(t,"DWKitForm",function(){return xa}),n.d(t,"GridView",function(){return Gt}),n.d(t,"CollectionEditor",function(){return Ce}),n.d(t,"BaseEditControl",function(){return Ta}),n.d(t,"initDefaultState",function(){return oo.initDefaultState}),n.d(t,"initDefaultStateFormUrl",function(){}),n.d(t,"validate",function(){return oo.validate}),n.d(t,"checkConditions",function(){return oo.checkConditions});var c=n(0),z=n.n(c);function o(e){return(o="function"==typeof Symbol&&"symbol"==Fa(Symbol.iterator)?function(e){return Fa(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":Fa(e)})(e)}function i(e,t){return(i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function u(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function a(e){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var p=n(8),l=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&i(e,t)}(s,c.Component);var n,r,l=(n=s,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=a(n),t=r?(t=a(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this;return!t||"object"!==o(t)&&"function"!=typeof t?u(e):t});function s(){var n;!function(e){if(!(e instanceof s))throw new TypeError("Cannot call a class as a function")}(this);for(var e,t,r,o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];return r=function(e,t){n.props.handleChange(n.props.row,e,t)},(t="handleChange")in(e=u(n=l.call.apply(l,[this].concat(i))))?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,n}return function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(s.prototype,[{key:"shouldComponentUpdate",value:function(e){return!p(this.props,e)}}]),s}();var r=(function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(f.prototype,[{key:"register",value:function(e,t){if(r.map[e])throw new Error("Component "+e+" already registered!");r.map[e]=t}},{key:"draw",value:function(e,t){var n=r.map[e];return n?n(t):(n=r.map["null-control"])({"data-buildertype":e,text:"".concat(e," is unsupported")})}}]),new f),s=r.register,W=r.draw;function f(){var e;!function(e){if(!(e instanceof f))throw new TypeError("Cannot call a class as a function")}(this),e={},"map"in this?Object.defineProperty(this,"map",{value:e,enumerable:!0,configurable:!0,writable:!0}):this.map=e}function d(e){return(d="function"==typeof Symbol&&"symbol"==Fa(Symbol.iterator)?function(e){return Fa(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":Fa(e)})(e)}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function V(e){return(V=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var F=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}(t,l);var n,r,e=(n=t,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=V(n),t=r?(t=V(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this;return!t||"object"!==d(t)&&"function"!=typeof t?function(){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}():t});function t(){return function(e){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),e.apply(this,arguments)}return function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(t.prototype,[{key:"render",value:function(){return W("collection-checkbox",{me:this,props:this.props})}}]),t}();function m(e){return(m="function"==typeof Symbol&&"symbol"==Fa(Symbol.iterator)?function(e){return Fa(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":Fa(e)})(e)}function y(e,t){return(y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function v(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function g(e){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var N=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&y(e,t)}(i,c.Component);var n,r,o=(n=i,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=g(n),t=r?(t=g(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this;return!t||"object"!==m(t)&&"function"!=typeof t?v(e):t});function i(){var r;!function(e){if(!(e instanceof i))throw new TypeError("Cannot call a class as a function")}(this);for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return b(v(r=o.call.apply(o,[this].concat(t))),"handleEvent",function(e){e.parameters||(e.parameters={}),e.parameters.row||(e.parameters.row=r.props.row),"onChange"===e.eventName?r.props.handleChange(r.props.row,e.syntheticEvent,e):r.props.handleEvent(e)}),b(v(r),"getAdditionalDataForControl",function(e,t,n){return(t=t||{}).row||(t.row=r.props.row),r.props.getAdditionalDataForControl(e,t,n)}),r}return function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(i.prototype,[{key:"render",value:function(){return W("collection-custom-control",{getAdditionalDataForControl:this.getAdditionalDataForControl,handleEvent:this.handleEvent,props:this.props})}}]),i}();function w(e){return(w="function"==typeof Symbol&&"symbol"==Fa(Symbol.iterator)?function(e){return Fa(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":Fa(e)})(e)}function O(e,t){return(O=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function C(e){return(C=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var I=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&O(e,t)}(t,l);var n,r,e=(n=t,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=C(n),t=r?(t=C(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this;return!t||"object"!==w(t)&&"function"!=typeof t?function(){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}():t});function t(){return function(e){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),e.apply(this,arguments)}return function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(t.prototype,[{key:"render",value:function(){return W("collection-date-time",{me:this,props:this.props})}}]),t}();function k(e){return(k="function"==typeof Symbol&&"symbol"==Fa(Symbol.iterator)?function(e){return Fa(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":Fa(e)})(e)}function E(e,t){return(E=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function A(e){return(A=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var L=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&E(e,t)}(t,l);var n,r,e=(n=t,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=A(n),t=r?(t=A(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this;return!t||"object"!==k(t)&&"function"!=typeof t?function(){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}():t});function t(){return function(e){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),e.apply(this,arguments)}return function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(t.prototype,[{key:"render",value:function(){return W("collection-dropdown",{me:this,props:this.props})}}]),t}();function S(e){return(S="function"==typeof Symbol&&"symbol"==Fa(Symbol.iterator)?function(e){return Fa(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":Fa(e)})(e)}function _(e,t){return(_=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function x(e){return(x=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var U=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_(e,t)}(t,l);var n,r,e=(n=t,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=x(n),t=r?(t=x(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this;return!t||"object"!==S(t)&&"function"!=typeof t?function(){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}():t});function t(){return function(e){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),e.apply(this,arguments)}return function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(t.prototype,[{key:"render",value:function(){return W("collection-input",{me:this,props:this.props})}}]),t}();function P(e){return(P="function"==typeof Symbol&&"symbol"==Fa(Symbol.iterator)?function(e){return Fa(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":Fa(e)})(e)}function j(e,t){return(j=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function R(e){return(R=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var M=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&j(e,t)}(t,l);var n,r,e=(n=t,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=R(n),t=r?(t=R(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this;return!t||"object"!==P(t)&&"function"!=typeof t?function(){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}():t});function t(){return function(e){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),e.apply(this,arguments)}return function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(t.prototype,[{key:"render",value:function(){return W("collection-upload",{me:this,props:this.props})}}]),t}();function D(e){return(D="function"==typeof Symbol&&"symbol"==Fa(Symbol.iterator)?function(e){return Fa(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":Fa(e)})(e)}function T(e,t){return(T=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function B(e){return(B=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var K=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&T(e,t)}(t,l);var n,r,e=(n=t,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=B(n),t=r?(t=B(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this;return!t||"object"!==D(t)&&"function"!=typeof t?function(){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}():t});function t(){return function(e){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),e.apply(this,arguments)}return function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(t.prototype,[{key:"render",value:function(){return W("collection-camera",{me:this,props:this.props})}}]),t}();function G(e){return(G="function"==typeof Symbol&&"symbol"==Fa(Symbol.iterator)?function(e){return Fa(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":Fa(e)})(e)}function H(e,t){return(H=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function q(e){return(q=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Q=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&H(e,t)}(t,l);var n,r,e=(n=t,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=q(n),t=r?(t=q(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this;return!t||"object"!==G(t)&&"function"!=typeof t?function(){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}():t});function t(){return function(e){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),e.apply(this,arguments)}return function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(t.prototype,[{key:"render",value:function(){return W("collection-signature",{me:this,props:this.props})}}]),t}();function J(e){return(J="function"==typeof Symbol&&"symbol"==Fa(Symbol.iterator)?function(e){return Fa(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":Fa(e)})(e)}function Y(e,t){return(Y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function X(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Z(e){return(Z=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ee(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var te=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Y(e,t)}(i,c.Component);var n,r,o=(n=i,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=Z(n),t=r?(t=Z(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this;return!t||"object"!==J(t)&&"function"!=typeof t?X(e):t});function i(){var r;!function(e){if(!(e instanceof i))throw new TypeError("Cannot call a class as a function")}(this);for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return ee(X(r=o.call.apply(o,[this].concat(t))),"onUpload",function(e,t){var n=X(r),e={name:e.name,token:t.result.properties.Token,success:t.success,properties:t.result.properties};t.success?n.props.onChange&&n.props.onChange(null,{name:n.props.name,propertyName:n.props.propertyName,value:t.result.properties.Token,parameters:e}):n.props.onUploadFail&&n.props.onUploadFail(null,{name:n.props.name,propertyName:n.props.propertyName,message:t.result.message,details:t.result.details,success:!1})}),ee(X(r),"onClear",function(e){var t=X(r);t.props.onChange&&t.props.onChange(null,{name:t.props.name,propertyName:t.props.propertyName,value:null})}),r}return function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(i.prototype,[{key:"render",value:function(){var e=this.onClear,t=this.onUpload;return W("camera",{handleChange:this.handleChange,me:this,onClear:e,onUpload:t,props:this.props,state:this.state})}}]),i}();function ne(e){return void 0===e}function re(e){return!ne(e)&&null!==e}function oe(e){return re(e)&&""!==e}function ie(e){return(ie="function"==typeof Symbol&&"symbol"==Fa(Symbol.iterator)?function(e){return Fa(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":Fa(e)})(e)}function ae(e,t){return(ae=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function le(e){return(le=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var se=n(8),ce=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ae(e,t)}(o,c.Component);var n,r,t=(n=o,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=le(n),t=r?(t=le(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this;return!t||"object"!==ie(t)&&"function"!=typeof t?function(){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}():t});function o(e){return function(e){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this),(e=t.call(this,e)).state={},e}return function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(o.prototype,[{key:"componentDidMount",value:function(){this.redrawChart()}},{key:"shouldComponentUpdate",value:function(e){return!se(this.props,e)}},{key:"componentDidUpdate",value:function(){this.redrawChart()}},{key:"componentWillUnmount",value:function(){re(this.state.chart)&&this.state.chart.destroy()}},{key:"redrawChart",value:function(){return W("chart-view-redraw-chart",{chartData:this.getChartData(),divId:this.getDivId(),props:this.props,state:this.state})}},{key:"getDivId",value:function(){return"dwkit-chart-"+this.props.name}},{key:"getChartData",value:function(){var e=[];try{e="string"==typeof this.props.value?JSON.parse(this.props.value):this.props.value}catch(e){console.log("Can't parse to JSON",this.props.value,this)}if(this.props.datasetCustom){var t=this,n=[];return{labels:n=re(t.props.dataLabels)?t.props.dataLabels.split(","):n,datasets:[{label:t.props.datasetLabel,steppedLine:t.props.datasetSteppedLine,borderColor:t.props.datasetBorderColor,backgroundColor:t.props.datasetBackgroundColor,fill:t.props.datasetFill,borderWidth:t.props.datasetBorderWidth,data:e}]}}return this.copyObj(e)}},{key:"copyObj",value:function(e){if(null==e||"object"!=ie(e))return e;var t,n=e.constructor();for(t in e)e.hasOwnProperty(t)&&(n[t]=this.copyObj(e[t]));return n}},{key:"render",value:function(){return W("chart-view",{divId:this.getDivId(),props:this.props,state:this.state})}}]),o}(),ue=n(2),pe=n.n(ue),fe=n(9),de=n.n(fe);function he(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function Ve(e){return(Ve="function"==typeof Symbol&&"symbol"==Fa(Symbol.iterator)?function(e){return Fa(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":Fa(e)})(e)}function me(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ye(e,t){return(ye=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ve(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ge(e){return(ge=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function be(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var we=n(8),Oe=n(10),Ce=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ye(e,t)}(i,c.Component);var e,t,n,r,o=(n=i,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=ge(n),t=r?(t=ge(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this;return!t||"object"!==Ve(t)&&"function"!=typeof t?ve(e):t});function i(e){var u;return function(e){if(!(e instanceof i))throw new TypeError("Cannot call a class as a function")}(this),be(ve(u=o.call(this,e)),"btnAdd",function(){var e=ne(u.props.defaultrow)?{}:u.props.defaultrow;e.__id="CLIENT_"+de.a.v1(),u.fillDefaultValues(e,u.props.columns,u.props.placeholders),u.state.data.push(e),u.props.handleEvent&&u.props.handleEvent({key:u.props.name,propertyName:u.props.propertyName,eventName:"onAdd",parameters:{rowIdx:u.state.data.length-1,row:e}}),u.sendChangesToParent()}),be(ve(u),"handleChange",function(e,t,n){var r=n.name,o=n.propertyName,i=n.value,a=n.checked,l=n.additionalValues;if(u.props.handleEvent||u.props.onChange){var s=o||r;if(ne(i)&&re(a)?e[s]=a:e[s]=i,"object"==Ve(l))for(var c in l)e[s+"_"+c]=l[c];u.sendChangesToParent(),t&&t.preventDefault?t.preventDefault():u.forceUpdate()}}),u.state={expanded:{},data:[]},u}return t=[{key:"getDerivedStateFromProps",value:function(e,t){var n=null;return we(t.originalValue,e.value)||((n={}).originalValue=Oe(e.value),e=null==e.value?[]:e.value,Array.isArray(e)?(n.data=Oe(e),n.stringmode=!1):(n.data=e.length?pe.a.parse(e):[],n.stringmode=!0)),n}}],me((e=i).prototype,[{key:"applyCollapseAll",value:function(e){for(var t in e)ne(this.state.expanded[t])&&(this.state.expanded[t]=!1)}},{key:"getFilteredItems",value:function(e,t){return void 0===e?[]:void 0!==t?e.filter(function(e){return t.IsRowMatched(e)}):e}},{key:"btnDelete",value:function(e,t){var n;(this.props.handleEvent||this.props.onChange)&&(n=(t=void 0===t?this.state.data:t)[e],t.splice(e,1),this.props.handleEvent&&this.props.handleEvent({key:this.props.name,propertyName:this.props.propertyName,eventName:"onDelete",parameters:{rowIdx:e,row:n}}),this.sendChangesToParent())}},{key:"btnAddChild",value:function(e,t){var n=(t=void 0===t?ne(this.state.data)?[]:this.state.data:t)[e];(e=ne(this.props.defaultrow)?{}:function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?he(Object(n),!0).forEach(function(e){be(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):he(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}({},this.props.defaultrow)).__id="CLIENT_"+de.a.v1(),this.fillDefaultValues(e,this.props.columns,this.props.placeholders),this.props.parentIdField?(e[this.props.parentIdField]=n[this.props.idField]||n.__id,t.push(e)):(Array.isArray(n[this.props.childrenField])||(n[this.props.childrenField]=[]),n[this.props.childrenField].push(e)),this.props.handleEvent&&this.props.handleEvent({key:this.props.name,propertyName:this.props.propertyName,eventName:"onAddChild",parameters:{rowIdx:t.length-1,row:e}}),this.sendChangesToParent()}},{key:"fillDefaultValues",value:function(e,t,n){if(t&&n)for(var r=0;r<t.length;r++){var o=void 0,i=n[o="object"===Ve(t[r])?t[r].key:t[r]];Array.isArray(i)&&0<i.length&&(i=i[0])&&(i.propertyName&&(o=i.propertyName),i.defaultValue&&(e[o]=i.defaultValue))}}},{key:"copyForParentId",value:function(t,n,e){var r=this,o=Oe(n);return o.__id="CLIENT_"+de.a.v1(),delete o[this.props.idField],o[this.props.parentIdField]=e,t.filter(function(e){return e[r.props.parentIdField]===(n[r.props.idField]||n.__id)}).forEach(function(e){return r.copyForParentId(t,e,o.__id)}),t.push(o),o}},{key:"resetIdsRecursive",value:function(e){var t=this;e.__id="CLIENT_"+de.a.v1(),delete e[this.props.idField],Array.isArray(e[this.props.childrenField])&&e[this.props.childrenField].forEach(function(e){return t.resetIdsRecursive(e)})}},{key:"btnCopy",value:function(e,t){var n,e=(t=t||this.state.data)[e];this.props.parentIdField&&e.hasOwnProperty(this.props.parentIdField)?n=this.copyForParentId(t,e,e[this.props.parentIdField]):(n=Oe(e),this.resetIdsRecursive(n),t.push(n)),this.props.handleEvent&&this.props.handleEvent({key:this.props.name,propertyName:this.props.propertyName,eventName:"onCopy",parameters:{rowIdx:t.length-1,row:n}}),this.sendChangesToParent()}},{key:"onExpand",value:function(e,t){this.state.expanded[e]=t,this.forceUpdate()}},{key:"onDragOver",value:function(e){e.preventDefault()}},{key:"onDragStart",value:function(e,t,n){n.dataTransfer.setData("index",e);var r=n.target;(r=(r=r&&r.parentElement)&&r.parentElement)&&n.dataTransfer.setDragImage($(n.target).parent().parent()[0],0,0),this.state.dragElementIndex=e,this.state.dragRows=t}},{key:"onDragEnd",value:function(e,t){this.state.dragElementIndex=void 0,this.state.dragRows=void 0}},{key:"onDrop",value:function(e,t,n){var r=this.state.dragElementIndex,o=this.state.dragRows,e=e,t=t;return re(r)&&(e!==r&&(void 0!==this.props.parentIdField&&""!==this.props.parentIdField&&(o[r][this.props.parentIdField]=t[e][this.props.parentIdField]),t.splice(e,0,o.splice(r,1)[0]),this.sendChangesToParent()),n.preventDefault()),!1}},{key:"sendChangesToParent",value:function(){var e=this.state.data,e=this.state.stringmode?e.length?pe.a.stringify(e):[]:e;this.props.buildermode||(this.props.onChange?this.props.onChange(null,{name:this.props.name,propertyName:this.props.propertyName,value:e}):this.props.handleEvent({syntheticEvent:null,key:this.props.name,eventName:"onChange",name:this.props.name,value:e,propertyName:this.props.propertyName}))}},{key:"render",value:function(){return W("collection-editor",{applyCollapseAll:this.applyCollapseAll,btnAdd:this.btnAdd,btnAddChild:this.btnAddChild,btnCopy:this.btnCopy,btnDelete:this.btnDelete,getFilteredItems:this.getFilteredItems,handleChange:this.handleChange,me:this,onExpand:this.onExpand,onDragStart:this.onDragStart,onDragEnd:this.onDragEnd,onDragOver:this.onDragOver,onDrop:this.onDrop,props:this.props,state:this.state})}}]),me(e,t),i}();function ke(e){return(ke="function"==typeof Symbol&&"symbol"==Fa(Symbol.iterator)?function(e){return Fa(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":Fa(e)})(e)}function Ee(e,t){return(Ee=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ae(e){return(Ae=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Se=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ee(e,t)}(o,c.Component);var n,r,t=(n=o,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=Ae(n),t=r?(t=Ae(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this;return!t||"object"!==ke(t)&&"function"!=typeof t?function(){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}():t});function o(e){return function(e){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this),(e=t.call(this,e)).state={},e}return function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(o.prototype,[{key:"render",value:function(){return W("container",{props:this.props})}}]),o}(),_e=n(5),xe=n.n(_e);function Pe(e){return window.DWKitLang&&window.DWKitLang.common&&window.DWKitLang.common.dateFormat?window.DWKitLang.common.dateFormat:e}function je(e){return window.DWKitLang&&window.DWKitLang.common&&window.DWKitLang.common.timeFormat?window.DWKitLang.common.timeFormat:e}function Re(){if(window.DWKitAdminLang&&window.DWKitAdminLang.workflowbar)return window.DWKitAdminLang.workflowbar}function De(e){return(De="function"==typeof Symbol&&"symbol"==Fa(Symbol.iterator)?function(e){return Fa(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":Fa(e)})(e)}function Te(e,t){return(Te=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Fe(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ne(e){return(Ne=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ie(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Le=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Te(e,t)}(o,c.Component);var n,r,t=(n=o,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=Ne(n),t=r?(t=Ne(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this;return!t||"object"!==De(t)&&"function"!=typeof t?Fe(e):t});function o(e){var n;return function(e){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this),Ie(Fe(n=t.call(this,e)),"handleChangeRaw",function(e){e=xe()(e.target.value,n.state.dateFormat),n.onChange(e)}),Ie(Fe(n),"onChange",function(e){var t;n.props.readOnly||re(n.props.onChange)&&((t=null)!=e&&re(e)&&(t="date"===n.props.type?e.format("YYYY-MM-DD"):e.toJSON()),n.props.onChange(null,{propertyName:n.props.propertyName,name:n.props.name,value:t}))}),n.state={},n}return function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(o.prototype,[{key:"render",value:function(){var e=this.props.type,t=this.props.value?xe()(this.props.value):void 0;t&&!t.isValid()&&(t=void 0);var n={style:this.props.style,className:this.props.className,onBlur:this.props.onBlur,onClick:this.props.onClick,onFocus:this.props.onFocus,onMouseEnter:this.props.onMouseEnter,onMouseLeave:this.props.onMouseLeave},r={};return"date"===e?r.dateFormat=Pe("DD.MM.YYYY"):"time"===e?(r.showTimeSelect=!0,r.showTimeSelectOnly=!0,r.timeIntervals=10,r.dateFormat=je(),r.dateFormat||(r.dateFormat="HH:mm",r.timeFormat="HH:mm")):"datetime"===e&&(r.showTimeSelect=!0,Pe()?r.dateFormat=Pe()+" "+je("HH:ss"):(r.dateFormat="DD.MM.YYYY HH:mm",r.timeFormat="HH:mm")),this.state.dateFormat=r.dateFormat,W("date-picker",{controlProps:n,date:t,datePickerProps:r,handleChangeRaw:this.handleChangeRaw,onChange:this.onChange,state:this.state,placeholder:this.placeholder,props:this.props})}}]),o}();function Ue(e){return(Ue="function"==typeof Symbol&&"symbol"==Fa(Symbol.iterator)?function(e){return Fa(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":Fa(e)})(e)}function Me(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Be(e,t){return(Be=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ze(e){return(ze=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var We=n(8),Ke=n(10),Ge=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Be(e,t)}(i,c.Component);var e,t,n,r,o=(n=i,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=ze(n),t=r?(t=ze(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this;return!t||"object"!==Ue(t)&&"function"!=typeof t?function(){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}():t});function i(e){var t;return function(e){if(!(e instanceof i))throw new TypeError("Cannot call a class as a function")}(this),(t=o.call(this,e)).state={options:[],value:t.props.value},t.pageSize=e.pageSize,t.pageSize||(t.pageSize=100),t}return t=[{key:"getDerivedStateFromProps",value:function(e,t){return e.dataModel!==t.dataModel?{getAdditionalDataForControl:e.getAdditionalDataForControl,dataModel:e.dataModel,needFetch:!0,needValueFetch:!0,filters:e.filters}:e.paging&&e.value!==t.value&&void 0!==e.value?{needValueFetch:!0,value:e.value}:e.filters!=t.filters?{needFetch:!0,filters:e.filters}:null}}],Me((e=i).prototype,[{key:"componentDidMount",value:function(){this.GetAdditionalData()}},{key:"shouldComponentUpdate",value:function(e,t){return!We(this.state,t)||!We(this.props,e)}},{key:"componentDidUpdate",value:function(e,t){this.GetAdditionalData()}},{key:"GetAdditionalData",value:function(){var n,e,r=this;void 0===this.state.dataModel?void 0!==console&&!0===this.props.buildermode&&console.log("Dictionary: Set DataModel label!"):void 0===this.state.getAdditionalDataForControl?void 0!==console&&!0===this.props.buildermode&&console.log("Dictionary: For paging on server need to set getAdditionalDataForControl func!"):this.state.needFetch?(e={model:(n=this).state.dataModel,filters:this.state.filters},this.props.paging&&(e.startIndex=0,e.pageSize=this.pageSize),this.state.isFetching=!0,this.state.needFetch=!1,this.state.getAdditionalDataForControl(this,e,function(e){var t=e.items,e=e.rowsCount;n.setData({items:t,rowsCount:e,page:0},!0),r.state.needValueFetch&&(r.state.needValueFetch=!1,r.loadCurrentValue())})):this.state.needValueFetch&&(this.state.needValueFetch=!1,this.loadCurrentValue())}},{key:"render",value:function(){var e,t=this,n={};for(e in this.props)"parentIsForm"!==e&&"getAdditionalDataForControl"!==e&&"dataModel"!==e&&"clearable"!==e&&"columns"!==e&&"paging"!==e&&"pageSize"!==e&&"handleEvent"!==e&&"propertyName"!==e&&"textAsValue"!==e&&(n[e]=this.props[e]);return this.props.readOnly&&(n.disabled=!0),n.options=this.state.options,n.onChange=this.onChange.bind(this),this.props.paging&&(n.onSearchChange=this.handleSearchChange.bind(this),n.onClose=this.onClose.bind(this),null!=this.state.open&&(this.state.open?n.open=!0:(n.open=!1,this.state.open=void 0,setTimeout(function(){t.forceUpdate()})))),n.multiple&&(void 0!==n.value&&null!==n.value||(n.value=[]),Array.isArray(n.value)||(n.value=this.getArrayValues(n.value))),n.loading=this.state.isFetching,n.searchQuery=this.state.searchQuery,W("dictionary",{propsControl:n,props:this.props})}},{key:"onChange",value:function(e,t){var n,r=this,o=(t.name,t.value),t=!1;this.props.multiple?Array.isArray(o)&&(n=!1,o.forEach(function(e){"string"==typeof e&&0===e.lastIndexOf("__load",0)&&(n=!0)}),n&&(t=!0)):"string"==typeof o&&0===o.lastIndexOf("__load",0)&&(t=!0),t?(this.state.open=!0,this.setState({isFetching:!0}),this.loadNextPage(),o=this.props.value):re(this.state.open)&&(this.state.open=!1);var i=null;this.props.textAsValue||(Array.isArray(o)?(i=new Array,o.forEach(function(t){var e;"string"!=typeof t||0!==t.lastIndexOf("__load",0)||0<(e=r.state.options.filter(function(e){return e.key===t})).length&&i.push(e[0].values)})):0<(t=this.state.options.filter(function(e){return e.key===o})).length?i=t[0].values:(t=this.getCollumnsForFilter())&&(i={},t.split(",").forEach(function(e){i[e]=null}))),this.props.handleEvent&&this.props.handleEvent({syntheticEvent:e,key:this.props.name,eventName:"onChange",name:this.props.name,propertyName:this.props.propertyName,value:o,additionalValues:i})}},{key:"onClose",value:function(){1!=this.state.open&&this.state.searchQuery?(this.state.isFetching=!0,this.state.searchQuery="",this.state.lastLoadPage=-1,this.loadNextPage(!0)):!1===this.state.open&&this.forceUpdate()}},{key:"handleSearchChange",value:function(e,t){var n=t.searchQuery,r=this;r.searchTimeout&&clearTimeout(r.searchTimeout),r.searchTimeout=setTimeout(function(){r.searchTimeout=void 0,r.setState({isFetching:!0,searchQuery:n,lastLoadPage:-1}),r.loadNextPage(!0)},100)}},{key:"loadNextPage",value:function(n){var r=this,e={model:this.state.dataModel},o=this.state.lastLoadPage+1;r.state.searchQuery&&(e.filters=[{column:this.getCollumnsForFilter(),term:"like",value:r.state.searchQuery}]),e.startIndex=o*this.pageSize,e.pageSize=this.pageSize,this.state.getAdditionalDataForControl(this,e,function(e){var t=e.items,e=e.rowsCount;r.setData({items:t,rowsCount:e,page:o},n),n&&r.loadCurrentValue()})}},{key:"setData",value:function(e,t){var n,r=e.items,o=e.rowsCount,e=e.page;if(t){if(o>(n=Ke(r)).length&&(u=(null!=this.state.searchQuery?this.state.searchQuery:"")+"...",n.push({key:"__load",value:"__load",text:u})),this.props.clearable&&!this.props.multiple&&n.unshift({key:"__reset",value:"",text:"   "}),this.props.multiple)for(var i=this.getArrayValues(this.props.value),a=0;a<i.length;a++)for(var l=i[a],s=0;s<this.state.options.length;s++){var c=this.state.options[s];l==c.value&&n.unshift(c)}}else{var u=void 0;0<(n=this.state.options).length&&"__load"===n[n.length-1].key&&((u=n.pop()).value="__load_"+e);for(var p=0;p<r.length;p++){for(var f=r[p],d=0;d<n.length;d++)if(n[d].key===f.key){n.splice(d,1);break}n.push(f)}void 0!==u&&o>n.length&&n.push(u)}this.props.textAsValue&&n.forEach(function(e){"__load"!=e.key&&(e.value=e.text)}),this.setState({needFetch:!1,options:n,rowsCount:o,isFetching:!1,lastLoadPage:e}),this.props.handleEvent&&this.props.handleEvent({syntheticEvent:void 0,key:this.props.name,eventName:"onDataReceived",name:this.props.name,propertyName:this.props.propertyName,value:this.props.value,parameters:{options:n}})}},{key:"getArrayValues",value:function(e){var t,e=e;if(!Array.isArray(e)){try{t=JSON.parse(e)}catch(e){}e=t=Array.isArray(t)?t:[e]}return e}},{key:"loadCurrentValue",value:function(){var t=this;if(this.props.value)if(this.props.multiple){for(var n,e=this.getArrayValues(this.props.value),r=[],o=0;o<e.length;o++){for(var i=e[o],a=!1,l=0;l<this.state.options.length;l++)if(this.state.options[l].value==i){a=!0;break}a||r.push(i)}0<r.length&&(this.props.textAsValue?(n=this.state.options,r.forEach(function(e){n.push({value:e,text:e})})):((s={model:this.state.dataModel}).filters=[{column:"__id",term:"in",value:r}],this.state.isFetching=!0,this.state.getAdditionalDataForControl(this,s,function(e){e=e.items,t.addAdditionalOptions(e)})))}else{for(var s,c=!1,u=0;u<this.state.options.length;u++)if(this.state.options[u].value==this.props.value){c=!0;break}c||(this.props.textAsValue?this.state.options.push({value:t.props.value,text:t.props.value}):((s={model:this.state.dataModel}).filters=[{column:"__id",term:"=",value:t.props.value}],this.state.isFetching=!0,this.state.getAdditionalDataForControl(this,s,function(e){e=e.items,t.addAdditionalOptions(e)})))}}},{key:"addAdditionalOptions",value:function(e){if(this.state.isFetching=!1,Array.isArray(e)&&e.length){for(var t=this.state.options,n=e.length-1;0<=n;n--){for(var r=!1,o=0;o<t.length;o++)if(t[o].key==e[n].key){r=!0;break}r||t.unshift(e[n])}this.forceUpdate()}}},{key:"getCollumnsForFilter",value:function(){if(this.props.columns){var e=new RegExp(" asc","gi"),t=this.props.columns.replace(e,""),e=new RegExp(" desc","gi"),t=t.replace(e,"");return e=new RegExp(" ","gi"),t.replace(e,"")}}}]),Me(e,t),i}();function He(e){return(He="function"==typeof Symbol&&"symbol"==Fa(Symbol.iterator)?function(e){return Fa(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":Fa(e)})(e)}function qe(e,t){return(qe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Qe(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Je(e){return(Je=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ye(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Xe=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&qe(e,t)}(o,c.Component);var n,r,t=(n=o,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=Je(n),t=r?(t=Je(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this;return!t||"object"!==He(t)&&"function"!=typeof t?Qe(e):t});function o(e){var n;return function(e){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this),Ye(Qe(n=t.call(this,e)),"onChange",function(e,t){t.name,t=t.value,1!=n.state.opendialog?re(n.props.handleEvent)&&n.props.handleEvent({e:e,key:n.props.name,propertyName:n.props.propertyName,eventName:"onItemClick",parameters:{target:t}}):n.state.opendialog=!1}),Ye(Qe(n),"onMouseDown",function(e){n.state.opendialog=!Boolean(n.state.opendialog)}),n.state={},n}return function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(o.prototype,[{key:"render",value:function(){var e,r={};for(e in this.props)"imageUrl"!==e&&"defaultValue"!==e&&"value"!==e&&"handleEvent"!==e&&"items"!==e&&"propertyName"!==e&&(r[e]=this.props[e]);return r.options=[],this.props.items.forEach(function(e){var t=!1;if(void 0!==e.visibleCondition&&null!==e.visibleCondition&&""!==e.visibleCondition){var n="return "+e.visibleCondition;try{new Function("",n)()||(t=!0)}catch(e){}}t||r.options.push({value:e.target,text:e.title,target:e.target})}),r.value="",r.onChange=this.onChange,W("dropdown-trigger",{controlProps:r,onMouseDown:this.onMouseDown,props:this.props})}}]),o}();function Ze(e){return(Ze="function"==typeof Symbol&&"symbol"==Fa(Symbol.iterator)?function(e){return Fa(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":Fa(e)})(e)}function $e(e,t){return($e=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function et(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function tt(e){return(tt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var nt=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&$e(e,t)}(i,c.Component);var n,r,o=(n=i,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=tt(n),t=r?(t=tt(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this;return!t||"object"!==Ze(t)&&"function"!=typeof t?et(e):t});function i(e){var a,t,n,r;return function(e){if(!(e instanceof i))throw new TypeError("Cannot call a class as a function")}(this),r=function(e,t){var n,r=a.props.additionalParams.handleEvent,o=a.props.onSuccess,i=a.props.onFail;(r||o||i)&&(t.success?(n={name:e.name,size:e.size,token:t.result.properties.Token,success:t.success,properties:t.result.properties},o?o(a.props.name,a.props.propertyName,n):r&&r({key:a.props.name,eventName:"success",name:a.props.name,propertyName:a.props.propertyName,value:t.message,parameters:n})):(t={name:e.name,size:e.size,message:t.message,success:t.success,details:t.details},i?i(a.props.name,a.props.propertyName,t):r&&r({key:a.props.name,eventName:"fail",name:a.props.name,propertyName:a.props.propertyName,parameters:t})),a.props.addRemoveLinks&&setTimeout(function(){e._removeLink.click()},500))},(n="fileUploadSuccess")in(t=et(a=o.call(this,e)))?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r,a.state={commands:e.commands,states:e.states},a}return function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(i.prototype,[{key:"componentDidMount",value:function(){this.isMount=!0}},{key:"componentWillUnmount",value:function(){this.isMount=!1}},{key:"render",value:function(){var e=this.props.additionalParams.parentItem,t=void 0;this.props.iconFiletypes&&(o=this.props.iconFiletypes.split(","),Array.isArray(o)&&0<o.length&&(t=[],o.forEach(function(e){t.push(e.trim())})));var n={addRemoveLinks:this.props.addRemoveLinks,autoProcessQueue:this.props.autoProcessQueue&&re(this.props.postUrl)},r={iconFiletypes:t,showFiletypeIcon:this.props.showFiletypeIcon,postUrl:ne(this.props.postUrl)?"no-url":this.props.postUrl},o={success:this.fileUploadSuccess};return W("dropzone",{componentConfig:r,djsConfig:n,eventHandlers:o,isForm:this.isForm(e),props:this.props})}},{key:"isForm",value:function(e){return e&&("form"===e["data-buildertype"]||"formgroup"===e["data-buildertype"])}},{key:"getEvents",value:function(){return["drop","dragstart","dragend","dragenter","dragover","dragleave","addedfile","removedfile","thumbnail","error","processing","uploadprogress","sending","success","complete","canceled","maxfilesreached","maxfilesexceeded","processingmultiple","sendingmultiple","successmultiple","completemultiple","canceledmultiple","totaluploadprogress","reset","queuecompleted"]}}]),i}();function rt(e){return(rt="function"==typeof Symbol&&"symbol"==Fa(Symbol.iterator)?function(e){return Fa(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":Fa(e)})(e)}function ot(e){return function(e){if(Array.isArray(e))return it(e)}(e)||function(){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}()||function(e){if(e){if("string"==typeof e)return it(e,void 0);var t=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(t="Object"===t&&e.constructor?e.constructor.name:t)||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?it(e,void 0):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function it(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function at(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function lt(r){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?at(Object(o),!0).forEach(function(e){var t,n=r;e=o[t=e],t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(o)):at(Object(o)).forEach(function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(o,e))})}return r}function st(e,t){return(st=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ct(e){return(ct=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var ut=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&st(e,t)}(o,c.Component);var n,r,t=(n=o,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=ct(n),t=r?(t=ct(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this;return!t||"object"!==rt(t)&&"function"!=typeof t?function(){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}():t});function o(e){var n;return function(e){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this),(n=t.call(this,e)).state={},n.props.events.forEach(function(e){var t=n.props.data[e]||{triggers:[]};(ne(t)||t.actions||t.parameters||t.targets||ne(t.triggers[0]))&&(t=n.props.data[e]={active:t.active||!1,triggers:[{actions:t.actions||[],parameters:t.parameters||[{name:"",value:""}],targets:t.targets||[]}]},n.handleChange(e,{},{name:"triggers",checked:t.active||!1,value:t.triggers}))}),n}return function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(o.prototype,[{key:"render",value:function(){var r=[];Array.isArray(this.props.actions)&&this.props.actions.forEach(function(e){"string"==typeof e?r.push({text:e,value:e}):r.push(lt(lt({},e),{},{value:e.text}))});var n=this.props.data,e=this.props.events,o=ot(this.props.targets);return e.forEach(function(e){var t;re(n)&&(t=n[e])&&t.triggers&&Array.isArray(t.triggers)&&t.triggers.forEach(function(e){e.actions&&e.actions.forEach(function(e){for(var t=!1,n=0;n<r.length;n++)if(e==r[n].value){t=!0;break}t||r.push({text:e,value:e})}),e.targets&&e.targets.forEach(function(e){for(var t=!1,n=0;n<o.length;n++)if(e===o[n].value){t=!0;break}t||o.push({text:e,value:e})})})}),W("events-editor",{actionOptions:[].concat(r),targetOptions:ot(o),items:this.items,me:this,props:this.props})}},{key:"initNewTrigger",value:function(e){var t=this.props.data;t&&(t[e]||(t[e]={}),ne((t=t[e]).triggers)&&(t.triggers=[]),t.triggers.push({actions:[],targets:[],parameters:[{name:"",value:""}]}),this.handleChange(e,{},{name:"triggers",checked:t.active||!1,value:t.triggers}))}},{key:"handleChange",value:function(e,t,n){var r=n.name,o=n.value,i=n.checked;ne(n=this.props.data[e])&&(this.props.data[e]=n={triggers:[]}),ne(o)&&re(i)?n[r]=i:n[r]=o,re(this.props.onChange)&&this.props.onChange(t,{name:this.props.name,value:this.props.data})}},{key:"actionsOnAddItem",value:function(e,t){t=t.value,re(this.props.onAdditionActions)&&this.props.onAdditionActions(e,{value:t})}}]),o}();function pt(e){return(pt="function"==typeof Symbol&&"symbol"==Fa(Symbol.iterator)?function(e){return Fa(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":Fa(e)})(e)}function ft(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function dt(e,t){return(dt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ht(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Vt(e){return(Vt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function mt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var yt=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&dt(e,t)}(i,c.Component);var n,r,o=(n=i,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=Vt(n),t=r?(t=Vt(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this;return!t||"object"!==pt(t)&&"function"!=typeof t?ht(e):t});function i(){var r;!function(e){if(!(e instanceof i))throw new TypeError("Cannot call a class as a function")}(this);for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return mt(ht(r=o.call.apply(o,[this].concat(t))),"onDropzoneUploadSuccess",function(e,t,n){r.onFileUploaded(n)}),mt(ht(r),"onDropzoneUploadFail",function(e,t,n){r.onFail(n)}),mt(ht(r),"onCollectionEditorChange",function(e){var t=e.eventName,n=e.parameters,e=e.value;"onDelete"===t&&r.props.additionalParams.handleEvent({key:r.props.name,propertyName:r.props.propertyName,eventName:t,parameters:n}),"onChange"===t&&r.props.additionalParams.handleEvent({syntheticEvent:null,key:r.props.name,eventName:t,name:r.props.name,value:e,propertyName:r.props.propertyName})}),mt(ht(r),"onUploadChange",function(e,t){t=t.parameters,r.onFileUploaded(t)}),mt(ht(r),"onUploadFail",function(e,t){r.onFail(t)}),mt(ht(r),"nameGetter",function(e){return e[r.props.columns.find(function(e){return"Name"===e.property}).field]}),mt(ht(r),"contentTypeGetter",function(e){return e[r.props.columns.find(function(e){return"ContentType"===e.property}).field]}),r}return function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(i.prototype,[{key:"onFileUploaded",value:function(e){var t,n=this.props.value?function(e){if(Array.isArray(e))return ft(e)}(t=this.props.value)||function(){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}()||function(e){if(e){if("string"==typeof e)return ft(e,void 0);var t=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(t="Object"===t&&e.constructor?e.constructor.name:t)||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?ft(e,void 0):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}():[],r=e.properties,o={__id:"CLIENT_"+de.a.v1()};this.props.columns.filter(function(e){return e.field}).forEach(function(e){o[e.field]=r[e.property]}),n.push(o),this.props.additionalParams.handleEvent({syntheticEvent:null,key:this.props.name,eventName:"onChange",name:this.props.name,value:n,propertyName:this.props.propertyName}),this.props.additionalParams.handleEvent({syntheticEvent:null,key:this.props.name,eventName:"onUploadSuccess",name:this.props.name,parameters:e,propertyName:this.props.propertyName})}},{key:"onFail",value:function(e){this.props.additionalParams.handleEvent({syntheticEvent:null,key:this.props.name,eventName:"onUploadFail",name:this.props.name,parameters:e,propertyName:this.props.propertyName})}},{key:"render",value:function(){var n=this,r=[];this.props.columns.filter(function(e){return e.showcolumn}).forEach(function(e){var t={key:e.field,name:e.title,control:e.control};"Token"===e.property&&(t.additionalData={customNameGetter:n.nameGetter,customContentTypeGetter:n.contentTypeGetter}),r.push(t)});var e={readOnly:this.props.readOnly,value:this.props.value,idField:this.props.idField,downloadUrl:this.props.downloadUrl,columns:r,handleEvent:this.onCollectionEditorChange};return W("files",{editorProps:e,onDropzoneUploadSuccess:this.onDropzoneUploadSuccess,onDropzoneUploadFail:this.onDropzoneUploadFail,onUploadChange:this.onUploadChange,onUploadFail:this.onUploadFail,props:this.props})}}]),i}();function vt(e){return(vt="function"==typeof Symbol&&"symbol"==Fa(Symbol.iterator)?function(e){return Fa(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":Fa(e)})(e)}function gt(e,t){return(gt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function bt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function wt(e){return(wt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Ot=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&gt(e,t)}(i,c.Component);var n,r,o=(n=i,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=wt(n),t=r?(t=wt(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this;return!t||"object"!==vt(t)&&"function"!=typeof t?bt(e):t});function i(e){var n,t,r;return function(e){if(!(e instanceof i))throw new TypeError("Cannot call a class as a function")}(this),n=o.call(this,e),r=function(e){var t;n.props.buildermode?(t=n.props["data-panes"],Array.isArray(t)&&t.forEach(function(t){e.forEach(function(e){t.psid==e.i&&(t.x=e.x,t.y=e.y,t.w=e.w,t.h=e.h)})})):(n.props.draggable||n.props.resizable)&&n.setCookie(window.location.pathname+"_"+n.props.name,JSON.stringify(e)),re(n.props.handleEvent)&&n.props.handleEvent({undefined:void 0,key:n.props.name,eventName:"onLayoutChange",parameters:{layout:e}})},(e="onLayoutChange")in(t=bt(n))?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,n.state={},n}return function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(i.prototype,[{key:"render",value:function(){return W("grid-layout",{getCookie:this.getCookie,setCookie:this.setCookie,me:this,onLayoutChange:this.onLayoutChange,props:this.props})}},{key:"getCookie",value:function(e){return(e=document.cookie.match(new RegExp("(?:^|; )"+e.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,"\\$1")+"=([^;]*)")))?decodeURIComponent(e[1]):void 0}},{key:"setCookie",value:function(e,t,n){var r,o=(n=n||{}).expires;"number"==typeof o&&o&&((r=new Date).setTime(r.getTime()+1e3*o),o=n.expires=r),o&&o.toUTCString&&(n.expires=o.toUTCString());var i,a=e+"="+(t=encodeURIComponent(t));for(i in n){a+="; "+i;var l=n[i];!0!==l&&(a+="="+l)}document.cookie=a}}]),i}();function Ct(e){return(Ct="function"==typeof Symbol&&"symbol"==Fa(Symbol.iterator)?function(e){return Fa(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":Fa(e)})(e)}function kt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Et(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function At(e,t,n){return t&&Et(e.prototype,t),n&&Et(e,n),e}var St=(At(Pt,null,[{key:"Greater",get:function(){return">"}},{key:"Less",get:function(){return">"}},{key:"Equal",get:function(){return"="}},{key:"GreaterOrEqual",get:function(){return">="}},{key:"LessOrEqual",get:function(){return"<="}},{key:"NotEqual",get:function(){return"!="}},{key:"Like",get:function(){return"like"}},{key:"StartsWith",get:function(){return"like*"}},{key:"EndsWith",get:function(){return"*like"}},{key:"IsGreater",value:function(e){return e===Pt.Greater}},{key:"IsLess",value:function(e){return e===Pt.Less}},{key:"IsEqual",value:function(e){return e===Pt.Equal}},{key:"IsGreaterOrEqual",value:function(e){return e===Pt.GreaterOrEqual}},{key:"IsLessOrEqual",value:function(e){return e===Pt.LessOrEqual}},{key:"IsNotEqual",value:function(e){return e===Pt.NotEqual}},{key:"IsLike",value:function(e){return e.toLowerCase()===Pt.Like||"*like*"===e.toLowerCase()}},{key:"IsStartsWith",value:function(e){return e.toLowerCase()===Pt.StartsWith}},{key:"IsEndsWith",value:function(e){return e.toLowerCase()===Pt.EndsWith}},{key:"Evaluate",value:function(e,t,n){if(Pt.IsGreater(n))return Pt.compareWithTypeCheck(e,t,function(e,t){return t<e});if(Pt.IsLess(n))return Pt.compareWithTypeCheck(e,t,function(e,t){return e<t});if(Pt.IsEqual(n))return Pt.compareWithTypeCheck(e,t,function(e,t){return e===t});if(Pt.IsGreaterOrEqual(n))return Pt.compareWithTypeCheck(e,t,function(e,t){return t<=e});if(Pt.IsLessOrEqual(n))return Pt.compareWithTypeCheck(e,t,function(e,t){return e<=t});if(Pt.IsNotEqual(n))return Pt.compareWithTypeCheck(e,t,function(e,t){return e!==t});if(Pt.IsLike(n))return Pt.likeCompare(e,t,function(e,t){return 0<=e.indexOf(t)});if(Pt.IsStartsWith(n))return Pt.likeCompare(e,t,function(e,t){return e.startsWith(t)});if(Pt.IsEndsWith(n))return Pt.likeCompare(e,t,function(e,t){return e.endsWith(t)});throw"Unknown term "+n}},{key:"likeCompare",value:function(e,t,n){return null===e&&null===t||void 0===e&&void 0===t||null!=e&&null!=t&&n(e.toString().toLowerCase(),t.toString().toLowerCase())}},{key:"compareWithTypeCheck",value:function(e,t,n){return null===e&&null===t||void 0===e&&void 0===t||null!=e&&null!=t&&(e instanceof Date&&"string"==typeof t?n(e.getTime(),new Date(t).getTime()):"string"==typeof e&&t instanceof Date?n(new Date(e).getTime(),t.getTime()):e instanceof Date&&t instanceof Date?n(e.getTime(),t.getTime()):Ct(e)===Ct(t)?n(e,t):n(e,"number"==typeof e&&"string"==typeof t?parseFloat(t):"string"==typeof e&&"number"==typeof t?t.toString():t))}}]),Pt),_t=(At(xt,[{key:"AddFilter",value:function(e){var n,t,r,o=this,i=e.names,a=e.expected,l=e.term,s=e.id;i.length<1||(n=1===i.length?i[0]:i.sort().join(","),this._innerFilter.hasOwnProperty(n)?t=this._innerFilter[n]:((t=this._innerFilter[n]={}).funcs=[],t.items=[],t.test=function(t){return o._innerFilter[n].funcs.every(function(e){return e(t)})}),r=function(e,t){var n=Object.keys(e).find(function(e){return e.toString().toLowerCase()===t.toLowerCase()});return void 0!==n&&St.Evaluate(e[n],a,l)},e=1===i.length?function(e){return r(e,i[0])}:function(t){return i.some(function(e){return r(t,e)})},t.funcs.push(e),t.items.push({expected:a,term:l,id:s}))}},{key:"RemoveFilter",value:function(e){var t,n,r,o=this,i=e.name,a=e.id;void 0!==i&&(n=Array.isArray(i)?(t=1===i.length?i[0]:i.sort().join(","),i):[t=i]),void 0!==i&&void 0===a?delete this._innerFilter[t]:void 0===i&&void 0===a?this._innerFilter={}:(r=function(e,t,n){var r;!o._innerFilter.hasOwnProperty(e)||(r=o._innerFilter[e].items.filter(function(e){return e.id!==n})).length<o._innerFilter[e].items.length&&(delete o._innerFilter[e],r.forEach(function(e){o.AddFilter({names:t,expected:e.expected,term:e.term,id:e.id})}))},void 0!==i&&void 0!==a?r(t,n,a):Object.keys(this._innerFilter).forEach(function(e){r(e,e.split(","),a)}))}},{key:"IsRowMatched",value:function(e){var t=Object.keys(this._innerFilter);if(t.length<=0)return!0;for(var n=0;n<t.length;n++)if(!this._innerFilter[t[n]].test(e))return!1;return!0}},{key:"GetFilterAsObjects",value:function(){var e=this;if(void 0===this._innerFilter)return[];var n=[];return Object.keys(this._innerFilter).forEach(function(t){e._innerFilter[t].items.forEach(function(e){n.push({column:t,value:e.expected,term:e.term})})}),n}}]),xt);function xt(e,n){var r=this;if(kt(this,xt),this._innerFilter={},void 0!==e&&Array.isArray(e)){if(void 0===n||!Array.isArray(n))throw"columns must be array";e.forEach(function(e){var t;void 0!==e&&(t="*"===e.column?n:e.column.split(",").map(function(e){return e.trim()}),r.AddFilter({names:t,expected:e.value,term:e.term}))})}}function Pt(){kt(this,Pt)}function jt(e){return(jt="function"==typeof Symbol&&"symbol"==Fa(Symbol.iterator)?function(e){return Fa(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":Fa(e)})(e)}function Rt(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function Dt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Tt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ft(e,t,n){return t&&Tt(e.prototype,t),n&&Tt(e,n),e}function Nt(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&It(e,t)}function It(e,t){return(It=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Lt(n){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e=Ut(n),t=r?(t=Ut(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this;return!t||"object"!==jt(t)&&"function"!=typeof t?function(){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}():t}}function Ut(e){return(Ut=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Mt=function(){Nt(t,c.Component);var e=Lt(t);function t(){return Dt(this,t),e.apply(this,arguments)}return Ft(t,[{key:"render",value:function(){return W("checkbox-formatter",{props:this.props})}}]),t}(),Bt=function(){Nt(t,c.Component);var e=Lt(t);function t(){return Dt(this,t),e.apply(this,arguments)}return Ft(t,[{key:"render",value:function(){return W("number-formatter",{props:this.props})}}]),t}(),zt=function(){Nt(t,c.Component);var e=Lt(t);function t(){return Dt(this,t),e.apply(this,arguments)}return Ft(t,[{key:"render",value:function(){var e,t=xe()(this.props.value),n="";return t.isValid()&&(e=Pe("L"),n=t.format(e)),W("date-formatter",{props:this.props,strValue:n})}}]),t}(),Wt=function(){Nt(t,c.Component);var e=Lt(t);function t(){return Dt(this,t),e.apply(this,arguments)}return Ft(t,[{key:"render",value:function(){var e,t,n,r=xe()(this.props.value),o="";return r.isValid()&&(n="DD.MM.YYYY HH:mm",(e=Pe())&&(t=je("HH:mm"),n="".concat(e," ").concat(t)),o=r.format(n)),W("datetime-formatter",{props:this.props,strValue:o})}}]),t}(),Kt=function(){Nt(t,c.Component);var e=Lt(t);function t(){return Dt(this,t),e.apply(this,arguments)}return Ft(t,[{key:"render",value:function(){var e,t=xe()(this.props.value),n="";return t.isValid()&&(e=re(window.DWKitLang)&&re(window.DWKitLang.common)&&re(window.DWKitLang.common.timeFormat)?window.DWKitLang.common.timeFormat:"HH:mm",n=t.format(e)),W("time-formatter",{props:this.props,strValue:n})}}]),t}(),Gt=function(){Nt(a,c.Component);var n=Lt(a);function a(e){var t;Dt(this,a),(t=n.call(this,e)).state={items:[],sort:"",defaultSort:e.defaultSort,filter:e.filter,pageSize:20,selectedIndexes:[],rowsCount:a.staticIsServerMode(e)?void 0:0};try{t.state.isrtl="rtl"==getComputedStyle(document.getElementsByTagName("html")[0]).direction}catch(e){}return t}return Ft(a,[{key:"isEditFormModal",value:function(){return"modal"===this.props.editFormShowType}},{key:"isEditFormSidebar",value:function(){return"sidebar"===this.props.editFormShowType}},{key:"isServerMode",value:function(){return a.staticIsServerMode(this.props)}},{key:"refresh",value:function(){var e;this.isServerMode()?this.setState({items:[],selectedIndexes:[],rowsCount:void 0}):(e=Array.isArray(this.props.value)?a.staticGetSortedAndFilteredItems(this.props.value,this.state.filter,this.state.sort,this.props.defaultSort):[],this.setState({items:e,rowsCount:e.length,selectedIndexes:[],originalItems:this.props.value}))}},{key:"resetSelection",value:function(){this.setState({selectedIndexes:[]})}},{key:"render",value:function(){return W("grid-view",{gridColumns:this.getColumns(),gridProps:this.getGridPropsByPagerType(this.props.pagerType),me:this,onRowsSelected:this.onRowsSelected.bind(this),onRowsDeselected:this.onRowsDeselected.bind(this),selectBy:{indexes:this.state.selectedIndexes},gridRowGetter:this.gridRowGetter.bind(this),gridOnRowClick:this.gridOnRowClick.bind(this),handleGridSort:this.handleGridSort.bind(this),state:this.state,props:this.props})}},{key:"getColumns",value:function(){var r=this,e=void 0===this.props.columns?[]:Array.isArray(this.props.columns)?this.props.columns:JSON.parse(this.props.columns);return e.forEach(function(n){null!==n.width&&""!==n.width&&void 0!==n.width&&(n.width=Number(n.width)),!1!==n.sortable&&(n.sortable=!r.props.disableSort),n.filterable=Boolean(r.props.filterRow),n.resizable=Boolean(n.resizable),"number"===n.type?n.formatter=Bt:"checkbox"===n.type?n.formatter=Mt:"date"===n.type?n.formatter=zt:"time"===n.type?n.formatter=Kt:"datetime"===n.type?n.formatter=Wt:"custom"===n.type&&(n.getRowMetaData=function(e){return e},n.formatter=function(e){if(ne(n.customFormatter)||"function"!=typeof n.customFormatter){if(r.props.placeholders&&Array.isArray(r.props.placeholders[n.key])&&0<r.props.placeholders[n.key].length){var t=r.props.placeholders[n.key][0];return void 0!==t.propertyName&&""!==t.propertyName||(t.propertyName=n.key),z.a.createElement(N,{key:n.key+"_"+e.dependentValues.__id,model:t,parent:r,row:e.dependentValues,errorOnRow:{},name:r.props.name,buildermode:r.props.buildermode,handleChange:function(){},handleEvent:r.props.handleEvent,getAdditionalDataForControl:r.props.getAdditionalDataForControl,readOnly:r.props.readOnly,uploadUrl:r.props.uploadUrl,downloadUrl:r.props.downloadUrl,data:r.props.data,adaptiveViewType:r.props.adaptiveViewType,controlBarParams:r.props.controlBarParams,createControl:r.props.createControl})}return r.props.buildermode?r.props.createBuilderDropzone(r.props.name,r.props.name,void 0,n.key,n.key):""}return n.customFormatter({row:e.dependentValues,value:e.value,column:n})})}),this.state.isrtl?e.reverse():e}},{key:"getGridPropsByPagerType",value:function(){var e,t={};return"server"===this.props.pagerType&&((e=parseInt(this.props.pageSize))&&(this.state.pageSize=e),t.rowRenderer=z.a.createElement(Ht,{error:this.props.error}),ne(this.state.rowsCount)&&(this.state.rowsCount=1)),t}},{key:"getSeletedRowKeys",value:function(){var n=this,r=[];return this.state.selectedIndexes.forEach(function(e){var t;void 0!==(e=n.gridRowGetter(e))&&null!=(t=null==(t=null!==n.props.rowKey&&void 0!==n.props.rowKey&&e.hasOwnProperty(n.props.rowKey)?e[n.props.rowKey]:t)||ne(t)?e.__id:t)&&r.push(t)}),r}},{key:"gridRowGetter",value:function(e){if(!(e<0)){var t,n=this.props.pagerType;return"server"===n&&void 0===this.state.items[e]&&(t=this.state.pageSize,this.loadPage(e,t)),"server"===n?this.state.items[e]:function(r){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?Rt(Object(o),!0).forEach(function(e){var t,n=r;e=o[t=e],t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(o)):Rt(Object(o)).forEach(function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(o,e))})}return r}({},this.state.items[e])}}},{key:"getSort",value:function(){var e=this.state.sort;return""===e&&void 0!==this.props.defaultSort?this.props.defaultSort:e}},{key:"getFilters",value:function(){return void 0!==this.state.filter?this.state.filter.GetFilterAsObjects():[]}},{key:"loadPage",value:function(e,t){for(var n,a=this,r=0;r<t;r++)this.state.items[r+e]={__loading:!0};void 0===this.props.getAdditionalDataForControl?void 0!==console&&console.log("GridView: For paging on server need to set getAdditionalDataForControl func!"):(n=this.getSort(),this.props.getAdditionalDataForControl(this,{startIndex:e,pageSize:t,filters:this.getFilters(),sort:n},function(e){var t=e.sIndex,n=e.pSize,r=e.rowsCount,o=e.items;if(void 0===r||void 0===o)a.state.rowsCount=0,a.setState({rowsCount:0,items:[]});else{a.state.rowsCount=r;for(var i=0;i<n;i++)i<o.length?a.state.items[t+i]=o[i]:a.state.items[t+i]=void 0;a.forceUpdate()}}))}},{key:"gridOnRowClick",value:function(e,t){var n;void 0!==t&&(n=Date.now(),void 0!==this.rowClickTime&&this.rowClickTime.rowIdx===e&&n-this.rowClickTime.time<=1e3?(this.rowClickTime=void 0,this.onRowDblClick(e,t)):(this.rowClickTime={rowIdx:e,time:n},void 0!==this.props.handleEvent&&this.props.handleEvent({key:this.props.name,propertyName:this.props.propertyName,eventName:"onRowClick",parameters:{rowIdx:e,row:t}})))}},{key:"onRowDblClick",value:function(e,t){void 0!==this.props.handleEvent&&this.props.handleEvent({key:this.props.name,propertyName:this.props.propertyName,eventName:"onRowDblClick",parameters:{rowIdx:e,row:t}})}},{key:"onRowsSelected",value:function(e){this.state.selectedIndexes=this.state.selectedIndexes.concat(e.map(function(e){return e.rowIdx})),void 0!==this.props.handleEvent&&this.props.handleEvent({key:this.props.name,eventName:"onSelectionChanged",propertyName:this.props.propertyName,parameters:{selectedIndexes:this.state.selectedIndexes}}),this.forceUpdate()}},{key:"onRowsDeselected",value:function(e){var t=e.map(function(e){return e.rowIdx});this.state.selectedIndexes=this.state.selectedIndexes.filter(function(e){return-1===t.indexOf(e)}),void 0!==this.props.handleEvent&&this.props.handleEvent({key:this.props.name,eventName:"onSelectionChanged",propertyName:this.props.propertyName,parameters:{selectedIndexes:this.state.selectedIndexes}}),this.forceUpdate()}},{key:"handleGridSort",value:function(e,t){var n={};n.sort="NONE"===t?"":e+" "+t,t=this.props.pagerType,n.items="server"===t?[]:a.staticGetSortedAndFilteredItems(this.props.value,this.state.filter,n.sort,this.props.defaultSort),n.selectedIndexes=[],this.setState(n)}},{key:"handleFilterChange",value:function(e){var t={},n=e.column.key,r="columnfilter_"+n;t.filter=void 0!==this.state.filter?this.state.filter:new _t([],this.props.columns.map(function(e){return e.key})),t.filter.RemoveFilter({name:n,id:r}),""!==e.filterTerm&&t.filter.AddFilter({names:[n],expected:e.filterTerm,term:St.Like,id:r}),a.staticIsServerMode(this.props)?(t.items=[],t.selectedIndexes=[],t.rowsCount=void 0):(t.items=a.staticGetSortedAndFilteredItems(this.props.value,t.filter,this.state.sort,this.props.defaultSort),t.selectedIndexes=[],t.rowsCount=t.items.length),this.setState(t)}},{key:"onClearFilters",value:function(){this.setState({filter:this.props.filter})}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"componentDidMount",value:function(){this._isMounted=!0,this.recalcSizeParams()}},{key:"recalcSizeParams",value:function(){var e;this._isMounted&&this.props.autoHeight&&(e=window.innerHeight,this.setState({gridHeight:e-this.props.deltaHeight}))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n,r=null,o=t.filter,i=e.filter;return JSON.stringify(o)!==JSON.stringify(i)?(r={filter:e.filter},a.staticIsServerMode(e)?(r.items=[],r.selectedIndexes=t.selectedIndexes,r.rowsCount=void 0):(n=Array.isArray(e.value)?a.staticGetSortedAndFilteredItems(e.value,e.filter,t.sort,e.defaultSort):[],r.items=n,r.selectedIndexes=t.selectedIndexes,r.rowsCount=n.length)):a.staticIsServerMode(e)||t.originalItems===e.value||(r={},n=Array.isArray(e.value)?a.staticGetSortedAndFilteredItems(e.value,t.filter,t.sort,e.defaultSort):[],r.items=n,r.rowsCount=n.length,r.selectedIndexes=t.selectedIndexes,r.originalItems=e.value),r}},{key:"staticIsServerMode",value:function(e){return"server"===e.pagerType}},{key:"staticGetSortedAndFilteredItems",value:function(e,t,n,r){var o=[];if(void 0===e)return o;if(o=void 0!==t?e.filter(function(e){return t.IsRowMatched(e)}):e,"NONE"===(e=n)||""===n){if(void 0===r)return o;e=r}var r=e.indexOf(" "),i=e.substring(0,r),a=e.substring(r+1,e.length);return o.slice(0).sort(function(e,t){return(e=void 0!==e[i]&&null!==e[i]&&void 0!==e[i].toLowerCase?e[i].toLowerCase():e[i])===(t=void 0!==t[i]&&null!==t[i]&&void 0!==t[i].toLowerCase?t[i].toLowerCase():t[i])?0:null==e?1:null==t?-1:"ASC"===a?t<e?1:-1:"DESC"===a?e<t?1:-1:void 0})}}]),a}(),Ht=function(){Nt(t,c.Component);var e=Lt(t);function t(){return Dt(this,t),e.apply(this,arguments)}return Ft(t,[{key:"setScrollLeft",value:function(e){this.row.setScrollLeft(e)}},{key:"getClassName",value:function(){var t=this;return this.props.row.__loading?"dwkit-gridview-rowloading":void 0!==this.props.row.__id&&null!==this.props.row.__id&&void 0!==this.props.error&&null!==this.props.error&&Array.isArray(this.props.error)&&void 0!==this.props.error.find(function(e){return e.__id===t.props.row.__id})?"dwkit-gridview-rowerror":""}},{key:"render",value:function(){return W("row-loading-renderer",{className:this.getClassName(),me:this,props:this.props,row:this.row})}}]),t}();function qt(e){return(qt="function"==typeof Symbol&&"symbol"==Fa(Symbol.iterator)?function(e){return Fa(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":Fa(e)})(e)}function Qt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Jt(e,t){return(Jt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Yt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Xt(e){return(Xt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Zt=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Jt(e,t)}(a,c.Component);var e,t,n,r,i=(n=a,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=Xt(n),t=r?(t=Xt(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this;return!t||"object"!==qt(t)&&"function"!=typeof t?Yt(e):t});function a(e){var n,t,r,o;return function(e){if(!(e instanceof a))throw new TypeError("Cannot call a class as a function")}(this),o=function(e,t){t=t.name,re(n.props.handleEvent)&&0!=n.props.handleEvent({e:e,key:n.props.name,eventName:"onItemClick",parameters:{target:t}})&&n.setState({activeitem:t})},(r="handleItemClick")in(t=Yt(n=i.call(this,e)))?Object.defineProperty(t,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[r]=o,n.state={},re(e.value)?n.state.activeitem=e.value:null!=e.activeitem&&(n.state.activeitem=e.activeitem),n}return t=[{key:"getDerivedStateFromProps",value:function(e,t){return t.activeitem!==e.value?{activeitem:e.value}:null}}],Qt((e=a).prototype,[{key:"handleItemClick2",value:function(e,t){this.handleItemClick(t,e),t.preventDefault()}},{key:"render",value:function(){var e=this.props["data-items"];return ne(e)||""==e?e=[]:Array.isArray(e)||(e=pe.a.parse(e)),W("menu-group",{handleItemClick:this.handleItemClick,handleItemClick2:this.handleItemClick2,items:e,me:this,props:this.props,state:this.state})}}]),Qt(e,t),a}();function $t(e){return($t="function"==typeof Symbol&&"symbol"==Fa(Symbol.iterator)?function(e){return Fa(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":Fa(e)})(e)}function en(e,t){return(en=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function tn(e){return(tn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var nn=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&en(e,t)}(t,c.Component);var n,r,e=(n=t,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=tn(n),t=r?(t=tn(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this;return!t||"object"!==$t(t)&&"function"!=typeof t?function(){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}():t});function t(){return function(e){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),e.apply(this,arguments)}return function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(t.prototype,[{key:"render",value:function(){var e,t={};for(e in this.props)"additionalParams"!==e&&"items"!==e&&"propertyName"!==e&&(t[e]=this.props[e]);var n=this.props.additionalParams.model,r=this.props.additionalParams.parentItem,o=this.props.additionalParams.handleEvent;return t.defaultValue=n.defaultvalue,t.size=n.size,oe(n.label)&&(t.label=n.label),t.labelPosition=n.labelPosition,t.type=n.type,t.disabled=n.disabled,t.transparent=n.transparent,t.fluid=n.fluid,t.readOnly=n.readOnly||this.props.readOnly,t.placeholder=n.placeholder,null==t.value&&(t.value=""),t.error=Boolean(this.props.error),t.format=n.format||void 0,t.mask=n.mask||void 0,t.onValueChange=function(e){o({key:t.name,propertyName:t.propertyName,eventName:"onChange",name:t.name,value:Number(e.value)})},W("number-format",{isForm:this.isForm(r),props:this.props,propsControl:t})}},{key:"isForm",value:function(e){return null!=e&&("form"===e["data-buildertype"]||"formgroup"===e["data-buildertype"])}}]),t}();function rn(e){return(rn="function"==typeof Symbol&&"symbol"==Fa(Symbol.iterator)?function(e){return Fa(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":Fa(e)})(e)}function on(e,t){return(on=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function an(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ln(e){return(ln=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var sn=n(8),cn=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&on(e,t)}(s,c.Component);var n,r,l=(n=s,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=ln(n),t=r?(t=ln(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this;return!t||"object"!==rn(t)&&"function"!=typeof t?an(e):t});function s(){var r;!function(e){if(!(e instanceof s))throw new TypeError("Cannot call a class as a function")}(this);for(var e,t,n,o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];return n=function(e,t){var n=t.name,t=t.value;r.props.onChange?r.props.onChange(e,{name:r.props.name,propertyName:r.props.propertyName,value:t}):r.props.handleEvent?r.props.handleEvent({syntheticEvent:e,key:r.props.name,eventName:"onChange",name:n,value:t,propertyName:r.props.propertyName}):console.error("Set onChange property for RadioGroup!")},(t="onChange")in(e=an(r=l.call.apply(l,[this].concat(i))))?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,r}return function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(s.prototype,[{key:"shouldComponentUpdate",value:function(e){return!sn(this.props,e)}},{key:"render",value:function(){return W("radio-group",{props:this.props,onChange:this.onChange.bind(this)})}}]),s}();function un(e){return(un="function"==typeof Symbol&&"symbol"==Fa(Symbol.iterator)?function(e){return Fa(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":Fa(e)})(e)}function pn(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function fn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function dn(e,t){return(dn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function hn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Vn(e){return(Vn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function mn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var yn=n(8),vn=n(10),gn=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&dn(e,t)}(s,c.Component);var e,t,n,r,o=(n=s,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=Vn(n),t=r?(t=Vn(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this;return!t||"object"!==un(t)&&"function"!=typeof t?hn(e):t});function s(e){var l;return function(e){if(!(e instanceof s))throw new TypeError("Cannot call a class as a function")}(this),mn(hn(l=o.call(this,e)),"handleChange",function(e,t,n){var r=n.name,o=n.propertyName,i=n.value,a=n.checked,n=n.parameters;(l.props.controlProps.handleEvent||l.props.controlProps.buildermode)&&(void 0===o&&(o=r),n&&void 0!==n.index&&((r=l.state.items)[n.index]=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?pn(Object(n),!0).forEach(function(e){mn(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pn(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}({},e),e=r[n.index]),ne(i)&&re(a)?e[o]=a:e[o]=i,l.isServerMode()?l.forceUpdate():(l.sendChangesToParent(),t&&t.preventDefault?t.preventDefault():l.forceUpdate()))}),mn(hn(l),"loadNextPage",function(){var e=l.state.pageSize,t=0;re(l.state.items)&&(t=l.state.items.length),l.loadPage(t,e)}),l.psTemplate="template",l.state={items:[],sort:"",filter:e.filter,firstLoad:!e.controlProps.buildermode&&s.staticIsServerMode(e),pageSize:e.pageSize||20},l}return t=[{key:"getDerivedStateFromProps",value:function(e,t){var n,r={needUpdate:!1};return yn(t.filter,e.filter)?s.staticIsServerMode(e)||yn(t.originalItems,e.value)||(n=s.staticGetSortedAndFilteredItems(e.value,t.filter,t.sort,e.defaultSort),r.items=n,r.rowsCount=n.length,r.selectedIndexes=[],r.originalItems=s.copyObj(e.value),r.needUpdate=!0):(r.filter=e.filter,r.needUpdate=!0,s.staticIsServerMode(e)?(r.items=[],r.firstLoad=!0,r.rowsCount=void 0):(e=s.staticGetSortedAndFilteredItems(e.value,e.filter,t.sort,e.defaultSort),r.items=e,r.selectedIndexes=[],r.rowsCount=e.length)),r}},{key:"staticIsServerMode",value:function(e){return e.pagerType&&"server"===e.pagerType.toLowerCase()}},{key:"staticCheckData",value:function(e){if(e=e||[],Array.isArray(e))e=vn(e);else try{e=pe.a.parse(e)}catch(e){}return e}},{key:"staticGetSortedAndFilteredItems",value:function(e,t,n,r){var o=s.staticCheckData(e);if(void 0===o)return o;if(Array.isArray(o)&&0<o.length)for(var i in o)o[i].__originalIndex=i,i++;if(void 0!==t&&(o=o.filter(function(e){return t.IsRowMatched(e)})),"NONE"===(e=n)||""===n){if(void 0===r)return o;e=r}var r=e.indexOf(" "),a=e.substring(0,r),l=e.substring(r+1,e.length);return o.sort(function(e,t){return(e=void 0!==e[a]&&null!==e[a]&&void 0!==e[a].toLowerCase?e[a].toLowerCase():e[a])===(t=void 0!==t[a]&&null!==t[a]&&void 0!==t[a].toLowerCase?t[a].toLowerCase():t[a])?0:null==e?1:null==t?-1:"ASC"===l?t<e?1:-1:"DESC"===l?e<t?1:-1:void 0})}},{key:"copyObj",value:function(e){if(null==e||"object"!=un(e))return e;var t,n=e.constructor();for(t in e)e.hasOwnProperty(t)&&(n[t]=this.copyObj(e[t]));return n}}],fn((e=s).prototype,[{key:"shouldComponentUpdate",value:function(e,t){return!!t.needUpdate||!yn(this.props,e)}},{key:"render",value:function(){return W("repeater",{isServerMode:this.isServerMode(),loadNextPage:this.loadNextPage,me:this,props:this.props,psTemplate:this.psTemplate,state:this.state,handleChange:this.handleChange})}},{key:"sendChangesToParent",value:function(){var e=s.copyObj(this.state.items);if(Array.isArray(e)&&0<e.length)for(var t in e)delete e[t].__originalIndex;var n="string"==typeof this.props.value?pe.a.stringify(e):e;this.props.controlProps.buildermode?this.props.value=n:this.props.controlProps.handleEvent({syntheticEvent:null,key:this.props.name,propertyName:this.props.propertyName,eventName:"onChange",name:this.name,value:n})}},{key:"loadPage",value:function(o,e){var t,i=this;this.props.controlProps&&void 0!==this.props.controlProps.getAdditionalDataForControl?(""===(t=this.state.sort)&&void 0!==this.props.defaultSort&&(t=this.props.defaultSort),this.state.loading=!0,this.forceUpdate(),this.props.controlProps.getAdditionalDataForControl(this,{startIndex:o,pageSize:e,filters:void 0!==this.state.filter?this.state.filter.GetFilterAsObjects():[],sort:t},function(e){e.sIndex,e.pageSize;var t=e.rowsCount,n=e.items;if(void 0!==t&&void 0!==n&&(i.state.rowsCount=t,i.state.items.length==o))for(var r=0;r<n.length;r++)i.state.items.push(n[r]);i.state.loading=!1,i.forceUpdate()})):void 0!==console&&console.log("Repeater: For paging on server need to set getAdditionalDataForControl func!")}},{key:"isServerMode",value:function(){return s.staticIsServerMode(this.props)}}]),fn(e,t),s}();function bn(e){return(bn="function"==typeof Symbol&&"symbol"==Fa(Symbol.iterator)?function(e){return Fa(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":Fa(e)})(e)}function wn(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function On(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?wn(Object(n),!0).forEach(function(e){An(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):wn(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function Cn(e,t){return(Cn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function kn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function En(e){return(En=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function An(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Sn=n(8),_n=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Cn(e,t)}(i,c.Component);var n,r,o=(n=i,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=En(n),t=r?(t=En(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this;return!t||"object"!==bn(t)&&"function"!=typeof t?kn(e):t});function i(){var r;!function(e){if(!(e instanceof i))throw new TypeError("Cannot call a class as a function")}(this);for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return An(kn(r=o.call.apply(o,[this].concat(t))),"handleEvent",function(e){e.parameters||(e.parameters={}),e.parameters.row||(e.parameters.row=r.props.item),"onChange"===e.eventName?(e.parameters.index||(e.parameters.index=r.props.index),r.props.handleChange(r.props.item,e.syntheticEvent,e)):(e.parameters.index||(r.props.item&&r.props.item.__originalIndex?e.parameters.index=r.props.item.__originalIndex:e.parameters.index=r.props.index),r.props.controlProps.handleEvent(e))}),An(kn(r),"getAdditionalDataForControl",function(e,t,n){return(t=t||{}).row||(t.row=r.props.item),r.props.controlProps.getAdditionalDataForControl(e,t,n)}),r}return function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(i.prototype,[{key:"shouldComponentUpdate",value:function(e){return!Sn(this.props,e)}},{key:"render",value:function(){var e=this.props.controlProps.createBuilderDropzone,t=this.props.model,n=this.props.index+"_",r=this.props.psTemplate,o=this.props.controlProps.createControls(this.props.parent,On(On({},this.props.controlProps),{},{model:t,parentPlaceholder:r,data:this.props.item,errors:this.props.errors,needCheckReplace:!this.props.controlProps.buildermode,formData:this.props.data,parentItem:this.props.parentItem,handleEvent:this.handleEvent,getAdditionalDataForControl:this.getAdditionalDataForControl}));return this.props.includeDropzone&&e&&(0<o.length&&0<t.length&&o.unshift(e(n+"repeter_dropzone_header",this.props.parentItem.key,void 0,void 0,r)),o.push(e(n+"repeter_dropzone_footer",this.props.parentItem.key,t[t.length-1].key,void 0,r))),o}}]),i}(),xn=n(11),Pn=n.n(xn);function jn(e){return(jn="function"==typeof Symbol&&"symbol"==Fa(Symbol.iterator)?function(e){return Fa(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":Fa(e)})(e)}function Rn(e,t){return(Rn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Dn(e){return(Dn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Tn=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Rn(e,t)}(o,c.Component);var n,r,t=(n=o,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=Dn(n),t=r?(t=Dn(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this;return!t||"object"!==jn(t)&&"function"!=typeof t?function(){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}():t});function o(e){return function(e){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this),(e=t.call(this,e)).state={value:""},e}return function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(o.prototype,[{key:"render",value:function(){var e,t={};for(e in this.props)"value"!==e&&"handleEvent"!==e&&(t[e]=this.props[e]);return W("search",{controlProps:t,handleResultSelect:this.handleResultSelect.bind(this),handleSearchChange:this.handleSearchChange.bind(this),state:this.state})}},{key:"resetSearch",value:function(){this.setState({isLoading:!1,results:[]})}},{key:"handleResultSelect",value:function(e,t){t=t.result,re(this.props.handleEvent)&&this.props.handleEvent({key:this.props.name,propertyName:this.props.propertyName,eventName:"onSelect",parameters:t})}},{key:"handleSearchChange",value:function(e,t){var t=t.value,n=this;n.setState({isLoading:!0,value:t}),setTimeout(function(){return null===n.state.value||void 0===n.state.value||n.state.value.length<2?n.resetSearch():void n.search(n.state.value)},200)}},{key:"search",value:function(e){var t=this,n=this.props.url;n+=this.props.url.includes("?")?"&":"?",n+="term="+e,Pn()(n,{credentials:"same-origin"}).then(function(e){return e.json()}).then(function(e){t.setState({isLoading:!1,results:e})}).catch(function(e){ne(console)?alert(e):console.error(e)})}}]),o}();function Fn(e){return(Fn="function"==typeof Symbol&&"symbol"==Fa(Symbol.iterator)?function(e){return Fa(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":Fa(e)})(e)}function Nn(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function In(r){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?Nn(Object(o),!0).forEach(function(e){var t,n=r;e=o[t=e],t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(o)):Nn(Object(o)).forEach(function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(o,e))})}return r}function Ln(e,t){return(Ln=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Un(e){return(Un=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Mn=n(10),Bn=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ln(e,t)}(o,c.Component);var n,r,t=(n=o,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=Un(n),t=r?(t=Un(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this;return!t||"object"!==Fn(t)&&"function"!=typeof t?function(){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}():t});function o(e){return function(e){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this),(e=t.call(this,e)).state={},e}return function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(o.prototype,[{key:"render",value:function(){var e,r=this,i=this,a={};for(e in this.props)"additionalParams"!==e&&"items"!==e&&"propertyName"!==e&&(a[e]=this.props[e]);var t,n,o=this.props.additionalParams.model,l=this.props.additionalParams.data,s=this.props.additionalParams.errors,c=this.props.additionalParams.children,u=this.props.additionalParams.parentItem,p=this.props.additionalParams.handleEvent,f=o["data-buildertype"];if("header"===f)t=W(f,{props:this.props,propsControl:a,model:o});else if("button"===f)a.floated=o.floated,a.size=""!==o.size?o.size:null,a.content=this.props.content,a.basic=o.basic,a.circular=o.circular,a.compact=o.compact,a.disabled=o.disabled,a.fluid=o.fluid,a.primary=o.primary,a.secondary=o.secondary,a.link=o.link,o.icon&&(a.icon=o.icon),void 0!==p&&(n=a.onClick,a.onClick=function(e){n&&n(e),e.currentTarget&&e.currentTarget.classList&&e.currentTarget.classList.add("loading");var t=p({syntheticEvent:e,key:a.name,eventName:"onClick"});return e.currentTarget&&e.currentTarget.classList&&e.currentTarget.classList.remove("loading"),t}),t=W(f,{propsControl:a,isForm:this.isForm(u)});else if("label"===f)t=W(f,{props:this.props,propsControl:a,model:o});else if("message"===f)t=W(f,{props:this.props,propsControl:a,model:o});else if("input"===f)a.defaultValue=o.defaultvalue,a.size=o.size,oe(o.label)&&(a.label=o.label),a.keyboardType=o.keyboardType,a.labelPosition=o.labelPosition,a.placeholder=o.placeholder,a.type=o.type,a.disabled=o.disabled,a.transparent=o.transparent,a.fluid=o.fluid,a.readOnly=o.readOnly||this.props.readOnly,null!=p&&(a.onChange=function(e,t){var n=t.name,r=t.value,o=r;"number"===a.type&&(""==o?o=void 0:"string"!=typeof o||"."!=(t=o[o.length-1])&&","!=t&&(o=Number(o),Number.isNaN(o)&&(o=r))),p({syntheticEvent:e,key:a.name,propertyName:i.props.propertyName,eventName:"onChange",name:n,value:o})}),null==a.value&&(a.value=""),a.error=Boolean(this.props.error),t=W(f,{isForm:this.isForm(u),props:this.props,propsControl:a});else if("textarea"===f)delete a.autoHeight,a.placeholder=o.placeholder,a.keyboardType=o.keyboardType,a.rows=null!==o.rows&&void 0!==o.rows?Number(o.rows):void 0,void 0!==o.label&&""!==o.label&&(a.label=o.label),a.readOnly=o.readOnly||this.props.readOnly,null!==p&&(a.onChange=function(e,t){var n=t.name,t=t.value;p({syntheticEvent:e,key:a.name,propertyName:i.props.propertyName,eventName:"onChange",name:n,value:t})}),null==a.value&&(a.value=""),t=W(f,{isForm:this.isForm(u),props:this.props,propsControl:a});else if("checkbox"===f)void 0!==o.label&&""!==o.label&&(a.label=o.label),a.placeholder=o.placeholder,a.type=o.type,a.disabled=o.disabled,a.fitted=o.fitted,a.indeterminate=o.indeterminate,a.readOnly=o.readOnly||this.props.readOnly,a.slider=o.slider,a.toggle=o.toggle,null!==p&&(a.onChange=function(e,t){var n=t.name,t=t.checked;p({syntheticEvent:e,key:a.name,propertyName:i.props.propertyName,eventName:"onChange",name:n,value:t})}),void 0!==l&&("boolean"==typeof variable?a.checked=l[a.name]:"true"===l[a.name]||"1"===l[a.name]?a.checked=!0:"false"===l[a.name]||"0"===l[a.name]?a.checked=!1:a.checked=Boolean(l[a.name])),s&&re(s[o.key])&&1==Boolean(s[o.key])&&(oe(a.className)?a.className+=" error":a.className="error"),t=W(f,{isForm:this.isForm(u),propsControl:a});else if("dropdown"===f){var d,l=[];if(void 0!==o["data-elements"]&&(l=Array.isArray(o["data-elements"])?o["data-elements"]:pe.a.parse(o["data-elements"])),void 0!==o.label&&""!==o.label&&(a.label=o.label),o.clearable&&!o.multiple&&(l=Mn(l)).unshift({key:"__reset",value:"",text:"   "}),a.defaultValue=o.defaultvalue,a.placeholder=o.placeholder,a.options=l,a.fluid=o.fluid,a.selection=o.selection,a.multiple=o.multiple,a.search=o.search,a.disabled=o.disabled||o.readOnly||this.props.readOnly,s&&void 0!==s[o.key]&&(a.error=Boolean(a.error)),null!==p&&(a.onChange=function(e,t){var n=t.name,t=t.value;p({syntheticEvent:e,key:a.name,propertyName:i.props.propertyName,eventName:"onChange",name:n,value:t})}),a.allowAdditions=o.allowAddItems,a.allowAdditions&&(a.onAddItem=function(e,t){var n=t.value,t=Mn(a.value);Array.isArray(t)?t.includes(n)||t.push(n):t=[n],a.onChange(e,{name:a.name,value:t})}),a.multiple){if(void 0!==a.value&&null!==a.value||(a.value=[]),!Array.isArray(a.value)){try{d=pe.a.parse(a.value)}catch(e){}Array.isArray(d)||(d=[a.value]),a.value=d}a.allowAdditions&&this.dropdownCheckAdditional(a.value,a.options)}t=W(f,{isForm:this.isForm(u),props:this.props,propsControl:a})}else if("statistic"===f)u=[],void 0!==o["data-elements"]&&(u=Array.isArray(o["data-elements"])?o["data-elements"]:pe.a.parse(o["data-elements"])),t=W(f,{items:u,model:o,propsControl:a});else if("image"===f)t=W(f,{me:i,model:o,props:this.props,propsControl:a});else if("form"===f)t=W(f,{propsControl:a,children:c,model:o});else if("formgroup"===f)t=W(f,{propsControl:a,widths:o.widths,widthsCustom:o.widthsCustom,children:c,orientation:o.orientation});else if("breadcrumb"===f){var h=[];if(Array.isArray(this.props.items))for(var V=0;V<this.props.items.length;V++)!function(e){var t=r.props.items[e],n={key:e};n.active=t.active,n.href=t.url,null!==p&&(n.onClick=function(e){p({syntheticEvent:e,key:a.name,eventName:"onItemClick",parameters:{target:t.url}}),e.preventDefault()}),h.push({childProps:In({},n),text:re(t.text)?t.text:"<not set>"}),e<r.props.items.length-1&&(e={key:e+"_d"},""!==t.divider&&(e.icon=t.divider),h.push({dividerProps:In({},e),isDivider:!0}))}(V);t=W(f,{children:h,propsControl:a})}else t=W("unknown",{props:this.props,type:f});return t}},{key:"isForm",value:function(e){return null!=e&&("form"===e["data-buildertype"]||"formgroup"===e["data-buildertype"])}},{key:"dropdownCheckAdditional",value:function(e,r){Array.isArray(e)&&e.forEach(function(e){for(var t=!1,n=0;n<r.length;n++)if(e===r[n].value){t=!0;break}0==t&&r.push({value:e,text:e})})}}]),o}();function zn(e){return(zn="function"==typeof Symbol&&"symbol"==Fa(Symbol.iterator)?function(e){return Fa(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":Fa(e)})(e)}function Wn(e,t){return(Wn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Kn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Gn(e){return(Gn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Hn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var qn=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Wn(e,t)}(i,c.Component);var n,r,o=(n=i,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=Gn(n),t=r?(t=Gn(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this;return!t||"object"!==zn(t)&&"function"!=typeof t?Kn(e):t});function i(){var r;!function(e){if(!(e instanceof i))throw new TypeError("Cannot call a class as a function")}(this);for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Hn(Kn(r=o.call.apply(o,[this].concat(t))),"onUpload",function(e,t){var n=Kn(r),e={name:e.name,token:t.result.properties.Token,success:t.success,properties:t.result.properties};t.success?n.props.onChange&&n.props.onChange(null,{name:n.props.name,propertyName:n.props.propertyName,value:t.result.properties.Token,parameters:e}):n.props.onUploadFail&&n.props.onUploadFail(null,{name:n.props.name,propertyName:n.props.propertyName,message:t.result.message,details:t.result.details,success:!1})}),Hn(Kn(r),"onClear",function(e){var t=Kn(r);t.props.onChange&&t.props.onChange(null,{name:t.props.name,propertyName:t.props.propertyName,value:null})}),r}return function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(i.prototype,[{key:"render",value:function(){var e=this.onClear,t=this.onUpload;return W("signature",{handleChange:this.handleChange,me:this,onClear:e,onUpload:t,props:this.props,state:this.state})}}]),i}();function Qn(e){return(Qn="function"==typeof Symbol&&"symbol"==Fa(Symbol.iterator)?function(e){return Fa(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":Fa(e)})(e)}function Jn(e,t){return(Jn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Yn(e){return(Yn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Xn=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Jn(e,t)}(o,c.Component);var n,r,t=(n=o,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=Yn(n),t=r?(t=Yn(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this;return!t||"object"!==Qn(t)&&"function"!=typeof t?function(){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}():t});function o(e){return function(e){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this),(e=t.call(this,e)).state={},e}return function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(o.prototype,[{key:"render",value:function(){var e={name:this.props.name,className:this.props["style-customcss"],style:this.props.style,"data-buildertype":this.props["data-buildertype"]};return W("static-content",{props:this.props,spanProps:e})}}]),o}();function Zn(e){return(Zn="function"==typeof Symbol&&"symbol"==Fa(Symbol.iterator)?function(e){return Fa(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":Fa(e)})(e)}function $n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function er(e,t){return(er=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function tr(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function nr(e){return(nr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var rr=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&er(e,t)}(a,c.Component);var e,t,n,r,i=(n=a,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=nr(n),t=r?(t=nr(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this;return!t||"object"!==Zn(t)&&"function"!=typeof t?tr(e):t});function a(e){var n,t,r,o;return function(e){if(!(e instanceof a))throw new TypeError("Cannot call a class as a function")}(this),o=function(e,t){t=t.activeIndex,n.props.buildermode&&n.forceUpdate(),window&&window.document&&setTimeout(function(){var e=window.document.createEvent("UIEvents");e.initUIEvent("resize",!0,!1,window,0),window.dispatchEvent(e)},50),re(n.props.handleEvent)&&n.props.handleEvent({e:e,key:n.props.name,eventName:"onTabChange",parameters:{targetIndex:t,pane:n.props["data-panes"][t]}})},(r="onTabChange")in(t=tr(n=i.call(this,e)))?Object.defineProperty(t,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[r]=o,n.state={},re(e.value)?n.state.activeitem=e.value:null!=e.activeitem&&(n.state.activeitem=e.activeitem),n}return t=[{key:"getDerivedStateFromProps",value:function(e,t){return t.activeitem!==e.value?{activeitem:e.value}:null}}],$n((e=a).prototype,[{key:"render",value:function(){var e=this.getPanes(this.props["data-panes"]);return W("tab-group",{onTabChange:this.onTabChange,panes:e,props:this.props})}},{key:"getPanes",value:function(e){var t=[];if(Array.isArray(e))for(var n=0;n<e.length;n++){var r=e[n];if(void 0!==r.visibleCondition&&null!==r.visibleCondition&&""!==r.visibleCondition){var o="return "+r.visibleCondition;try{if(!new Function("data",o)(this.props.data))continue}catch(e){}}t.push({menuItem:r.title,pane:{key:r.psid,className:"top",content:this.renderPanel(r)}})}return t}},{key:"renderPanel",value:function(e){var t,n,r=void 0;return re(this.props.placeholders)&&Array.isArray(this.props.placeholders[e.psid])&&0<this.props.placeholders[e.psid].length?(t=this.props.placeholders[e.psid])&&(r=this.props.createControls(this,{model:t,parentPlaceholder:e.psid,data:this.props.data,formData:this.props.data,errors:this.props.errors,buildermode:this.props.buildermode,parentItem:this.props.model,children:this.props.children,handleEvent:this.props.handleEvent,readOnlyControls:this.props.readOnlyControls,hideControls:this.props.hideControls,getFormFunc:this.props.getFormFunc,getAdditionalDataForControl:this.props.getAdditionalDataForControl,readOnly:this.props.readOnly,disableRefs:this.props.disableRefs,uploadUrl:this.props.uploadUrl,downloadUrl:this.props.downloadUrl,extendedData:this.props.extendedData,controlsToReplace:this.props.controlsToReplace,needCheckReplace:this.props.needCheckReplace,eventOnEdit:this.props.eventOnEdit,eventOnDelete:this.props.eventOnDelete,eventOnCopy:this.props.eventOnCopy,externalControlRender:this.props.externalControlRender,externalControlList:this.props.externalControlList,adaptiveViewType:this.props.adaptiveViewType}),n=e.psid,this.props.buildermode&&this.props.createBuilderDropzone&&(0<r.length&&0<t.length&&r.unshift(this.props.createBuilderDropzone(n+"tab_dropzone_header",this.props.name,void 0,e.title,e.psid)),r.push(this.props.createBuilderDropzone(n+"tab_dropzone_footer",this.props.name,t[t.length-1].key,e.title,e.psid)))):this.props.buildermode&&this.props.createBuilderDropzone&&(r=this.props.createBuilderDropzone("tab_dropzone_footer",this.props.name,void 0,e.title,e.psid)),r}}]),$n(e,t),a}();function or(e){return(or="function"==typeof Symbol&&"symbol"==Fa(Symbol.iterator)?function(e){return Fa(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":Fa(e)})(e)}function ir(e,t){return(ir=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ar(e){return(ar=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var lr=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ir(e,t)}(o,c.Component);var n,r,t=(n=o,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=ar(n),t=r?(t=ar(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this;return!t||"object"!==or(t)&&"function"!=typeof t?function(){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}():t});function o(e){return function(e){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this),(e=t.call(this,e)).state={},e}return function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(o.prototype,[{key:"render",value:function(){var e=this.getPanels(this.props.panels);return W("accordion",{panels:e,props:this.props})}},{key:"getPanels",value:function(e){var t=[];if(Array.isArray(e))for(var n=0;n<e.length;n++){var r=e[n];if(void 0!==r.visibleCondition&&null!==r.visibleCondition&&""!==r.visibleCondition){var o="return "+r.visibleCondition;try{if(!new Function("data",o)(this.props.data))continue}catch(e){}}t.push({key:r.psid,title:r.title,content:{content:this.renderPanel(r)}})}return t}},{key:"renderPanel",value:function(e){var t,n,r=void 0;return re(this.props.placeholders)&&Array.isArray(this.props.placeholders[e.psid])&&0<this.props.placeholders[e.psid].length?(t=this.props.placeholders[e.psid])&&(r=this.props.createControls(this,{model:t,parentPlaceholder:e.psid,data:this.props.data,formData:this.props.data,errors:this.props.errors,buildermode:this.props.buildermode,parentItem:this.props.model,children:this.props.children,handleEvent:this.props.handleEvent,readOnlyControls:this.props.readOnlyControls,hideControls:this.props.hideControls,getFormFunc:this.props.getFormFunc,getAdditionalDataForControl:this.props.getAdditionalDataForControl,readOnly:this.props.readOnly,disableRefs:this.props.disableRefs,uploadUrl:this.props.uploadUrl,downloadUrl:this.props.downloadUrl,extendedData:this.props.extendedData,controlsToReplace:this.props.controlsToReplace,needCheckReplace:this.props.needCheckReplace,eventOnEdit:this.props.eventOnEdit,eventOnDelete:this.props.eventOnDelete,eventOnCopy:this.props.eventOnCopy,externalControlRender:this.props.externalControlRender,externalControlList:this.props.externalControlList,adaptiveViewType:this.props.adaptiveViewType}),n=e.psid,this.props.buildermode&&this.props.createBuilderDropzone&&(0<r.length&&0<t.length&&r.unshift(this.props.createBuilderDropzone(n+"tab_dropzone_header",this.props.name,void 0,e.title,e.psid)),r.push(this.props.createBuilderDropzone(n+"tab_dropzone_footer",this.props.name,t[t.length-1].key,e.title,e.psid)))):this.props.buildermode&&this.props.createBuilderDropzone&&(r=this.props.createBuilderDropzone("tab_dropzone_footer",this.props.name,void 0,e.title,e.psid)),r}}]),o}();function sr(e){return(sr="function"==typeof Symbol&&"symbol"==Fa(Symbol.iterator)?function(e){return Fa(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":Fa(e)})(e)}function cr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ur(e,t){return(ur=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function pr(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function fr(e){return(fr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var dr=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ur(e,t)}(i,c.Component);var e,t,n,r,o=(n=i,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=fr(n),t=r?(t=fr(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this;return!t||"object"!==sr(t)&&"function"!=typeof t?pr(e):t});function i(e){var t,n,r;return function(e){if(!(e instanceof i))throw new TypeError("Cannot call a class as a function")}(this),t=o.call(this,e),r=function(e){null!=t.props.handleEvent&&t.props.handleEvent({syntheticEvent:e,key:t.props.name,propertyName:t.props.propertyName,eventName:"onClick"})},(e="onClick")in(n=pr(t))?Object.defineProperty(n,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[e]=r,t.state={},t}return t=[{key:"copyObj",value:function(e){if(null==e||"object"!=sr(e))return e;var t,n=e.constructor();for(t in e)e.hasOwnProperty(t)&&(n[t]=this.copyObj(e[t]));return n}}],cr((e=i).prototype,[{key:"render",value:function(){var e={className:this.props.className,style:this.props.style};return this.props.activeEvent&&(e.onClick=this.onClick.bind(this)),W("card",{props:this.props,propsControls:e,me:this})}},{key:"renderPanel",value:function(e){var t,n,r=void 0;return null!=this.props.placeholders&&Array.isArray(this.props.placeholders[e])&&0<this.props.placeholders[e].length?(t=this.props.placeholders[e])&&(r=this.props.createControls(this,{model:t,parentPlaceholder:e,data:this.props.data,formData:this.props.data,errors:this.props.errors,buildermode:this.props.buildermode,parentItem:this.props.model,children:this.props.children,handleEvent:this.props.handleEvent,hideControls:this.props.hideControls,readOnlyControls:this.props.readOnlyControls,getFormFunc:this.props.getFormFunc,getAdditionalDataForControl:this.props.getAdditionalDataForControl,readOnly:this.props.readOnly,disableRefs:this.props.disableRefs,uploadUrl:this.props.uploadUrl,downloadUrl:this.props.downloadUrl,extendedData:this.props.extendedData,controlsToReplace:this.props.controlsToReplace,needCheckReplace:this.props.needCheckReplace,eventOnEdit:this.props.eventOnEdit,eventOnDelete:this.props.eventOnDelete,eventOnCopy:this.props.eventOnCopy,externalControlRender:this.props.externalControlRender,externalControlList:this.props.externalControlList,adaptiveViewType:this.props.adaptiveViewType}),n=e,this.props.buildermode&&this.props.createBuilderDropzone&&(0<r.length&&0<t.length&&r.unshift(this.props.createBuilderDropzone(n+"tab_dropzone_header",this.props.name,void 0,e,e)),r.push(this.props.createBuilderDropzone(n+"tab_dropzone_footer",this.props.name,t[t.length-1].key,e,e)))):this.props.buildermode&&this.props.createBuilderDropzone&&(r=this.props.createBuilderDropzone("tab_dropzone_footer",this.props.name,void 0,e,e)),r}}]),cr(e,t),i}();function hr(e){return(hr="function"==typeof Symbol&&"symbol"==Fa(Symbol.iterator)?function(e){return Fa(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":Fa(e)})(e)}function Vr(e,t){return(Vr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function mr(e){return(mr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var yr=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Vr(e,t)}(t,c.Component);var n,r,e=(n=t,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=mr(n),t=r?(t=mr(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this;return!t||"object"!==hr(t)&&"function"!=typeof t?function(){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}():t});function t(){return function(e){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),e.apply(this,arguments)}return function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(t.prototype,[{key:"componentDidMount",value:function(){this.props.onMount(this)}},{key:"render",value:function(){return W("tree-picker-header",{props:this.props})}}]),t}();function vr(e){return(vr="function"==typeof Symbol&&"symbol"==Fa(Symbol.iterator)?function(e){return Fa(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":Fa(e)})(e)}function gr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function br(e,t){return(br=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function wr(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Or(e){return(Or=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Cr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var kr=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&br(e,t)}(i,c.Component);var n,r,o=(n=i,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=Or(n),t=r?(t=Or(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this;return!t||"object"!==vr(t)&&"function"!=typeof t?wr(e):t});function i(){var a;!function(e){if(!(e instanceof i))throw new TypeError("Cannot call a class as a function")}(this);for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Cr(wr(a=o.call.apply(o,[this].concat(t))),"onChange",function(t){var e,n=wr(a),r=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e){if(e){if("string"==typeof e)return gr(e,void 0);var t=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(t="Object"===t&&e.constructor?e.constructor.name:t)||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?gr(e,void 0):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return{s:t=function(){},n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:t}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,a=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){a=!0,o=e},f:function(){try{i||null==n.return||n.return()}finally{if(a)throw o}}}}(t.target.files);try{for(r.s();!(e=r.n()).done;){var o=e.value,i=new FormData;i.append(n.props.name,o),window.$.ajax({url:n.props.uploadUrl,type:"POST",processData:!1,contentType:!1,dataType:"json",data:i,success:function(e){e.success?n.props.onChange&&n.props.onChange(t,{name:n.props.name,propertyName:n.props.propertyName,value:e.result.properties.Token,parameters:{success:!0,properties:e.result.properties}}):n.props.onUploadFail&&n.props.onUploadFail(t,{name:n.props.name,propertyName:n.props.propertyName,message:e.message,details:e.details,success:!1})}})}}catch(e){r.e(e)}finally{r.f()}}),Cr(wr(a),"onClear",function(){a.props.onChange&&a.props.onChange(void 0,{name:a.props.name,propertyName:a.props.propertyName,value:null})}),a}return function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(i.prototype,[{key:"getCustomFileName",value:function(){return this.props.additionalData&&this.props.additionalDataContext&&this.props.additionalData.customNameGetter?this.props.additionalData.customNameGetter(this.props.additionalDataContext):null}},{key:"getCustomContentType",value:function(){return this.props.additionalData&&this.props.additionalDataContext&&this.props.additionalData.customContentTypeGetter?this.props.additionalData.customContentTypeGetter(this.props.additionalDataContext):null}},{key:"render",value:function(){return W("upload",{getCustomContentType:this.getCustomContentType,getCustomFileName:this.getCustomFileName,me:this,onChange:this.onChange,onClear:this.onClear,props:this.props})}}]),i}();function Er(e){return(Er="function"==typeof Symbol&&"symbol"==Fa(Symbol.iterator)?function(e){return Fa(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":Fa(e)})(e)}function Ar(e,t){return(Ar=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Sr(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _r(e){return(_r=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function xr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Pr=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ar(e,t)}(o,c.Component);var n,r,t=(n=o,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=_r(n),t=r?(t=_r(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this;return!t||"object"!==Er(t)&&"function"!=typeof t?Sr(e):t});function o(e){var r;return function(e){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this),xr(Sr(r=t.call(this,e)),"selectWorkflowScheme",function(e,t){t=t.value,r.props.handleEvent({key:r.props.name,eventName:"onSchemeSelected",parameters:{scheme:t}})}),xr(Sr(r),"handleChanged",function(e,t){var n=t.name,t=t.value;r.setState(xr({},n,t))}),r.state={commands:e.commands,states:e.states,processExists:e.processExists},r.checkGetAdditionalDataForControl(),r}return function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(o.prototype,[{key:"componentDidMount",value:function(){this.isMount=!0}},{key:"componentWillUnmount",value:function(){this.isMount=!1}},{key:"checkGetAdditionalDataForControl",value:function(){var o=this;this.props.getAdditionalDataForControl||this.props.commands||this.props.states?this.props.getAdditionalDataForControl(this,{loadParameters:!this.props.blockLoadParameters},function(e){var t=e.commands,n=e.states,r=e.processExists,e=e.processParameters;o.setState({commands:t,states:n,processExists:r}),o.props.handleEvent&&o.props.handleEvent({key:o.props.name,eventName:"onReceivedCommands",parameters:{commands:t,states:n,processParameters:e}}),o.isMount&&o.forceUpdate()}):console&&console.log("WorkflowBar: This control requires getAdditionalDataForControl or commands and states not undefined parameters!")}},{key:"onCommand",value:function(e,t){re(this.props.handleEvent)&&(t.currentTarget&&t.currentTarget.classList&&t.currentTarget.classList.add("loading"),this.props.handleEvent({key:this.props.name,eventName:"onCommandClick",parameters:{command:e}}),t.currentTarget&&t.currentTarget.classList&&t.currentTarget.classList.remove("loading"))}},{key:"onSetState",value:function(e){if(re(this.props.handleEvent)){e.currentTarget&&e.currentTarget.classList&&e.currentTarget.classList.add("loading");for(var t=(re(this.state.states)?this.state:this.props).states,n=void 0,r=0;r<t.length;r++)if(t[r].value==this.state.setstate){n=t[r];break}this.props.handleEvent({key:this.props.name,eventName:"onSetStateClick",parameters:{state:n}}),e.currentTarget&&e.currentTarget.classList&&e.currentTarget.classList.remove("loading")}}},{key:"render",value:function(){return W("workflow-bar",{handleChanged:this.handleChanged.bind(this),me:this,props:this.props,selectWorkflowScheme:this.selectWorkflowScheme.bind(this),state:this.state,onCommand:this.onCommand.bind(this),onSetState:this.onSetState.bind(this)})}}]),o}(),t=n(14),jr=n.n(t).a.createActions(["add","showEditForm","remove","saveData","save","move","insert"]),ue=n(17),Rr=n.n(ue);function Dr(e){return(Dr="function"==typeof Symbol&&"symbol"==Fa(Symbol.iterator)?function(e){return Fa(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":Fa(e)})(e)}function Tr(e,t){return(Tr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Fr(e){return(Fr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Nr=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Tr(e,t)}(o,c.Component);var n,r,t=(n=o,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=Fr(n),t=r?(t=Fr(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this;return!t||"object"!==Dr(t)&&"function"!=typeof t?function(){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}():t});function o(e){return function(e){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this),(e=t.call(this,e)).state={},e.controlRef=z.a.createRef(),e.barRef=z.a.createRef(),e}return function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(o.prototype,[{key:"render",value:function(){return W("control-bar",{props:this.props,onCopyControl:this.onCopyControl.bind(this,this.props.model),me:this})}},{key:"onCopyControl",value:function(e,t){var n=pe.a.stringify(e);(e=document.createElement("textarea")).value=n,e.setAttribute("readonly",""),e.style.position="absolute",e.style.left="-9999px",document.body.appendChild(e),n=0<document.getSelection().rangeCount&&document.getSelection().getRangeAt(0),e.select(),document.execCommand("copy"),document.body.removeChild(e),n&&(document.getSelection().removeAllRanges(),document.getSelection().addRange(n))}},{key:"componentDidMount",value:function(){this.updateBarPosition&&(window.addEventListener("resize",this.updateBarPosition),this.updateBarPosition())}},{key:"componentDidUpdate",value:function(){this.updateBarPosition&&this.updateBarPosition()}},{key:"componentWillUnmount",value:function(){this.updateBarPosition&&window.removeEventListener("resize",this.updateBarPosition)}}]),o}();function Ir(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function Lr(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Ir(Object(n),!0).forEach(function(e){zr(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ir(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function Ur(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e){if(e){if("string"==typeof e)return Mr(e,void 0);var t=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(t="Object"===t&&e.constructor?e.constructor.name:t)||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?Mr(e,void 0):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return{s:t=function(){},n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:t}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,a=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){a=!0,o=e},f:function(){try{i||null==n.return||n.return()}finally{if(a)throw o}}}}function Mr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Br(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function zr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Wr,Kr=(eo=[{key:"isAdaptiveRender",value:function(e,t){return!e["style-adaptive"]||null==t||""===t||!e["style-renderwhen"]||t===e["style-renderwhen"]}},{key:"isForm",value:function(e){return null!=e&&("form"===e["data-buildertype"]||"formgroup"===e["data-buildertype"])}},{key:"getFormattedDate",value:function(e,t){if(null==t)return"";var n,r=void 0,o=e.indexOf(":");return 0<o?(n=e.substring(0,o),r=e.substring(o+1,e.length)):n=e,null==(e=t[n])&&(e=""),re(r)&&("number"==typeof e?e=Rr()(e).format(r):(t=xe()(e)).isValid()&&(e="local"===r?(n=Pe("L"),t.format(n)):t.format(r))),e}},{key:"getStyle",value:function(e,t,n){var r={};return e["style-marginTop"]&&(r.marginTop=e["style-marginTop"]),e["style-marginBottom"]&&(r.marginBottom=e["style-marginBottom"]),e["style-marginLeft"]&&(r.marginLeft=e["style-marginLeft"]),e["style-marginRight"]&&(r.marginRight=e["style-marginRight"]),e["style-width"]&&(r.width=e["style-width"]),e["style-height"]&&(r.height=e["style-height"]),void 0!==e["style-float"]&&(r.float=e["style-float"]),void 0!==e["style-display"]&&(r.display=e["style-display"]),e["style-hidden"]&&(t?r.opacity=.2:r.display="none"),void 0!==e["style-source"]&&Gr.getCustomStyle(e["style-source"],r),void 0!==e["style-font-size"]&&(r.fontSize=e["style-font-size"]),e["style-adaptive"]&&void 0!==e["style-mobilesource"]&&"mobile"===n&&Gr.getCustomStyle(e["style-mobilesource"],r),r}},{key:"getCustomStyle",value:function(e,n){e.split(";").forEach(function(e){var t=e.split(":");2===t.length&&(e=t[0].replace(/^\s+|\s+$/g,""),n[e]=t[1].replace(/^\s+|\s+$/g,""))})}},{key:"getClassName",value:function(e,t){var n=e["style-customcss"];return t&&re(Gr.containers["data-buildertype"])&&(n=(null==n?"":n+" ")+"dwkit-formbuilder-item-container"),1==e["other-required"]&&(t="dwkit-required-field",n=null==n||""==n?t:n+t),1==e["style-hiddeninprint"]?(null==n?"":n+" ")+"dwkit-notprint":n}},{key:"fillDefaultValues",value:function(e,t){for(var n in t)void 0===e[n]&&(e[n]=t[n]);return e}},{key:"createBuilderDropzone",value:function(t,n,r,e,o){var i="";return W("builder-dropzone",{key:t,elementToInsert:n,elementAfter:r,onChangeDZ:function(e,t){t.name,t=t.value,i=t},onClosePopup:function(){try{var e=pe.a.parse(i);jr.insert(e,t,n,r,o)}catch(e){}},placeholderKey:o,text:"DROP ZONE"})}}],Br((to=Gr).prototype,[{key:"isContainer",value:function(e){return re(Gr.containers[e])}},{key:"getItems",value:function(){return this.items}},{key:"setItems",value:function(e){this.items=e||[]}},{key:"getControlInfoByType",value:function(e,t){var n,r=Ur(this.items);try{for(r.s();!(n=r.n()).done;){var o=n.value;if(o.key===e)return o}}catch(e){r.e(e)}finally{r.f()}if(t=t||function(){if(window.DWKitFormSettings)return window.DWKitFormSettings.externalControlList}()){var i,a=Ur(t);try{for(a.s();!(i=a.n()).done;){var l=i.value;if(l.key===e)return l}}catch(e){a.e(e)}finally{a.f()}}}},{key:"getControlByType",value:function(e,t){return(t=this.getControlInfoByType(e,t))?t.control:null}},{key:"getEditControlByType",value:function(e,t){return(t=this.getControlInfoByType(e,t))?t.editControl:null}},{key:"createControls",value:function(e,t){var n=t.model,r=t.data,o=t.errors,i=t.eventOnEdit,a=t.eventOnDelete,l=t.eventOnCopy,s=t.handleEvent,c=t.parentItem,u=t.getFormFunc,p=t.getAdditionalDataForControl,f=t.buildermode,d=t.hideControls,h=t.readOnlyControls,V=t.readOnly,m=t.disableRefs,y=t.uploadUrl,v=t.downloadUrl,g=t.extendedData,b=t.controlsToReplace,w=t.needCheckReplace,O=t.parentPlaceholder,C=t.formItem,k=t.externalControlRender,E=t.externalControlList,A=t.adaptiveViewType,S=t.formData,_=[];if(null==n)return _;for(var x=0;x<n.length;x++)if(!(Array.isArray(d)&&d.includes(n[x].key)||!f&&!Gr.isAdaptiveRender(n[x],A))){var P=void 0,j=n[x]["data-buildertype"];if("customcontrol"===j)if(void 0===n[x].type||""===n[x].type)P=W("empty",{key:n[x].key,text:"Fill Type property for rendering the control."});else{var R=Lr(Lr({},void 0===n[x].props?{}:pe.a.parse(n[x].props)),{},(zr(L={key:n[x].key,name:n[x].key,className:n[x]["style-customcss"]},"className",Gr.getClassName(n[x],f)),zr(L,"style",Gr.getStyle(n[x],f,A)),zr(L,"data-buildertype",n[x]["data-buildertype"]),zr(L,"getAdditionalDataForControl",p),zr(L,"uploadUrl",y),zr(L,"downloadUrl",v),L));(V||Array.isArray(h)&&h.includes(R.key))&&(R.readOnly=!0);var D=n[x].children;if(void 0!==n[x].children)try{D=pe.a.parse(n[x].children)}catch(e){}P=void 0===D||Array.isArray(D)&&0===D.length?z.a.createElement(n[x].type,R):z.a.createElement(n[x].type,R,D)}else if("customblock"===j){var T=[],F=!1,N=!1,I=!1,L=n[x],R=O,D=C;if("form"===n[x].sourceType||void 0===n[x].sourceType)if(void 0!==n[x].children&&""!==n[x].children)T=n[x].children;else{if(void 0===u){console.error('Error: "getFormFunc" parameter is undefined!. Please, set "getFormFunc" parameter for DWKitBuilder or DWKitForm!');continue}void 0!==n[x].formname&&""!==n[x].formname?T=u(n[x].formname):F=!0}else if("placeholder"===n[x].sourceType)I=N=void 0!==i,L=c,void 0===R&&(R=n[x].key),void 0!==(D=void 0===D?c:D)&&void 0!==D.placeholders&&void 0!==D.placeholders[n[x].key]&&(T=D.placeholders[n[x].key]);else if(void 0!==n[x].source&&""!==n[x].source)try{T=pe.a.parse(n[x].source)}catch(e){F=!0}else F=!0;P=F?W("empty",{key:n[x].key,text:"Set a form name or source in properties."}):(U=this.createControls(e,{model:T,data:r,errors:o,buildermode:N,eventOnEdit:i,eventOnDelete:a,eventOnCopy:l,parentItem:L,handleEvent:s,getFormFunc:u,getAdditionalDataForControl:p,hideControls:d,readOnlyControls:h,readOnly:V,disableRefs:m,uploadUrl:y,downloadUrl:v,controlsToReplace:b,needCheckReplace:w,parentPlaceholder:R,formItem:D,extendedData:g,externalControlRender:k,externalControlList:E,adaptiveViewType:A,formData:S}),M={key:n[x].key,name:n[x].key,className:Gr.getClassName(n[x],f),style:Gr.getStyle(n[x],f,A),"data-buildertype":n[x]["data-buildertype"]},I&&(0<(U=void 0===U?[]:U).length&&(I=Gr.createBuilderDropzone(n[x].key+"_dropzone_footer",void 0===D?void 0:D.key,U[U.length-1].key,n[x].key,n[x].key),U.push(I)),D=Gr.createBuilderDropzone(n[x].key+"_dropzone_header",void 0===D?void 0:D.key,void 0,n[x].key,n[x].key),U.unshift(D)),z.a.createElement(this.getPlatformContainerControl(),M,U))}else var U,M,B=this.getControlByType(j,E),P=null===B?W("null-control",{key:n[x].key,text:"".concat(j," is unsupported")}):this.isContainer(j)?(ne(M=C)&&re(c)&&"form"===c.sourceType&&(M=c),(U=void 0)!==n[x].readOnly&&(U=n[x].readOnly),(V||Array.isArray(h)&&h.includes(n[x].key))&&(U=!0),j=f&&("formgroup"===n[x]["data-buildertype"]&&"grouped"!==n[x].orientation||"container"===n[x]["data-buildertype"]&&"flex"===n[x]["style-display"]),U=this.createControls(e,{model:n[x].children,data:r,errors:o,buildermode:f,eventOnEdit:i,eventOnDelete:a,eventOnCopy:l,parentItem:n[x],handleEvent:s,getFormFunc:u,getAdditionalDataForControl:p,hideControls:d,readOnlyControls:h,readOnly:U,disableRefs:m,uploadUrl:y,downloadUrl:v,controlsToReplace:b,needCheckReplace:w,parentPlaceholder:void 0,formItem:M,extendedData:g,externalControlRender:k,externalControlList:E,adaptiveViewType:A,formData:S}),f&&(0<U.length&&(M=j?"...":"... "+n[x].key+" down ...",M=Gr.createBuilderDropzone(n[x].key+"-dropzone_footer",n[x].key,void 0,M),U.push(M)),j=j?"...":"... "+n[x].key+" up ...",j=Gr.createBuilderDropzone(n[x].key+"-dropzone_header",n[x].key,void 0,j),U.unshift(j)),this.createControl(e,B,{model:n[x],data:r,errors:o,parentItem:c,buildermode:f,children:U,handleEvent:s,getFormFunc:u,getAdditionalDataForControl:p,hideControls:d,readOnlyControls:h,readOnly:V,disableRefs:m,uploadUrl:y,downloadUrl:v,extendedData:g,parentPlaceholder:O,controlsToReplace:b,needCheckReplace:w,eventOnEdit:i,eventOnDelete:a,eventOnCopy:l,externalControlRender:k,externalControlList:E,adaptiveViewType:A,formData:S})):this.createControl(e,B,{model:n[x],data:r,errors:o,parentItem:c,buildermode:f,handleEvent:s,getFormFunc:u,getAdditionalDataForControl:p,hideControls:d,readOnlyControls:h,readOnly:V,disableRefs:m,uploadUrl:y,downloadUrl:v,extendedData:g,parentPlaceholder:O,controlsToReplace:b,needCheckReplace:w,eventOnEdit:i,eventOnDelete:a,eventOnCopy:l,externalControlRender:k,externalControlList:E,adaptiveViewType:A,formData:S});f?(0<x&&x<n.length&&(B=Gr.createBuilderDropzone(n[x].key+"-dropzone_bw",void 0===c?void 0:c.key,n[x].key,"...",O),_.push(B)),_.push(z.a.createElement(Nr,{key:P.key+"_controlbar",control:P,text:n[x]["data-buildertype"],model:n[x],parent:e,onDelete:a,onEdit:i,onCopy:l,isGroup:"formgroup"===n[x]["data-buildertype"]}))):_.push(P)}return _}},{key:"createControl",value:function(e,t,n){throw n.model,n.data,n.errors,n.parentItem,n.buildermode,n.children,n.handleEvent,n.getAdditionalDataForControl,n.getFormFunc,n.hideControls,n.readOnlyControls,n.readOnly,n.disableRefs,n.uploadUrl,n.downloadUrl,n.extendedData,n.controlsToReplace,n.needCheckReplace,n.eventOnEdit,n.eventOnDelete,n.eventOnCopy,n.externalControlRender,n.externalControlList,n.adaptiveViewType,n.formData,new Error("You must implement this method in subclass")}},{key:"setCreateControlsProps",value:function(e,t){Object.assign(e,t),e.buildermode&&(e.createBuilderDropzone=Gr.createBuilderDropzone),e.createControls=this.createControls.bind(this)}},{key:"getPlatformContainerControl",value:function(){}}]),Br(to,eo),Gr);function Gr(){!function(e){if(!(e instanceof Gr))throw new TypeError("Cannot call a class as a function")}(this),zr(this,"items",[])}function Hr(e){return(Hr="function"==typeof Symbol&&"symbol"==Fa(Symbol.iterator)?function(e){return Fa(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":Fa(e)})(e)}function qr(n,r,e,t,o){var i=2<arguments.length&&void 0!==e?e:null;return((3<arguments.length&&void 0!==t?t:null)||Pn.a)(n,4<arguments.length&&void 0!==o?o:null).then(function(e){var t=e.json();return e.ok?t.then(r):i?t.then(i):void console.log(error+" url: "+n)}).catch(function(e){return i?i(e):void console.log(e+" url: "+n)})}zr(Kr,"containers",{form:"",formgroup:"",grid:"",gridcolumn:"",container:"",div:"",repeater:""}),n(14).createStore({init:function(){this.listenTo(jr.add,this.add),this.listenTo(jr.move,this.move),this.listenTo(jr.remove,this.remove),this.listenTo(jr.save,this.save),this.listenTo(jr.saveData,this._updateOrder),this.listenTo(jr.insert,this.insert),Wr=[]},move:function(e,t){var n,r,o,i,a,l,s;null!=t&&(n=this.findItemByKey(e,Wr),r=this._excludeItemByKey(e,Wr),t.attributes.name&&"dropzone_footer"===t.attributes.name.value?r.push(n):t.attributes.name&&"dropzone_header"===t.attributes.name.value?r.unshift(n):null!=t.attributes.elementtoinsert?null!=(o=null!=(i=t.attributes.elementtoinsert)?this.findItemByKey(i.value,r):o)?(a=(a=void 0)===(e=t.attributes.placeholderkey)?(null==o.children&&(o.children=[]),o.children):(void 0===o.placeholders&&(o.placeholders={}),null==o.placeholders[e.value]&&(o.placeholders[e.value]=[]),o.placeholders[e.value]),null!=t.attributes.name&&t.attributes.name.value.includes("dropzone_footer")?a.push(n):null!=t.attributes.name&&t.attributes.name.value.includes("dropzone_header")?a.unshift(n):null!=(s=t.attributes.elementafter)&&(e=this.findItemByKey(s.value,a),a.splice(a.indexOf(e),0,n))):console.error("ERROR: element is not found",i,n,t):null!=t.attributes.elementafter&&(null!=(l=null!=(s=t.attributes.elementafter)?this.findItemByKey(s.value,r):l)?r.splice(r.indexOf(l),0,n):console.error("ERROR: element is not found",s,n,t)),this.setData(r))},insert:function(e,t,n,r,o){var i,a,l;e&&(this.makeUniqueKeys(e,this.getAllKeys(i=Wr)),"dropzone_footer"===t?i.push(e):"dropzone_header"===t?i.unshift(e):n?null!=(l=this.findItemByKey(n,i))?(a=(a=void 0)===o?(null==l.children&&(l.children=[]),l.children):(void 0===l.placeholders&&(l.placeholders={}),null==l.placeholders[o.value]&&(l.placeholders[o.value]=[]),l.placeholders[o.value]),t&&t.includes("dropzone_footer")?a.push(e):t&&t.includes("dropzone_header")?a.unshift(e):null!=r&&(t=this.findItemByKey(r,a),a.splice(a.indexOf(t),0,e))):console.error("ERROR: element is not found",l,e,n):null!=r&&(null!=(n=this.findItemByKey(r,i))?i.splice(i.indexOf(n),0,e):console.error("ERROR: element is not found",r,e)),this.setData(i))},_excludeItemByKey:function(e,t){for(var n=[],r=0;r<t.length;r++)if(t[r].key!=e&&(n.push(t[r]),t[r].children&&(n[n.length-1].children=this._excludeItemByKey(e,t[r].children)),null!=t[r].placeholders))for(var o in t[r].placeholders)Array.isArray(t[r].placeholders[o])&&(n[n.length-1].placeholders[o]=this._excludeItemByKey(e,t[r].placeholders[o]));return n},add:function(e,t){var n,r,o,i,a,l,s,c=Kr.fillDefaultValues({key:this.getDefaultKey(e.key),"data-buildertype":void 0!==e.builderType?e.builderType:e.key},e.defaultValues);null==t?0<Wr.length&&"form"===Wr[Wr.length-1]["data-buildertype"]?(null==(o=Wr[Wr.length-1]).children&&(o.children=[]),o.children.push(c)):Wr.push(c):t.attributes.name&&"dropzone_footer"===t.attributes.name.value?Wr.push(c):t.attributes.name&&"dropzone_header"===t.attributes.name.value?Wr.unshift(c):null!=t.attributes.elementtoinsert?null!=(n=null!=(r=t.attributes.elementtoinsert)?this.findItemByKey(r.value,Wr):n)?(a=(a=void 0)===(o=t.attributes.placeholderkey)?(null==n.children&&(n.children=[]),n.children):(void 0===n.placeholders&&(n.placeholders={}),null==n.placeholders[o.value]&&(n.placeholders[o.value]=[]),n.placeholders[o.value]),null!=t.attributes.name&&t.attributes.name.value.includes("dropzone_footer")?a.push(c):null!=t.attributes.name&&t.attributes.name.value.includes("dropzone_header")?a.unshift(c):(null!=(s=t.attributes.elementafter)&&(i=this.findItemByKey(s.value,a)),a.splice(a.indexOf(i),0,c))):console.error("ERROR: element is not found",r,e,t):null!=t.attributes.elementafter&&(null!=(l=null!=(s=t.attributes.elementafter)?this.findItemByKey(s.value,Wr):l)?Wr.splice(Wr.indexOf(l),0,c):console.error("ERROR: element is not found",s,t)),this.trigger(Wr)},remove:function(e){this.removeItemByKey(e.key,Wr),this.trigger(Wr)},copy:function(e){var t=this.copyObj(e);this.insertAfterKey(t,e.key,Wr),this.makeUniqueKeys(t),this.trigger(Wr)},getData:function(){return Wr},setData:function(e){Wr=e,this.trigger(Wr)},_updateOrder:function(e){Wr=e,this.trigger(Wr)},getDefaultKey:function(e){for(var t=1,n=e+"_"+t,r=this.getAllKeys(Wr),o=0;o<r.length;o++)r[o]==(n=e+"_"+t)&&(t++,o=-1);return n},getAllKeys:function(e){var t=[];if(null!=e)for(var n=0;n<e.length;n++){var r=e[n];if(t.push(r.key),null!=r.children)var o=this.getAllKeys(r.children),t=t.concat(o);else if(null!=r.placeholders)for(var i in r.placeholders)Array.isArray(r.placeholders[i])&&(i=this.getAllKeys(r.placeholders[i]),t=t.concat(i))}return t},getByKey:function(e){return this.findItemByKey(e,Wr)},findItemByKey:function(e,t){for(var n=0;n<t.length;n++){var r,o=t[n];if(o.key==e)return o;if(null!=o.children){if(null!=(r=this.findItemByKey(e,o.children)))return r}else if(null!=o.placeholders)for(var i in o.placeholders)if(Array.isArray(o.placeholders[i])&&null!=(r=this.findItemByKey(e,o.placeholders[i])))return r}},insertAfterKey:function(e,t,n){for(var r=0;r<n.length;r++){var o=n[r];if(o.key==t)return n.splice(r+1,0,e),!0;if(void 0!==o.children&&this.insertAfterKey(e,t,o.children))return!0;if(void 0!==o.placeholders)for(var i in o.placeholders)if(Array.isArray(o.placeholders[i])&&this.insertAfterKey(e,t,o.placeholders[i]))return!0}},updateItemByKey:function(e,t){var n,r=this.getByKey(e);for(n in t)r[n]=t[n];e!=t.key&&this.replaceDepensKeys(e,t.key),this.trigger(Wr)},replaceDepensKeys:function(e,t,n){null==n&&(n=Wr);for(var r=0;r<n.length;r++){var o=n[r];if(Array.isArray(o["events-onclick-targets"]))for(var i=o["events-onclick-targets"],a=0;a<i.length;a++)i[a]==e&&(i[a]=t);if(null!=o.children&&this.replaceDepensKeys(e,t,o.children),void 0!==o.placeholders)for(var l in o.placeholders)Array.isArray(o.placeholders[l])&&this.replaceDepensKeys(e,t,o.placeholders[l])}},removeItemByKey:function(e,t){for(var n=0;n<t.length;n++){var r=t[n];if(r.key==e){t.splice(n,1);break}if(null!=r.children&&this.removeItemByKey(e,r.children),void 0!==r.placeholders)for(var o in r.placeholders)Array.isArray(r.placeholders[o])&&this.removeItemByKey(e,r.placeholders[o])}},copyObj:function(e){if(null==e||"object"!==Hr(e))return e;var t,n=e.constructor();for(t in e)e.hasOwnProperty(t)&&(n[t]=this.copyObj(e[t]));return n},makeUniqueKeys:function(e,t){var n=this,r=e["data-buildertype"];if(r&&e.key&&(!t||t&&t.includes(e.key))&&(e.key=this.getDefaultKey(r)),Array.isArray(e.children)&&e.children.forEach(function(e){n.makeUniqueKeys(e,t)}),void 0!==e.placeholders)for(var o in e.placeholders)Array.isArray(e.placeholders[o])&&e.placeholders[o].forEach(function(e){n.makeUniqueKeys(e,t)})}});var Qr=(function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(Yr.prototype,[{key:"registerItems",value:function(e){Qr.items=e}},{key:"getItems",value:function(){return Qr.items}}]),new Yr),fe=Qr.registerItems,_e=Qr.getItems,Jr=z.a.createContext({visible:!1});function Yr(){var e;!function(e){if(!(e instanceof Yr))throw new TypeError("Cannot call a class as a function")}(this),e=[],"items"in this?Object.defineProperty(this,"items",{value:e,enumerable:!0,configurable:!0,writable:!0}):this.items=e}var Xr=function t(){!function(e){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this)};function Zr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}$r=/{\S[A-z,0-9,_,-,.,:, ,/]+?}/gm,(to="regexForReplace")in(eo=Xr)?Object.defineProperty(eo,to,{value:$r,enumerable:!0,configurable:!0,writable:!0}):eo[to]=$r;var $r,eo,to,no={},ro=(eo=io,to=[{key:"Set",value:function(e,t,n){no.hasOwnProperty(e)&&clearTimeout(no[e]),no[e]=setTimeout(t,n)}},{key:"Clear",value:function(e){no.hasOwnProperty(e)&&(clearTimeout(no[e]),delete no[e])}}],($r=null)&&Zr(eo.prototype,$r),Zr(eo,to),io),oo=n(3);function io(){!function(e){if(!(e instanceof io))throw new TypeError("Cannot call a class as a function")}(this)}function ao(e){return(ao="function"==typeof Symbol&&"symbol"==Fa(Symbol.iterator)?function(e){return Fa(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":Fa(e)})(e)}function lo(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function so(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?lo(Object(n),!0).forEach(function(e){ho(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):lo(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function co(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function uo(e,t){return(uo=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function po(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function fo(e){return(fo=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ho(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n(24);var Vo=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&uo(e,t)}(i,c.Component);var e,t,n,r,o=(n=i,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=fo(n),t=r?(t=fo(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this;return!t||"object"!==ao(t)&&"function"!=typeof t?po(e):t});function i(e){var f;return function(e){if(!(e instanceof i))throw new TypeError("Cannot call a class as a function")}(this),ho(po(f=o.call(this,e)),"_asyncGetData",null),ho(po(f),"_asyncGetModel",null),ho(po(f),"handleEvent",function(e){e.e;var o,i,a=e.key,t=e.propertyName,l=e.eventName,s=e.parameters,n=e.name,c=e.value,r=e.additionalValues,u=po(f),p="onChange"===l;p&&(f.props.onlyExternalDataChanged||(void 0===f.state.data&&(f.state.data={}),(e=f.state.data)[t||a]=c,f.setState({data:e})),void 0!==f.props.dataChanged&&f.props.dataChanged(po(f),{key:a,propertyName:t,value:c,additionalValues:r}),f.onConditions(a,l,s,n,c)),void 0===f.props.eventFunc||void 0!==(o=f.findModelItembyKey(a))&&void 0!==o.events&&void 0!==o.events[l]&&o.events[l].active&&(o.events=Object(oo.updateEventsFormat)(o.events),n=o.events[l],i=so({},s),Array.isArray(n.triggers)&&0<n.triggers.length&&n.triggers.forEach(function(t){Array.isArray(t.parameters)&&0<t.parameters.length&&t.parameters.forEach(function(e){"string"==typeof e.value?i[e.name]=e.value.replace(Xr.regexForReplace,function(e){return u.applySubstitution(e,s?s.row:void 0,u.state.data)}):i[e.name]=e.value});var n=u.findRefs(a),r=c,e=Array.isArray(t.targets)&&0<t.targets.length?function(){return t.targets.forEach(function(e){u.props.eventFunc({key:e,sourceControlRef:n,sourceControlValue:r,controlRef:u.findRefs(e),formName:u.props.formName,component:u,eventName:l,actions:t.actions,parameters:i})})}:function(){return u.props.eventFunc({key:a,sourceControlRef:n,sourceControlValue:r,controlRef:n,formName:u.props.formName,component:u,eventName:l,actions:t.actions,parameters:i})};!p||void 0===o.onChangeTimeout||""===o.onChangeTimeout||Number(o.onChangeTimeout)<1?e():ro.Set(a,e,Number(o.onChangeTimeout))}))}),f.state={data:e.data,model:e.model,extendedData:e.extendedData,controlsToReplace:null,adaptiveViewType:f.getAdaptiveViewType()},f.checkLoadedState(f.state.data,f.state.model,!0),f.abortController=new AbortController,f.abortSignal=f.abortController.signal,f}return t=[{key:"getDerivedStateFromProps",value:function(e,t){var n,r={};if(e.adaptiveViewType&&t.adaptiveViewType!==e.adaptiveViewType&&(r.adaptiveViewType=e.adaptiveViewType),void 0!==e.modelurl&&""!==e.modelurl&&e.modelurl!==t.modelurl&&(r.modelurl=e.modelurl,r.needFetchModel=!0),void 0!==e.model&&e.model!==t.model&&(r.controlsToReplace=null,r.model=e.model),void 0!==e.dataurl&&""!==e.dataurl&&e.dataurl!==t.dataurl&&(r.dataurl=e.dataurl,r.needFetchData=!0),void 0!==e.data&&(r.data=e.data,e.autoCheckConditions&&t.enableCheckConditions&&(n=Object(oo.checkConditions)({data:r.data,model:r.model||t.model}),r.hideControls=n.hideControls,r.readOnlyControls=n.readOnlyControls),e.autoValidate))if((n=Object(oo.validate)({data:r.data,model:r.model||t.model})).valid)r.errors=void 0;else if(r.errors=n.errors,e.errors)for(var o in e.errors)r.errors[o]=e.errors[o];return e.objectId!==t.objectId&&(r.objectId=e.objectId,r.isLoaded=!1),r}}],co((e=i).prototype,[{key:"createControls",value:function(){throw new Error("Function createControls must be implemented in ancestor!")}},{key:"componentDidMount",value:function(){this.PrepareState()}},{key:"componentDidUpdate",value:function(e,t){this.PrepareState()}},{key:"componentWillUnmount",value:function(){(this._asyncGetData||this._asyncGetModel)&&this.abortController.abort()}},{key:"PrepareState",value:function(){var t=this;this.state.needFetchModel&&(t.setState({needFetchModel:!1}),this._asyncGetModel=qr(this.state.modelurl,function(e){t._asyncGetModel=null,t.modelChanged(e)},function(e){t._asyncGetModel=null,t.handleErrEvent(e)},this.props.fetchFunc,{signal:this.abortSignal})),this.state.needFetchData&&(t.setState({needFetchData:!1}),this._asyncGetData=qr(this.state.modelurl,function(e){t._asyncGetData=null,t.dataChanged(e)},function(e){t._asyncGetData=null,t.handleErrEvent(e)},this.props.fetchFunc,{signal:this.abortSignal})),this.checkConditions(this.state.model),this.checkLoadedState(this.state.data,this.state.model)}},{key:"modelChanged",value:function(e){this.setState({model:e,controlsToReplace:null}),this.checkConditions(e)}},{key:"dataChanged",value:function(e){this.setState({data:e}),this.checkLoadedState(e,this.state.model)}},{key:"checkLoadedState",value:function(e,t,n){this.state.isLoaded||null==e||null==t||(n?this.state.isLoaded=!0:this.setState({isLoaded:!0}),e=so({},e),Object(oo.initDefaultState)({model:t,data:e}),this.props.eventFunc({key:void 0,controlRef:this,formName:this.props.formName,component:this,eventName:"init",actions:["initSystem","init"],parameters:{initialData:e}}))}},{key:"findRefs",value:function(e,t){if(t=t||this.refs){var n=t[e];if(!n)for(var r in t)if(n=t[r].refs?this.findRefs(e,t[r].refs):n)break;return n}}},{key:"checkConditions",value:function(e,t){var n=!1;if(Array.isArray(e))for(var r=0;r<e.length;r++){if(void 0!==e[r]["other-visibleConition"]&&""!==e[r]["other-visibleConition"]||void 0!==e[r]["other-readOnlyConition"]&&""!==e[r]["other-readOnlyConition"])n=!0;else if(Array.isArray(e[r].children))n=this.checkConditions(e[r].children,!0);else if("object"==ao(e[r].placeholders))for(var o in e[r].placeholders)n=this.checkConditions(e[r].placeholders[o],!0);if(n)break}if(t)return n;this.state.enableCheckConditions=n}},{key:"onConditions",value:function(e,t,n,r,o){var i;this.state.enableCheckConditions&&(this.props.autoCheckConditions&&this.state.enableCheckConditions?(i=Object(oo.checkConditions)({data:this.state.data,model:this.state.model}),this.setState({hideControls:i.hideControls,readOnlyControls:i.readOnlyControls})):this.props.eventFunc({key:e,controlRef:this.findRefs(e),formName:this.props.formName,component:this,eventName:t,actions:["checkConditions"],parameters:n}))}},{key:"handleErrEvent",value:function(e){this.props.eventErrFunc&&this.props.eventErrFunc(this,e)}},{key:"findModelItembyKey",value:function(e,t){void 0===t&&(t=this.state.model);for(var n=0;n<t.length;n++){if(t[n].key===e)return t[n];if(void 0!==t[n].children){var r=this.findModelItembyKey(e,t[n].children);if(void 0!==r)return r}if(void 0!==t[n].placeholders)for(var o in t[n].placeholders)if(void 0!==(o=this.findModelItembyKey(e,t[n].placeholders[o])))return o;if("customblock"===t[n]["data-buildertype"]&&"source"===t[n].sourceType&&null!=t[n].source){var i=pe.a.parse(t[n].source);if(void 0!==(i=this.findModelItembyKey(e,i)))return i}if("customblock"===t[n]["data-buildertype"]&&"form"===t[n].sourceType&&void 0!==t[n].formname&&""!==t[n].formname&&(i=t[n].children||this.props.getFormFunc(t[n].formname),void 0!==(i=this.findModelItembyKey(e,i))))return i}}},{key:"getAdaptiveViewType",value:function(){return"mobile"}},{key:"handleResize",value:function(){var e=this.getAdaptiveViewType();this.state.adaptiveViewType!==e&&this.setState({adaptiveViewType:e})}},{key:"applySubstitution",value:function(e,t,n){var r=e;return null!=t&&"row."==e.slice(1,5)?null==(r=t[e.slice(5,e.length-1)])?"":r:null!=n&&null==(r=n[e.slice(1,e.length-1)])?"":r}}]),co(e,t),i}();function mo(e,t,n){void 0===t[e]&&(t[e]=[]),t[e].push(n)}var yo=(function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(vo.prototype,[{key:"toNested",value:function(e,t){for(var n,r,o,i=0,a=[],l={},s={},c=e.length;i<c;i++)n=(o=e[i])[this.config.id],r=o[this.config.parent],l[n]=o,r===t?a.push(o):void 0!==l[r]?mo(this.config.children,l[r],o):mo(r,s,o),this.config.options.deleteParent&&delete o[this.config.parent],void 0!==s[n]&&function(e,t,n){var r=n.length;for(void 0===t[e]&&(t[e]=[]);0<r--;)t[e].push(n.shift())}(this.config.children,o,s[n]);return a}}]),vo);function vo(e){!function(e){if(!(e instanceof vo))throw new TypeError("Cannot call a class as a function")}(this),this.config=e=e||{},this.config.id=e.id||"id",this.config.parent=e.parent||"parent",this.config.children=e.children||"nodes",this.config.options=e.options||{deleteParent:!1}}function go(e){return(go="function"==typeof Symbol&&"symbol"==Fa(Symbol.iterator)?function(e){return Fa(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":Fa(e)})(e)}function bo(e,t,n){return(bo="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){if(e=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Oo(e)););return e}(e,t))return(t=Object.getOwnPropertyDescriptor(e,t)).get?t.get.call(n):t.value})(e,t,n||e)}function wo(e,t){return(wo=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Oo(e){return(Oo=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Co=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&wo(e,t)}(t,Vo);var n,r,e=(n=t,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=Oo(n),t=r?(t=Oo(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this;return!t||"object"!==go(t)&&"function"!=typeof t?function(){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}():t});function t(){return function(e){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),e.apply(this,arguments)}return function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(t.prototype,[{key:"componentDidMount",value:function(){bo(Oo(t.prototype),"componentDidMount",this).call(this),window.addEventListener&&window.addEventListener("resize",this.handleResize.bind(this))}},{key:"componentWillUnmount",value:function(){bo(Oo(t.prototype),"componentWillUnmount",this).call(this),window.removeEventListener&&window.removeEventListener("resize",this.handleResize.bind(this))}},{key:"getItemsForRender",value:function(){var e=[],t=!1;null!==this.state.model&&void 0!==this.state.model&&(e=null===this.state.controlsToReplace?[]:this.state.controlsToReplace,t=null===this.state.controlsToReplace);var n=this.createControls(this,{model:this.state.model,data:this.state.data,errors:this.state.errors||this.props.errors,handleEvent:this.handleEvent,getFormFunc:this.props.getFormFunc,getAdditionalDataForControl:this.props.getAdditionalDataForControl,hideControls:(this.props.autoCheckConditions?this.state:this.props).hideControls,readOnlyControls:(this.props.autoCheckConditions?this.state:this.props).readOnlyControls,readOnly:this.props.readOnly,uploadUrl:this.props.uploadUrl,downloadUrl:this.props.downloadUrl,extendedData:this.props.extendedData,controlsToReplace:e,needCheckReplace:t,externalControlRender:this.props.externalControlRender,externalControlList:this.props.externalControlList,adaptiveViewType:this.props.adaptiveViewType||this.state.adaptiveViewType});return t&&(this.state.controlsToReplace=e),n}},{key:"getAdaptiveViewType",value:function(){return window.matchMedia&&window.matchMedia("(max-width: 997px)").matches?"mobile":"desktop"}}]),t}(),ko=n(1),xn=n(6),Eo=n.n(xn);function Ao(e){return(Ao="function"==typeof Symbol&&"symbol"==Fa(Symbol.iterator)?function(e){return Fa(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":Fa(e)})(e)}function So(){return(So=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function _o(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e){if(e){if("string"==typeof e)return xo(e,void 0);var t=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(t="Object"===t&&e.constructor?e.constructor.name:t)||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?xo(e,void 0):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return{s:t=function(){},n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:t}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,a=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){a=!0,o=e},f:function(){try{i||null==n.return||n.return()}finally{if(a)throw o}}}}function xo(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Po(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function jo(e,t){return(jo=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ro(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Do(e){return(Do=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function To(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Fo=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&jo(e,t)}(i,c.Component);var e,t,n,r,o=(n=i,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=Do(n),t=r?(t=Do(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this;return!t||"object"!==Ao(t)&&"function"!=typeof t?Ro(e):t});function i(e){var r;return function(e){if(!(e instanceof i))throw new TypeError("Cannot call a class as a function")}(this),To(Ro(r=o.call(this,e)),"onMount",function(e){r.modal=$(Eo.a.findDOMNode(e)).parent(),r.count=$(".count",r.modal),r.tabs={tree:$(".tree-tab",r.modal),search:$(".search-tab",r.modal),picked:$(".picked-tab",r.modal)},$(".menu .tree",r.modal).on("click",function(){return r.showTree()}),$(".menu .picked",r.modal).on("click",function(){return r.showPicked()}),$(".search input",r.modal).on("keyup",function(e){return r.showSearch($(e.currentTarget).val())}),r.nodes.length&&(r.props.paging?r.loadCurrentValue():(r.updatePickedNodes(r.getPicked()),r.updatePickedCount()),r.initializeNodes(r.nodes))}),To(Ro(r),"pickSearch",function(){$(".search-tab .node:not(.picked) .name",r.modal).trigger("click")}),To(Ro(r),"unpickSearch",function(){$(".search-tab .node.picked .name",r.modal).trigger("click")}),To(Ro(r),"unpickPicked",function(){$(".picked-tab .node.picked .name",r.modal).trigger("click")}),To(Ro(r),"handleOpen",function(){r.state.visible||r.setState({visible:!0})}),To(Ro(r),"handleClose",function(){r.setState({visible:!1})}),To(Ro(r),"handleSave",function(){var e=r.props.multiple?r.picked.map(function(e){return e.id}):r.picked.length?r.picked[0].id:null,t=r.getAdditionalValues(e);r.onChange(e,t),r.setState({visible:!1})}),To(Ro(r),"onDropdownChange",function(e,t){var n=t.value,t=r.getAdditionalValues(n);r.onChange(n,t)}),r.state={visible:!1,value:r.props.value},r.converter=new yo({children:r.props.childrenKey}),r}return t=[{key:"getDerivedStateFromProps",value:function(e,t){return e.dataModel!==t.dataModel?{getAdditionalDataForControl:e.getAdditionalDataForControl,dataModel:e.dataModel,needFetch:!0,needValueFetch:!0}:e.paging&&e.value!==t.value&&void 0!==e.value?{needValueFetch:!0,value:e.value}:null}}],Po((e=i).prototype,[{key:"componentDidMount",value:function(){this.widget=$(Eo.a.findDOMNode(this)),this.nodes=[],this.tabs={},this.picked=[],this.opened=[],this.checkFetch()}},{key:"componentDidUpdate",value:function(e,t){this.checkFetch()}},{key:"checkFetch",value:function(){this.state.needFetch?this.getAdditionalData(null):this.state.needValueFetch&&this.loadCurrentValue()}},{key:"getNodeById",value:function(t){var e=this.recursiveNodeSearch(this.nodes,function(e){return"".concat(e.id)==="".concat(t)});return e.length?e[0]:null}},{key:"getPicked",value:function(){var e=[];return this.props.multiple?this.getArrayValues(this.props.value):(this.props.value&&e.push(this.props.value),e)}},{key:"updatePickedNodes",value:function(e){if(e){this.picked=[];var t,n=_o(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,o=this.recursiveNodeSearch(this.nodes,function(t){return function(e){return"".concat(e.id)==="".concat(t)}}(r));o.length&&this.picked.push(o[0])}}catch(e){n.e(e)}finally{n.f()}}}},{key:"initializeNodes",value:function(e){return e=this.renderTree(e,this.state.rowsCount,null,0,{height:"400px",overflowY:"scroll"}),this.tabs.tree.html(e),this.initializeNodeList(e)}},{key:"recursiveNodeSearch",value:function(e,t){var n=[];if(!Array.isArray(e))return n;for(var r=0,o=Array.from(e);r<o.length;r++){var i=o[r];t(i)&&n.push(i),i[this.props.childrenKey]&&i[this.props.childrenKey].length&&(n=n.concat(this.recursiveNodeSearch(i[this.props.childrenKey],t)))}return n}},{key:"renderTree",value:function(e,t,n,r,o){o=o||{};for(var i=$('<div class="ui tree-picker tree"></div>').css(o),a=0,l=e.length;a<l;a++){var s=e[a],c=this.opened.includes(s.id)?" opened":"";this.props.hidden(s)||(c=$('<div class="node'.concat(c,'" data-id="').concat(s.id,'" data-name="').concat(s.name,'">\n    <div class="head">\n        <i class="add circle icon"></i>\n        <i class="minus circle icon"></i>\n        <i class="radio icon"></i>\n        <a class="name">').concat(s.name,'</a>\n        <i class="checkmark icon"></i>\n    </div>\n    <div class="content').concat(c,'"></div>\n</div>')).appendTo(i),this.props.disabledClause(s)&&c.addClass("disabled"),s[this.props.childrenKey]&&s[this.props.childrenKey].length?$(".content",c).append(this.renderTree(s[this.props.childrenKey],s.rowsCount,s.id,0)):s.hasChild||c.addClass("childless"))}return this.props.paging&&e.length+r<t&&$('<div class="node pager" data-parent-id="'.concat(n,'" data-start-index="').concat(e.length+r,'">\n    <div class="head">\n        <a class="name">...</a>\n    </div>\n</div>')).appendTo(i),i}},{key:"initializeNodeList",value:function(e){var o=this;$(".node",e).each(function(e,t){var n=$(t),t=$(">.head",n),r=$(">.content",n);$(">.name",t).on("click",function(){n.hasClass("pager")?o.pagerClicked(n):o.nodeClicked(n)}),o.nodeIsPicked(n)&&n.addClass("picked"),n.hasClass("childless")||$(">.icon",t).on("click",function(){var t=o.getNodeById(o.getNodeId(n));!t||!t.hasChild||t[o.props.childrenKey]&&t[o.props.childrenKey].length?r.slideToggle():o.getAdditionalData(t.id,n),n.toggleClass("opened"),o.opened.includes(t.id)?o.opened=o.opened.filter(function(e){return e!==t.id}):o.opened.push(t.id)})})}},{key:"pagerClicked",value:function(e){this.getAdditionalData(e.data("parent-id"),e,e.data("start-index"))}},{key:"nodeClicked",value:function(e){if(!e.hasClass("disabled")){if(!this.props.multiple){if(this.picked.length&&this.props.clearable&&this.picked[0].id===this.getNodeId(e))return this.unpickNode(e);$(".node.picked",this.modal).removeClass("picked"),this.picked=[]}return e.toggleClass("picked"),e.hasClass("picked")?this.pickNode(e):this.unpickNode(e)}}},{key:"nodeIsPicked",value:function(t){var n=this;return this.picked.filter(function(e){return"".concat(e.id)===n.getNodeId(t)}).length}},{key:"updatePickedCount",value:function(){return this.picked.length?(this.count.closest(".item").addClass("highlighted"),this.count.html("("+this.picked.length+")")):(this.count.closest(".item").removeClass("highlighted"),this.count.html(""))}},{key:"getNodeId",value:function(e){return e.attr("data-id")}},{key:"pickNode",value:function(e){var t=this.getNodeId(e);return this.picked.push({id:t,name:e.attr("data-name")}),this.updatePickedCount(),$(".node[data-id="+t+"]",this.modal).addClass("picked")}},{key:"unpickNode",value:function(e){var t=this.getNodeId(e);return this.picked=this.picked.filter(function(e){return"".concat(e.id)!=="".concat(t)}),this.updatePickedCount(),$(".node[data-id="+t+"]",this.modal).removeClass("picked")}},{key:"showTree",value:function(){return $(".menu .item",this.modal).removeClass("active"),$(".menu .tree",this.modal).addClass("active"),this.tabs.tree.show(),this.tabs.search.hide(),this.tabs.picked.hide(),this.modal.attr("data-mode","tree")}},{key:"getColumnsForFilter",value:function(){var e=new RegExp(" asc","gi"),t=this.props.columns.replace(e,""),e=new RegExp(" desc","gi"),t=t.replace(e,"");return e=new RegExp(" ","gi"),t.replace(e,"")}},{key:"showSearch",value:function(t){var e,n,r=this;null!==t&&t.length>=this.props.minSearchQueryLength?this.props.paging?(e={model:this.state.dataModel,filters:[{column:this.getColumnsForFilter(),term:"like",value:t}]},this.setState({isFetching:!0},function(){r.state.getAdditionalDataForControl(r,e,function(e){e=e.items,r.setState({isFetching:!1}),r.renderSearchResults(e,t)})})):(n=this.recursiveNodeSearch(this.nodes,function(e){return e.name&&-1<e.name.toLowerCase().indexOf(t.toLowerCase())}),this.renderSearchResults(n,t)):this.showTree()}},{key:"renderSearchResults",value:function(e,n){e=this.renderList(e,{height:"400px",overflowY:"scroll"}),$(".menu .item",this.modal).removeClass("active"),this.tabs.search.show().html(e),this.tabs.tree.hide(),this.tabs.picked.hide(),this.modal.attr("data-mode","search"),this.initializeNodeList(e),$(".name",e).each(function(){var e=$(this).text(),t=RegExp("("+n+")","gi"),e=e.replace(t,"<strong class='search-query'>$1</strong>");$(this).html(e)})}},{key:"showPicked",value:function(){var e=this.renderList(this.picked,{height:"400px",overflowY:"scroll"});return $(".menu .item",this.modal).removeClass("active"),$(".menu .picked",this.modal).addClass("active"),this.tabs.picked.show().html(e),this.tabs.tree.hide(),this.tabs.search.hide(),this.modal.attr("data-mode","picked"),this.initializeNodeList(e)}},{key:"renderList",value:function(e,t){var n,r,o,i,a;for(t=t||{},n=$('<div class="ui tree-picker list"></div>').css(t),i=0,a=e.length;i<a;i++)r=e[i],this.props.hidden(r)||(o=$('<div class="node" data-id="'.concat(r.id,'" data-name="').concat(r.name,'">\n    <div class="head">\n        <a class="name">').concat(r.name,'</a>\n        <i class="checkmark icon"></i>\n    </div>\n    <div class="content"></div>\n</div>')).appendTo(n),this.props.disabledClause(r)&&o.addClass("disabled"));return n}},{key:"getAdditionalData",value:function(n,r){var e,o=this,i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0;this.state.dataModel?this.state.getAdditionalDataForControl?(e={model:this.state.dataModel},this.props.paging&&(e.startIndex=i,e.pageSize=this.props.pageSize),this.setState({isFetching:!0,needFetch:!1,parentIdToFetch:n},function(){o.state.getAdditionalDataForControl(o,e,function(e){var t=e.items,e=e.rowsCount,t=o.converter.toNested(t,n);o.setData({items:t,rowsCount:e,parentIdToFetch:n},!i),o.props.paging?(e=o.renderTree(t,e,n,i),o.initializeNodeList(e),i?r.replaceWith(e.children()):($(".content",r).append(e),$(">.content",r).slideToggle())):(o.updatePickedNodes(o.getPicked()),o.modal&&o.initializeNodes(o.nodes)),o.state.needValueFetch&&o.loadCurrentValue()})})):this.props.buildermode&&console.log("TreePicker: For paging on server need to set getAdditionalDataForControl func!"):this.props.buildermode&&console.log("TreePicker: Set DataModel label!")}},{key:"loadCurrentValue",value:function(){var t=this;if(this.picked=[],void 0!==this.props.value&&null!==this.props.value)if(this.props.multiple){for(var e,n=this.getArrayValues(this.props.value),r=[],o=0;o<n.length;o++){var i=n[o],a=this.getNodeById(i);a?this.picked.push(a):r.push(i)}0<r.length?((e={model:this.state.dataModel}).filters=[{column:"__id",term:"in",value:r}],this.setState({isFetching:!0},function(){t.state.getAdditionalDataForControl(t,e,function(e){e=e.items,t.addSelectedNodes(e)})})):this.modal&&this.updatePickedCount()}else{var l,s=this.getNodeById(this.props.value);s?(this.picked.push(s),this.modal&&this.updatePickedCount()):((l={model:this.state.dataModel}).filters=[{column:"__id",term:"=",value:this.props.value}],this.setState({isFetching:!0},function(){t.state.getAdditionalDataForControl(t,l,function(e){e=e.items,t.addSelectedNodes(e)})}))}this.state.needValueFetch&&this.setState({needValueFetch:!1})}},{key:"setData",value:function(e,t){var n=e.items,r=e.rowsCount,e=e.parentIdToFetch;t?e?(t=this.getNodeById(e))&&(t[this.props.childrenKey]=n,t.rowsCount=r):(this.nodes=n,this.setState({rowsCount:r})):e?(e=this.getNodeById(e))&&(e[this.props.childrenKey]=e[this.props.childrenKey].concat(n)):this.nodes=this.nodes.concat(n),this.setState({needFetch:!1,isFetching:!1})}},{key:"getArrayValues",value:function(e){var t;if(null==e)return[];if(!Array.isArray(e)){try{t=JSON.parse(e)}catch(e){console.log(e)}e=t=Array.isArray(t)?t:[e]}return e}},{key:"addSelectedNodes",value:function(e){Array.isArray(e)&&e.length&&(this.picked=this.picked.concat(e),this.modal&&this.updatePickedCount(),this.setState({isFetching:!1}))}},{key:"getLocalized",value:function(e,t){return window.DWKitAdminLang&&window.DWKitAdminLang.treepicker?window.DWKitAdminLang.treepicker[e]:t}},{key:"onChange",value:function(e,t){this.props.handleEvent&&this.props.handleEvent({syntheticEvent:null,key:this.props.name,propertyName:this.props.propertyName,eventName:"onChange",name:this.props.name,value:e,additionalValues:t})}},{key:"getAdditionalValues",value:function(t){var n,r,e;return this.nodes.length&&(Array.isArray(t)?(n=t.map(function(e){return"".concat(e)}),r=this.recursiveNodeSearch(this.nodes,function(e){return n.includes("".concat(e.id))}).map(function(e){return e.values})):t?(e=this.recursiveNodeSearch(this.nodes,function(e){return"".concat(e.id)==="".concat(t)})).length&&(r=e[0].values):(e=this.getColumnsForFilter())&&(r={},e.split(",").forEach(function(e){r[e]=null}))),r}},{key:"triggerElement",value:function(){var e,t=this.props.value,n=[];if(this.props.multiple){this.props.value||(t=[]);var r,o=_o(t=Array.isArray(this.props.value)?t:this.getArrayValues(this.props.value));try{for(o.s();!(r=o.n()).done;){var i=r.value,a=this.getNodeById(i);a&&n.push({value:a.id,text:a.name})}}catch(e){o.e(e)}finally{o.f()}}else!t||(e=this.getNodeById(t))&&n.push({value:e.id,text:e.name});return(t={fluid:this.props.fluid,disabled:this.props.disabled,multiple:this.props.multiple,value:t,className:this.props.className,options:n,selection:this.props.selection}).label=this.props.label,t.error=this.props.error,z.a.createElement(ko.Form.Dropdown,So({},t,{onClick:this.handleOpen,onChange:this.onDropdownChange}))}},{key:"render",value:function(){var e="tree-picker ".concat(this.props.modalCssClass);return z.a.createElement(ko.Modal,{style:this.props.modalStyle,className:e,open:this.state.visible,trigger:this.triggerElement()},z.a.createElement(yr,{name:this.props.label,onMount:this.onMount,selected:this.getLocalized("selected","Selected")}),z.a.createElement("div",{className:"ui search form"},z.a.createElement("div",{className:"field"},z.a.createElement("div",{className:"ui icon input"},z.a.createElement("input",{type:"text",placeholder:this.getLocalized("search","Search")}),z.a.createElement("i",{className:"search icon"})))),z.a.createElement(ko.Modal.Content,null,z.a.createElement("div",{className:" active"},z.a.createElement("div",{className:"ui text loader"},this.getLocalized("loadingData","Loading data"))),z.a.createElement("div",{className:"tree-tab"},z.a.createElement("div",{style:{height:"400px"}})),z.a.createElement("div",{className:"search-tab"}),z.a.createElement("div",{className:"picked-tab"})),z.a.createElement(ko.Modal.Actions,null,z.a.createElement(ko.Button,{onClick:this.pickSearch,className:"pick-search"},z.a.createElement("i",{className:"checkmark icon"}),this.getLocalized("selectAll","Select all")),z.a.createElement(ko.Button,{onClick:this.unpickSearch,className:"unpick-search"},z.a.createElement("i",{className:"remove icon"}),this.getLocalized("removeAll","Remove all")),z.a.createElement(ko.Button,{onClick:this.unpickPicked,className:"unpick-picked"},z.a.createElement("i",{className:"remove icon"}),this.getLocalized("removeAll","Remove all")),z.a.createElement(ko.Button,{onClick:this.handleSave,className:"blue"},this.getLocalized("ok","Ok")),z.a.createElement(ko.Button,{onClick:this.handleClose},this.getLocalized("cancel","Cancel"))))}}]),Po(e,t),i}();To(Fo,"defaultProps",{hidden:function(e){return!1},disabledClause:function(e){return!1},childrenKey:"nodes",multiple:!1,minSearchQueryLength:3,pageSize:100});var No=n(4),Io=n(15);function Lo(e){return(Lo="function"==typeof Symbol&&"symbol"==Fa(Symbol.iterator)?function(e){return Fa(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":Fa(e)})(e)}function Uo(){return(Uo=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Mo(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Bo(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function zo(e,t,n){return t&&Bo(e.prototype,t),n&&Bo(e,n),e}function Wo(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ko(e,t)}function Ko(e,t){return(Ko=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Go(n){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e=qo(n),t=r?(t=qo(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this;return!t||"object"!==Lo(t)&&"function"!=typeof t?Ho(e):t}}function Ho(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function qo(e){return(qo=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Qo=function(){Wo(n,c.Component);var t=Go(n);function n(e){return Mo(this,n),(e=t.call(this,e)).state={editorState:No.EditorState.createEmpty()},e.handleKeyCommand=e._handleKeyCommand.bind(Ho(e)),e.mapKeyToEditorCommand=e._mapKeyToEditorCommand.bind(Ho(e)),e.toggleBlockType=e._toggleBlockType.bind(Ho(e)),e.toggleInlineStyle=e._toggleInlineStyle.bind(Ho(e)),e}return zo(n,[{key:"render",value:function(){var e,n=this,r={},t={};for(e in this.props)"className"===e||"style"===e?t[e]=this.props[e]:r[e]=this.props[e];var o=this.props.additionalParams.model,i=this.props.additionalParams.handleEvent,a=this.props.additionalParams.parentItem;r.placeholder=o.placeholder,r.onChange=this.onChange=function(e){var t=e.getCurrentContent(),t=Object(Io.convertToHTML)(t);n.setState({editorState:e,value:t}),i({key:r.name,propertyName:r.propertyName,eventName:"onChange",name:r.name,value:t})};var l="dwkit-richtextcontrol RichEditor-root";return t.className?t.className+=" "+l:t.className=l,l=z.a.createElement("div",t,!r.readOnly&&z.a.createElement($o,{editorState:this.state.editorState,onToggle:this.toggleBlockType}),!r.readOnly&&z.a.createElement(ti,{editorState:this.state.editorState,onToggle:this.toggleInlineStyle}),z.a.createElement("div",{onClick:this.focus},z.a.createElement(No.Editor,Uo({},r,{editorState:this.state.editorState,blockStyleFn:Yo,customStyleMap:Jo,handleKeyCommand:this.handleKeyCommand,keyBindingFn:this.mapKeyToEditorCommand,ref:"editor",spellCheck:!0})))),this.isForm(a)?z.a.createElement(ko.Form.Field,null,z.a.createElement("label",null,o.label),l):l}},{key:"isForm",value:function(e){return null!=e&&("form"===e["data-buildertype"]||"formgroup"===e["data-buildertype"])}},{key:"_handleKeyCommand",value:function(e,t){return!!(e=No.RichUtils.handleKeyCommand(t,e))&&(this.onChange(e),!0)}},{key:"_mapKeyToEditorCommand",value:function(e){if(9!==e.keyCode)return Object(No.getDefaultKeyBinding)(e);(e=No.RichUtils.onTab(e,this.state.editorState,4))!==this.state.editorState&&this.onChange(e)}},{key:"_toggleBlockType",value:function(e){this.onChange(No.RichUtils.toggleBlockType(this.state.editorState,e))}},{key:"_toggleInlineStyle",value:function(e){this.onChange(No.RichUtils.toggleInlineStyle(this.state.editorState,e))}}],[{key:"getDerivedStateFromProps",value:function(e,t){if(e.value===t.value)return null;t=No.EditorState.createEmpty();try{var n=Object(Io.convertFromHTML)(e.value),t=No.EditorState.createWithContent(n)}catch(e){}return{value:e.value,editorState:t}}}]),n}(),Jo={CODE:{backgroundColor:"rgba(0, 0, 0, 0.05)",fontFamily:'"Inconsolata", "Menlo", "Consolas", monospace',fontSize:16,padding:2}};function Yo(e){return"blockquote"!==e.getType()?null:"RichEditor-blockquote"}var Xo=function(){Wo(n,z.a.Component);var e=Go(n);function n(){var t;return Mo(this,n),(t=e.call(this)).onToggle=function(e){e.preventDefault(),t.props.onToggle(t.props.style)},t}return zo(n,[{key:"render",value:function(){var e="RichEditor-styleButton";return this.props.active&&(e+=" RichEditor-activeButton"),z.a.createElement("span",{className:e,onMouseDown:this.onToggle},this.props.label)}}]),n}(),Zo=[{label:"H1",style:"header-one"},{label:"H2",style:"header-two"},{label:"UL",style:"unordered-list-item"},{label:"OL",style:"ordered-list-item"}],$o=function(t){var e=t.editorState,n=e.getSelection(),r=e.getCurrentContent().getBlockForKey(n.getStartKey()).getType();return z.a.createElement("div",{className:"RichEditor-controls"},Zo.map(function(e){return z.a.createElement(Xo,{key:e.label,active:e.style===r,label:e.label,onToggle:t.onToggle,style:e.style})}))},ei=[{label:"Bold",style:"BOLD"},{label:"Italic",style:"ITALIC"},{label:"Underline",style:"UNDERLINE"},{label:"Code",style:"CODE"}],ti=function(t){var n=t.editorState.getCurrentInlineStyle();return z.a.createElement("div",{className:"RichEditor-controls"},ei.map(function(e){return z.a.createElement(Xo,{key:e.label,active:n.has(e.style),label:e.label,onToggle:t.onToggle,style:e.style})}))};function ni(e){return(ni="function"==typeof Symbol&&"symbol"==Fa(Symbol.iterator)?function(e){return Fa(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":Fa(e)})(e)}function ri(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function oi(r){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?ri(Object(o),!0).forEach(function(e){var t,n=r;e=o[t=e],t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(o)):ri(Object(o)).forEach(function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(o,e))})}return r}function ii(){return(ii=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function ai(e,t){return(ai=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function li(e){return(li=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var si=n(10),t=new(function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ai(e,t)}(t,Kr);var n,r,e=(n=t,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=li(n),t=r?(t=li(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this;return!t||"object"!==ni(t)&&"function"!=typeof t?function(){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}():t});function t(){return function(e){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),e.apply(this,arguments)}return function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(t.prototype,[{key:"createControl",value:function(e,t,n){var l=n.model,s=n.data,r=n.errors,o=n.parentItem,c=n.buildermode,i=n.children,a=n.handleEvent,u=n.getAdditionalDataForControl,p=n.getFormFunc,f=n.readOnlyControls,d=n.readOnly,h=n.disableRefs,V=n.uploadUrl,m=n.downloadUrl,y=n.extendedData,v=n.controlsToReplace,g=n.needCheckReplace,b=n.eventOnEdit,w=n.eventOnDelete,O=n.eventOnCopy,C=n.externalControlRender,k=n.externalControlList,E=n.adaptiveViewType,A=n.formData,S=n.hideControls,_=void 0,x={key:l.key,name:l.key,className:Kr.getClassName(l,c),style:Kr.getStyle(l,c,E),"data-buildertype":l["data-buildertype"],propertyName:l.propertyName||l.key};x.key||console.log(l);var P=x["data-buildertype"],j=g||v.includes(l.key);c&&this.isContainer(x["data-buildertype"])&&(x.className=(ne(x.className)?"":x.className+" ")+"dwkit-formbuilder-item-container"),h||(x.ref=l.key),void 0!==l.readOnly&&(x.readOnly=l.readOnly),(d||Array.isArray(f)&&f.includes(l.key))&&(x.readOnly=!0);var R,D=Xr.regexForReplace,n=function r(e){if(!j||null==e||c)return e;function o(e){return null!=A?"row."===e.slice(1,5)?Kr.getFormattedDate(e.slice(5,e.length-1),s):Kr.getFormattedDate(e.slice(1,e.length-1),A):Kr.getFormattedDate(e.slice(1,e.length-1),s)}if(Array.isArray(e)){var i=[],a=!1;return e.forEach(function(e){var t,n={};for(t in e)e.hasOwnProperty(t)&&(void 0!==e[t]&&null!==e[t]&&"string"==typeof e[t]?(n[t]=e[t].replace(D,o),!a&&g&&n[t]!==e[t]&&(a=!0)):Array.isArray(e[t])?n[t]=r(e[t]):n[t]=e[t]);i.push(n)}),a&&v.push(l.key),i}if("string"!=typeof e)return e;var t=e.replace(D,o);return g&&e!==t&&v.push(l.key),t};if(void 0!==s&&(l.propertyName?x.value=s[l.propertyName]:x.value=s[x.key]),null!=r&&(l.propertyName?x.error=r[l.propertyName]:x.error=r[x.key]),t===Bn)"header"===P?(x.content=n(l.content),x.subheader=n(l.subheader)):"label"===P?x.content=n(l.content):"message"===P?(x.content=n(l.content),x.header=n(l.header)):"image"===P?(x.src=n(l.src),x.href=n(l.href)):"breadcrumb"===P?x.items=n(l.items):"button"===P&&(x.content=n(l.content)),_=z.a.createElement(Bn,ii({},x,{additionalParams:{model:l,data:s,errors:r,children:i,handleEvent:a,parentItem:o,uploadUrl:V,downloadUrl:m}}));else if(t===te)(x=oi(oi({},x),l)).uploadUrl=V,x.downloadUrl=m,null!=a&&(x.onChange=function(e,t){var n=t.name,r=t.value,t=t.parameters;a({syntheticEvent:e,key:x.name,propertyName:x.propertyName,eventName:"onChange",name:n,value:r,parameters:t})}),_=z.a.createElement(te,ii({},x,{additionalParams:{model:l,data:s,errors:r,children:i,handleEvent:a,parentItem:o}}));else if(t===qn)(x=oi(oi({},x),l)).uploadUrl=V,x.downloadUrl=m,null!=a&&(x.onChange=function(e,t){var n=t.name,r=t.value,t=t.parameters;a({syntheticEvent:e,key:x.name,propertyName:x.propertyName,eventName:"onChange",name:n,value:r,parameters:t})}),_=z.a.createElement(qn,ii({},x,{additionalParams:{model:l,data:s,errors:r,children:i,handleEvent:a,parentItem:o}}));else if(t===nn)x.format=l.format,x.mask=l.mask,x.thousandSeparator=l.thousandSeparator,x.prefix=l.prefix,x.suffix=l.suffix,_=z.a.createElement(nn,ii({},x,{additionalParams:{model:l,data:s,errors:r,children:i,handleEvent:a,parentItem:o,uploadUrl:V,downloadUrl:m}}));else if(t===Ge)x.label=l.label,x.defaultValue=l.defaultValue,x.placeholder=l.placeholder,x.disabled=l.disabled,x.fluid=l.fluid,x.selection=l.selection,x.multiple=l.multiple,x.search=l.search,x.dataModel=l.dataModel,x.clearable=l.clearable,x.columns=l.columns,x.paging=l.paging,x.pageSize=l.pageSize,x.getAdditionalDataForControl=u,x.filters=n(l.filters),x.textAsValue=l.textAsValue,l.text&&(x.textFunc=new Function("data","return ".concat(l.text,";"))),r&&void 0!==r[l.key]&&(x.error=r[l.key]),x.handleEvent=a,x.parentIsForm=Kr.isForm(o),_=z.a.createElement(Ge,x);else if(t===Xe)x.defaultValue=l.defaultValue,x.items=l.items,x.imageUrl=l.imageUrl,x.handleEvent=a,_=z.a.createElement(Xe,x);else if(t===Tn)x.url=l.url,x.category=l.category,x.handleEvent=a,_=z.a.createElement(Tn,x);else if(t===cn)P=[],void 0!==l["data-elements"]&&(P=Array.isArray(l["data-elements"])?l["data-elements"]:pe.a.parse(l["data-elements"])),x.handleEvent=a,r&&void 0!==r[l.key]&&(x.error=r[l.key]),_=z.a.createElement(cn,ii({},x,{label:l.label,direction:l.direction,placeholder:l.placeholder,items:P}));else if(t===Ce){if(x.columns=l.columns,x.draggable=l.draggable,x.hierarchical=l.hierarchical,x.parentIdField=l.parentIdField,x.idField=l.idField,x.childrenField=l.childrenField,x.collapseAll=l.collapseAll,x.disableAdd=l.disableAdd,x.disableCopy=l.disableCopy,x.disableDelete=l.disableDelete,x.placeholders=si(l.placeholders),x.placeholders&&(x.data=s,x.adaptiveViewType=E,x.controlBarParams={adaptiveViewType:E,eventOnDelete:w,eventOnEdit:b,eventOnCopy:O,parentComponent:e},x.getAdditionalDataForControl=u,x.createControl=this.createCollectionEditorControl.bind(this)),x.handleEvent=a,x.downloadUrl=m,x.uploadUrl=V,c&&void 0===x.value&&void 0!==x.columns){for(x.buildermode=c,x.createBuilderDropzone=Kr.createBuilderDropzone,x.value=[],I=0;I<5;I++)x.value.push({});if(Boolean(l.hierarchical)&&void 0!==l.parentIdField&&""!==l.parentIdField&&void 0!==l.idField&&""!==l.idField)for(I=1;I<5;I++){var T=x.value[I];void 0===T[l.idField]&&(T[l.idField]=I);for(var F=0;F<2;F++){var N={};N[l.parentIdField]=T[l.idField],x.value.push(N)}}}void 0!==y&&void 0!==y.filters&&void 0!==y.filters[x.key]&&(x.filter=new _t(y.filters[x.key],x.columns.map(function(e){return e.key}))),_=z.a.createElement(Ce,x)}else if(t===Gt){if(x.columns=l.columns,x.multiselect=l.multiselect,x.rowKey=l.rowKey,x.editForm=l.editForm,x.editFlow=l.editFlow,x.editWorkflow=l.editWorkflow,x.editType=l.editType,x.pagerType=l.pagerType,x.pageSize=l.pageSize,x.rowHeight=l.rowHeight,x.headerRowHeight=l.headerRowHeight,x.minHeight=l.minHeight,x.autoHeight=l.autoHeight,x.offSet=l.offSet,x.disableSort=l.disableSort,x.resizeColumns=l.resizeColumns,x.editFormShowType=l.editFormShowType,x.sidebarDirection=l.sidebarDirection,x.getAdditionalDataForControl=u,x.handleEvent=a,x.defaultSort=l.defaultSort,x.uploadUrl=V,x.downloadUrl=m,r&&void 0!==r[l.key]&&(x.error=r[l.key]),c&&void 0===x.value){x.buildermode=c,x.createBuilderDropzone=Kr.createBuilderDropzone,x.value=[];for(var I=0;I<30;I++)!function(){var t={};x.columns.forEach(function(e){t[e.key]=e.key+"_"+I}),x.value.push(t)}()}void 0!==y&&void 0!==y.filters&&void 0!==y.filters[x.key]&&(x.filter=new _t(y.filters[x.key],x.columns.map(function(e){return e.key}))),x.placeholders=si(l.placeholders),x.placeholders&&(x.data=s,x.adaptiveViewType=E,x.controlBarParams={adaptiveViewType:E,eventOnDelete:w,eventOnEdit:b,eventOnCopy:O,parentComponent:e},x.createControl=this.createCollectionEditorControl.bind(this)),_=z.a.createElement(Gt,x)}else if(t===Zt)x["data-items"]=n(l.items),x.pointing=l.pointing,x.secondary=l.secondary,x.tabular=l.tabular,x.fluid=l.fluid,x.vertical=l.vertical,x.activeitem=l.activeitem,x.link=l.link,x.handleEvent=a,_=z.a.createElement(Zt,x);else if(t===rr)x["data-panes"]=l.panes,x.pointing=l.pointing,x.secondary=l.secondary,x.tabular=l.tabular,x.fluid=l.fluid,x.vertical=l.vertical,x.activeitem=l.activeitem,x.placeholders=l.placeholders,this.setCreateControlsProps(x,{data:s,buildermode:c,model:l,children:i,getFormFunc:p,getAdditionalDataForControl:u,disableRefs:h,uploadUrl:V,downloadUrl:m,extendedData:y,controlsToReplace:v,eventOnEdit:b,eventOnDelete:w,eventOnCopy:O,adaptiveViewType:E,handleEvent:a,externalControlList:k,externalControlRender:C,needCheckReplace:g,readOnly:d,readOnlyControls:f,hideControls:S,errors:r}),_=z.a.createElement(rr,x);else if(t===lr)x.panels=l.panels,x.fluid=l.fluid,x.styled=l.styled,x.placeholders=l.placeholders,this.setCreateControlsProps(x,{data:s,buildermode:c,model:l,children:i,getFormFunc:p,getAdditionalDataForControl:u,disableRefs:h,uploadUrl:V,downloadUrl:m,extendedData:y,controlsToReplace:v,eventOnEdit:b,eventOnDelete:w,eventOnCopy:O,adaptiveViewType:E,handleEvent:a,externalControlList:k,externalControlRender:C,needCheckReplace:g,readOnly:d,readOnlyControls:f,hideControls:S,errors:r}),_=z.a.createElement(lr,x);else if(t===Ot)x.draggable=l.draggable,x.resizable=l.resizable,x.scroll=l.scroll,x.cols=l.cols,x["data-panes"]=l.panes,x.placeholders=l.placeholders,this.setCreateControlsProps(x,{data:s,buildermode:c,model:l,children:i,getFormFunc:p,getAdditionalDataForControl:u,disableRefs:h,uploadUrl:V,downloadUrl:m,extendedData:y,controlsToReplace:v,eventOnEdit:b,eventOnDelete:w,eventOnCopy:O,adaptiveViewType:E,handleEvent:a,errors:r,readOnlyControls:f,readOnly:d,needCheckReplace:g}),_=z.a.createElement(Ot,x);else if(t===ce)x.chartType=l.chartType,x.responsive=l.responsive,x.legendPosition=l.legendPosition,x.title=l.title,x.titleSize=l.titleSize,x.datasetCustom=l.datasetCustom,x.dataLabels=l.dataLabels,x.datasetLabel=l.datasetLabel,x.datasetSteppedLine=l.datasetSteppedLine,x.datasetBorderColor=l.datasetBorderColor,x.datasetFill=l.datasetFill,x.datasetBorderWidth=l.datasetBorderWidth,x.datasetBackgroundColor=l.datasetBackgroundColor,c?x.datasetCustom?x.value=[1,2,3,4,3,2,1]:(S="scatter"!==x.chartType?[6,23,15,3]:[{x:6,y:-12},{x:11,y:1},{x:24,y:5},{x:40,y:32}],x.value={labels:["Q1","Q2","Q3","Q4"],datasets:[{data:S}]}):void 0!==s&&(x.value=s[x.key]),_=z.a.createElement(ce,x);else if(t===Pr)x.blockSetState=l.blockSetState,x.blockCommands=l.blockCommands,x.setStateButton=l.setStateButton,x.handleEvent=a,x.getAdditionalDataForControl=u,x.blockLoadParameters=void 0===l.blockLoadParameters||l.blockLoadParameters,x.blockSelectScheme=l.blockSelectScheme,x.selectSchemeDropdown=l.selectSchemeDropdown,s&&(x.selectedScheme=s.__wf_selectedscheme),x.schemes=y&&y.schemes||[],r&&void 0!==r[l.key]&&(x.error=r[l.key]),c&&(x.commands=[{value:"approve",text:"Approve",type:1},{value:"back",text:"Back",type:2}],x.states=[{value:"draft",text:"Draft"},{value:"state1",text:"State 1"},{value:"state2",text:"State 2"},{value:"state3",text:"State 3"},{value:"finish",text:"Finish"}],x.schemes=[]),_=z.a.createElement(Pr,x);else if(t===Se){if(x.style&&"flex"===l["style-display"]&&(l["style-display-horizontalalign"]&&(x.style.justifyContent=l["style-display-horizontalalign"]),l["style-display-verticalalign"]?x.style.alignItems=l["style-display-verticalalign"]:x.style.alignItems="baseline"),l.childrenView&&(x.className=(x.className?x.className+" ":"")+"dwkit-container-"+l.childrenView),o&&o["children-style-source"]){var L,U={};for(L in Kr.getCustomStyle(o["children-style-source"],U),U)x.style[L]||(x.style[L]=U[L])}delete x.propertyName,_=z.a.createElement(Se,ii({},x,{children:i}))}else t===gn?(x.slider=l.slider,x["item-visibleCondition"]=l["item-visibleCondition"],x.pageSize=l.pageSize,x.pagerType=l.pagerType,x.loadButtonLabel=l.loadButtonLabel,x.noRecordsLabel=l.noRecordsLabel,x.defaultSort=l.defaultSort,void 0!==y&&void 0!==y.filters&&void 0!==y.filters[x.key]&&(x.filter=new _t(y.filters[x.key],["*"])),x.placeholders=si(l.placeholders),x.controlProps={readOnly:"server"===l.pagerType||d},x.model=l,x.data=s,R=x.controlProps,this.setCreateControlsProps(R,{children:i,getAdditionalDataForControl:u,disableRefs:h,uploadUrl:V,downloadUrl:m,extendedData:y,controlsToReplace:v,eventOnEdit:b,eventOnDelete:w,eventOnCopy:O,adaptiveViewType:E,handleEvent:a,externalControlList:k,externalControlRender:C,readOnlyControls:f,buildermode:c}),l.childrenView&&(x.className=(x.className?x.className+" ":"")+"dwkit-container-"+l.childrenView),_=z.a.createElement(gn,x)):t===Xn?(x.content=n(l.content),x.isHtml=l.isHtml,_=z.a.createElement(Xn,x)):t===nt?(x.iconFiletypes=l.iconFiletypes,x.postUrl=V,x.showFiletypeIcon=l.showFiletypeIcon,x.autoProcessQueue=l.autoProcessQueue,x.addRemoveLinks=l.addRemoveLinks,_=z.a.createElement(nt,ii({},x,{additionalParams:{model:l,data:s,errors:r,children:i,handleEvent:a,parentItem:o}}))):t===yt?(x.iconFiletypes=l.iconFiletypes,x.showFiletypeIcon=l.showFiletypeIcon,x.autoProcessQueue=l.autoProcessQueue,x.useDropzone=l.useDropzone,x.columns=l.columns,x.idField=l.idField,x.useCamera=l.useCamera,x.multiple=l.multiple,x.postUrl=V,x.downloadUrl=m,_=z.a.createElement(yt,ii({},x,{additionalParams:{model:l,data:s,errors:r,children:i,handleEvent:a,parentItem:o}}))):t===Fo?(x.label=l.label,x.defaultValue=l.defaultValue,x.placeholder=l.placeholder,x.selection=l.selection,x.multiple=l.multiple,x.search=l.search,x.dataModel=l.dataModel,x.clearable=l.clearable,x.columns=l.columns,x.paging=l.paging,x.pageSize=l.pageSize,x.parentIdField=l.parentIdField,x.getAdditionalDataForControl=u,x.modalCssClass=l["style-custommodalcss"],x.fluid=l.fluid,x.disabled=l.disabled,x.handleEvent=a,void 0!==l["style-modalsource"]&&(Kr.getCustomStyle(l["style-modalsource"],R={}),x.modalStyle=R),r&&void 0!==r[l.key]&&(x.error=r[l.key]),l.text&&(x.textFunc=new Function("data","return ".concat(l.text,";"))),x.parentIsForm=Kr.isForm(o),_=z.a.createElement(Fo,x)):t===Qo?_=z.a.createElement(Qo,ii({},x,{additionalParams:{model:l,data:s,errors:r,children:i,handleEvent:a,parentItem:o,uploadUrl:V,downloadUrl:m}})):t===dr?(x.header=n(l.header),x.subheader=n(l.subheader),x.imgurl=n(l.imgurl),x.placeholders=l.placeholders,x.activeEvent=l.events&&l.events.onClick&&l.events.onClick.active,this.setCreateControlsProps(x,{data:s,buildermode:c,model:l,children:i,getFormFunc:p,getAdditionalDataForControl:u,disableRefs:h,uploadUrl:V,downloadUrl:m,extendedData:y,controlsToReplace:v,eventOnEdit:b,eventOnDelete:w,eventOnCopy:O,adaptiveViewType:E,handleEvent:a,externalControlList:k,externalControlRender:C,needCheckReplace:g,readOnly:d,readOnlyControls:f,errors:r}),_=z.a.createElement(dr,x)):((C=C||function(){if(window.DWKitFormSettings)return window.DWKitFormSettings.externalControlRender}())&&(x.parentIsForm=Kr.isForm(o),_=C(e,t,{model:l,data:s,errors:r,parentItem:o,buildermode:c,children:i,handleEvent:a,getAdditionalDataForControl:u,readOnlyControls:f,readOnly:d,disableRefs:h,uploadUrl:V,downloadUrl:m,extendedData:y,controlsToReplace:v,needCheckReplace:g,eventOnEdit:b,eventOnDelete:w,eventOnCopy:O,controlProps:x,replaceControlValue:n})),_||console.error("Control is unsupported!",t,l));if(!0===l["tooltip-errordisabled"]||!r||void 0===r[l.key]||"boolean"==typeof r[l.key]||Array.isArray(r[l.key]))return l["tooltip-enabled"]?(B=""==l["tooltip-showtype"]?void 0:l["tooltip-showtype"],M=""==l["tooltip-position"]?void 0:l["tooltip-position"],W("popup",{className:l["tooltip-classname"],content:l["tooltip-content"],header:l["tooltip-header"],key:l.key+"-tooltip",trigger:_,popupOn:M,popupPosition:B})):_;var M=""==l["tooltip-errorposition"]?void 0:l["tooltip-errorposition"],B=""==l["tooltip-errorshowtype"]?void 0:l["tooltip-errorshowtype"];return W("popup",{className:"dwkit-tooltiperror",content:r[l.key],key:l.key+"-error",trigger:_,popupOn:B,popupPosition:M})}},{key:"createCollectionEditorControl",value:function(e,t,n,r){if(i=this.getControlByType(t)){var o=this.createControl(e,i,oi(oi({},n),{},{needCheckReplace:!0})),i=[];return n.buildermode?(r=z.a.createElement(Nr,{key:n.model.key+"_controlbar",model:n.model,parent:r.parentComponent,onDelete:r.eventOnDelete,onEdit:r.eventOnEdit,onCopy:r.eventOnCopy,control:o}),i.push(r),i):o}console.error("Control is unsupported!",t,e,n)}},{key:"getPlatformContainerControl",value:function(){return"div"}}]),t}());function ci(){return(ci=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function ui(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function pi(r){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?ui(Object(o),!0).forEach(function(e){var t,n=r;e=o[t=e],t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(o)):ui(Object(o)).forEach(function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(o,e))})}return r}function fi(e){return(fi="function"==typeof Symbol&&"symbol"==Fa(Symbol.iterator)?function(e){return Fa(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":Fa(e)})(e)}function di(){return(di=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function hi(){return(hi=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Vi(e){return!0===e?{}:{display:"none"}}function mi(e){return z.a.createElement(ko.Dimmer,{active:!0,inverted:!0},z.a.createElement(ko.Loader,e))}s("collection-checkbox",function(e){var t={};return e.props.errorFlag&&(t.className="error"),z.a.createElement(ko.Checkbox,ci({},t,{name:e.props.colName,checked:e.props.checked,readOnly:e.props.readOnly,onChange:e.me.handleChange}))}),s("collection-custom-control",function(e){var t=e.props.model;return e.props.createControl(e.props.parent,t["data-buildertype"],{model:t,data:e.props.row,errors:e.props.errorOnRow,parentItem:e.props.name,buildermode:e.props.buildermode,handleEvent:e.handleEvent,getAdditionalDataForControl:e.getAdditionalDataForControl,readOnly:e.props.readOnly,uploadUrl:e.props.uploadUrl,downloadUrl:e.props.downloadUrl,controlsToReplace:[],formData:e.props.data,adaptiveViewType:e.props.adaptiveViewType},e.props.controlBarParams)}),s("collection-date-time",function(e){return z.a.createElement(Le,{name:e.props.colName,error:e.props.errorFlag,value:e.props.value,readOnly:e.props.readOnly,onChange:e.me.handleChange,type:e.props.type,isForm:!0})}),s("collection-dropdown",function(e){return z.a.createElement(ko.Dropdown,{name:e.props.colName,multiple:e.props.multiple,placeholder:e.props.placeholder,options:e.props.options,error:e.props.errorFlag,value:e.props.value,readOnly:e.props.readOnly,onChange:e.me.handleChange,selection:!0,fluid:!0,search:!0})}),s("collection-editor",function(T){var e=T.props.columns,t=T.props.value,n=T.props.error;return T.props.collapseAll&&Array.isArray(t)&&T.applyCollapseAll(t),e&&e.length?((t={style:T.props.style,className:T.props.className,onBlur:T.props.onBlur,onClick:T.props.onClick,onFocus:T.props.onFocus,onMouseEnter:T.props.onMouseEnter,onMouseLeave:T.props.onMouseLeave}).className?t.className+=" field":t.className="field",T.props.error&&"object"!==fi(T.props.error)&&(t.className+=" error"),t.className+=" dwkit-collectioneditor-control",z.a.createElement("div",t,z.a.createElement("label",null,T.props.label),z.a.createElement("table",{className:"dwkit-collectioneditor"},z.a.createElement("tbody",null,function(e){var l=[],s=0;e.forEach(function(e){var t,n,r,o,i=void 0;"object"===fi(e)?(t=e.key,n=e.name,r=e.width,Array.isArray(e.dataList)&&(i=e.dataList)):n=t=e,re(n)&&2<=n.length&&(n=n.charAt(0).toUpperCase()+n.slice(1));var a,e=void 0;re(i)&&null!=i&&(e=t+"_datalist",a=[],i.forEach(function(e){a.push(z.a.createElement("option",{key:e,value:e}))}),o=z.a.createElement("datalist",{key:e,id:e},a)),l.push(z.a.createElement("td",{key:s,style:pi({width:r},0==s?{display:"flex"}:{})},n,o)),s++});var t=!0!==T.props.disableAdd,n=!0!==T.props.disableCopy,e=!0!==T.props.disableDelete;return!T.props.readOnly&&(t||n||e)&&(n="Add",re(e=function(){if(window.DWKitAdminLang&&window.DWKitAdminLang.collectioneditor)return window.DWKitAdminLang.collectioneditor}())&&(n=e.add),l.push(z.a.createElement("td",{key:"btntd",className:"dwkit-collectioneditor-buttoncol"},t&&z.a.createElement("a",{key:"btnadd",className:"dwkit-btn",onClick:T.btnAdd},n)))),z.a.createElement("tr",{key:"headertr",className:"dwkit-collectioneditor-header"},l)}(e),function e(r,t,n,o,i,a){var l=T.me,s=[];if(null==t)return s;var c=t;ne(i)&&(i=0),void 0===a&&(a=""),T.props.filter&&(c=T.getFilteredItems(c,T.props.filter));for(var u=0;u<c.length;u++)if(void 0!==T.props.childrenField||!T.props.hierarchical||c[u][T.props.parentIdField]==o){var p,f=function(e,t){var n=!T.props.readOnly&&Boolean(T.props.draggable);if(n)return z.a.createElement("div",{draggable:n,onDragStart:T.onDragStart.bind(T.me,t,e),onDragEnd:T.onDragEnd.bind(T.me,t,e),onDragOver:T.onDragOver.bind(T.me),onDrop:T.onDrop.bind(T.me,t,e),key:"celldrag",className:"dwkit-collectioneditor-action"},z.a.createElement(ko.Icon,{onClick:T.onExpand.bind(T.me,t,!1),name:"ellipsis vertical"}))}(c,u),d=void 0,h=void 0,V=c[u][T.props.idField]||c[u].__id||u;T.props.hierarchical&&(b=void 0,v=a+String(u+"_"),oe(T.props.parentIdField)?oe(p=c[u][T.props.idField]||c[u].__id)&&0<(h=e(r,t,n,p,i+1,v)).length&&(ne(p=T.state.expanded[a+u])||p?b=z.a.createElement("img",{onClick:T.onExpand.bind(T.me,a+u,!1),className:"dwkit-collectioneditor-imgbutton-collapse"}):(b=z.a.createElement("img",{onClick:T.onExpand.bind(T.me,a+u,!0),className:"dwkit-collectioneditor-imgbutton-expand"}),h=void 0)):Array.isArray(c[u][T.props.childrenField])&&0<c[u][T.props.childrenField].length?0<(h=e(r,c[u][T.props.childrenField],n,void 0,i+1,v)).length&&(ne(g=T.state.expanded[a+u])||g?b=z.a.createElement("img",{onClick:T.onExpand.bind(T.me,a+u,!1),className:"dwkit-collectioneditor-imgbutton-collapse"}):(b=z.a.createElement("img",{onClick:T.onExpand.bind(T.me,a+u,!0),className:"dwkit-collectioneditor-imgbutton-expand"}),h=void 0)):b=z.a.createElement("img",{style:{opacity:0},className:"dwkit-collectioneditor-imgbutton-collapse"}),d=z.a.createElement("div",{className:"dwkit-collectioneditor-action"},b));var m=[],y=void 0;Array.isArray(n)&&0<n.length&&(void 0!==n[0].__id&&null!==n[0].__id?function(){var t=c[u].__id;void 0!==t&&null!=t&&(y=n.find(function(e){return e.__id===t}))}():y=n[u]);for(var v,g,b,w=0;w<r.length;w++){var O=void 0,C=T.props.readOnly?"":"input",k=void 0,E=void 0,A=void 0;"object"===fi(r[w])?(O=r[w].key,C=r[w].control,E=r[w].customControl,Array.isArray(r[w].dataList)&&(k=O+"_datalist"),Array.isArray(r[w].options)&&(A=r[w].options)):O=r[w];var S=void 0;re(y)&&(S=Boolean(y[O]));var _={};0===w&&(f||T.props.hierarchical)&&(_.display="flex");var x,P,j,R,D=void 0;"checkbox"===C?D=z.a.createElement(F,{key:V+"_"+w,row:c[u],handleChange:T.handleChange,colName:O,checked:c[u][O],errorFlag:S,readOnly:T.props.readOnly}):"span"===C?(_.verticalAlign="middle",D=z.a.createElement("span",{key:V+"_"+w,name:O},c[u][O])):"number"===C?(x=null===c[u][O]||void 0===c[u][O]?"":c[u][O],x={name:O,type:"number",error:S,value:x,readOnly:T.props.readOnly},D=z.a.createElement(U,{key:V+"_"+w,row:c[u],inputProps:x,handleChange:T.handleChange})):"date"===C?(x=null===c[u][O]||void 0===c[u][O]?"":c[u][O],D=z.a.createElement(I,{key:V+"_"+w,row:c[u],colName:O,value:x,errorFlag:S,readOnly:T.props.readOnly,handleChange:T.handleChange,type:"date"})):"datetime"===C?(P=null===c[u][O]||void 0===c[u][O]?"":c[u][O],D=z.a.createElement(I,{key:V+"_"+w,row:c[u],colName:O,value:P,errorFlag:S,readOnly:T.props.readOnly,handleChange:T.handleChange,type:"datetime"})):"dropdown"===C?(P=null==c[u][O]?r[w].multiple?[]:"":c[u][O],D=z.a.createElement(L,{key:V+"_"+w,row:c[u],colName:O,multiple:r[w].multiple,placeholder:r[w].placeholder,errorFlag:S,value:P,options:A,readOnly:T.props.readOnly,handleChange:T.handleChange})):"file"===C||"file2"===C?(A=null===c[u][O]||void 0===c[u][O]?"":c[u][O],D=z.a.createElement(M,{key:V+"_"+w,row:c[u],colName:O,errorFlag:S,value:A,readOnly:T.props.readOnly,handleChange:T.handleChange,downloadUrl:T.props.downloadUrl,uploadUrl:T.props.uploadUrl,control:C,additionalData:r[w].additionalData})):"camera"===C?(j=null===c[u][O]||void 0===c[u][O]?"":c[u][O],D=z.a.createElement(K,{key:V+"_"+w,row:c[u],colName:O,errorFlag:S,value:j,readOnly:T.props.readOnly,handleChange:T.handleChange,downloadUrl:T.props.downloadUrl,uploadUrl:T.props.uploadUrl,control:C,additionalData:r[w].additionalData})):"signature"===C?(j=null===c[u][O]||void 0===c[u][O]?"":c[u][O],D=z.a.createElement(Q,{key:V+"_"+w,row:c[u],colName:O,errorFlag:S,value:j,readOnly:T.props.readOnly,handleChange:T.handleChange,downloadUrl:T.props.downloadUrl,uploadUrl:T.props.uploadUrl,control:C,additionalData:r[w].additionalData})):"custom"===C?E?function(){var e=c[u][O]||"",t={},n=pi(pi({},t=r[w].customControlGetPropsFunc?r[w].customControlGetPropsFunc(c[u]):t),{},{key:V+"_"+w,name:O,error:S,value:e,colName:O,row:c[u],readOnly:T.props.readOnly,onChange:function(e,t){l.handleChange(n.row,e,t)}});D=z.a.createElement(E,n)}():re(T.props.placeholders)&&Array.isArray(T.props.placeholders[O])&&0<T.props.placeholders[O].length?(C=T.props.placeholders[O][0])&&(R=c[u],void 0!==C.propertyName&&""!==C.propertyName||(C.propertyName=O),_.position="relative",D=z.a.createElement(N,{key:V+"_"+w,model:C,parent:T.me,row:R,errorOnRow:y,name:T.props.name,buildermode:T.props.buildermode,handleChange:T.handleChange,handleEvent:T.props.handleEvent,getAdditionalDataForControl:T.props.getAdditionalDataForControl,readOnly:T.props.readOnly,uploadUrl:T.props.uploadUrl,downloadUrl:T.props.downloadUrl,data:T.props.data,adaptiveViewType:T.props.adaptiveViewType,controlBarParams:T.props.controlBarParams,createControl:T.props.createControl})):T.props.buildermode&&T.props.createBuilderDropzone&&(D=T.props.createBuilderDropzone(T.props.name,T.props.name,void 0,O,O)):(R=null===c[u][O]||void 0===c[u][O]?"":c[u][O],R={name:O,list:k,error:S,value:R,readOnly:T.props.readOnly},D=z.a.createElement(U,{key:V+"_"+w,row:c[u],inputProps:R,handleChange:T.handleChange})),0===w?(i&&(_.paddingLeft=String(15*i+5)+"px"),m.push(z.a.createElement("td",{key:V+"_"+w+"td",style:_},d,f,D))):m.push(z.a.createElement("td",{key:V+"_"+w+"td",style:_},D))}T.props.readOnly||(v=!T.props.disableAdd,g=!T.props.disableCopy,b=!T.props.disableDelete,(v||g||b)&&(T.props.hierarchical?m.push(z.a.createElement("td",{key:"celldelete",className:"dwkit-collectioneditor-cellbtn"},z.a.createElement("div",{className:"field"},v&&z.a.createElement(ko.Icon,{key:"addchild",onClick:T.btnAddChild.bind(T.me,u,c),link:!0,name:"add"}),g&&z.a.createElement(ko.Icon,{key:"copy",onClick:T.btnCopy.bind(T.me,u,c),link:!0,name:"copy"}),b&&z.a.createElement(ko.Icon,{key:"delete",onClick:T.btnDelete.bind(T.me,u,c),link:!0,name:"delete"})))):m.push(z.a.createElement("td",{key:"celldelete",className:"dwkit-collectioneditor-cellbtn"},z.a.createElement("div",{className:"field"},g&&z.a.createElement(ko.Icon,{key:"copy",onClick:T.btnCopy.bind(T.me,u,void 0),link:!0,name:"copy"}),b&&z.a.createElement(ko.Icon,{key:"delete",onClick:T.btnDelete.bind(T.me,u,void 0),link:!0,name:"delete"})))))),s.push(z.a.createElement("tr",{key:a+V,className:"dwkit-collectioneditor-row","data-rowindex":u},m)),s=s.concat(h)}return s}(e,T.state.data,n))))):z.a.createElement("div",null,"Fill columns property!")}),s("collection-input",function(e){return z.a.createElement(ko.Input,di({},e.props.inputProps,{onChange:e.me.handleChange}))}),s("collection-upload",function(e){return z.a.createElement(kr,{name:e.props.colName,error:e.props.errorFlag,value:e.props.value,readOnly:e.props.readOnly,onChange:e.me.handleChange,downloadUrl:e.props.downloadUrl,uploadUrl:e.props.uploadUrl,additionalData:e.props.additionalData,additionalDataContext:e.props.row,isForm:!0,hideClearButton:"file2"===e.props.control})}),s("collection-camera",function(e){return z.a.createElement(te,{name:e.props.colName,error:e.props.errorFlag,value:e.props.value,readOnly:e.props.readOnly,onChange:e.me.handleChange,downloadUrl:e.props.downloadUrl,uploadUrl:e.props.uploadUrl,additionalData:e.props.additionalData,additionalDataContext:e.props.row,compact:!0,showPreview:!0,hideClear:!0,fluid:!0,isForm:!0,compression:.75})}),s("collection-signature",function(e){return z.a.createElement(qn,{name:e.props.colName,error:e.props.errorFlag,value:e.props.value,readOnly:e.props.readOnly,onChange:e.me.handleChange,downloadUrl:e.props.downloadUrl,uploadUrl:e.props.uploadUrl,additionalData:e.props.additionalData,additionalDataContext:e.props.row,compact:!0,showPreview:!0,fluid:!0,isForm:!0})}),s("breadcrumb",function(e){for(var t=[],n=0;n<e.children.length;n++){var r=e.children[n];r.isDivider?t.push(z.a.createElement(ko.Breadcrumb.Divider,r.dividerProps)):t.push(z.a.createElement(ko.Breadcrumb.Section,r.childProps,r.text))}return z.a.createElement(ko.Breadcrumb,hi({},e.propsControl,{children:t}))}),s("builder-dropzone",function(t){return z.a.createElement(Jr.Consumer,null,function(e){return e=e.visible,z.a.createElement(ko.Popup,{trigger:z.a.createElement("div",{name:t.key,key:t.key,elementafter:t.elementAfter,elementtoinsert:t.elementToInsert,placeholderkey:t.placeholderKey,className:"dwkit-formbuilder-zone",style:Vi(e)},t.text),onClose:t.onClosePopup,content:z.a.createElement(ko.TextArea,{rows:"10",width:"200px",onChange:t.onChangeDZ,placeholder:"Insert a model control"}),on:"click"})})}),s("button",function(e){return e.propsControl.link?(e.propsControl.style.cursor="pointer",z.a.createElement("a",e.propsControl,e.propsControl.content)):e.propsControl.isForm?z.a.createElement(ko.Form.Button,e.propsControl):z.a.createElement(ko.Button,e.propsControl)});var yi=n(13),vi=function(e){return z.a.createElement("div",e,e.children,e.isLoading&&z.a.createElement(mi,null))};function gi(e){return(gi="function"==typeof Symbol&&"symbol"==Fa(Symbol.iterator)?function(e){return Fa(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":Fa(e)})(e)}function bi(e,t){return(bi=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function wi(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Oi(e){return(Oi=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ci(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ki="image/png",Ei="signature-image",Ai=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&bi(e,t)}(o,z.a.Component);var n,r,t=(n=o,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=Oi(n),t=r?(t=Oi(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this;return!t||"object"!==gi(t)&&"function"!=typeof t?wi(e):t});function o(e){var i;return function(e){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this),Ci(wi(i=t.call(this,e)),"labels",function(){return i.props.compact?{}:{open:i.props.openLabel||"Open",clear:i.props.clearLabel||"Clear"}}),Ci(wi(i),"load",function(r){var e=wi(i).props,t=e.value,o=new XMLHttpRequest;o.open("POST",e.downloadUrl+t,!0),o.responseType="arraybuffer",o.onload=function(){var e=Ei,t=o.getResponseHeader("Content-Disposition");!t||-1===t.indexOf("attachment")||(n=/filename[^;=\n]*=((['"]).*?\2|[^;\n]*)/.exec(t))&&n[1]&&(e=n[1].replace(/['"]/g,""));var n=o.response;n.filename=e,n=URL.createObjectURL(new Blob([n],{type:ki})),i.setState({image:n,loading:!1}),r&&r(n)},o.send(null)}),Ci(wi(i),"download",function(e){e.preventDefault(),i.load(function(e){var t=document.createElement("a");t.setAttribute("href",window.URL.createObjectURL(new Blob([e],{type:ki}))),t.setAttribute("download",e.filename||"unknown"),document.body.appendChild(t),t.onclick=function(){document.body.removeChild(t)},t.click()})}),Ci(wi(i),"clear",function(){i.props.clear(),i.setState({image:null})}),Ci(wi(i),"openFullscreen",function(){var e=wi(i).state;e.image?window.open(e.image):i.load(function(e){window.open(e)})}),Ci(wi(i),"preview",function(){var e=(t=wi(i)).props,t=t.state;return e.showPreview&&z.a.createElement(vi,{isLoading:t.loading,className:"image-uploaded-preview"+(e.compact?" compact":""),onClick:i.openFullscreen},e.compact?z.a.createElement(ko.Image,{rounded:!0,src:t.image,className:"compact-image-preview signature"}):z.a.createElement("img",{src:t.image,className:"image-preview"}))}),i.state={image:null,loading:!!e.showPreview},e.value&&e.showPreview&&i.load(),i}return function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(o.prototype,[{key:"componentDidUpdate",value:function(e){var t=this.props;t.value!==e.value&&(t.value?t.showPreview&&this.load():this.setState({image:null}))}},{key:"render",value:function(){var e=this.props,t=(this.state,this.labels);return z.a.createElement("div",{style:{display:"flex",flexDirection:e.showPreview&&!e.compact?"column":"row"}},e.showPreview?this.preview():z.a.createElement(ko.Button,{content:t().open,onClick:this.openFullscreen,icon:"zoom-in",fluid:!e.compact}),!e.hideClear&&z.a.createElement(ko.Button,{onClick:this.clear,content:t().clear,icon:"cancel",fluid:!e.compact}))}}]),o}(),Si=function(e,t,n){var e=function(e){for(var t=atob(e.split(",")[1]),n=e.split(",")[0].split(":")[1].split(";")[0],e=new ArrayBuffer(t.length),r=new Uint8Array(e),o=0;o<t.length;o++)r[o]=t.charCodeAt(o);return new Blob([e],{type:n})}(e),r=new FormData,e=new File([e],"file",{type:"image/jpeg"});r.append("data",e),r.append("name","photo"),window.$.ajax({url:t,type:"POST",processData:!1,contentType:!1,dataType:"json",data:r,success:function(e){n(r,e)}})};function _i(e){return(_i="function"==typeof Symbol&&"symbol"==Fa(Symbol.iterator)?function(e){return Fa(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":Fa(e)})(e)}function xi(){return(xi=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Pi(e,t){return(Pi=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ji(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ri(e){return(Ri=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Di(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ti=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Pi(e,t)}(o,z.a.Component);var n,r,t=(n=o,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=Ri(n),t=r?(t=Ri(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this;return!t||"object"!==_i(t)&&"function"!=typeof t?ji(e):t});function o(e){var r;return function(e){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this),Di(ji(r=t.call(this,e)),"labels",function(){return{takeShot:r.props.compact?"":r.props.shotLabel||"Take shot",openImage:r.props.compact?"":r.props.openImageLabel||"Open image",reset:r.props.resetLabel||"Reset",upload:r.props.uploadLabel||"Upload",cancel:r.props.cancelLabel||"Cancel"}}),Di(ji(r),"showCameraModal",function(){r.setState({open:!0,dataUrl:null})}),Di(ji(r),"openImageDialog",function(){var n=document.createElement("input");n.setAttribute("type","file"),n.style.opacity=0,n.setAttribute("accept","image/*"),n.setAttribute("multiple",!1),document.body.appendChild(n),n.onchange=function(e){var e=e.target.files[0],t=new FileReader;t.onload=function(){r.upload(t.result)},t.readAsDataURL(e),document.body.removeChild(n)},n.click()}),Di(ji(r),"cancel",function(){r.setState({open:!1,dataUrl:null})}),Di(ji(r),"clear",function(){r.setState({dataUrl:null})}),Di(ji(r),"upload",function(e){var n=ji(r).props;Si(r.state.dataUrl||e,n.uploadUrl,function(e,t){n.onUpload(e,t)}),r.setState({open:!1})}),Di(ji(r),"onTakePhoto",function(e){r.setState({dataUrl:e})}),r.state={open:!1,dataUrl:null},r}return function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(o.prototype,[{key:"render",value:function(){var e=this.props,t=this.state,n=this.labels;return e.value?z.a.createElement(Ai,xi({},e,{clear:e.onClear})):z.a.createElement("div",{style:{display:"flex",flexDirection:"row"}},z.a.createElement(ko.Modal,{open:this.state.open},z.a.createElement(ko.Modal.Content,null,t.dataUrl?z.a.createElement("div",{className:"react-html5-camera-photo"},z.a.createElement("img",{src:t.dataUrl,className:"image-preview"}),z.a.createElement(ko.Button,{fluid:!0,content:n().reset,className:"ui button",onClick:this.clear,icon:"cancel"})):z.a.createElement(yi.Camera,{onTakePhotoAnimationDone:this.onTakePhoto,isFullscreen:!1,idealFacingMode:yi.FACING_MODES.ENVIRONMENT,imageType:yi.IMAGE_TYPES.JPG,imageCompression:parseFloat(e.compression)||1,isMaxResolution:!0,isImageMirror:!0})),z.a.createElement(ko.Modal.Actions,null,z.a.createElement(ko.Button,{className:"buttontype1",content:n().upload,src:t.dataUrl,download:!0,onClick:this.upload,icon:"check",disabled:!t.dataUrl}),z.a.createElement(ko.Button,{className:"buttontype2",content:n().cancel,onClick:this.cancel}))),z.a.createElement(ko.Button,{content:n().takeShot,basic:!0,fluid:!!e.compact,onClick:this.showCameraModal,icon:"photo"}),z.a.createElement(ko.Button,{content:n().openImage,basic:!0,fluid:!!e.compact,onClick:this.openImageDialog,icon:"folder"}))}}]),o}();s("camera",function(e){var t=e.props,n=t.compact&&t.showPreview?{minWidth:160}:{};return z.a.createElement("div",{className:"field",style:n},e.props.label&&z.a.createElement("label",null,e.props.label),z.a.createElement(Ti,xi({},t,{onUpload:e.onUpload,onClear:e.onClear})))}),s("chart-view",function(e){var t=e.props.style,n=re(e.props.width)?e.props.width:"400px";re(t.width)&&(n=t.width);var r=re(e.props.height)?e.props.height:"300px";re(t.height)&&(r=t.height),e.state.width===n&&e.state.height===r||!re(e.state.chart)||(e.state.chart.destroy(),e.state.chart=void 0),e.state.width=n,e.state.height=r;var o="field";return re(e.props.className)&&(o+=" "+e.props.className),z.a.createElement("div",{className:o,style:t},z.a.createElement("canvas",{id:e.divId,width:n,height:r}))}),s("chart-view-redraw-chart",function(e){if(re(e.state.chart)&&(e.state.chart.destroy(),e.state.chart=void 0),ne(e.state.chart)){var t=document.getElementById(e.divId).getContext("2d"),n=e.chartData,r=void 0;if(re(n)&&Array.isArray(n.datasets)){var o=[];if(n.datasets.forEach(function(e){re(e.yAxisID)&&null!=e.yAxisID&&(o.includes(e.yAxisID)||o.push(e.yAxisID))}),0<o.length)for(var r=[],i=0;i<o.length;i++)i?r.push({type:"linear",display:!0,position:"right",id:o[i],gridLines:{drawOnChartArea:!1}}):r.push({type:"linear",display:!0,position:"left",id:o[i]})}n={type:e.props.chartType,data:n,options:{responsive:Boolean(e.props.responsive),legend:{position:e.props.legendPosition},title:{fontSize:ne(e.props.titleSize)?14:e.props.titleSize,display:oe(e.props.title),text:e.props.title}}},re(r)&&(n.options.scales={yAxes:r}),e.state.chart=new Chart(t,n)}else e.state.chart.update()}),s("checkbox",function(e){return e.isForm?z.a.createElement(ko.Form.Checkbox,e.propsControl):z.a.createElement(ko.Checkbox,e.propsControl)}),s("container",function(e){return z.a.createElement("div",e.props)});var ue=n(7),Fi=n.n(ue);s("control-bar",function(a){function l(){var e=Fi()(".dwkit-formbuilder-zone");e.removeClass("dwkit-formbuilder-zone-active"),e.removeClass("dwkit-formbuilder-zone-select"),e.off()}return a.me.updateBarPosition=function(){var e,t,n,r;a.me.controlRef&&a.me.controlRef.current&&a.me.barRef&&a.me.barRef.current&&(r=Eo.a.findDOMNode(a.me.controlRef.current),e=Eo.a.findDOMNode(a.me.barRef.current),t=Fi()(r).position(),n=r.getBoundingClientRect(),r=e.getBoundingClientRect(),n=t.left+n.width-r.width,r=t.top-r.height/2,e.style.transform="translate3d("+(n=(n=n<15?15:n)<15?15:n)+"px, "+r+"px, 0)")},z.a.createElement(Jr.Consumer,null,function(e){return e=e.visible,e=z.a.createElement("div",{ref:a.me.barRef,className:"dwkit-formbuilder-item-toolbar-container",style:Vi(e)},z.a.createElement("div",{key:"bar",className:"dwkit-formbuilder-item-toolbar-header",onMouseOver:function(e){var t=void 0;(t=a.me.controlRef.current?Eo.a.findDOMNode(a.me.controlRef.current):t)&&Fi()(t).addClass("dwkit-formbuilder-item-selected")}.bind(a.me),onMouseLeave:function(e){var t=void 0;(t=a.me.controlRef.current?Eo.a.findDOMNode(a.me.controlRef.current):t)&&Fi()(t).removeClass("dwkit-formbuilder-item-selected")}.bind(a.me)},z.a.createElement("div",{className:"dwkit-formbuilder-item-toolbar-header-buttons"},z.a.createElement("div",{className:"dwkit-formbuilder-item-toolbar-header-title",title:a.props.text,onDoubleClick:a.onCopyControl},a.props.model.key),z.a.createElement(ko.Icon,{key:"move",draggable:!0,onDragStart:function(e,t){var n,r,o,i=".dwkit-formbuilder-zone";t.dataTransfer.setData("text",""),this.controlRef.current&&(r=(n=Eo.a.findDOMNode(this.controlRef.current)).getBoundingClientRect(),t.dataTransfer.setDragImage(n,r.width/2,0)),re(e.forContainerType)&&(r=e.forContainerType.split(","),o="",r.forEach(function(e){0<o.length&&(o+=","),o+="[data-buildertype='"+e+"'] > "+i}),i=o),Fi()(i).addClass("dwkit-formbuilder-zone-active").on("dragenter",function(e,t,n){Fi()(n.target).addClass(t)}.bind(a.me,e,"dwkit-formbuilder-zone-select")).on("dragleave",function(e,t,n){Fi()(n.target).removeClass(t)}.bind(a.me,e,"dwkit-formbuilder-zone-select")).on("dragover",function(e){e.preventDefault()}).on("drop",function(e,t){return 0<(t=Fi()(t.target)).length&&jr.move(e.key,t[0]),l(),!1}.bind(a.me,e))}.bind(a.me,a.props.model),onDragEnd:l.bind(a.me,a.props.model),link:!0,name:"move"}),z.a.createElement(ko.Icon,{key:"edit",onClick:a.me.props.onEdit.bind(a.props.parent,a.props.model),link:!0,name:"edit"}),z.a.createElement(ko.Icon,{key:"copy",onClick:a.me.props.onCopy.bind(a.props.parent,a.props.model),link:!0,name:"copy"}),z.a.createElement(ko.Icon,{key:"delete",onClick:a.me.props.onDelete.bind(a.props.parent,a.props.model),link:!0,name:"delete"})))),[z.a.cloneElement(a.props.control,{ref:a.me.controlRef}),e]})});var xn=n(18),Ni=n.n(xn);function Ii(){return(Ii=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Li(){return(Li=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Ui(){return(Ui=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}s("date-picker",function(e){var t=z.a.createElement(Ni.a,Ii({},e.datePickerProps,{peekNextMonth:!0,showMonthDropdown:!0,showYearDropdown:!0,dropdownMode:"select",isClearable:!e.props.readOnly,placeholderText:e.placeholder,selected:e.date,onChange:e.onChange,onChangeRaw:e.handleChangeRaw}));return!e.props.labelPosition||e.props.isForm?(e.controlProps.className?e.controlProps.className+=" field":e.controlProps.className="field",e.props.error&&(e.controlProps.className+=" error"),e.props.readOnly&&(e.controlProps.className+=" datepicker-readonly"),z.a.createElement("div",e.controlProps,re(e.props.label)&&z.a.createElement("label",null,e.props.label),z.a.createElement("div",{"data-buildertype":e.props.type},t))):(e.controlProps.className?e.controlProps.className+=" ui fluid labeled input":e.controlProps.className="ui fluid labeled input",e.props.error&&(e.controlProps.className+=" error"),e.props.readOnly&&(e.controlProps.className+=" datepicker-readonly"),z.a.createElement("div",Ii({},e.controlProps,{"data-buildertype":e.props.type}),re(e.props.label)&&z.a.createElement("div",{className:"ui label label"},e.props.label),t))}),s("dictionary",function(e){return z.a.createElement(ko.Form.Dropdown,Li({},e.propsControl,{error:re(e.propsControl.error)}))}),s("dropdown",function(e){return z.a.createElement(ko.Form.Dropdown,e.propsControl)}),s("dropdown-trigger",function(e){return e.controlProps.trigger=z.a.createElement("span",null,re(e.props.imageUrl)&&z.a.createElement(ko.Image,{avatar:!0,src:e.props.imageUrl}),re(e.props.value)?e.props.value:e.props.defaultValue),z.a.createElement(ko.Dropdown,Ui({},e.controlProps,{onMouseDown:e.onMouseDown}))});var ue=n(19),Mi=n.n(ue);function Bi(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function zi(r){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?Bi(Object(o),!0).forEach(function(e){var t,n=r;e=o[t=e],t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(o)):Bi(Object(o)).forEach(function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(o,e))})}return r}function Wi(){return(Wi=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Ki(){return(Ki=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Gi(){return(Gi=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Hi(){return(Hi=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function qi(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}s("dropzone",function(e){var t=e.props.readOnly?z.a.createElement("div",null):z.a.createElement(Mi.a,{config:e.componentConfig,eventHandlers:e.eventHandlers,djsConfig:e.djsConfig});return e.isForm?z.a.createElement("div",{className:"field"},t):t}),s("edit-form",function(e){if(ne(e.state.item))return z.a.createElement("div",null);var t=e.dwKitControls.getEditControlByType(e.state.item["data-buildertype"],e.props.externalControlList);if(!t)return o="Close",re(e.props.localization)&&(o=e.props.localization.base.closebutton),z.a.createElement(ko.Modal,{open:e.state.open,onClose:e.onClose},z.a.createElement(ko.Modal.Header,null,"Error"),z.a.createElement(ko.Modal.Content,null,z.a.createElement("p",null,"EditForm is not found for this control!")),z.a.createElement(ko.Modal.Actions,null,z.a.createElement(ko.Button,{onClick:e.onClose},o)));var n="OK",r="Cancel",o="Question";return re(e.props.localization)&&(n=e.props.localization.base.okbutton,r=e.props.localization.base.cancelbutton,o=e.props.localization.base.questiontitle),z.a.createElement("div",null,z.a.createElement(t,{key:"editform",data:e.state.item,parent:e.parent,open:e.state.open,onSave:e.onSave,onClose:e.onClose,actions:e.props.actions,className:"dwkit-formbuilder-editform",localization:e.props.localization}),z.a.createElement(ko.Modal,{size:"small",open:e.state.confirm,dimmer:"inverted",onClose:e.confirmHandleCancel},z.a.createElement(ko.Modal.Header,null,o),z.a.createElement(ko.Modal.Content,null,z.a.createElement("p",null,e.state.confirmtext)),z.a.createElement(ko.Modal.Actions,null,z.a.createElement(ko.Button,{className:"buttontype1",onClick:e.state.confirmHandle},n),z.a.createElement(ko.Button,{className:"buttontype2",onClick:e.confirmHandleCancel},r))))}),s("empty",function(e){return z.a.createElement("div",{className:"dwkit-formbuilder-empty",key:e.key},e.text)}),s("events-editor",function(o){var i=o.props.data,e=o.props.events,a=[];return e.forEach(function(e){var t=re(i)?i[e]:{},n={element:ko.Form.Dropdown,props:{className:"dwkit-action-dropdown",multiple:!0,search:!0,selection:!0,allowAdditions:!0}},r={element:Ce,props:{className:"parameters-editor",multiple:!0,search:!0,selection:!0,allowAdditions:!0}};a.push(z.a.createElement("div",{key:e+"_events"},z.a.createElement(ko.Form.Checkbox,{className:t.active?"events-editor-checkbox":"",width:3,key:"active",label:e,name:"active",checked:t.active,onChange:o.me.handleChange.bind(o.me,e)}),z.a.createElement("div",{className:"events-editor-block",style:t.active?{}:{display:"none"}},z.a.createElement(Ce,{draggable:!0,columns:[{key:"actions",name:"Actions",control:"custom",customControl:n.element,customControlGetPropsFunc:function(e){return zi({options:o.actionOptions,value:e.actions},n.props)}},{key:"parameters",name:"Parameters",control:"custom",customControl:r.element,customControlGetPropsFunc:function(e){return zi({value:e.parameters,columns:[{key:"name",name:"Name"},{key:"value",name:"Value"}]},r.props)}},{key:"targets",name:"Targets",control:"custom",customControl:n.element,customControlGetPropsFunc:function(e){return zi({options:o.targetOptions,value:e.targets},n.props)}}],name:"triggers",className:"events-editor",value:t.triggers,onChange:o.me.handleChange.bind(o.me,e)}),z.a.createElement(ko.Button,{onClick:o.me.initNewTrigger.bind(o.me,e),basic:!0,size:"mini",style:{width:"calc(100% - 70px)",marginLeft:20,fontWeight:900,padding:4,fontSize:19}},"+"))))}),z.a.createElement("div",null,a)}),s("files",function(t){return z.a.createElement("div",null,z.a.createElement(Ce,Wi({disableAdd:!0,disableCopy:!0},t.editorProps)),function(){if(t.props.readOnly)return null;if(t.props.useDropzone){var e={iconFiletypes:t.props.iconFiletypes,postUrl:t.props.postUrl,showFiletypeIcon:t.props.showFiletypeIcon,autoProcessQueue:t.props.autoProcessQueue,additionalParams:t.props.additionalParams,onSuccess:t.onDropzoneUploadSuccess,onFail:t.onDropzoneUploadFail};return z.a.createElement(nt,Wi({addRemoveLinks:!0},e))}return t.props.useCamera&&(t.editorProps.columns.find(function(e){return"file2"==e.control}).control="camera"),e={uploadUrl:t.props.postUrl,downloadUrl:t.props.downloadUrl,readOnly:t.props.readOnly,onlyImages:t.props.useCamera,multiple:t.props.multiple,onChange:t.onUploadChange,onUploadFail:t.onUploadFail},z.a.createElement(kr,Wi({isForm:!0},e))}())}),s("form",function(e){return z.a.createElement(ko.Form,Ki({},e.propsControl,{children:e.children,size:e.model.size}))}),s("formgroup",function(e){var t=e.widths;return"custom"===t&&(t=e.widthsCustom),"grouped"==e.orientation&&(e.propsControl[e.orientation]=!0),"field"==e.orientation?z.a.createElement(ko.Form.Field,Gi({},e.propsControl,{children:e.children})):z.a.createElement(ko.Form.Group,Gi({},e.propsControl,{widths:t,children:e.children}))}),s("checkbox-formatter",function(e){return e=Boolean(e.props.value),z.a.createElement(ko.Checkbox,{checked:e,disabled:!0})}),s("number-formatter",function(e){return e=e.props.value,z.a.createElement("span",{style:{textAlign:"right"}},z.a.createElement("div",{title:e},e))}),s("date-formatter",function(e){return z.a.createElement("span",{style:{textAlign:"right"}},z.a.createElement("div",{title:e.strValue},e.strValue))}),s("datetime-formatter",function(e){return z.a.createElement("span",{style:{textAlign:"right"}},z.a.createElement("div",{title:e.strValue},e.strValue))}),s("time-formatter",function(e){return z.a.createElement("span",{style:{textAlign:"right"}},z.a.createElement("div",{title:e.strValue},e.strValue))}),xn=n(16),ue=n.n(xn);var Qi=Object(xn.WidthProvider)(ue.a);s("grid-layout",function(l){var e=function(t){var o=l.me,i=[],a=void 0;if(!l.props.buildermode)try{a=JSON.parse(l.getCookie(window.location.pathname+"_"+l.props.name))}catch(e){}if(Array.isArray(t))for(var e=0;e<t.length;e++)!function(e){var n=t[e];if(void 0!==n.visibleCondition&&null!==n.visibleCondition&&""!==n.visibleCondition){e="return "+n.visibleCondition;try{if(!new Function("",e)())return}catch(e){}}var r=!1;re(a)&&a.forEach(function(e){var t;e.i==n.psid&&(r=!0,t=function(r){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?qi(Object(o),!0).forEach(function(e){var t,n=r;e=o[t=e],t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(o)):qi(Object(o)).forEach(function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(o,e))})}return r}({},n),o.props.draggable&&(t.x=e.x,t.y=e.y),o.props.resizable&&(t.w=e.w,t.h=e.h),i.push(o.renderPanel(t)))}),r||i.push(function(e){var t,n=void 0;re(l.props.placeholders)&&Array.isArray(l.props.placeholders[e.psid])&&0<l.props.placeholders[e.psid].length?(r=l.props.placeholders[e.psid])&&(n=l.props.createControls(l.me,{model:r,parentPlaceholder:e.psid,buildermode:l.props.buildermode,data:l.props.data,errors:l.props.errors,parentItem:l.props.model,children:l.props.children,handleEvent:l.props.handleEvent,getFormFunc:l.props.getFormFunc,getAdditionalDataForControl:l.props.getAdditionalDataForControl,readOnlyControls:l.props.readOnlyControls,readOnly:l.props.readOnly,disableRefs:l.props.disableRefs,uploadUrl:l.props.uploadUrl,downloadUrl:l.props.downloadUrl,extendedData:l.props.extendedData,controlsToReplace:l.props.controlsToReplace,needCheckReplace:l.props.needCheckReplace,eventOnEdit:l.props.eventOnEdit,eventOnDelete:l.props.eventOnDelete,eventOnCopy:l.props.eventOnCopy,adaptiveViewType:l.props.adaptiveViewType}),t=e.psid,l.props.buildermode&&l.props.createBuilderDropzone&&(0<n.length&&0<r.length&&n.unshift(l.props.createBuilderDropzone(t+"layout_dropzone_header",l.props.name,void 0,e.title,e.psid)),n.push(l.props.createBuilderDropzone(t+"layout_dropzone_footer",l.props.name,r[r.length-1].key,e.title,e.psid)))):l.props.buildermode&&l.props.createBuilderDropzone&&(n=l.props.createBuilderDropzone("layout_dropzone_footer",l.props.name,void 0,e.title,e.psid));var r={x:re(e.x)?e.x:0,y:re(e.y)?e.y:0,w:re(e.w)?e.w:4,h:re(e.h)?e.h:4,i:e.psid};return z.a.createElement("div",{key:e.psid,className:e.cssclass,"data-grid":r},e.title&&z.a.createElement("div",{className:"react-grid-item-title"},e.title),n)}(n))}(e);return i}(l.props["data-panes"]),t={isDraggable:!0,isResizable:!0,cols:oe(l.props.cols)?l.props.cols:12,rowHeight:30,containerPadding:[0,0],draggableCancel:"input,textarea"};l.props.buildermode||(t.isDraggable=l.props.draggable,t.isResizable=l.props.resizable);var n=l.props.className;return l.props.scroll&&(n="react-grid-scroll"),z.a.createElement("div",{className:n,style:l.props.style},z.a.createElement(Qi,Hi({onLayoutChange:l.onLayoutChange},t),e))});var Ji=n(12),Yi=n.n(Ji);function Xi(){return(Xi=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Zi(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function $i(){return($i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function ea(){return(ea=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function ta(){return(ta=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function na(){return(na=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function ra(){return(ra=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}s("grid-view",function(e){var t=e.props.className,n=function(r){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?Zi(Object(o),!0).forEach(function(e){var t,n=r;e=o[t=e],t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(o)):Zi(Object(o)).forEach(function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(o,e))})}return r}({},e.props.style),r=e.gridProps;return r.columns=e.gridColumns,r.rowKey=e.props.rowKey,oe(e.props.rowHeight)&&(r.rowHeight=Number(e.props.rowHeight)),e.props.headerRowHeight&&(r.headerRowHeight=e.props.headerRowHeight),e.props.autoHeight?(n.minHeight=e.props.minHeight,oe(e.props.offSet)?n.height="calc(100vh - "+e.props.offSet+")":n.height="100vh",t=(ne(t)?"":t+" ")+"dwkit-gridview-autoHeight"):oe(e.props.minHeight)&&(r.minHeight=e.props.minHeight),e.props.multiselect&&(r.rowSelection={onRowsSelected:e.onRowsSelected,onRowsDeselected:e.onRowsDeselected,selectBy:e.selectBy}),z.a.createElement("div",{key:e.props.name,name:e.props.name,className:t,style:n},z.a.createElement(Yi.a,Xi({key:"grid"},r,{rowsCount:e.state.rowsCount,rowGetter:e.gridRowGetter,onRowClick:e.gridOnRowClick,onGridSort:e.handleGridSort})))}),s("header",function(e){return z.a.createElement(ko.Header,$i({},e.propsControl,{textAlign:e.model.textAlign,size:e.model.size,content:e.props.content,subheader:e.props.subheader}))}),s("image",function(n){var e,t,r,o,i=n.props.src;return"string"==typeof n.props.value&&32==n.props.value.length&&(n.props.value==n.me.state.token?i=n.me.state.source:(t=function(e,t){n.me.setState({token:e,source:t})},r=(e=n).props.value,(o=new XMLHttpRequest).open("POST",e.me.props.additionalParams.downloadUrl+r,!0),o.responseType="blob",o.onload=function(){var e=new FileReader;e.onloadend=function(){t(r,this.result)},e.readAsDataURL(o.response)},o.send(null))),z.a.createElement(ko.Image,ea({},n.propsControl,{avatar:n.model.avatar,bordered:n.model.bordered,centered:n.model.centered,disabled:n.model.disabled,inline:n.model.inline,href:n.props.href,src:i,floated:n.model.floated,shape:n.model.shape,spaced:n.model.spaced,verticalAlign:n.model.verticalAlign,height:n.model.height,width:n.model.width}))}),s("input",function(e){return"file"===e.propsControl.type?(e.propsControl.isForm=!e.propsControl.labelPosition||e.isForm,z.a.createElement(kr,ta({},e.propsControl,{downloadUrl:e.props.additionalParams.downloadUrl,uploadUrl:e.props.additionalParams.uploadUrl}))):"date"===e.propsControl.type||"time"===e.propsControl.type||"datetime"===e.propsControl.type?(e.propsControl.isForm=!e.propsControl.labelPosition||e.isForm,z.a.createElement(Le,e.propsControl)):!e.propsControl.labelPosition||e.isForm?z.a.createElement(ko.Form.Input,e.propsControl):z.a.createElement(ko.Input,e.propsControl)}),s("label",function(e){return z.a.createElement(ko.Label,na({},e.propsControl,{size:e.model.size,content:e.props.content,attached:e.model.attached,basic:e.model.basic,circular:e.model.circular,corner:e.model.corner,floating:e.model.floating,pointing:e.model.pointing}))}),s("menu-group",function(s){var e,t=function e(t,n){var r=[];ne(n)&&(n="");for(var o=0;o<t.length;o++){var i=t[o];if(re(i.visibleCondition)&&null!==i.visibleCondition&&""!==i.visibleCondition){var a="return "+i.visibleCondition;try{if(!new Function("",a)())continue}catch(e){}}var l=String(n)+String(o),a=z.a.createElement("span",{dangerouslySetInnerHTML:{__html:i.title}});Array.isArray(i.children)&&0<i.children.length?r.push(z.a.createElement(ko.Menu.Item,{key:l},z.a.createElement(ko.Menu.Header,null,a),z.a.createElement(ko.Menu.Menu,null,e(i.children,l+"_")))):(a=s.props.link?z.a.createElement("a",{style:{color:"inherit"},href:i.target,onClick:s.handleItemClick2.bind(s.me,{name:i.target})},a):a,s.props.link?r.push(z.a.createElement(ko.Menu.Item,{key:l,name:i.target,active:s.state.activeitem===i.target},a)):r.push(z.a.createElement(ko.Menu.Item,{key:l,name:i.target,active:s.state.activeitem===i.target,onClick:s.handleItemClick},a)))}return r}(s.items),n={};for(e in s.props)"data-items"!=e&&"activeItem"!=e&&"handleEvent"!=e&&"link"!=e&&(n[e]=s.props[e]);return z.a.createElement(ko.Menu,n,t)}),s("message",function(e){return z.a.createElement(ko.Message,ra({},e.propsControl,{floated:e.model.floated,size:e.model.size,content:e.props.content,compact:e.model.compact,error:e.model.error,floating:e.model.floating,info:e.model.info,negative:e.model.negative,positive:e.model.positive,success:e.model.success,warning:e.model.warning,header:e.props.header}))}),s("null-control",function(e){return z.a.createElement("div",{key:e.key},e.text)});var ue=n(20),oa=n.n(ue);s("number-format",function(e){return e.propsControl.customInput=(!e.propsControl.labelPosition||e.isForm?ko.Form:ko).Input,z.a.createElement(oa.a,e.propsControl)}),s("popup",function(e){return z.a.createElement(ko.Popup,{key:e.key,trigger:e.trigger,on:e.popupOn,position:e.popupPosition,className:e.className,header:e.header,content:e.content})}),s("radio-group",function(n){var e=n.props.items.map(function(e){var t=e.key||e.value;return z.a.createElement(ko.Form.Field,{key:t+"_formfield"},z.a.createElement(ko.Form.Radio,{key:t,label:e.text,name:n.props.name+"_radioGroup",value:e.value,readOnly:n.props.readOnly,checked:n.props.value===e.value,onChange:n.onChange}))},n),t=(t=n.props.className)||"";return n.props.error&&(t+=" error"),"v"===n.props.direction?z.a.createElement("div",{className:t+=" ui form",style:n.props.style},z.a.createElement("label",null,n.props.label),z.a.createElement(ko.Form,null,e)):z.a.createElement("div",{className:"ui form"},z.a.createElement("div",{className:t+=" field"},z.a.createElement("label",null,n.props.label),z.a.createElement("div",{style:n.props.style},z.a.createElement(ko.Form.Group,{key:"group"},e))))});var ue=n(21),ia=n.n(ue);function aa(){return(aa=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function la(){return(la=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}s("repeater",function(l){function e(e,t,n){var r,o=l.me,i=[],a=0;return Array.isArray(e)&&0<e.length?e.forEach(function(e){re(e=s(a,e,!a&&o.props.controlProps.buildermode))&&(n?i.push(z.a.createElement("div",{key:a},e)):i.push(e)),a++}):l.props.controlProps.buildermode?re(r=s(a,{},0===a))&&(n?i.push(z.a.createElement("div",null,r)):i.push(r)):!l.state.loading&&l.isServerMode&&(!ne(r=l.props.noRecordsLabel)&&""!=r||(r="No records. Refresh..."),r=z.a.createElement("div",{key:"norecords",className:"dwkit-repeater-norecords"},z.a.createElement(ko.Button,{onClick:l.loadNextPage},r)),i.push(r)),!l.state.loading&&l.isServerMode&&t>e.length&&0<e.length&&(!ne(e=l.props.loadButtonLabel)&&""!=e||(e="Load more..."),e=z.a.createElement("div",{key:"loadmore",className:"dwkit-repeater-loadmore"},z.a.createElement(ko.Button,{onClick:l.loadNextPage},e)),i.push(e)),i}function s(e,t,n){if(!l.props.controlProps.buildermode&&""!==l.props["item-visibleCondition"]&&void 0!==l.props["item-visibleCondition"]&&null!==l.props["item-visibleCondition"]){var r="return "+l.props["item-visibleCondition"];try{if(!new Function("data",r)(t))return}catch(e){return}}var o=void 0,i=l.props.controlProps.createBuilderDropzone;return re(l.props.placeholders)&&Array.isArray(l.props.placeholders[l.psTemplate])&&0<l.props.placeholders[l.psTemplate].length?re(r=l.props.placeholders[l.psTemplate])&&(o=z.a.createElement(_n,{key:e,parent:l.me,model:r,psTemplate:l.psTemplate,item:t,controlProps:l.props.controlProps,includeDropzone:n,errors:Array.isArray(l.props.error)?l.props.error[e]:void 0,index:e,handleChange:l.handleChange,data:l.props.data,parentItem:l.props.model})):n&&i&&(o=i("repeater_dropzone_footer",l.props.model.key,void 0,void 0,l.psTemplate)),o}var t="dwkit-repeater";return l.props.className&&(t+=" "+l.props.className),l.isServerMode&&l.state.firstLoad?(l.state.firstLoad=!1,l.loadNextPage(),z.a.createElement("div",{className:t,style:l.props.style},l.state.loading&&z.a.createElement(ko.Loader,{active:!0,inline:"centered"}))):l.props.slider&&0<l.state.items.length?z.a.createElement("div",{className:t,style:l.props.style},z.a.createElement(ia.a,{dots:!0,infinite:!0,speed:500,slidesToShow:1,slidesToScroll:1},e(l.state.items,l.state.rowsCount,!0)),l.state.loading&&z.a.createElement(ko.Loader,{active:!0,inline:"centered"})):z.a.createElement("div",{className:t,style:l.props.style},e(l.state.items,l.state.rowsCount),l.state.loading&&z.a.createElement(ko.Loader,{active:!0,inline:"centered"}))}),s("row-loading-renderer",function(t){return z.a.createElement("div",{className:t.className},z.a.createElement(Ji.Row,aa({ref:function(e){return t.me.row=e}},t.props)))}),s("search",function(e){return z.a.createElement(ko.Search,la({},e.controlProps,{fluid:!0,loading:e.state.isLoading,onResultSelect:e.handleResultSelect,onSearchChange:e.handleSearchChange,results:e.state.results,value:e.state.value}))});var ue=n(22),sa=n.n(ue);function ca(e){return(ca="function"==typeof Symbol&&"symbol"==Fa(Symbol.iterator)?function(e){return Fa(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":Fa(e)})(e)}function ua(){return(ua=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function pa(e,t){return(pa=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function fa(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function da(e){return(da=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ha(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Va=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&pa(e,t)}(i,z.a.Component);var n,r,o=(n=i,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=da(n),t=r?(t=da(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this;return!t||"object"!==ca(t)&&"function"!=typeof t?fa(e):t});function i(e){var t;return function(e){if(!(e instanceof i))throw new TypeError("Cannot call a class as a function")}(this),ha(fa(t=o.call(this,e)),"labels",function(){return{draw:t.props.compact?null:t.props.drawLabel||"Draw signature",clear:t.props.clearCanvasLabel||"Clear canvas",upload:t.props.uploadLabel||"Upload",cancel:t.props.cancelLabel||"Cancel"}}),ha(fa(t),"upload",function(){var n=fa(t).props,e=t.sigPad.current.getCanvas().toDataURL("image/png");Si(e,n.uploadUrl,function(e,t){n.onUpload(e,t)}),t.setState({open:!1})}),ha(fa(t),"onClear",function(){t.sigPad.current.clear()}),t.state={open:!1},t.sigPad=Object(c.createRef)(),t}return function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(i.prototype,[{key:"render",value:function(){var e=this,t=this.props,n=this.labels;return t.value?z.a.createElement(Ai,ua({},t,{clear:t.onClear})):z.a.createElement("div",null,z.a.createElement(ko.Button,{content:n().draw,basic:!0,fluid:t.fluid,onClick:function(){return e.setState({open:!0})},icon:"signup"}),z.a.createElement(ko.Modal,{open:e.state.open,style:{width:"max-content"}},z.a.createElement(ko.Modal.Header,null,"Draw signature"),z.a.createElement(ko.Modal.Content,null,z.a.createElement("div",{className:"signature-canvas-container"},z.a.createElement(sa.a,{ref:e.sigPad,canvasProps:{className:"canvas ui basic button"}}),z.a.createElement(ko.Button,{fluid:!0,content:n().clear,className:"ui button",onClick:e.onClear,icon:"cancel"}))),z.a.createElement(ko.Modal.Actions,null,z.a.createElement(ko.Button,{className:"buttontype1",content:n().upload,download:!0,onClick:e.upload,icon:"check"}),z.a.createElement(ko.Button,{className:"buttontype2",content:n().cancel,onClick:function(){return e.setState({open:!1})}}))))}}]),i}();function ma(){return(ma=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function ya(){return(ya=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function va(){return(va=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function ga(){return(ga=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function ba(){return(ba=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}s("signature",function(e){var t=e.props,n=t.compact&&t.showPreview?{minWidth:160}:{};return z.a.createElement("div",{className:"field",style:n},e.props.label&&z.a.createElement("label",null,e.props.label),z.a.createElement(Va,ua({},t,{onUpload:e.onUpload,onClear:e.onClear})))}),s("statistic",function(e){return z.a.createElement(ko.Statistic.Group,ma({},e.propsControl,{floated:e.model.floated,horizontal:e.model.horizontal,size:e.model.size,items:e.items}))}),s("static-content",function(e){if(e.props.isHtml)return z.a.createElement("span",ya({},e.spanProps,{dangerouslySetInnerHTML:{__html:e.props.content}}));var t=re(e.props.content)?e.props.content.replace("\n","<br/>"):void 0;return z.a.createElement("span",e.spanProps,t)}),s("style-button",function(e){var t="RichEditor-styleButton";return e.props.active&&(t+=" RichEditor-activeButton"),z.a.createElement("span",{className:t,onMouseDown:e.me.onToggle},e.props.label)}),s("tab-group",function(e){var t={};t.pointing=e.props.pointing,t.secondary=e.props.secondary,t.tabular=e.props.tabular,t.fluid=e.props.fluid,t.vertical=e.props.vertical;var n=e.props.className;return e.props.scroll&&(n="dwkit-tabgroup"),z.a.createElement("div",{className:n,style:e.props.style},z.a.createElement(ko.Tab,{menu:t,panes:e.panes,renderActiveOnly:!1,onTabChange:e.onTabChange}))}),s("textarea",function(e){if(!e.propsControl.labelPosition||e.isForm)return z.a.createElement(ko.Form.TextArea,e.propsControl);var t="ui labeled input";return e.propsControl.fluid&&(t+=" fluid"),e.propsControl.error&&(t+=" error"),oe(e.props.className)&&(t+=" "+e.props.className),z.a.createElement("div",{className:t},e.propsControl.label&&z.a.createElement("div",{className:"ui label label"},e.propsControl.label),z.a.createElement(ko.TextArea,e.propsControl))}),s("tree-picker-header",function(e){return z.a.createElement(ko.Modal.Header,null,e.props.name,z.a.createElement("div",{className:"ui menu"},z.a.createElement(ko.Item,{className:"active tree",as:"a"},z.a.createElement("i",{className:"list icon"})," Select"),z.a.createElement(ko.Item,{className:"picked item",as:"a"},z.a.createElement("i",{className:"checkmark icon"})," ",e.props.selected," ",z.a.createElement("span",{className:"count"}))))}),s("tree-picker-trigger",function(e){return z.a.createElement(ko.Form.Dropdown,va({},e.controlProps,{onClick:e.handleOpen,onChange:e.onDropdownChange}))}),s("unknown",function(e){return z.a.createElement("span",null,"Unknown type '",e.type,"' of '",e.props.name,"' element.")}),s("upload",function(i){var e,t,n=i.props.type,r=[],o=i.props.isForm,a=i.props.value;return re(a)&&null!=a&&""!=a?(e="Download",t="Clear",re(a=function(){if(window.DWKitAdminLang&&window.DWKitAdminLang.button)return window.DWKitAdminLang.button}())&&(e=a.download,t=a.clear),a=i.props.disabled||i.props.readOnly||i.props.hideClearButton,r.push(z.a.createElement("a",{key:"download",className:"ui button",target:"blank",onClick:function(e){e.preventDefault();var e=i.props.value,o=new XMLHttpRequest;o.open("POST",i.props.downloadUrl+e,!0),o.responseType="arraybuffer",o.onload=function(){var e,t=i.getCustomFileName();t||!(e=o.getResponseHeader("Content-Disposition"))||-1===e.indexOf("attachment")||(n=/filename[^;=\n]*=((['"]).*?\2|[^;\n]*)/.exec(e))&&n[1]&&(t=n[1].replace(/['"]/g,""));var n=(n=i.getCustomContentType())||o.getResponseHeader("Content-Type"),r=document.createElement("a");r.setAttribute("href",window.URL.createObjectURL(new Blob([o.response],{type:n}))),r.setAttribute("download",t||"unknown"),document.body.appendChild(r),r.onclick=function(){document.body.removeChild(r)},r.click()},o.send(null)},href:"#"},e)),a||(r.push(z.a.createElement("span",{key:"sparator"},"")),r.push(z.a.createElement("button",{key:"clear",className:"ui button",onClick:i.onClear},t)))):i.props.disabled||i.props.readOnly?r.push(z.a.createElement("span",null)):r.push(z.a.createElement("input",{key:"uploadcontrol",type:"file",multiple:i.props.multiple,accept:i.props.onlyImages?"image/*":void 0,name:i.props.name,onChange:i.onChange,value:""})),o?z.a.createElement("div",{className:"field"},re(i.props.label)&&z.a.createElement("label",null,i.props.label),z.a.createElement("div",{"data-buildertype":n},r)):(o="ui labeled input",i.props.fluid&&(o+=" fluid"),i.props.error&&(o+=" error"),oe(i.props.className)&&(o+=" "+i.props.className),z.a.createElement("div",{className:o,"data-buildertype":n},i.props.label&&z.a.createElement("div",{className:"ui label label"},i.props.label),r))}),s("workflow-bar",function(o){var e="dwkit-workflowbar";o.props.className&&(e+=" "+o.props.className);var t=o.props.style,n=o.state.commands||o.props.commands;o.props.selectedScheme&&n&&(n=n.filter(function(e){return e.scheme===o.props.selectedScheme}));var r=o.state.states||o.props.states;return z.a.createElement("div",{className:e,style:t},z.a.createElement("div",{className:"dwkit-workflowbar-items"},function(){if(o.state.processExists||o.props.blockSelectScheme||o.props.schemes.length<=1)return null;var e,t="Select scheme";o.props.selectSchemeDropdown?t=o.props.selectSchemeDropdown:(e=Re())&&e.selectscheme&&(t=e.startworkflow);var n=[];return n.push({value:null,text:""}),o.props.schemes.forEach(function(e){return n.push({value:e,text:e})}),z.a.createElement(ko.Dropdown,{key:"setstate",name:"setstate",className:"setstate",options:n,placeholder:t,onChange:o.selectWorkflowScheme,selection:!0,search:!0,value:o.props.selectedScheme})}(),function(e){if(o.props.blockCommands)return null;if(!o.props.blockSelectScheme&&!o.props.selectedScheme&&1<o.props.schemes.length)return null;if(Array.isArray(e)&&0<e.length){var n=[];return e.forEach(function(e){var t={};1==e.type?t.primary=!0:2==e.type&&(t.secondary=!0),n.push(z.a.createElement(ko.Button,ga({},t,{key:e.value,onClick:o.onCommand.bind(o.me,e)}),e.text))}),n}}(n),function(e){if(!o.props.blockSetState&&Array.isArray(e)&&0<e.length){var t,n=ne(o.state.setstate)||""==o.state.setstate,r="Set state";return oe(o.props.setStateButton)?r=o.props.setStateButton:(t=Re())&&(r=t.setstate),[z.a.createElement(ko.Dropdown,{key:"setstate",name:"setstate",className:"setstate",placeholder:"States",options:e,onChange:o.handleChanged,selection:!0,search:!0}),z.a.createElement(ko.Button,{key:"btnsetstate",disabled:n,onClick:o.onSetState.bind(o.me)},r)]}}(r)))}),s("card",function(e){return z.a.createElement(ko.Card,e.propsControls,e.props.imgurl&&z.a.createElement(ko.Image,{src:e.props.imgurl,wrapped:!0,ui:!1}),z.a.createElement(ko.Card.Content,null,e.props.header&&z.a.createElement(ko.Card.Header,null,z.a.createElement("span",{dangerouslySetInnerHTML:{__html:e.props.header}})),e.props.subheader&&z.a.createElement(ko.Card.Meta,null,z.a.createElement("span",{dangerouslySetInnerHTML:{__html:e.props.subheader}})),z.a.createElement(ko.Card.Description,null,e.me.renderPanel("description"))),z.a.createElement(ko.Card.Content,{extra:!0},e.me.renderPanel("extra")))}),s("accordion",function(e){var t={};t.fluid=e.props.fluid,t.styled=e.props.styled;var n=e.props.className;return z.a.createElement("div",{className:n,style:e.props.style},z.a.createElement(ko.Accordion,ba({},t,{panels:e.panels})))}),fe([{key:"sepContainers",title:"Containers",isseparate:!0,defaultopen:!0},{key:"container",title:"Container",control:Se},{key:"staticcontent",title:"Static Content",control:Xn,defaultValues:{content:"Text..."}},{key:"form",title:"Form",control:Bn},{key:"formgroup",title:"Form Group",control:Bn,defaultValues:{widths:"equal"}},{key:"card",title:"Card",control:dr,defaultValues:{header:"Card",subheader:"Description"}},{key:"tab",title:"Tab",control:rr,defaultValues:{panes:[{title:"Tab 1",psid:"t1"},{title:"Tab 2",psid:"t2"},{title:"Tab 3",psid:"t3"}]}},{key:"accordion",title:"Accordion",control:lr,defaultValues:{panels:[{title:"Panel 1",psid:"p1"},{title:"Panel 2",psid:"p2"},{title:"Panel 3",psid:"p3"}]}},{key:"customblock",title:"Custom block",control:void 0,defaultValues:{sourceType:"form"}},{key:"gridlayout",title:"Grid Layout",control:Ot,defaultValues:{draggable:!1,resizable:!1,panes:[{title:"Pane 1",psid:"p1",x:0,w:4},{title:"Pane 2",psid:"p2",x:4,w:4},{title:"Pane 3",psid:"p3",x:8,w:4}]}},{key:"sepCollection",title:"Collections",isseparate:!0},{key:"gridview",title:"GridView",control:Gt,defaultValues:{columns:[{key:"id",name:"ID"},{key:"title",name:"Title"},{key:"count",name:"Count"}]}},{key:"collectioneditor",title:"Collection Editor",control:Ce,defaultValues:{columns:[{key:"Id",name:"ID"},{key:"Title",name:"Title"},{key:"Count",name:"Count"}]}},{key:"repeater",title:"Repeater",control:gn,defaultValues:{}},{key:"sepControls",title:"Controls",isseparate:!0},{key:"header",title:"Header",control:Bn,defaultValues:{content:"Header",size:"medium"}},{key:"input",title:"Input",control:Bn,defaultValues:{label:"Input",fluid:!0,onChangeTimeout:200}},{key:"numberformat",title:"Number Format",control:nn,defaultValues:{label:"NumberFormat",fluid:!0,onChangeTimeout:200}},{key:"textarea",title:"TextArea",control:Bn,defaultValues:{label:"TextArea",fluid:!0}},{key:"dictionary",title:"Dictionary",control:Ge,defaultValues:{label:"Dictionary",fluid:!0,selection:!0}},{key:"treepicker",title:"TreePicker",control:Fo,defaultValues:{label:"TreePicker",selection:!0,fluid:!0,parentIdField:"ParentId"}},{key:"dropdown",title:"Dropdown",control:Bn,defaultValues:{label:"Dropdown",fluid:!0,selection:!0,"data-elements":[{value:1,text:"Item 1"},{value:2,text:"Item 2"},{value:3,text:"Item 3"}]}},{key:"checkbox",title:"CheckBox",control:Bn,defaultValues:{label:"Checkbox"}},{key:"radiogroup",title:"Radio group",control:cn,defaultValues:{label:"Radio","data-elements":[{value:1,text:"Item 1"},{value:2,text:"Item 2"},{value:3,text:"Item 3"}]}},{key:"button",title:"Button",control:Bn,defaultValues:{content:"Button"}},{key:"label",title:"Label",control:Bn,defaultValues:{content:"Label"}},{key:"message",title:"Message",control:Bn,defaultValues:{header:"Message",content:"Description..."}},{key:"image",title:"Image",control:Bn,defaultValues:{src:"/images/unknown.png"}},{key:"statistic",title:"Statistic",control:Bn,defaultValues:{"data-elements":[{label:"Score",value:"22,1%"},{label:"Views",value:"30,000"},{label:"Points",value:"500"}]}},{key:"customcontrol",title:"Custom control",control:void 0,defaultValues:{props:"{  }"}},{key:"dropdowntrigger",title:"Dropdown trigger",control:Xe,defaultValues:{defaultValue:"User",items:[{target:"#1",title:"Item 1"},{target:"#2",title:"Item 2"},{target:"#3",title:"Item 3"}]}},{key:"dropzonecontrol",title:"Dropzone",control:nt,defaultValues:{showFiletypeIcon:!1,autoProcessQueue:!0,addRemoveLinks:!0,multile:!0}},{key:"files",title:"Files",control:yt,defaultValues:{idField:"Id",columns:[{title:"Name",field:"Name",property:"Name",showcolumn:!0},{title:"Length",field:"Length",property:"Length",showcolumn:!1,control:"span"},{title:"Content Type",field:"ContentType",property:"ContentType",showcolumn:!1},{title:"File",field:"Token",property:"Token",showcolumn:!0,control:"file2"}]}},{key:"signature",title:"Signature",control:qn,defaultValues:{showPreview:!0}},{key:"camera",title:"Camera",control:te,defaultValues:{showPreview:!0,compression:.75}},{key:"breadcrumb",title:"Breadcrumbs",control:Bn,defaultValues:{items:[{text:"Home",url:"/"},{divider:"right angle",text:"Page1",url:"/page1"},{text:"Page2",active:!0}],events:{onItemClick:{active:!0,actions:["redirect"]}}}},{key:"search",title:"Search",control:Tn,defaultValues:{}},{key:"menu",title:"Menu",control:Zt,defaultValues:{items:[{title:"Menu 1"},{title:"Menu 2"},{title:"Menu 3"}]}},{key:"workflowbar",title:"Workflow bar",control:Pr,defaultValues:{blockSetState:!0,blockLoadParameters:!0,events:{onCommandClick:{active:!0,actions:["workflowExecuteCommand"]},onSetStateClick:{active:!0,actions:["workflowSetState"]},onSchemeSelected:{active:!0,actions:["workflowSelectScheme"]}}}},{key:"richtexteditor",title:"Rich Text Editor",control:Qo,defaultValues:{}},{key:"sepCharts",title:"Charts",isseparate:!0},{key:"barchart",title:"Bar",control:ce,defaultValues:{chartType:"bar",datasetLabel:""}},{key:"linechart",title:"Line",control:ce,defaultValues:{chartType:"line",datasetLabel:""}},{key:"scatterchart",title:"Scatter",control:ce,defaultValues:{chartType:"scatter",datasetLabel:""}},{key:"doughnutchart",title:"Doughnut",control:ce,defaultValues:{chartType:"doughnut",datasetLabel:""}},{key:"piechart",title:"Pie",control:ce,defaultValues:{chartType:"pie",datasetLabel:""}},{key:"radarchart",title:"Radar",control:ce,defaultValues:{chartType:"radar",datasetLabel:""}}]),t.setItems(_e());var wa=t;function Oa(e){return(Oa="function"==typeof Symbol&&"symbol"==Fa(Symbol.iterator)?function(e){return Fa(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":Fa(e)})(e)}function Ca(e,t){return(Ca=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ka(e){return(ka=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Ea=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ca(e,t)}(o,Co);var n,r,t=(n=o,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=ka(n),t=r?(t=ka(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this;return!t||"object"!==Oa(t)&&"function"!=typeof t?function(){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}():t});function o(e){return function(e){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this),(e=t.call(this,e)).createControls=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return wa.createControls.apply(wa,t)},e}return function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(o.prototype,[{key:"render",value:function(){var t=this,e="dwkit-form"+(void 0===this.props.className?"":" "+this.props.className),n=this.getItemsForRender();return z.a.createElement("div",{className:e,ref:function(e){t.currentElement=e}},n)}},{key:"print",value:function(e){if(this.currentElement){var t=this.currentElement.innerHTML,n=window.open("",this.props.formName,"toolbar=no,location=no,directories=no,status=no,scrollbars=yes,resizable=yes");e||(n.document.title=this.props.formName),n.document.title=e||"PrintForm",n.document.head.insertAdjacentHTML("beforeend","<style type='text/css'>body, html { height: auto!important; width:auto!important;} body{margin:10px!important;} .dwkit-notprint{display:none!important;}</style>");for(var r=document.getElementsByTagName("style"),o=0;o<r.length;o++){var i="<style>"+r[o].innerHTML+"</style>";n.document.head.insertAdjacentHTML("beforeend",i)}for(var a=document.getElementsByTagName("link"),o=0;o<a.length;o++){var l=a[o];"stylesheet"==l.rel&&(i='<link href="'+l.href+'" rel="stylesheet" type="text/css" />',n.document.head.insertAdjacentHTML("beforeend",i))}n.document.body.innerHTML=t;for(var s=n.document.getElementsByTagName("img"),o=0;o<s.length;o++){var c,u=s[o];u.src||!u.attributes.src||(c=u.attributes.src.value)&&1<c.length&&(u.src=location.origin+("/"!=c[0]?"/":"")+c)}n.focus(),setTimeout(function(){n.print()},1e3)}}}]),o}();function Aa(e){return(Aa="function"==typeof Symbol&&"symbol"==Fa(Symbol.iterator)?function(e){return Fa(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":Fa(e)})(e)}function Sa(e,t){return(Sa=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _a(e){return(_a=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var xa=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Sa(e,t)}(t,Ea);var n,r,e=(n=t,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=_a(n),t=r?(t=_a(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this;return!t||"object"!==Aa(t)&&"function"!=typeof t?function(){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}():t});function t(){return function(e){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),e.apply(this,arguments)}return t}();function Pa(e){return(Pa="function"==typeof Symbol&&"symbol"==Fa(Symbol.iterator)?function(e){return Fa(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":Fa(e)})(e)}function ja(e,t){return(ja=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ra(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Da(e){return(Da=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Ta=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ja(e,t)}(o,c.Component);var n,r,t=(n=o,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=Da(n),t=r?(t=Da(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this;return!t||"object"!==Pa(t)&&"function"!=typeof t?Ra(e):t});function o(e){return function(e){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this),(e=t.call(this,e)).state={activeItem:"general",defaultValuePreferInt:!1},e.menuItems=[{key:"general",name:"general",content:e.getLocalValue("generaltab","General"),active:!0,onClick:e.handleItemClick.bind(Ra(e))},{key:"style",name:"style",content:e.getLocalValue("styletab","Style"),active:!1,onClick:e.handleItemClick.bind(Ra(e))},{key:"events",name:"events",content:e.getLocalValue("eventstab","Events"),active:!1,onClick:e.handleItemClick.bind(Ra(e))},{key:"tooltip",name:"tooltip",content:e.getLocalValue("tooltiptab","Tooltip"),active:!1,onClick:e.handleItemClick.bind(Ra(e))},{key:"other",name:"other",content:e.getLocalValue("othertab","Other"),active:!1,onClick:e.handleItemClick.bind(Ra(e))}],e}return function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(o.prototype,[{key:"getLocalValue",value:function(e,t,n){var r=this.props.localization,n=re(n)?n:"base";return ne(r)||ne(r[n])||ne(r[n][e])?t:r[n][e]}},{key:"handleItemClick",value:function(e,t){t=t.name,this.setState({activeItem:t})}},{key:"getDescription",value:function(){var t=this.state.activeItem;return this.menuItems.forEach(function(e){e.active=e.name===t}),z.a.createElement(ko.Modal.Description,null,z.a.createElement(ko.Menu,{key:"descriptionMenu",pointing:!0,secondary:!0,items:this.menuItems}),this.getDetailDescription(t))}},{key:"getDetailDescription",value:function(e){var t;return"general"===e?t=this.getGeneralDescription():"style"===e?t=this.getStyleDescription():"events"===e?t=this.getEventsDescription():"tooltip"===e?t=this.getToolTipDescription():"other"===e&&(t=this.getOtherDescription()),t}},{key:"getGeneralDescription",value:function(){var e=this.props.data,t=this.props.parent.handleChange.bind(this.props.parent);return z.a.createElement(ko.Form,{key:"generalDescriptionForm"},z.a.createElement(ko.Form.Input,{key:"name",label:"Name",name:"key",value:e.key,onChange:t}))}},{key:"getStyleDescription",value:function(){var e=this.props.data,t=this.props.parent.handleChange.bind(this.props.parent),n="/*** Example Code ***/\ncolor:red;\npaddingTop:5px;",r=[{text:this.getLocalValue("adaptivedefault","Any"),value:""},{text:this.getLocalValue("adaptivedesctop","Desktop"),value:"desktop"},{text:this.getLocalValue("adaptivemobile","Mobile"),value:"mobile"}];return z.a.createElement(ko.Form,{key:"styleDescriptionForm"},z.a.createElement(ko.Form.Group,{widths:"equal"},z.a.createElement(ko.Form.Input,{name:"style-width",label:this.getLocalValue("widthfield","Width"),placeholder:"100px",value:e["style-width"],onChange:t}),z.a.createElement(ko.Form.Input,{name:"style-height",label:this.getLocalValue("heightfield","Height"),placeholder:"100px",value:e["style-height"],onChange:t})),z.a.createElement(ko.Form.Group,{widths:"equal"},z.a.createElement(ko.Form.Input,{name:"style-marginTop",label:this.getLocalValue("margintopfield","Margin Top"),placeholder:"0px",value:e["style-marginTop"],onChange:t}),z.a.createElement(ko.Form.Input,{name:"style-marginBottom",label:this.getLocalValue("marginbottomfield","Margin Bottom"),placeholder:"0px",value:e["style-marginBottom"],onChange:t}),z.a.createElement(ko.Form.Input,{name:"style-marginLeft",label:this.getLocalValue("marginleftfield","Margin Left"),placeholder:"0px",value:e["style-marginLeft"],onChange:t}),z.a.createElement(ko.Form.Input,{name:"style-marginRight",label:this.getLocalValue("marginrightfield","Margin Right"),placeholder:"0px",value:e["style-marginRight"],onChange:t})),z.a.createElement(ko.Form.Input,{name:"style-customcss",label:this.getLocalValue("customcssclassfield","Custom CSS class"),placeholder:"dwkit-application-css (without '.')",value:e["style-customcss"],onChange:t}),z.a.createElement(ko.Form.TextArea,{name:"style-source",label:this.getLocalValue("stylefield","Style"),placeholder:n,value:e["style-source"],onChange:t}),z.a.createElement(ko.Form.Group,null,z.a.createElement(ko.Form.Checkbox,{name:"style-hidden",label:this.getLocalValue("hiddenfield","Hidden"),checked:e["style-hidden"],onChange:t}),z.a.createElement(ko.Form.Checkbox,{name:"style-hiddeninprint",label:this.getLocalValue("hiddeninprintfield","Hidden in Print mode"),checked:e["style-hiddeninprint"],onChange:t})),z.a.createElement(ko.Form.Checkbox,{name:"style-adaptive",label:this.getLocalValue("adaptivefield","Adaptive Layout"),checked:e["style-adaptive"],onChange:t}),e["style-adaptive"]&&z.a.createElement(ko.Form.Dropdown,{name:"style-renderwhen",selection:!0,fluid:!0,search:!0,options:r,placeholder:"Any",label:this.getLocalValue("style-renderwhenfield","Render when"),value:e["style-renderwhen"],onChange:t}),e["style-adaptive"]&&z.a.createElement(ko.Form.TextArea,{name:"style-mobilesource",label:this.getLocalValue("mobilesourcefield","Mobile style"),placeholder:n,value:e["style-mobilesource"],onChange:t}))}},{key:"getEventsList",value:function(){return[]}},{key:"getEventsDescription",value:function(){var e=this.props.data;ne(e.events)&&(e.events={});var t,n=this.props.parent.handleChange.bind(this.props.parent),r=this.props.actions,o=this.getEventsList();if(Array.isArray(o)&&0!==o.length){for(var i=this.props.parent.getControlsList(),a=[],l=0;l<i.length;l++)e.key!==i[l]&&a.push({text:i[l],value:i[l]});t=z.a.createElement(ut,{key:"events",name:"events",data:e.events,events:o,actions:r,targets:a,onAdditionActions:this.handleAdditionActions.bind(this),onChange:n})}else t=z.a.createElement(ko.Message,{icon:!0},z.a.createElement(ko.Icon,{name:"info"}),z.a.createElement(ko.Message.Content,null,this.getLocalValue("controlhasnoeventsmsg","This control has no events.")));return r=null,o.includes("onChange")&&(r=z.a.createElement(ko.Form.Input,{name:"onChangeTimeout",style:{width:100},placeholder:"0",type:"number",label:this.getLocalValue("onchangetimeout","onChange timeout"),value:e.onChangeTimeout,onChange:n})),z.a.createElement(ko.Form,{key:"eventsDescriptionForm"},z.a.createElement(ko.Message,{icon:!0},z.a.createElement(ko.Icon,{name:"info"}),z.a.createElement(ko.Message.Content,null,this.getLocalValue("eventsinfomsg","These flags enable processing from this element."))),r,t)}},{key:"getToolTipDescription",value:function(){var e=[{text:this.getLocalValue("tooltipdefault","Default"),value:""},{text:this.getLocalValue("tooltiptopcenter","Top Center"),value:"top center"},{text:this.getLocalValue("tooltiptopleft","Top Left"),value:"top left"},{text:this.getLocalValue("tooltiptopright","Top Right"),value:"top right"},{text:this.getLocalValue("tooltipbottomcenter","Bottom Center"),value:"bottom center"},{text:this.getLocalValue("tooltipbottomleft","Bottom Left"),value:"bottom left"},{text:this.getLocalValue("tooltipbottomright","Bottom right"),value:"bottom right"},{text:this.getLocalValue("tooltiprightright","Right Center"),value:"right center"},{text:this.getLocalValue("tooltipleftcenter","Left Center"),value:"left center"}],t=[{text:this.getLocalValue("tooltipdefault","Default"),value:""},{text:this.getLocalValue("tooltiphover","Hover"),value:"hover"},{text:this.getLocalValue("tooltipclick","Click"),value:"click"},{text:this.getLocalValue("tooltipfocus","Focus"),value:"focus"}],n=this.props.data,r=this.props.parent.handleChange.bind(this.props.parent),o=n["tooltip-enabled"]?z.a.createElement(ko.Segment,{vertical:!0},z.a.createElement(ko.Form.Checkbox,{name:"tooltip-enabled",label:this.getLocalValue("tooltipenabledfield","Enabled"),checked:n["tooltip-enabled"],onChange:r}),z.a.createElement(ko.Form.Input,{name:"tooltip-header",label:this.getLocalValue("tooltipheaderfield","Tooltip Header"),value:n["tooltip-header"],onChange:r}),z.a.createElement(ko.Form.Input,{name:"tooltip-content",label:this.getLocalValue("tooltipcontentfield","Tooltip Content"),value:n["tooltip-content"],onChange:r}),z.a.createElement(ko.Form.Group,null,z.a.createElement(ko.Form.Input,{name:"tooltip-classname",label:this.getLocalValue("tooltipclassnamefield","ClassName"),value:n["tooltip-classname"],onChange:r}),z.a.createElement(ko.Form.Dropdown,{name:"tooltip-showtype",selection:!0,fluid:!0,search:!0,options:t,placeholder:"Default",label:this.getLocalValue("tooltipshowtypefield","Tooptip showing type"),value:n["tooltip-showtype"],onChange:r}),z.a.createElement(ko.Form.Dropdown,{name:"tooltip-position",selection:!0,fluid:!0,search:!0,options:e,placeholder:"Default",label:this.getLocalValue("tooltippositionfield","Tooptip position"),value:n["tooltip-position"],onChange:r}))):z.a.createElement(ko.Segment,{vertical:!0},z.a.createElement(ko.Form.Checkbox,{name:"tooltip-enabled",label:this.getLocalValue("tooltipenabledfield","Enabled"),checked:n["tooltip-enabled"],onChange:r}));return z.a.createElement(ko.Form,{key:"tooltipDescriptionForm"},z.a.createElement(ko.Segment,{vertical:!0},z.a.createElement(ko.Form.Group,null,z.a.createElement(ko.Form.Checkbox,{name:"tooltip-errordisabled",label:this.getLocalValue("errortooltipdisabledfield","Disable error tooptip"),checked:n["tooltip-errordisabled"],onChange:r}),z.a.createElement(ko.Form.Dropdown,{name:"tooltip-errorshowtype",selection:!0,fluid:!0,search:!0,options:t,placeholder:"Default",label:this.getLocalValue("tooltiperrorshowtypefield","Error tooptip showing type"),value:n["tooltip-errorshowtype"],onChange:r}),z.a.createElement(ko.Form.Dropdown,{name:"tooltip-errorposition",selection:!0,fluid:!0,search:!0,options:e,placeholder:"Default",label:this.getLocalValue("errortooltippositionfield","Error tooptip position"),value:n["tooltip-errorposition"],onChange:r}))),o)}},{key:"getOtherDescription",value:function(){var e=this.props.data,r=this.props.parent.handleChange.bind(this.props.parent),t=this.state.defaultValuePreferInt?function(e,t){var n=t.name;(t=t.value)&&t.match&&t.match(/^-?\d+$/)&&(t=parseInt(t)),r(e,{name:n,value:t})}:r;return z.a.createElement(ko.Form,{key:"otherDescriptionForm"},z.a.createElement(ko.Form.Input,{name:"propertyName",label:this.getLocalValue("propertynamefield","Property Name"),value:e.propertyName,onChange:r}),z.a.createElement(ko.Form.Checkbox,{name:"other-required",label:this.getLocalValue("requiredfield","Required"),checked:e["other-required"],onChange:r}),z.a.createElement(ko.Form.Input,{name:"defaultValue",label:this.getLocalValue("defaultvaluefield","Default value"),value:e.defaultValue,onChange:t}),z.a.createElement(ko.Form.TextArea,{name:"other-customValidation",label:this.getLocalValue("customvalidationfield","Custom Validation"),placeholder:"/*** Example Code ***/\nvalue > 10 ? true : 'Must be more 10'",value:e["other-customValidation"],onChange:r}),z.a.createElement(ko.Form.TextArea,{name:"other-visibleConition",label:this.getLocalValue("visibleconditionfield","Visible condition"),placeholder:"/*** Example Code ***/\ndata.type == 1 ? true : false",value:e["other-visibleConition"],onChange:r}),z.a.createElement(ko.Form.TextArea,{name:"other-readOnlyConition",label:this.getLocalValue("readonlyconditionfield","ReadOnly condition"),placeholder:"/*** Example Code ***/\ndata.type == 1 ? true : false",value:e["other-readOnlyConition"],onChange:r}))}},{key:"render",value:function(){return z.a.createElement(ko.Modal,{dimmer:"inverted",open:this.props.open,onClose:this.props.onClose.bind(this.props.parent)},z.a.createElement(ko.Modal.Content,null,z.a.createElement(ko.Modal.Description,null,z.a.createElement(ko.Label,{className:"dwkit-formbuilder-editform-controltype"},this.props.data["data-buildertype"]),this.getDescription())),z.a.createElement(ko.Modal.Actions,null,z.a.createElement(ko.Button,{className:"buttontype1",onClick:this.props.onSave.bind(this.props.parent)},this.getLocalValue("savebutton","Save")),z.a.createElement(ko.Button,{className:"buttontype2",onClick:this.props.onClose.bind(this.props.parent)},this.getLocalValue("cancelbutton","Cancel"))))}},{key:"checkActionsList",value:function(e){for(var t=!1,n=0;n<this.props.actions.length;n++)if(this.props.actions[n]==e){t=!0;break}t||this.props.actions.push({text:e,value:e})}},{key:"handleAdditionActions",value:function(e,t){t=t.value,this.checkActionsList(t),this.forceUpdate()}}]),o}()}],w.c=C,w.d=function(e,t,n){w.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},w.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},w.t=function(t,e){if(1&e&&(t=w(t)),8&e)return t;if(4&e&&"object"==Fa(t)&&t&&t.__esModule)return t;var n=Object.create(null);if(w.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)w.d(n,r,function(e){return t[e]}.bind(null,r));return n},w.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return w.d(t,"a",t),t},w.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},w.p="",w(w.s=31);function w(e){if(C[e])return C[e].exports;var t=C[e]={i:e,l:!1,exports:{}};return O[e].call(t.exports,t,t.exports,w),t.l=!0,t.exports}var O,C},"object"==Fa(r)&&"object"==Fa(e)?e.exports=n(o(0),o(3),o(5),o(9),o(10),o(6),o(11),o(8),o(12),o(13),o(14),o(15),o(16),o(17),o(18),o(19),o(20),o(21),o(22)):(t=[o(0),o(3),o(5),o(9),o(10),o(6),o(11),o(8),o(12),o(13),o(14),o(15),o(16),o(17),o(18),o(19),o(20),o(21),o(22)],void 0===(n="function"==typeof n?n.apply(r,t):n)||(e.exports=n))}.call(this,o(34)(e))},function(e,t){e.exports=j},function(e,t){e.exports=R},function(e,t){e.exports=D},function(e,t){e.exports=T},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,n){"use strict";n.r(t),n.d(t,"Actions",function(){return N}),n.d(t,"API",function(){return pe}),n.d(t,"ApplicationRouter",function(){return qn}),n.d(t,"FlowContent",function(){return Ht}),n.d(t,"FormContent",function(){return Ut}),n.d(t,"WorkflowContent",function(){return $t}),n.d(t,"NotificationComponent",function(){return on}),n.d(t,"SignalRConnector",function(){return Jn}),n.d(t,"StateBindedForm",function(){return dn}),n.d(t,"Store",function(){return B}),n.d(t,"Thunks",function(){return dt}),n.d(t,"DWKitAppForm",function(){return qe});var r=n(23),i=n.n(r),o=n(4),N=Object(o.createActions)({UPDATESTATE:function(e){return{stateDelta:e}},APP:{USERINFO:{FETCH:{BEGIN:void 0,SUCCESS:function(e){return{user:e}},FAILURE:function(e,t){return{error:e,details:t}}}},CLEARERRORS:void 0,FAILURE:function(e,t,n){return{error:e,details:t,level:n}},FETCHBEGIN:void 0,RESETFETCHCOUNT:void 0,IMPERSONATEDUSERIDFROMURL:void 0,SETAUTH:function(e){return{type:e}},FORM:{MODEL:{FETCH:{BEGIN:void 0,SUCCESS:function(e,t,n,r,o){return{model:e,name:n,modalId:r,formParams:o,mapping:t}},FAILURE:function(e,t){return{error:e,details:t}}},CHANGE:function(e,t){return{name:e,modalId:t}}},DATA:{FETCH:{BEGIN:void 0,SUCCESS:function(e,t,n){return{data:e,isNew:n,modalId:t}},FAILURE:function(e,t){return{error:e,details:t}}},UPDATE:function(e,t,n,r){return{key:e,value:t,modalId:n,additionalValues:r}},SAVE:{BEGIN:void 0,SUCCESS:function(e,t,n){return{data:e,url:n,modalId:t}},FAILURE:function(e,t,n,r){return{error:e,details:t,level:n,formerrors:r}}},DELETE:{BEGIN:void 0,SUCCESS:function(e){return{name:e}},FAILURE:function(e,t,n,r){return{error:e,details:t,level:n,formerrors:r}}},UPDATEFROMCHILD:function(e,t,n){return{key:e,value:t,modalId:n}},UPDATEMODALFILTER:function(e,t){return{filter:e,modalId:t}},SETPROCESSPARAMETERS:function(e,t){return{modalId:e,parameters:t}}},CLEAR:function(e){return{modalId:e}},REFRESH:function(e){return{modalId:e}}}},ROUTER:{PUSH:function(e){return{newurl:e}},REDIRECT:function(e){return{newurl:e}},REFRESH:function(){return{newurl:"refresh"}},RELOAD:function(){return{newurl:"reload"}},ROUTECHANGED:function(e,t,n){return{history:e,location:t,changeRefreshKey:n}},CHANGEURLFILTER:function(e,t){return{newfilter:e,clearCommand:t}},SETSCREEN:function(e){return{screen:e}}},SETTINGS:{SET:function(e,t){return{key:e,value:t}}}}),a=n(24),l=n.n(a),s=n(7),t=n(25),r=n(26),a=n.n(r),c={app:{user:null,impersonatedUserId:null,fetchCount:0,error:void 0,errorDetails:void 0,modals:{models:{},windows:{},order:[]},form:{models:{model:null,mapping:null,hideControls:null,readOnlyControls:null,readOnly:null},filters:{main:null},data:{isDirty:!1,isNew:!1,original:null,modified:null},errors:null,formParams:{schemes:null,securityGroup:void 0,permissions:null,name:null}},authType:"identityserver",screens:[]},router:{history:null,redirect:null,location:null,push:null,refreshKey:null,screen:null},settings:{backendUrl:"",fetchOptions:void 0,form:"form",flow:"flow",workflow:"workflow",accountget:"/account/get",uiform:"/ui/form",uiflow:"/ui/flow",uiworkflow:"/ui/workflow",dataget:"/data/get",datachange:"/data/change",datadelete:"/data/delete",datadictionary:"/data/dictionary",dataupload:"/data/upload/",datadownload:"/data/download/",dataexport:"/data/export",workflowget:"/workflow/get",workflowexecute:"/workflow/execute",workflowset:"/workflow/set",notificationhub:"/hubs/notifications",executeaction:"/actions/execute",mobile:!1}};function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function p(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function f(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?p(Object(n),!0).forEach(function(e){d(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function h(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function V(r){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?h(Object(o),!0).forEach(function(e){var t,n=r;e=o[t=e],t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(o)):h(Object(o)).forEach(function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(o,e))})}return r}r={CLEAR:function(e,t){return t=t.payload.modalId,f(f({},e),{},t?{modals:f(f({},e.modals),{},{windows:f(f({},e.modals.windows),{},d({},t,f(f({},e.modals.windows[t]),{},{data:f(f({},e.modals.windows[t].data),{},{isDirty:!1,original:null,modified:null})})))})}:{form:f({},c.app.form)})},MODEL:{FETCH:{BEGIN:function(e){return f(f({},e),{},{fetchCount:e.fetchCount+1})},SUCCESS:function(e,t){var n=t.payload,r=n.model,o=n.name,i=n.formParams,t=n.mapping;return n.modalId?((n=f(f({},e),{},{fetchCount:e.fetchCount<=0?0:e.fetchCount-1})).modals.models[o]={model:r,mapping:t,formParams:i},n):f(f({},e),{},{fetchCount:e.fetchCount<=0?0:e.fetchCount-1,form:f(f({},e.form),{},{models:f(f({},e.form.models),{},{model:r,mapping:t}),formParams:i})})},FAILURE:function(e,t){var t=(n=t.payload).error,n=n.details;return f(f({},e),{},{fetchCount:e.fetchCount<=0?0:e.fetchCount-1,error:t,errorDetails:n})}},CHANGE:function(e,t){var n=t.payload,t=n.name;return(n=n.modalId)&&e.modals.windows[n]?f(f({},e),{},{modals:f(f({},e.modals),{},{windows:f(f({},e.modals.windows),{},d({},n,f(f({},e.modals.windows[n]),{},{name:t})))})}):e}},DATA:{FETCH:{BEGIN:function(e){return f(f({},e),{},{fetchCount:e.fetchCount+1})},SUCCESS:function(e,t){var n=(o=t.payload).data,r=o.modalId,t=o.isNew;(t=r&&e.modals.windows[r]&&(i=e.modals.windows[r].data)&&i.isNew?!0:t)&&(n.__id="CLIENT__"+Y());var o=$(n),i=(r?e.modals.windows[r]:e.form).data;if(ee(i.original,n),ee(i.modified,o),r)return f(f({},e),{},{fetchCount:e.fetchCount<=0?0:e.fetchCount-1,modals:f(f({},e.modals),{},{windows:f(f({},e.modals.windows),{},d({},r,f(f({},e.modals.windows[r]),{},{errors:null,data:f(f({},e.modals.windows[r].data),{},{isDirty:!1,isNew:!!t,original:n,modified:o})})))})});var a,l=f({},e.modals.windows);for(a in l)l.hasOwnProperty(a)&&(l[a]=f(f({},l[a]),{},{errors:null}));return f(f({},e),{},{fetchCount:e.fetchCount<=0?0:e.fetchCount-1,form:f(f({},e.form),{},{data:f(f({},e.form.data),{},{isDirty:!1,isNew:!!t,original:n,modified:o}),errors:null}),modals:f(f({},e.modals),{},{windows:l})})},FAILURE:function(e,t){var t=(n=t.payload).error,n=n.details;return f(f({},e),{},{fetchCount:e.fetchCount<=0?0:e.fetchCount-1,error:t,errorDetails:n})}},UPDATEFROMCHILD:function(e,t){function n(e,t){if(Array.isArray(e)){var n=function(e){if(Array.isArray(e))return u(e)}(o=e)||function(){if("undefined"!=typeof Symbol&&null!=o[Symbol.iterator]||null!=o["@@iterator"])return Array.from(o)}()||function(e){if(e){if("string"==typeof e)return u(e,void 0);var t=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(t="Object"===t&&e.constructor?e.constructor.name:t)||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?u(e,void 0):void 0}}(o)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),r=n.findIndex(function(e){return e.__id===t.__id});return 0<=r?n[r]=J(n[r],t):n.push(t),n}var o;return J(e,t)}var r=(a=t.payload).key,o=a.value,i=a.modalId,t=(i?e.modals.windows[i]:e.form).data,a=n(r?t.modified[r]:t.modified,o),t=n(r?t.original[r]:t.original,o);return i?(i=(o=f({},e)).modals.windows[i].data,r?(i.modified[r]=a,i.original[r]=t):(i.modified=a,i.original=t),o):f(f({},e),{},r?{form:f(f({},e.form),{},{data:f(f({},e.form.data),{},{modified:f(f({},e.form.data.modified),{},d({},r,a)),original:f(f({},e.form.data.original),{},d({},r,t))})})}:{form:f(f({},e.form),{},{data:f(f({},e.form.data),{},{modified:a,original:t})})})},UPDATEMODALFILTER:function(e,t){var t=(n=t.payload).filter,n=n.modalId;return f(f({},e),{},{modals:f(f({},e.modals),{},{windows:f(f({},e.modals.windows),{},d({},n,f(f({},e.modals.windows[n]),{},{data:f(f({},e.modals.windows[n].data),{},{filter:t})})))})})},SETPROCESSPARAMETERS:function(e,t){var n=(r=t.payload).parameters,t=r.modalId;if(n){var r,o=f({},(r=(t?e.modals.windows[t]:e.form).data).modified),i=f({},r.original);return Object.keys(o).filter(function(e){return e.startsWith("_wp")}).forEach(function(e){delete o[e]}),Object.keys(i).filter(function(e){return e.startsWith("_wp")}).forEach(function(e){delete i[e]}),Object.keys(n).forEach(function(e){o["_wp".concat(e)]=i["_wp".concat(e)]=n[e]}),f(f({},e),{},t?{modals:f(f({},e.modals),{},{windows:f(f({},e.modals.windows),{},d({},t,f(f({},e.modals.windows[t]),{},{data:f(f({},e.modals.windows[t].data),{},{modified:o,original:i})})))})}:{form:f(f({},e.form),{},{data:f(f({},e.form.data),{},{modified:o,original:i})})})}},UPDATE:function(e,t){var n,r=t.payload,o=r.key,i=r.value,a=r.modalId,l=r.additionalValues,s=null,s=o?((n={})[o]=i,l&&!Array.isArray(l)&&Object.keys(l).forEach(function(e){n["".concat(o,"_").concat(e)]=l[e]}),J((a?e.modals.windows[a]:e.form).data.modified,n)):i;return a?((t=f({},e)).modals.windows[a]||(t.modals.windows[a]={}),(r=t.modals.windows[a].data)?(i=t.modals.windows[a].data.original,H(s,i)?r.isDirty=!!r.isNew&&r.isDirty:r.isDirty=!0,r.modified=s,r.additionalValues[o]=l):((r=new{original:null,modified:s,isDirty:!0,isNew:!0,additionalValues:{}}).additionalValues[o]=l,t.modals.windows[a].data=r),t):s=H(s,e.form.data.original)?f(f({},e),{},{form:f(f({},e.form),{},{data:f(f({},e.form.data),{},{isDirty:!!e.form.data.isNew&&e.form.data.isDirty,modified:s}),errors:null})}):f(f({},e),{},{form:f(f({},e.form),{},{data:f(f({},e.form.data),{},{isDirty:!0,modified:s})})})},SAVE:{BEGIN:function(e){return f(f({},e),{},{fetchCount:e.fetchCount+1})},SUCCESS:function(e,t){var t=(n=t.payload).data,n=n.modalId,e=f(f({},e),{},{fetchCount:e.fetchCount<=0?0:e.fetchCount-1,form:f({},e.form)});return n?e.modals.windows[n]&&(e.modals.windows[n].errors=null,(n=e.modals.windows[n].data).isNew=!1,n.isDirty=!1,null!==t&&(ee(n.modified,t),n.modified=t),n.original=$(n.modified)):(e.form.errors=null,e.form.data.isNew=!1,e.form.data.isDirty=!1,null!==t&&(ee(e.form.data.modified,t),e.form.data.modified=t),e.form.data.original=e.form.data.modified,Object.values(e.modals.windows).forEach(function(e){(e=e.data).isNew=!1,e.isDirty=!1,e.original=$(e.modified)})),e},FAILURE:(r={failure:function(e,t){var n=(i=t.payload).error,r=i.details,o=i.level,i=(t=i.formerrors)?t.modalId:null;return f(f({},e),{},i?{fetchCount:e.fetchCount<=0?0:e.fetchCount-1,error:n,errorLevel:o,errorDetails:r,modals:f(f({},e.modals),{},{windows:f(f({},e.modals.windows),{},d({},i,f(f({},e.modals.windows[i]),{},{errors:t?t.errors:null})))})}:{fetchCount:e.fetchCount<=0?0:e.fetchCount-1,error:n,errorLevel:o,errorDetails:r,form:f(f({},e.form),{},{errors:t?t.errors:null})})}}).failure},DELETE:{BEGIN:function(e){return f(f({},e),{},{fetchCount:e.fetchCount+1})},SUCCESS:function(e,t){return t.payload,f(f({},e),{},{fetchCount:e.fetchCount<=0?0:e.fetchCount-1})},FAILURE:r.failure}}};var m=Object(o.handleActions)({APP:{USERINFO:{FETCH:{BEGIN:function(e){return V(V({},e),{},{fetchCount:e.fetchCount+1})},SUCCESS:function(e,t){return t=t.payload.user,V(V({},e),{},{user:t,fetchCount:e.fetchCount<=0?0:e.fetchCount-1})},FAILURE:function(e,t){var t=(n=t.payload).error,n=n.details;return V(V({},e),{},{error:t,errorDetails:n,fetchCount:e.fetchCount<=0?0:e.fetchCount-1})}}},CLEARERRORS:function(e){return V(V({},e),{},{error:void 0,errorLevel:void 0,errorDetails:void 0})},FAILURE:function(e,t){var n=(r=t.payload).error,t=r.details,r=r.level;return V(V({},e),{},{error:n,errorLevel:r,errorDetails:t,fetchCount:e.fetchCount<=0?0:e.fetchCount-1})},FETCHBEGIN:function(e){return V(V({},e),{},{fetchCount:e.fetchCount+1})},RESETFETCHCOUNT:function(e){return V(V({},e),{},{fetchCount:0})},FORM:r,IMPERSONATEDUSERIDFROMURL:function(e){return V(V({},e),{},{impersonatedUserId:dt.common.getParameterFormUrlOrCookie("impersonatedUserId")})},SETAUTH:function(e,t){return t=t.payload.type,V(V({},e),{},{authType:t})}}},c.app),y=Object(o.handleActions)({UPDATESTATE:function(e,t){if(!(t=t.payload.stateDelta)||q(t))return e;var n=J(e,t);return Object.keys(n.app.modals.windows).forEach(function(e){n.app.modals.windows[e]||delete n.app.modals.windows[e]}),n}},c),v=["copy"];function g(e){var t={urlFilter:null,type:null,name:null,options:null,command:null};return e?(e="string"==typeof e?e:e.pathname).includes("?")?b(e.split("?")[0],t):b(e,t):t}function b(e,t){var n=e.split("/");return 1<n.length&&(t.type=n[1]),2<n.length&&(t.name=n[2]),3<n.length&&(t.urlFilter=n[3]),5===n.length&&(e=n[4],v.includes(e)?t.command=e:t.options=e),5<n.length&&(t.command=n[4],t.options=n[5]),t}function w(e,t,n){return n=!(2<arguments.length&&void 0!==n)||n,3<(e=e.split("/")).length?e[3]=t:e.push(t),n&&4<e.length&&v.includes(e[4])&&(5===e.length?e.pop():e.slice(4,1)),e.join("/")}var I={filterFromLocation:function(e){return g(e).urlFilter},formFilterFromLocation:function(e){var t=B.getState(),e=(n=g(e)).type,n=n.urlFilter;return!e||e!==t.settings.form&&e!==t.settings.flow&&e!==t.settings.workflow?null:n},typeFromLocation:function(e){var t=g(e),e=t.type;return t.name,e},nameFromLocation:function(e,t){var e=(n=g(e)).type,n=n.name;return e&&e.toLowerCase()===t?n:null},changeFilter:function(e,t,n){var r=e.pathname;return r.includes("?")?(e=r.split("?"),"".concat(w(e[0],t,n),"?").concat(e[1])):w(r,t,n)},formDataFromLocation:function(e){var t=g(e),n=t.urlFilter,e=t.options;return t.type!==B.getState().settings.form?{urlFilter:null,options:null}:{urlFilter:n,options:e}},deconstructLocation:g,getParamValue:function(e,t){return!e||!e.search||e.search.length<2?null:new URLSearchParams(e.search.substring(1)).get(t)}},O=function(){return window.location},C=function(e){return window.location.href=e},k=function(e,t){var n;window.document&&((n=window.document.createElement("script")).src="data:text/javascript,"+encodeURIComponent(e),window.document.body.appendChild(n),t&&t())},E=function(e,t){var n=document.createElement("a"),t=new Blob([t],{type:"application/vnd.ms-excel"}),e=e.fileName||e.propertyName+".xlsx";n.setAttribute("href",window.URL.createObjectURL(t)),n.setAttribute("download",e),document.body.appendChild(n),n.onclick=function(){return window.document.body.removeChild(n)},n.click()},A=function(){return window.document&&window.document.cookie},S=function(e){window.document&&(window.document.cookie=e)};function _(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function x(r){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?_(Object(o),!0).forEach(function(e){var t,n=r;e=o[t=e],t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(o)):_(Object(o)).forEach(function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(o,e))})}return r}var P=Object(o.handleActions)({ROUTER:{ROUTECHANGED:function(e,t){var n=(r=t.payload).history,t=r.location,r=r.changeRefreshKey;return x(x({},e),{},{push:null,redirect:null,refresh:null,reload:null,history:n,location:t,refreshKey:r?Y():e.refreshKey})},PUSH:function(e,t){return t=t.payload.newurl,x(x({},e),{},{push:t,redirect:null,refresh:null,reload:null})},REDIRECT:function(e,t){return t=t.payload.newurl,x(x({},e),{},{redirect:t,push:null,refresh:null,reload:null})},REFRESH:function(e,t){return t=t.payload.newurl,x(x({},e),{},{refresh:t,reload:null,redirect:null,push:null})},RELOAD:function(e,t){return t=t.payload.newurl,x(x({},e),{},{reload:t,refresh:null,redirect:null,push:null})},CHANGEURLFILTER:function(e,t){var n=(r=t.payload).newfilter,t=r.clearCommand,r=O();return x(x({},e),{},{redirect:I.changeFilter(r,n,t),push:null,refresh:null,reload:null})},SETSCREEN:function(e,t){return t=t.payload.screen,x(x({},e),{},{screen:t})}}},c.router);function j(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function R(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?j(Object(n),!0).forEach(function(e){D(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):j(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function D(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var T=Object(o.handleActions)({SETTINGS:{SET:function(e,t){var t=(n=t.payload).key,n=n.value;return R(R({},e),{},D({},t,n))}}},c.settings),F={preFetchUser:function(){return Promise.resolve()},logoff:function(){var e=O();C(e.href)},onLogon:function(){}},L={cookie:F},U=function(e){return e=e.getState().app.authType,(e=L[e])||F},o=function(e,t){return L[e]=t},M=(Object(s.combineReducers)({"":y,app:m,router:P,settings:T}),Object(s.createStore)(function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=1<arguments.length?arguments[1]:void 0;return"UPDATESTATE"===t.type?y(e,t):{app:m(e.app,t,e),router:P(e.router,t,e),settings:T(e.settings,t,e)}},c,Object(t.composeWithDevTools)(Object(s.applyMiddleware)(a.a))));M.getState().app.addQueryParams=function(e){for(var t in M.additionalParams||(M.additionalParams={}),e)M.additionalParams[t]=e[t]},M.resetForm=function(e){var t=M.getState();t.app.form=c.app.form,e&&(t.app.modals.models={})},M.logoff=function(){U(M).logoff().then(function(){M.resetStateInStorage()}).catch(function(e){M.dispatch(N.app.failure("Logoff failed",e.message,1))})},M.login=function(n){U(M).onLogon().then(function(){M.dispatch(dt.userinfo.fetch(function(e){n&&n(e);var t=M.getState().settings.router;t&&t.userLoaded&&t.userLoaded(e)}))}).catch(function(e){M.dispatch(N.app.failure("Logon failed",e.message,1))})},M.encodeQueryData=function(e){var t,n=[],r=M.getState();for(t in r.app.impersonatedUserId&&n.push("impersonatedUserId="+encodeURIComponent(r.app.impersonatedUserId)),e)e.hasOwnProperty(t)&&n.push(encodeURIComponent(t)+"="+encodeURIComponent(e[t]));return n.join("&")},M.getAuthState=function(){var e=U(M);return null==e.getAuthState&&console.log("getAuthState is not implemented for this auth provider."),e.getAuthState()},M.setAuthState=function(e){var t=U(M);return null==t.setAuthState&&console.log("setAuthState is not implemented for this auth provider."),t.setAuthState(e)},M.loadStateFromStorage=function(){console.log("loadStateFromStorage is not implemented for this build.")},M.saveStateToStorage=function(){console.log("loadStateFromStorage is not implemented for this build.")},M.resetStateInStorage=function(){};var B=window.DWKitStore=M;function z(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function W(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?z(Object(n),!0).forEach(function(e){K(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):z(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function K(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function G(e){return(G="function"==typeof Symbol&&"symbol"==$n(Symbol.iterator)?function(e){return $n(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":$n(e)})(e)}var H=function(e,t){return JSON.stringify(e)===JSON.stringify(t)};function q(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return;return 1}function Q(e,t){return t}var J=function(e,t){return l()(e,t,{arrayMerge:Q})},Y=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)})},X=/^(\d{4})-(\d{2})-(\d{2})T(\d{2}):(\d{2}):(\d{2}(?:\.\d*)?)(Z|([+\-])(\d{2}):(\d{2}))$/;function Z(e,t){return"string"==typeof t&&X.test(t)?new Date(t):t}function $(e){var t,n,r=W({},e);for(t in r)Array.isArray(r[t])&&(n=[],e[t].forEach(function(e){"object"===G(e)?n.push(W({},e)):n.push(e)}),r[t]=n);return r}function ee(t,n){t&&Object.keys(t).filter(function(e){return e.startsWith("_wp")}).forEach(function(e){n[e]=t[e]})}function te(){return window.DWKitAdminLang}function ne(e,t){var n=t.model,r=t.data,o=t.mapping,i=t.hideControls,a=t.readOnlyControls,l=t.readOnly,s=t.filters,t=t.errors;return function t(n){return Object.keys(n).forEach(function(e){n[e]&&"object"===G(n[e])?t(n[e]):void 0===n[e]&&delete n[e]}),n}(e?{app:{modals:{models:K({},B.getState().app.modals.windows[e].name,{model:n,mapping:o}),windows:K({},e,{data:{modified:r},hideControls:i,readOnlyControls:a,readOnly:l,filters:s,errors:t})}}}:{app:{form:{data:{modified:r},models:{model:n,mapping:o,hideControls:i,readOnlyControls:a,readOnly:l},filters:s,errors:t}}})}function re(e,t,n,o,r,i){var a=new FormData;if(a.append("request",JSON.stringify(t)),e=(t=B.getState().settings).executeaction+"?"+B.encodeQueryData({name:e}),i&&(e+="&useServerCodeActionRequest=true"),t.mobile&&(e+="&mobile=true"),a=(a=dt.configuredFetch(e,{method:"post",body:a})).then(function(e){return e.json()}),n&&(a=a.then(function(e){var t=n(e);return void 0!==t?t:e})),r&&(a=a.then(function(e){if(null!=e){if(e.success){var t={},n=!1,r=e.result;return null==r?{}:(r.hasOwnProperty("data")&&(t.data=r.data,n=!0),r.hasOwnProperty("stateDelta")&&(t.stateDelta=r.stateDelta,n=!0),n||(t.stateDelta=r),o&&B.dispatch(actions.updatestate(t.stateDelta)),t)}if(!o)throw{level:1,message:e.message,details:e.details};B.dispatch(actions.app.failure(e.message,e.details,1))}return{}})),!o)return a}var oe,ie=n(2),t=n(5),ae=n.n(t),le=n(0),se=n.n(le),ce={getModelConrol:function(e,t){for(var n in e){var r=e[n];if(r.key==t)return r;if(r.children&&0<r.children.length&&null!=(n=ce.getModelConrol(r.children,t)))return n;if(r.placeholders)for(var o in r.placeholders)if(null!=(o=ce.getModelConrol(r.placeholders[o],t)))return o}},changeModelControl:function(e,t,n,r){return ce.changeModelControls(e,[{key:t,name:n,value:r}])},changeModelControls:function(e,t){var n,r=e.modalId?e.state.app.modals.windows[e.modalId].name:null,o=(e.modalId?e.state.app.modals.models[r]:e.state.app.form.models).model;for(n in o)!function e(t,n){for(var r=0;r<n.length;r++){var o=n[r];t.key==o.key&&(t[o.name]=o.value)}if(null!=t.children&&0<t.children.length)for(var i in t.children)e(t.children[i],n);if(null!=t.placeholders&&0<t.placeholders.length)for(var a in t.placeholders)e(t.placeholders[a],n)}(o[n],t);return ne(e.modalId,{model:o})},setDataField:function(e,t,n){B.dispatch(N.app.form.data.update(e,t,n))},rewriteControlModel:function(e,t,n){var r=B.getState(),o=n?r.app.modals.windows[n].name:null,r=(n?r.app.modals.models[o]:r.app.form.models).model,i=ce.getModelConrol(r,e),a=t(i);if(a!==i)for(var l in a)i[l]=a[l]},clearErrors:function(){B.dispatch(N.app.clearerrors())},forceUpdate:function(){B.dispatch(N.updatestate({}))},redirectToForm:function(e,t){ce.redirect("form",e,t)},redirectToFlow:function(e,t){ce.redirect("flow",e,t)},redirectToUrl:function(e){B.dispatch(N.router.push(e))},redirect:function(e,t,n){t="/"+e+"/"+t,null!=n&&(t+="/"+n),B.dispatch(N.router.push(t))},formValidate:function(e){return Te.validate(e)},createElement:function(e,t,n){return se.a.createElement(e,t,n)},checkRole:function(e){return De.checkRole(e,B.getState())},checkPermission:function(e,t){return De.checkPermission(e,B.getState(),t)},callUrl:function(e,t,n){var r=!(3<arguments.length&&void 0!==arguments[3])||arguments[3],t=dt.configuredFetch(e,t);return r&&(t=t.then(function(e){return e.json()})),n?t.then(function(e){return n(e)}):t},callServerCodeAction:function(e,t,n,r,o){return re(e,t,n,!1,r,o)},callServerCodeActionDispatch:function(e,t,n,r){re(e,t,n,!0,autoResultProcessing,useServerCodeActionRequest)},openModal:function(e,t,n){var r=n.type,o=n.viewType,i=n.sidebarWidth,a=n.sidebarFrom,l=n.onOpenFunc,s=n.onCloseFunc,c=n.callContext,u=n.closeOnOutsideClick,p=n.data,f=B.getState(),n=f.app.modals.order.length?f.app.modals.order[f.app.modals.order.length-1]:null;return Te.openModal({modalId:n,state:f,controlRef:void 0,parameters:{filter:t,name:e,type:r,viewType:o,sidebarSettings:{from:a,width:i},onOpenFunc:l,onCloseFunc:s,closeOnOutsideClick:u,data:p},callContext:c})},openModalDispatch:function(e,t,n){var r=n.type,o=n.viewType,i=n.sidebarWidth,a=n.sidebarFrom,l=n.onOpenFunc,s=n.onCloseFunc,c=n.callContext,u=n.closeOnOutsideClick,n=n.data;"function"==typeof(n=ce.openModal(e,t,{type:r,viewType:o,sidebarWidth:i,sidebarFrom:a,onOpenFunc:l,onCloseFunc:s,callContext:c,closeOnOutsideClick:u,data:n}))?n(B.dispatch).then(function(e){e&&e.stateDelta&&B.dispatch(N.updatestate(e.stateDelta))}):B.dispatch(N.updatestate(n))},executeActions:function(e){return dt.form.executeActions(e)},executeActionsDispatch:function(e){B.dispatch(dt.form.executeActions(e))},setCookie:function(e,t){dt.common.setCookie(e,t)},getCookie:function(e){return dt.common.getCookie(e)},getParameterFormUrlOrCookie:function(e){return dt.common.getParameterFormUrlOrCookie(e)},setAuth:function(e){B.dispatch(N.app.setauth(e))},loadBackendScript:function(e,t,n){return dt.configuredFetch(e,t).then(function(e){return e.text()}).then(function(e){k(e,n)}).catch(function(e){console.error(e)})},convertToState:ne,getWindowState:(oe=function(e,t){return getWindowState(e,t)},ue.toString=function(){return oe.toString()},ue),validate:function(e,t,n){n=n||B.getState(),e=e||(t?n.app.modals.models[n.app.modals.windows[t].name]:n.app.form).data.modified;for(var r=!0,o={},i=t?De.getControlsForValidate(n.app.modals.models[n.app.modals.windows[t].name].model):De.getControlsForValidate(n.app.form.models.model),a=0;a<i.length;a++){var l=i[a].propertyName||i[a].key,s=De.validate(i[a],e[l],e);s&&(o[l]=s,r=!1)}return r?null:o},loadImage:function(e,n){e=B.getState().settings.datadownload+e,ce.callUrl(e,void 0,void 0,!1).then(function(e){return e.blob()}).then(function(e){var t;0==e.size?n(void 0):((t=new FileReader).onload=function(){n(this.result)},t.readAsDataURL(e))})}};function ue(e,t){return oe.apply(this,arguments)}var pe=ce;function fe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var de=function(e,t,n,r,o,i,a,l,s,c,u,p,f,d){null===r&&(r=void 0);var h,V="form"===l,m="flow"===l,y="workflow"===l,v=V?t.app.modals.models[n]:null,g=function(e){if(Array.isArray(e))return fe(e)}(h=t.app.modals.order)||function(){if("undefined"!=typeof Symbol&&null!=h[Symbol.iterator]||null!=h["@@iterator"])return Array.from(h)}()||function(e){if(e){if("string"==typeof e)return fe(e,void 0);var t=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(t="Object"===t&&e.constructor?e.constructor.name:t)||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?fe(e,void 0):void 0}}(h)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),b=n+"_"+g.length;g.push(b);var w={};return w[b]={id:b,parentId:e,data:{isDirty:!1,isNew:i,original:r,modified:r,additionalValues:{},filter:o,property:a},errors:null,name:V?n:null,type:l,viewType:s,sidebarSettings:c,onOpenFunc:u,onCloseFunc:p,preventLoad:void 0!==r,flowName:m?n:void 0,schemeName:y?n:void 0,keyIndex:0,callContext:f,closeOnOutsideClick:d},V?!v&&V?function(e){return dt.form.fetchform(n,b)(e).then(function(){return w[b].onOpenFunc&&!w[b].onOpenFunc(b,w[b],t)?{}:ie.Promise.resolve({stateDelta:{app:{modals:{windows:w,order:g}}}})})}:{app:{modals:{windows:w,order:g}}}:y?function(e){return dt.form.fetchworkflow(n,o,w[b],i&&!!o)(e).then(function(){return w[b].onOpenFunc&&!w[b].onOpenFunc(b,w[b],t)?{}:ie.Promise.resolve({stateDelta:{app:{modals:{windows:w,order:g}}}})})}:function(e){return dt.form.fetchflow(n,o,w[b],i&&!!o)(e).then(function(){return w[b].onOpenFunc&&!w[b].onOpenFunc(b,w[b],t)?{}:ie.Promise.resolve({stateDelta:{app:{modals:{windows:w,order:g}}}})})}};function he(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}var Ve={edit:function(e){var t=e.state,n=e.controlRef,r=e.parameters,e=e.modalId;return Ve.operation({state:t,controlRef:n,parameters:r,modalId:e,op:"edit"})},create:function(e){var t=e.state,n=e.controlRef,r=e.parameters,e=e.modalId;return Ve.operation({state:t,controlRef:n,parameters:r,modalId:e,op:"create"})},copy:function(e){var t=e.state,n=e.controlRef,r=e.parameters,e=e.modalId;return Ve.operation({state:t,controlRef:n,parameters:r,modalId:e,op:"copy"})},operation:function(e){var t=e.state,n=e.controlRef,r=e.parameters,o=e.modalId,i=e.op,a=n.props,l="copy"===i,s="create"===i,c=void 0!==n.props.editType||"form"===n.props.editType,u=a.editForm;"flow"===n.props.editType?u=a.editFlow:"workflow"===n.props.editType&&(u=a.editWorkflow);var p,f=null;return(e=Ve.getSelectedRow({parameters:r,controlRef:n}))||s?(i=n.props.name,a=n.props.propertyName&&""!=n.props.propertyName?n.props.propertyName:i,p=!s&&e.__loaded&&c?(c=t.app.modals.models[u],a=(o?t.app.modals.model[t.app.modals.windows[o].name]:t.app.form.models).mapping.toData[a],c=c.mapping.toForm,f=Ve.mapRow(Ve.mapRow(e,a),c),l&&(f.__id="CLIENT_"+Y()),f.__id):s?null:e.__id,s&&((f=function(r){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?he(Object(o),!0).forEach(function(e){var t,n=r;e=o[t=e],t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(o)):he(Object(o)).forEach(function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(o,e))})}return r}({},r)).__id||(f.__id="CLIENT_"+Y())),de(o,t,u,f,p,l||s,i,n.props.editType||"form",n.props.editFormShowType,{from:n.props.sidebarDirection,width:r.sidebarWidth},void 0,function(e){var t=B.getState();B.dispatch(dt.form.executeActions({actions:["modalClosed"],controlRef:n,formName:t.app.modals.windows[e.modalId].name,modalId:o,parameters:e})),null!=n&&null!=n.props.handleEvent&&n.props.handleEvent({key:n.props.name,eventName:"onModalClosed",parameters:e})})):{}},mapRow:function(e,n,r){var t,o={};for(t in e)!function(t){t.startsWith("__")&&(o[t]=e[t]),n&&n[t]&&(o[n[t]]=e[t],r&&r[t]&&Object.keys(r[t]).forEach(function(e){o["".concat(n[t],"_").concat(e)]=r[t][e]}))}(t);return o},getSelectedRow:function(e){var t=e.parameters,n=e.controlRef,r=-1;if("object"===G(e=t.rowIdx)&&null===e||void 0===e?0<n.state.selectedIndexes.length&&(r=n.state.selectedIndexes[0]):r=t.rowIdx,!(r<0))return n.state.items[r]}},me=Ve;function ye(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var ve=(ye(be.prototype,[{key:"register",value:function(e,t){if(ve.map[e])throw new Error("Component "+e+" already registered!");ve.map[e]=t}},{key:"draw",value:function(e,t){var n=ve.map[e];if(!n)throw new Error("Cannot find draw function for ".concat(e,", ").concat(t));return n(t)}}]),new be),s=ve.register,ge=ve.draw;function be(){var e;!function(e){if(!(e instanceof be))throw new TypeError("Cannot call a class as a function")}(this),e={},"map"in this?Object.defineProperty(this,"map",{value:e,enumerable:!0,configurable:!0,writable:!0}):this.map=e}function we(e,t,n){return ge("alert",{message:e,type:t,props:n})}function Oe(e,t){return we(e,"error",t)}function Ce(e,t){return we(e,"success",t)}var a=n(27),ke=n.n(a);function Ee(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ae(e){return(Ae="function"==typeof Symbol&&"symbol"==$n(Symbol.iterator)?function(e){return $n(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":$n(e)})(e)}function Se(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function _e(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Se(Object(n),!0).forEach(function(e){xe(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Se(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function xe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Pe(e,r){var o=e.key,t=e.actions,i=e.controlRef,a=e.sourceControlRef,l=e.sourceControlValue,s=e.parameters,c=e.component,u=e.formName,p=e.schemeName,f=e.modalId,n=e.callContext;function d(e){return f?e.app.modals.windows[f]:e.app.form}if(!t||t.length<1)return ie.Promise.resolve();var h,e=null==u?"":u.toLowerCase(),V=window.globalUserActions,m=window.DWKitApp.ActionHandlers?window.DWKitApp.ActionHandlers[e]:void 0,y=B.getState(),v=_e({},y),g=null===(e=d(v)).data.modified?null:_e({},e.data.modified),b=null===e.data.original?null:_e({},e.data.original),w=null,O={},C=n||{};for(h in t)!function(){var n=t[h];w=w?w.then(function(e){var t=e.data;return(e=e.stateDelta)&&(O=J(O,e),v=J(v,e)),je(o,n,V,m,i,a,l,s,t,b,v,c,u,p,f,r,C)}):je(o,n,V,m,i,a,l,s,g,b,v,c,u,p,f,r,C)}();return w.then(function(e){var t=e.data,n=e.stateDelta;n&&(O=J(O,n)),e=d(y),f?H(e.data.modified,t)||((n={app:{modals:{windows:xe({},f,{})}}}).app.modals.windows[f].data={modified:t},O=J(O,n)):H(e.data.modified,t)||(O=J(O,{app:{form:{data:{modified:t}}}})),q(O)||r(N.updatestate(O))})}function je(e,t,n,r,o,i,a,l,s,c,u,p,f,d,h,V,m){function y(e){return{data:e&&e.data?e.data:s,stateDelta:e&&e.stateDelta?e.stateDelta:null}}var v=null;if(!(v=(v=!(v=r?r[t]:v)&&n?n[t]:v)||Te[t]))return pe.callServerCodeAction(t,{data:s,parameters:l,formName:f,modalId:h},void 0,!0,!0).then(y);t=null;try{t=v({key:e,data:s,originalData:c,state:u,component:p,formName:f,schemeName:d,controlRef:o,sourceControlRef:i,sourceControlValue:a,parameters:l,modalId:h,callContext:m})}catch(e){return ie.Promise.reject(e)}return t&&t.then instanceof Function?t.then(y):t instanceof Function?t(V).then(function(e){return ie.Promise.resolve({data:e&&e.data?e.data:s,stateDelta:e&&e.stateDelta?e.stateDelta:null})}):ie.Promise.resolve({data:s,stateDelta:t})}var Re=n(8),De={getControlsForValidate:function(e){var r=[];return e.forEach(function(e){var t;if((!0===e["other-required"]||void 0!==e["other-customValidation"]&&""!==e["other-customValidation"])&&r.push(e),void 0!==e.children&&0<e.children.length&&(t=De.getControlsForValidate(e.children),r=r.concat(t)),void 0!==e.placeholders)if("collectioneditor"===e["data-buildertype"])r.push(e);else for(var n in e.placeholders)n=De.getControlsForValidate(e.placeholders[n]),r=r.concat(n);"customblock"===e["data-buildertype"]&&"source"===e.sourceType&&null!=e.source&&(t=ae.a.parse(e.source),t=De.getControlsForValidate(t),r=r.concat(t))}),r},validate:function(e,t,n){var r=void 0;if(!0===e["other-required"]&&(null==t||""===t||"collectioneditor"===e["data-buildertype"]&&Array.isArray(t)&&0===t.length))r="This field is required!";else if(void 0!==e["other-customValidation"]&&""!==e["other-customValidation"]){var o="return "+e["other-customValidation"];"boolean"==typeof(n=new Function("value, data",o)(t,n))?!1===n&&(r=!0):r=n}else if("collectioneditor"===e["data-buildertype"]&&Array.isArray(t)&&0<t.length&&Array.isArray(e.columns)){var i,a=[],l=!1;for(i in t){var s=t[i];if(null!=s&&null!=s){var c,u={__id:s.__id},p=!1;for(c in e.columns){var f,d=e.columns[c];"custom"==d.control&&e.placeholders&&(f=e.placeholders[d.key],Array.isArray(f)&&0<f.length&&(f=De.validate(f[0],s[d.key],s))&&(p=!0,u[d.key]=f))}p&&(l=!0,a.push(u))}}l&&(r=a)}return r},initDefaultState:function(e,t){if(Array.isArray(e)&&void 0!==t)for(var n,r=0;r<e.length;r++){if(void 0!==e[r].defaultValue&&""!==e[r].defaultValue&&(t[e[r].propertyName||e[r].key]=e[r].defaultValue),Array.isArray(e[r].children)&&De.initDefaultState(e[r].children,t),void 0!==e[r].placeholders)for(var o in e[r].placeholders)De.initDefaultState(e[r].placeholders[o],t);"customblock"===e[r]["data-buildertype"]&&"source"===e[r].sourceType&&null!=e[r].source&&(n=ae.a.parse(e[r].source),De.initDefaultState(n,t))}},initDefaultStateFormUrl:function(e){void 0===e&&(e={});var t,t=!window.location||!window.location.href.href||null==(t=new RegExp("[?&]defaultvalues=([^&#]*)").exec(window.location.href))?null:decodeURI(t[1])||0;if(t){var n=void 0;try{n=ae.a.parse(t)}catch(e){}if(n&&"object"===Ae(n))for(var r in n)void 0!==n[r]&&(e[r]=n[r])}return e},checkPermission:function(e,t,n){var r=(n?t.app.modals.models[t.app.modals.windows[n].name]:t.app.form).formParams.permissions;if(Array.isArray(r))for(var o=0;o<r.length;o++)if(r[o].code===e)return 1===r[o].accessType||0===r[o].accessType;return!1},checkRole:function(e,t){return void 0!==t.app.user&&void 0!==t.app.user.roles&&t.app.user.roles.includes(e)},checkConditions:function(e){var t=e.model,n=e.data,r=e.state,o=e.modalId,i={hideControls:[],readOnlyControls:[]};if(null===t||null===n)return i;for(var a=0;a<t.length;a++){var l,s=t[a]["other-visibleConition"];if(void 0!==s&&""!==s&&(new Function("data, checkPermission, checkRole","return "+s)(n,function(e){return De.checkPermission(e,r,o)},function(e){return De.checkRole(e,r)})||i.hideControls.push(t[a].key)),void 0!==(s=t[a]["other-readOnlyConition"])&&""!==s&&new Function("data, checkPermission, checkRole","return "+s)(n,function(e){return De.checkPermission(e,r,o)},function(e){return De.checkRole(e,r)})&&i.readOnlyControls.push(t[a].key),Array.isArray(t[a].children)&&(l=De.checkConditions({model:t[a].children,data:n,state:r,modalId:o}),i={hideControls:i.hideControls.concat(l.hideControls),readOnlyControls:i.readOnlyControls.concat(l.readOnlyControls)}),void 0!==t[a].placeholders)for(var c in t[a].placeholders)c=De.checkConditions({model:t[a].placeholders[c],data:n,state:r,modalId:o}),i={hideControls:i.hideControls.concat(c.hideControls),readOnlyControls:i.readOnlyControls.concat(c.readOnlyControls)};"customblock"===t[a]["data-buildertype"]&&"source"===t[a].sourceType&&null!=t[a].source&&(l=ae.a.parse(t[a].source),l=De.checkConditions({model:l,data:n,state:r,modalId:o}),i={hideControls:i.hideControls.concat(l.hideControls),readOnlyControls:i.readOnlyControls.concat(l.readOnlyControls)})}return i}},Te={initSystem:function(e){var t=e.state,n=e.data,r=e.modalId,o=(r?t.app.modals.models[t.app.modals.windows[r].name]:t.app.form.models).model,i=(r?t.app.modals.models[t.app.modals.windows[r].name]:t.app.form).formParams,a=null;if(i&&i.securityGroup){var l=i.permissions;if(Array.isArray(l))for(var a=!0,s=0;s<l.length;s++)if("Edit"===l[s].code){1==l[s].accessType&&(a=!1);break}}return(r?t.app.modals.windows[r]:t.app.form).data.isNew?(De.initDefaultState(o,e=n),De.initDefaultStateFormUrl(e),i=De.checkConditions({model:o,data:e,state:t,modalId:r}),r?{app:{modals:{windows:xe({},r,{data:{original:e,modified:e},hideControls:i.hideControls,readOnlyControls:i.readOnlyControls,readOnly:a})}}}:{app:{form:{data:{original:e,modified:e},models:{hideControls:i.hideControls,readOnlyControls:i.readOnlyControls,readOnly:a}}}}):(t=De.checkConditions({model:o,data:n,state:t,modalId:r}),r?{app:{modals:{windows:xe({},r,{hideControls:t.hideControls,readOnlyControls:t.readOnlyControls,readOnly:a})}}}:{app:{form:{models:{hideControls:t.hideControls,readOnlyControls:t.readOnlyControls,readOnly:a}}}})},init:function(e){},dataReceived:function(e){},modalClosed:function(e){},checkConditions:function(e){var t=e.data,n=e.state,r=e.modalId,e=(r?n.app.modals.models[n.app.modals.windows[r].name]:n.app.form.models).model,n=De.checkConditions({model:e,data:t,state:n,modalId:r});return r?{app:{modals:{windows:xe({},r,{hideControls:n.hideControls,readOnlyControls:n.readOnlyControls})}}}:{app:{form:{models:{hideControls:n.hideControls,readOnlyControls:n.readOnlyControls}}}}},workflowExecuteCommand:function(e){var o=e.formName,i=e.state,s=e.parameters,c=e.modalId,u=e.callContext,p=e.schemeName,f=e.data,d=u.commandFormResult&&u.commandFormResult.commandParams?u.commandFormResult.commandParams:null;return function(a){a(N.app.form.data.fetch.begin());var n=c?i.app.modals.windows[c]:i.app.form,l=(null!=s.row&&null!=s.row.__id?s.row:f).__id;l||(e=O(),l=c?n.data.filter:I.filterFromLocation(e));var r,t,e={command:s.command.value,name:o,id:l};return p&&(e.schemeName=p),d&&(r={},t=u.commandFormResult.model,Object.keys(d).forEach(function(e){pe.getModelConrol(t,e)&&(r[e]=d[e])}),Object.keys(n.data.modified).filter(function(e){return e.startsWith("_wp")}).forEach(function(e){var t=e.substring(3);r[t]||Re(n.data.modified[e],n.data.original[e])||(r[t]=n.data.modified[e])}),Object.keys(r).length&&(e.data=JSON.stringify(r))),dt.configuredFetch(B.getState().settings.workflowexecute+"?"+B.encodeQueryData(e),{method:"post"}).then(function(e){return e.json()}).then(function(e){if(e.success){var t="The command execution has been completed!";if(void 0!==te()&&(t=te().msg.commandexecutioncompleted),a(N.app.resetfetchcount()),Ce(t),p){var n=e.item,r=(n&&n.entity,n?n.entityId:null),o=null!=r,i={};return o&&r!=l&&o&&(t={},c?t.app={modals:{windows:xe({},c,{data:{filter:o?r:void 0}})}}:(n=O(),t.router={push:o?I.changeFilter(n,r):void 0}),i.stateDelta=t),ie.Promise.resolve(i)}}else a(N.app.form.data.save.failure(e.message,e.details))}).catch(function(e){a(N.app.form.data.save.failure(e.message,e.stack))})}},workflowSetState:function(e){var i=e.formName,a=e.state,l=(e.controlRef,e.parameters),s=e.modalId,c=e.schemeName;return function(n){n(N.app.form.data.fetch.begin());var e,r=s?a.app.modals.windows[s]:a.app.form,t=(null!=l.row&&null!=l.row.__id?l.row:r.data.modified).__id;t||(e=O(),t=s?r.data.filter:I.filterFromLocation(e)),t={state:l.state.value,name:i,id:t},c&&(t.schemeName=c);var o={};return Object.keys(r.data.modified).filter(function(e){return e.startsWith("_wp")}).forEach(function(e){var t=e.substring(3);Re(r.data.modified[e],r.data.original[e])||(o[t]=r.data.modified[e])}),Object.keys(o).length&&(t.data=JSON.stringify(o)),dt.configuredFetch(B.getState().settings.workflowset+"?"+B.encodeQueryData(t),{method:"post"}).then(function(e){return e.json()}).then(function(e){var t;e.success?(n(N.app.resetfetchcount()),t="The new state was set!",Ce(t=void 0!==te()?te().msg.newstateset:t)):n(N.app.form.data.save.failure(e.message,e.details))}).catch(function(e){n(N.app.form.data.save.failure(e.message,e.stack))})}},workflowSelectScheme:function(e){var t=e.modalId,e=e.parameters.scheme;return t?{app:{modals:{windows:xe({},t,{data:{modified:{__wf_selectedscheme:e}}})}}}:{app:{form:{data:{modified:{__wf_selectedscheme:e}}}}}},save:function(e){var t=e.formName,n=e.modalId,r=e.state,o=e.data,e=e.schemeName;return dt.form.savedata({formName:t,modalId:n,state:r,data:o,schemeName:e})},delete:function(e){var t=e.formName,n=e.data,e=e.schemeName;return dt.common.deleteByIds(t,null,n.__id,void 0,e)},exit:function(e){var t,n=e.state,r=e.modalId,e=e.parameters;if(n.settings.mobile)return{router:{push:"/"}};if(r){var o=_e({},n.app.modals.windows);if(null!=o[r]&&null!=o[r].onCloseFunc){var i=o[r].onCloseFunc({modalId:r,modal:o[r],state:n});if(0==i)return{};if("object"===Ae(i))return i}return(i=function(e){if(Array.isArray(e))return Ee(e)}(t=n.app.modals.order)||function(){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}()||function(e){if(e){if("string"==typeof e)return Ee(e,void 0);var t=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(t="Object"===t&&e.constructor?e.constructor.name:t)||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?Ee(e,void 0):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).pop(),o[r]=null,{app:{modals:{windows:o,order:i}}}}return o="/",(i=null==(r=new RegExp("[?&]backurl=([^&#]*)").exec(window.location.href))?null:decodeURI(r[1])||0)?o=i:e&&e.target&&(o=e.target),{router:{push:o}}},confirm:function(e){function t(e,t,n){var r=window.DWKitLang;return(e&&r&&r.msg&&r.msg[e]?r.msg[e]:e)||(te()&&te().confirm[t]?te().confirm[t]:n)}var n={title:t((e=e.parameters).confirmTitle,"title","Confirm"),text:t(e.confirmText,"text","Please confirm the action"),ok:t(e.confirmOk,"ok","Ok"),cancel:t(e.confirmCancel,"cancel","Cancel")};return function(e){return ge("confirm",{messages:n})}},apply:function(e){var t=e.state,n=e.modalId;if(!n)return{};var r=t.app.modals.windows[n],o=r.data;if(!o||!o.isDirty&&!o.isNew)return{};var i=null,a=null,e=null;e=(n=!!r.parentId)?(a=(c=t.app.modals.windows[r.parentId]).name,i=c.data,t.app.modals.models[a].model):(i=t.app.form.data,t.app.form.models.model);var l=o.modified,s=o.additionalValues,c=o.property,u=c;function p(e,t){t=me.mapRow(me.mapRow(t,f,s),d);var n=e.findIndex(function(e){return e.__id===t.__id});0<=n?(e[n]=J(e[n],t),e[n].__loaded=!0):(t.__loaded=!0,e.push(t))}!u||(o=pe.getModelConrol(e,c))&&o.propertyName&&""!=o.propertyName&&(u=o.propertyName);var f=t.app.modals.models[r.name].mapping.toData,d=(n?t.app.modals.models[a]:t.app.form.models).mapping.toForm[u],h=null;if(!u)throw Error("apply action: propertyName is not defined");if("gridview"===(e=pe.getModelConrol(e,c))["data-buildertype"]&&"server"===e.pagerType)throw Error("Can't apply to gridview with server paging! Use a custom CodeActions for changing data in DB.");if(c=Array.isArray(l),e=i.modified[u],i=Array.isArray(e),!c&&i)p(h=e,l);else if(c&&i)for(var h=e,V=0;l.length,V++;)p(h,l[V]);else{if(c&&!i)throw Error("apply action: source data are array but target data is not array, can not merge");c||i||(h=J(e,l))}return function(e){return dt.form.updateData(u,h,r.parentId)(e)}},redirect:function(e){if(e.state,void 0!==(e=e.parameters)&&void 0!==e.target)return e.target.includes("http://")||e.target.includes("https://")?void C(e.target):{app:{modals:c.app.modals},router:{redirect:null,push:e.target}};console.error("For call 'redirect' action you need to set the 'target' parameter!")},refresh:function(e){var t=e.state;return(e=e.modalId)?{app:{modals:{windows:xe({},e,{keyIndex:t.app.modals.windows[e].keyIndex+1})}}}:{router:{refresh:"refresh"}}},reload:function(){return{router:{reload:"reload"}}},loadRecord:function(e){var t=e.parameters;return null!=t.urlFilter?function(e){return e(N.router.changeurlfilter(t.urlFilter)),ie.Promise.resolve()}:t.row&&t.row.__id?function(e){return e(N.router.changeurlfilter(t.row.__id)),ie.Promise.resolve()}:(null!=console&&console.log("This action uses parameters.row.__id or parameters.urlFilter. Fill one of them."),{})},validate:function(e){for(var t=e.data,n=(e.originalData,e.state),r=(e.component,e.controlRef,e.eventArgs,e.modalId),o=(e.callContext,!0),i={},a=r?De.getControlsForValidate(n.app.modals.models[n.app.modals.windows[r].name].model):De.getControlsForValidate(n.app.form.models.model),l=0;l<a.length;l++){var s=a[l].propertyName||a[l].key,c=De.validate(a[l],t[s],t);c&&(i[s]=c,o=!1)}if(o)return ne(r,{errors:null});throw n="Check errors on the form!",{level:1,message:n=void 0!==te()?te().msg.checkerrorsonform:n,formerrors:{modalId:r,errors:o?null:i}}},createElement:function(e){var t=e.data,n=(e.model,e.controlRef),r=(e.state,e.parameters),o=e.modelId;if(void 0===r)return{};if(!n)throw{level:1,message:"Fill targets for the createElement event!"};if(n.isServerMode&&n.isServerMode())throw{level:1,message:"The createElement event does not work in Server pagination!"};var i=n.props.propertyName&&""!==n.props.propertyName?n.props.propertyName:n.props.name,e=t[i];Array.isArray(e)||(e=t[i]=[]);var a=n.props.columns;if(Array.isArray(a)){var l,s={__id:"CLIENT_"+Y()};for(l in r){for(var c=!1,u=0;u<a.length;u++)if(a[u].key.toLowerCase()===l.toLowerCase()){s[a[u].key]=r[l],c=!0;break}!1===c&&(s[l]=r[l])}e.push(s)}else(n=_e({},r)).__id||(n.__id="CLIENT_"+Y()),e.push(n);return ne(o,{data:t})},deleteElement:function(e){var t=e.data,n=(e.model,e.controlRef),r=(e.state,e.parameters),o=e.modelId;if(void 0===r)return{};if(!n)throw{level:1,message:"Fill targets for the createElement event!"};return n=t[e=n.props.propertyName&&""!==n.props.propertyName?n.props.propertyName:n.props.name],r=r.index,Array.isArray(n)&&(n=t[e]).length>r&&n.splice(r,1),ne(o,{data:t})},setFilter:function(e){var t=e.key,n=(e.data,e.originalData,e.state),r=(e.component,e.controlRef,e.eventArgs,e.parameters),o=e.sourceControlRef,i=e.sourceControlValue,a=e.modalId,e=t;return void 0!==(n=(t=a?n.app.modals.windows[a]&&n.app.modals.windows[a].filters&&n.app.modals.windows[a].filters.hasOwnProperty(e)?n.app.modals.windows[a].filters[e]:[]:null!==n.app.form.filters.main&&n.app.form.filters.main.hasOwnProperty(e)?n.app.form.filters.main[e]:[]).find(function(e){return e.__controlName===o.props.name}))?n.nextValue=null!=i&&""!==i?i:null:null!=i&&""!==i&&((n={}).column=void 0===r.column?o.props.name:r.column.split(",").map(function(e){return e.trim()}).join(","),n.term=void 0===r.term?"like":r.term,n.nextValue=i,n.value=null,n.__controlName=o.props.name,t.push(n)),a?{app:{modals:{windows:xe({},a,{filters:xe({},e,t)})}}}:{app:{form:{filters:{main:xe({},e,t)}}}}},applyFilter:function(e){var t=e.key,n=(e.data,e.originalData,e.state),r=(e.component,e.controlRef,e.eventArgs,e.parameters,e.sourceControlRef,e.sourceControlValue,e.modalId),e=null,t=t;return r?n.app.modals.windows[r]&&n.app.modals.windows[r].filters&&n.app.modals.windows[r].filters.hasOwnProperty(t)&&(e=n.app.modals.windows[r].filters[t]):null!==n.app.form.filters.main&&n.app.form.filters.main.hasOwnProperty(t)&&(e=n.app.form.filters.main[t]),null===e?{}:((e=e.filter(function(e){return null!==e.nextValue})).forEach(function(e){return e.value=e.nextValue}),r?{app:{modals:{windows:xe({},r,{filters:xe({},t,e)})}}}:{app:{form:{filters:{main:xe({},t,e)}}}})},openModal:function(e){var t=e.modalId,n=e.controlRef,r=e.state,o=e.parameters,e=e.callContext;return de(t,r,o.name,o.data,o.filter,!o.filter||o.isCopy,n?n.props.name:null,o.type||"form",o.viewType||"modal",o.sidebarSettings,o.onOpenFunc,o.onCloseFunc,e,o.closeOnOutsideClick)},copy:function(e){var t=e.state,n=e.modalId,e=e.data;if((n?t.app.modals.windows[n]:t.app.form).data.isNew)throw Error("Can't copy new unsaved object");return e=e.__id,n?{app:{modals:{windows:xe({},n,{data:{isNew:!0,filter:e}})}}}:(t=I.deconstructLocation(t.router.location),{router:{push:"/".concat(t.type,"/").concat(t.name,"/").concat(e,"/copy")}})},workflowShowCommandForm:function(e){var t=e.state,n=e.parameters,r=e.callContext,o=e.data;if(t.settings.mobile)return{};if(n.command.form&&n.command.form.name){var i=null;return!o||(t=Object.keys(o).filter(function(e){return e.startsWith("_wp")})).length&&(i={},t.forEach(function(e){i[e.substring(3)]=o[e]})),new ie.Promise(function(e,t){pe.openModalDispatch(n.command.form.name,null,{onCloseFunc:function(){r.commandFormResult||t(),(r.commandFormResult&&r.commandFormResult.cancel?t:e)()},callContext:r,closeOnOutsideClick:!0,data:i})})}return{}},workflowContinueExecution:function(e){var t=e.state,n=e.modalId,r=e.data,o=e.callContext,e=(n?t.app.modals.models[t.app.modals.windows[n].name]:t.app.form.models).model;return o.commandFormResult={commandParams:r,model:e},Te.exit({state:t,modalId:n})},workflowCancelExecution:function(e){var t=e.state,n=e.modalId;return e.callContext.commandFormResult={cancel:!0},Te.exit({state:t,modalId:n})},gridCreate:function(e){var t=e.state,n=e.controlRef,r=e.parameters,e=e.modalId;return n.isEditFormModal()||n.isEditFormSidebar()?me.create({state:t,controlRef:n,parameters:r,modalId:e}):"flow"!==(n=n.props).editType?"workflow"!==n.editType?{router:{push:"/form/"+n.editForm+"/"}}:{router:{push:"/workflow/"+n.editWorkflow+"/"}}:{router:{push:"/flow/"+n.editFlow+"/"}}},gridRefresh:function(e){return e.controlRef.refresh(),{}},gridCopy:function(e){var t=e.state,n=e.controlRef,r=e.parameters,e=e.modalId;return n.isEditFormModal()||n.isEditFormSidebar()?me.copy({state:t,controlRef:n,parameters:r,modalId:e}):(!(e=n.props).editFormShowType||"Default"===e.editFormShowType)&&(n=(n=me.getSelectedRow({parameters:r,controlRef:n}))?n.__id:void 0)?"flow"!==e.editType?{router:{push:"/form/"+e.editForm+"/"+n+"/copy"}}:{router:{push:"/flow/"+e.editFlow+"/"+n+"/copy"}}:{}},gridDelete:function(e){var t=e.state,n=e.controlRef,r=e.formName,o=e.modalId,i=n.props.propertyName||n.props.name;if(n.isServerMode()){var a=n.getSeletedRowKeys();if(0!==a.length)return a=a.filter(function(e){return null!=e&&!e.toString().startsWith("CLIENT_")}),function(e){return dt.common.deleteByIds(r,i,a,function(){var e="Rows have been deleted!";Ce(e=void 0!==te()?te().msg.rowsdeleted:e),n.refresh()})(e)};e="Please, select rows for deletion!",Oe(e=void 0!==te()?te().msg.selectrowsfordelete:e)}else{var l=n.getSeletedRowKeys();if(0!==l.length){var s=(o?t.modals.windows[o]:t.app.form).data.modified[i].filter(function(e){return!l.includes(e.__id)});return function(e){return dt.form.updateData(i,s,o)(e)}}t="Please, select rows for deletion!",Oe(t=void 0!==te()?te().msg.selectrowsfordelete:t)}return{}},gridEdit:function(e){var t=e.state,n=e.controlRef,r=e.parameters,e=e.modalId;return n.isEditFormModal()||n.isEditFormSidebar()?me.edit({state:t,controlRef:n,parameters:r,modalId:e}):(!(e=n.props).editFormShowType||"Default"===e.editFormShowType)&&(n=(n=me.getSelectedRow({parameters:r,controlRef:n}))?n.__id:void 0)?"flow"!==e.editType?"workflow"!==e.editType?{router:{push:"/form/"+e.editForm+"/"+n+"/"}}:{router:{push:"/workflow/"+e.editWorkflow+"/"+n+"/"}}:{router:{push:"/flow/"+e.editFlow+"/"+n+"/"}}:{}},gridExport:function(e){var o=e.controlRef,i=e.parameters,a=e.modalId,l=e.formName;return function(e){var t=ke.a.chain(o.props.columns).map(function(e){return e.key+":"+e.name}).join(",").value(),n=o.getSort(),r=o.getFilters();return dt.additional.exportToExcel({type:o.props["data-buildertype"],controlRef:o,modalId:a,formName:l,parameters:i,startIndex:0,cols:t,pagerType:o.props.pagerType,sort:n,filters:r})(e)}},changeModel:function(e){var t=e.controlRef,n=e.state,r=e.parameters,e=e.modalId,o=n.app.form.models.model;if(void 0===r)return{};var i,a=t.props.name;for(i in o)!function e(t,n,r){if(n.key!=t){if(null!=n.children&&0<n.children.length)for(var o in n.children)e(t,n.children[o],r)}else for(var i in r)n[i]=r[i]}(a,o[i],r);return ne(e,{model:o})},setFields:function(e){var t,n,r=e.data,o=e.parameters,e=e.modalId;for(t in o)n=o[t],/^-?\d+(?:[.,]\d*?)?$/.test(n)&&(n=parseFloat(n),!isNaN(n))?r[t]=parseFloat(o[t]):r[t]=o[t];return ne(e,{data:r})},print:function(e){var t=void 0;e.parameters&&e.parameters.title&&(t=e.parameters.title),e.component.print||console.error("Print is unsupported for this component!",e),e.component.print(t)}},t=n(1);function Fe(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function Ne(r){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?Fe(Object(o),!0).forEach(function(e){var t,n=r;e=o[t=e],t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(o)):Fe(Object(o)).forEach(function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(o,e))})}return r}(a=Object.getPrototypeOf(new XMLHttpRequest))!==XMLHttpRequest.prototype&&(XMLHttpRequest.prototype=a);var Ie=XMLHttpRequest.prototype.send,Le=XMLHttpRequest.prototype.setRequestHeader,Ue=null,Me=window.fetch,Be=[],ze=null,We=!1,Ke={addRequestCallback:function(e){Be.push(e)},removeRequestCallback:function(e){!function(e,t){var n=e.indexOf(t);if(!(-1<n))throw new Error("Could not remove "+t+" from array");e.splice(n,1)}(Be,e)},isWired:function(){return We},wire:function(){if(We)throw new Error("Ajax interceptor already wired");XMLHttpRequest.prototype.send=function(){!function(e,t){for(var n=0;n<e.length;n++)e[n](t)}(Be,this),this.authToken&&Le.apply(this,["Authorization",this.authToken]),Ie.apply(this,arguments)},XMLHttpRequest.prototype.setRequestHeader=function(e,t){"Authorization"===e?(this.authToken=t,Ue=this.authToken):Le.apply(this,arguments)},We=!0},unwire:function(){if(!We)throw new Error("Ajax interceptor not currently wired");XMLHttpRequest.prototype.send=Ie,XMLHttpRequest.prototype.setRequestHeader=Le,We=!1},fetch:function(e,t){var n=t||{},t=n.headers||new Headers;return Ue&&t.append("Authorization",Ue),n.headers=t,Me(e,n)},configureHeaders:function(e){var t=null,t=(t=window.globalFetchOptions?window.globalFetchOptions():t)||Ne({},B.getState().settings.fetchOptions),n=e?"Bearer "+e:null;t.headers=Ne(Ne({},t.headers),{},{Authorization:n}),window.globalFetchOptions||B.dispatch(N.settings.set("fetchOptions",t)),ze?Ke.removeRequestCallback(ze):Ke.wire(),ze=function(e){e.setRequestHeader("Authorization",n)},Ke.addRequestCallback(ze)}},Ge=Ke;function He(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function qe(e){return(e=function(r){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?He(Object(o),!0).forEach(function(e){var t,n=r;e=o[t=e],t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(o)):He(Object(o)).forEach(function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(o,e))})}return r}({},e)).fetchFunc=Ge.fetch,ge("dwkit-form",{props:e})}function Qe(e){return(Qe="function"==typeof Symbol&&"symbol"==$n(Symbol.iterator)?function(e){return $n(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":$n(e)})(e)}function Je(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function Ye(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Je(Object(n),!0).forEach(function(e){tt(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Je(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function Xe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ze(e,t){return(Ze=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function $e(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function et(e){return(et=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function tt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var a=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ze(e,t)}(a,le.Component);var e,t,n,r,o=(n=a,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=et(n),t=r?(t=et(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this;return!t||"object"!==Qe(t)&&"function"!=typeof t?$e(e):t});function a(e){var i;return function(e){if(!(e instanceof a))throw new TypeError("Cannot call a class as a function")}(this),tt($e(i=o.call(this,e)),"getAdditionalDataForControl",function(e,t,n){var r=i.props,o=i.state.forCopy||!1;return i.props.additionalFetch(function(){return r.name},r.id,o,e,t,n,i.props.schemeName)}),i.state={},i}return t=[{key:"getDerivedStateFromProps",value:function(e,t){var n={},r=void 0!==e.filter?e.filter:null,o=null!==t?t.filter:null,i=null,a=e.preventLoad;return!r||o&&H(o,r)?e.preventLoad||null!==r||void 0!==o?!r||!e.isNew||t&&t.isNew||(i={filter:r,forCopy:!0}):a||(i={forCopy:!1}):a||(i={filter:r,forCopy:r&&e.isNew}),null!==(n.childDataRequest=i)&&(n.forCopy=i.forCopy),n.filter=r,n.isNew=e.isNew,n}}],Xe((e=a).prototype,[{key:"componentDidMount",value:function(){this.requestModelAndData()}},{key:"componentDidUpdate",value:function(){this.requestModelAndData()}},{key:"requestModelAndData",value:function(){var e;this.state.childDataRequest&&(e=this.state.childDataRequest,"flow"===this.props.type&&0<this.props.keyIndex?this.props.fetchFlow(this.props.flowName,e.filter,this.props.id,e.forCopy):"workflow"===this.props.type&&0<this.props.keyIndex?this.props.fetchWorkflow(this.props.schemeName,e.filter,this.props.id,e.forCopy):"flow"===this.props.type||this.props.model?this.props.fetchData(null,e.filter,this.props.name,this.props.id,e.forCopy,this.props.schemeName):this.props.fetchForm(this.props.name,e.filter,this.props.id,e.forCopy),this.setState({childDataRequest:null}))}},{key:"render",value:function(){var i=this,a=this.props,e=B.getState().settings,t=e.dataupload,n=e.datadownload;return e.backendUrl&&(t=e.backendUrl+t,n=e.backendUrl+n),t={key:"chidForm_"+a.id,formName:a.name,data:a.data,extendedData:{filters:a.controlFilters,schemes:a.schemes},model:this.props.model,errors:a.errors,dataChanged:function(e,t){var n=t.key,r=t.propertyName,o=t.value,t=t.additionalValues;i.props.dataChanged(r||n,o,t,a.id)},eventFunc:function(e){i.props.executeActions(Ye(Ye({},e),{},{schemeName:i.props.schemeName,modalId:a.id,callContext:a.callContext}))},getAdditionalDataForControl:this.getAdditionalDataForControl,hideControls:a.hideControls,readOnlyControls:a.readOnlyControls,readOnly:a.readOnly,uploadUrl:t,downloadUrl:n},e.userForms&&(n=t.formName?t.formName.toLowerCase():void 0)&&e.userForms[n]?(n=e.userForms[n],se.a.createElement(n,t)):se.a.createElement(qe,t)}}]),Xe(e,t),a}(),nt=Object(t.connect)(null,function(i){return Ye(Ye({},gt(i)),{},{fetchFlow:function(e,t,n,r){i(dt.form.fetchflow(e,t,n,r)).then(function(){var e=B.getState();i(dt.form.fetchdata(null,t,e.app.modals.windows[n].name,n,r))})},fetchWorkflow:function(t,n,r,o){i(dt.form.fetchworkflow(t,n,r,o)).then(function(){var e=B.getState();i(dt.form.fetchdata(null,n,e.app.modals.windows[r].name,r,o,t))})},fetchForm:function(e,t,n,r){i(dt.form.fetchform(e,n)).then(function(){i(dt.form.fetchdata(null,t,e,n,r))})}})})(a);function rt(e){return(rt="function"==typeof Symbol&&"symbol"==$n(Symbol.iterator)?function(e){return $n(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":$n(e)})(e)}function ot(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function it(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ot(Object(n),!0).forEach(function(e){at(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ot(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function at(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function lt(){!function(e){if(!(e instanceof lt))throw new TypeError("Cannot call a class as a function")}(this)}var st=n(33),ct={credentials:"same-origin"},ut={},pt={configuredFetch:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n=B.getState(),r=window.globalFetchOptions?window.globalFetchOptions():n.settings.fetchOptions||{},o=it(it(it({},ct),r),t),r="";return(t=B.getState().settings).backendUrl&&!e.startsWith("http")&&(r=t.backendUrl),r+=e,i()(r,o,window.globalFetchOptions).then(function(e){if(n.settings.mobile&&401==e.status)throw B.login(),new lt;return e})},userinfo:{fetch:function(n){return function(t){U(B).preFetchUser().then(function(){return t(N.app.userinfo.fetch.begin()),pt.configuredFetch(B.getState().settings.accountget).then(function(e){if(200==e.status)return e.json();throw e="Error status:"+e.status+".",new Error(e)}).then(function(e){e.success?(t(N.app.userinfo.fetch.success(e.item)),n&&n(e.item)):t(N.app.userinfo.fetch.failure(e.message,e.details))}).catch(lt,function(){}).catch(function(e){t(N.app.userinfo.fetch.failure(e,"userinfo.fetch"))})})}}},additional:{fetch:function(e){var g=e.type,b=e.controlRef,w=e.formName,O=e.schemeName,C=e.startIndex,k=e.pageSize,E=e.filters,A=e.sort,S=e.callback,_=e.modalId,x=e.forCopy,P=e.row,j=e.loadParameters,R=e.baseLocation,D=e.fetchUrl,T=e.fetchResponseType,F=e.fetchOptions;return function(t){if("dictionary"===g){for(var e=b.props.dataModel,n=b.props.columns.split(",").map(function(e){return e.trim()}),r=[],o=[],i=0;i<n.length;i++){var a=n[i],l=a.split(/\s+/);1===l.length?o.push(a):2===l.length&&(o.push(l[0]),r.push({column:l[0],order:l[1]}))}return e={columns:JSON.stringify(o),sort:JSON.stringify(r),name:e},null!=E&&(e.filter="string"==typeof E?E:JSON.stringify(E)),null!=C&&null!=k&&(e.paging=JSON.stringify({startIndex:C,pageSize:k})),ft.dictionaryFetch(t,e,C,k,S,function(e){return{items:e.item.map(function(e){var t=b.props.textFunc?b.props.textFunc(e.values):e.value;return{key:e.key,text:t,value:e.key,values:e.values}}),count:e.count}})}if("treepicker"===g){for(var s=b.props.dataModel,e=b.props.parentIdField,c=b.props.columns.split(",").map(function(e){return e.trim()}),u=[],p=[],f=0;f<c.length;f++){var d=c[f],h=d.split(/\s+/);1===h.length?p.push(d):2===h.length&&(p.push(h[0]),u.push({column:h[0],order:h[1]}))}return s={columns:JSON.stringify(p),sort:JSON.stringify(u),name:s,parent:e},E&&(s.filter=JSON.stringify(E)),void 0!==C&&k&&(e=b.state.parentIdToFetch,s.paging=JSON.stringify({startIndex:C,pageSize:k,parentId:e})),ft.dictionaryFetch(t,s,C,k,S,function(e){return{items:e.item.map(function(e){return it(it({},e),{},{name:b.props.textFunc?b.props.textFunc(e.values):e.name})}),count:e.count}})}if("gridview"===g){var V=ft.createUrlData({type:g,controlRef:b,formName:w,startIndex:C,pageSize:k,filters:E,sort:A,callback:S,modalId:_,forCopy:x,baseLocation:R});return(s=B.getState().settings).mobile&&(V.mobile=s.mobile),pt.configuredFetch(s.dataget+"?"+B.encodeQueryData(V)).then(function(e){return e.json()}).then(function(e){e.success?S({sIndex:C,pSize:k,rowsCount:e.item["__"+V.propertyName+"_totalcount"],items:e.item[V.propertyName]}):t(N.app.form.data.fetch.failure(e.message,e.details))}).catch(function(e){t(N.app.form.data.fetch.failure(e.message,e.stack))})}if("repeater"===g){var m=ft.createUrlData({type:g,controlRef:b,formName:w,startIndex:C,pageSize:k,filters:E,sort:A,callback:S,modalId:_,forCopy:x,baseLocation:R}),y=B.getState().settings;return y.mobile&&(m.mobile=y.mobile),pt.configuredFetch(y.dataget+"?"+B.encodeQueryData(m)).then(function(e){return e.json()}).then(function(e){e.success?S({sIndex:C,pSize:k,rowsCount:e.item["__"+m.propertyName+"_totalcount"],items:e.item[m.propertyName]}):t(N.app.form.data.fetch.failure(e.message,e.details))}).catch(function(e){t(N.app.form.data.fetch.failure(e.message,e.stack))})}if("workflowbar"!==g)return"fetch"===g?"blob"==T?pt.configuredFetch(D,F).then(function(e){return e.blob()}).then(function(e){S(e)}).catch(function(e){t(N.app.form.data.fetch.failure(e.message,e.stack))}):"json"==T?pt.configuredFetch(D,F).then(function(e){return e.json()}).then(function(e){e.success?S(e):t(N.app.form.data.fetch.failure(e.message,e.details))}).catch(function(e){t(N.app.form.data.fetch.failure(e.message,e.stack))}):pt.configuredFetch(D,F).then(function(e){return S(e)}).catch(function(e){t(N.app.form.data.fetch.failure(e.message,e.stack))}):(console.log("TODO: implement getAdditionalDataForControl method for "+g+" control"),Promise.resolve());var y=null!=P&&null!=P.__id?P.__id:_?B.getState().app.modals.windows[_].data.filter:(v=B.getState().router.location,I.formFilterFromLocation(v||R)),v={name:w,forCopy:x,loadParameters:j};return O&&(v.schemeName=O),null!==y&&(v.urlFilter=y),ft.buildRequest(t,B.getState().settings.workflowget,v,function(e){return j&&t(N.app.form.data.setprocessparameters(_,e.item.processParameters)),e.item}).then(function(e){e&&S(e)})}},exportToExcel:function(e){var r=e.type,o=e.controlRef,i=e.formName,a=e.startIndex,l=e.filters,s=e.sort,c=e.callback,u=e.modalId,p=e.forCopy,f=e.cols,d=e.pagerType,h=e.parameters;return function(t){var n=ft.createUrlData({type:r,controlRef:o,formName:i,startIndex:a,pageSize:null,filters:l,sort:s,callback:c,modalId:u,forCopy:p,cols:f,pagerType:d,filename:h.filename}),e=B.getState().settings;return e.mobile&&(n.mobile=e.mobile),pt.configuredFetch(e.dataexport+"?"+B.encodeQueryData(n)).then(function(e){return e.blob()}).then(function(e){return E(n,e)}).catch(function(e){t(N.app.failure(e.message,e.stack))})}}},form:{clear:function(){return function(e){e(N.app.form.clear())}},fetchform:function(r,o){return function(n){n(N.app.form.model.fetch.begin());var e=B.getState().settings,t={wrapresult:!0,enableSecurity:!0,mobile:e.mobile};return pt.configuredFetch(e.uiform+"/"+r+"?"+B.encodeQueryData(t)).then(function(e){return e.json()}).then(function(e){var t;e.success?(t=e.item,n(N.app.form.model.fetch.success(JSON.parse(t.source),t.mapping,r,o,{schemes:t.schemes,securityGroup:t.securityGroup,permissions:t.permissions,mapping:t.mapping,name:t.name}))):n(N.app.form.model.fetch.failure(e.message,e.details))}).catch(function(e){n(N.app.form.model.fetch.failure(e.message,e.stack))})}},fetchflow:function(n,o,i,a){return function(r){var e=B.getState().settings,t={urlFilter:o};return e.mobile&&(t.mobile=e.mobile),a&&(t.forCopy=a),r(N.app.form.model.fetch.begin()),pt.configuredFetch(e.uiflow+"/"+n+"?"+B.encodeQueryData(t)).then(function(e){return e.json()}).then(function(e){var t,n;e.success?(t=e.item,n=null,i&&("string"==typeof i||i instanceof String?r(N.app.form.model.change(t.name,n=i)):(n=i.id,i.name=t.name)),r(N.app.form.model.fetch.success(JSON.parse(t.source),t.mapping,t.name,n,{schemes:t.schemes,securityGroup:t.securityGroup,permissions:t.permissions,mapping:t.mapping,name:t.name}))):r(N.app.form.model.fetch.failure(e.message,e.details))}).catch(function(e){r(N.app.form.model.fetch.failure(e.message,e.stack))})}},fetchworkflow:function(o,n,i,a){return function(r){var e=B.getState().settings,t={urlFilter:n};return e.mobile&&(t.mobile=e.mobile),a&&(t.forCopy=a),r(N.app.form.model.fetch.begin()),pt.configuredFetch(e.uiworkflow+"/"+o+"?"+B.encodeQueryData(t)).then(function(e){return e.json()}).then(function(e){var t,n;e.success?(t=e.item,n=null,i&&("string"==typeof i||i instanceof String?r(N.app.form.model.change(t.name,n=i)):(n=i.id,i.name=t.name)),r(N.app.form.model.fetch.success(JSON.parse(t.source),t.mapping,t.name,n,{schemes:[o],securityGroup:t.securityGroup,permissions:t.permissions,mapping:t.mapping,name:t.name}))):r(N.app.form.model.fetch.failure(e.message,e.details))}).catch(function(e){r(N.app.form.model.fetch.failure(e.message,e.stack))})}},fetchdata:function(n,o,i,a,l,s){return function(r){r(N.app.form.data.fetch.begin());var e=B.getState().settings,t={name:i};return s&&(t.schemeName=s),n&&(t.filter=JSON.stringify(n)),o&&(t.urlFilter=o),l&&(t.forCopy=!0),e.mobile&&(t.mobile=e.mobile),pt.configuredFetch(e.dataget+"?"+B.encodeQueryData(t)).then(function(e){return e.json()}).then(function(e){var t,n;e.success?(t=l||"object"===rt(e.item)&&!Array.isArray(e.item)&&null===e.item.__id,n=JSON.parse(JSON.stringify(e.item),Z),pt.form.executeActions({formName:i,schemeName:s,eventName:"dataReceived",actions:["dataReceived"],modalId:a,parameters:{data:n}})(r),r(N.app.form.data.fetch.success(n,a,t))):r(N.app.form.data.fetch.failure(e.message,e.details))}).catch(function(e){r(N.app.form.data.fetch.failure(e.message,e.stack))})}},savedata:function(e){var r=e.formName,d=e.modalId,h=e.state,o=e.data,i=e.schemeName;return function(u){var p=(d?h.app.modals.windows[d]:h.app.form).data;u(N.app.form.data.save.begin());var e={};r&&(e.name=r),i&&(e.schemeName=i);var t=new FormData,f=p.isNew;t.append("data",JSON.stringify(o));var n=B.getState().settings;return n.mobile&&(e.mobile=n.mobile),pt.configuredFetch(n.datachange+"?"+B.encodeQueryData(e),{method:"post",body:t}).then(function(e){return e.json()}).then(function(e){if(e.success){var t="The changes have been applied!";te()&&(t=te().msg.savedatasuccess),Ce(t=void 0!==e.message&&null!==e.message?e.message:t);var n=e.item,r=n?n.entity:null,o=n?n.entityId:null,i=null!=r,a=null!=o;u(i?N.app.form.data.save.success(r,d):N.app.form.data.save.success(null,d)),ft.changeStateWithResult(e),d&&(n=((t=(s=h.app.modals.windows[d]).parentId)?h.app.modals.models[h.app.modals.windows[t].name]:h.app.form.models).model,(n=pe.getModelConrol(n,p.property))&&"gridview"===n["data-buildertype"]&&"server"===n.pagerType||(l=null,(n=!!s.parentId)&&(l=h.app.modals.windows[t].name),c=p.property,t=h.app.modals.models[s.name].mapping.toData,l=(n?h.app.modals.models[l]:h.app.form.models).mapping.toForm,c&&(l=l[c]),l=me.mapRow(me.mapRow(r,t,p.additionalValues),l),u(N.app.form.data.updatefromchild(c,l,s.parentId))));var l,s,c={};return f&&(i||a)&&(l={},d?l.app={modals:{windows:at({},d,{data:{filter:a?o:i?r.__id:void 0}})}}:(s=O(),l.router={push:a?I.changeFilter(s,o):i?I.changeFilter(s,r.__id):void 0}),c.stateDelta=l),i&&(c.data=r),Promise.resolve(c)}throw ft.changeStateWithResult(e),r=null!==e.message?e.message:void 0,c=null!==e.details?e.details:void 0,null!==e.validationResult&&void 0!==e.validationResult?{level:1,message:r,details:c,formerrors:{modalId:d,errors:e.validationResult}}:{level:1,message:r,details:c}}).catch(function(e){throw e.stack&&!e.details&&(e.details=e.stack),e})}},updateData:function(t,n,r){return function(e){return e(N.app.form.data.update(t,n,r)),Promise.resolve()}},executeActions:function(e){return function(n){Pe(e,n).catch(function(e){var t;"object"===rt(e)?(t=e.details,null!=e.stack&&(t=null==t?e.stack:t+"\nStack: "+e.stack),null!=console&&null!=t&&console.log(t),n(N.app.form.data.save.failure(e.message,e.details,e.level,e.formerrors))):n(N.app.form.data.save.failure(e,void 0))})}}},common:{deleteByIds:function(o,i,a,l,s){return function(t){t(N.app.form.data.delete.begin());var e={name:o};i&&(e.propertyName=i),s&&(e.schemeName=s);var n=new FormData;Array.isArray(a)?n.append("data",JSON.stringify(a)):n.append("data",JSON.stringify([a]));var r=B.getState().settings;return r.mobile&&(e.mobile=r.mobile),pt.configuredFetch(r.datadelete+"?"+B.encodeQueryData(e),{method:"post",body:n}).then(function(e){return e.json()}).then(function(e){e.success?(ft.changeStateWithResult(e),t(N.app.form.data.delete.success(o)),l&&l(e)):(ft.changeStateWithResult(e),t(N.app.form.data.delete.failure(null!==e.message?e.message:void 0,null!==e.details?e.details:void 0,void 0,null!==e.validationResult&&void 0!==e.validationResult?{main:e.validationResult}:void 0)))}).catch(function(e){t(N.app.form.data.delete.failure(e.message,e.details))})}},setCookie:function(e,t,n){ft.setCookie(e,t,n)},getCookie:function(e){return ft.getCookie(e)},getParameterFormUrlOrCookie:function(){var e=O();return I.getParamValue(e,"impersonatedUserId")||ft.getCookie("impersonatedUserId")}}},ft={createUrlDataForCollections:function(e){e.type;var t=e.controlRef,n=e.formName,r=e.startIndex,o=e.pageSize,i=e.filters,a=e.sort,l=(e.callback,e.modalId),s=e.forCopy,c=e.cols,u=e.pagerType,p=e.filename,e=e.baseLocation,o=o?{startIndex:r,pageSize:o}:void 0,i=i,f=[];a&&a.split(",").forEach(function(e){1<(e=e.trim().split(" ")).length?f.push({column:e[0].trim(),Order:e[1].trim()}):f.push({column:e[0].trim(),Order:"ASC"})}),a={},l?a.urlFilter=B.getState().app.modals.windows[l].data.filter:(d=B.getState().router.location,a=I.formDataFromLocation(d=d||e));var d=t.props.name,n={control:d,propertyName:(t=t.props.propertyName)||d,name:n&&n.toLowerCase()};return s&&(n.forCopy=s),o&&(n.paging=JSON.stringify(o)),i&&(n.filter=JSON.stringify(i)),f&&(n.sort=JSON.stringify(f)),c&&(n.cols=c),a.options&&(n.options=a.options),a.urlFilter&&(n.urlFilter=a.urlFilter),u&&(n.pagerType=u),p&&(n.fileName=p),n},createUrlData:function(e){switch(e.type){case"gridview":case"repeater":return this.createUrlDataForCollections(e);default:throw new Error("unknown type")}},changeStateWithResult:function(e){void 0!==e.result&&null!==e.result&&B.dispatch(N.updatestate(e.result))},getCookie:function(e){var t=A();if(t)return(e=t.match(new RegExp("(?:^|; )"+e.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,"\\$1")+"=([^;]*)")))?decodeURIComponent(e[1]):void 0},setCookie:function(e,t,n){var r,o=(n=n||{}).expires;"number"==typeof o&&o&&((r=new Date).setTime(r.getTime()+1e3*o),o=n.expires=r),o&&o.toUTCString&&(n.expires=o.toUTCString());var i,a=e+"="+(t=encodeURIComponent(t));for(i in n){a+="; "+i;var l=n[i];!0!==l&&(a+="="+l)}S("".concat(a,"; path=/"))},dictionaryFetch:function(e,t,n,r,o,i){return this.buildRequest(e,B.getState().settings.datadictionary,t,i).then(function(e){e&&o({sIndex:n,pSize:r,rowsCount:e.count,items:e.items})})},buildRequest:function(t,e,n,r){var o=st(n),i=null;return ut[o]?i=ut[o]:(i=pt.configuredFetch(e+"?"+B.encodeQueryData(n)).then(function(e){return e.json()}).then(function(e){return e.success?r(e):void t(N.app.form.data.fetch.failure(e.message,e.details))}).catch(function(e){t(N.app.form.data.fetch.failure(e.message,e.stack))}).finally(function(){ut[o]=void 0}),ut[o]=i),i}},dt=pt;function ht(e){return function(e){if(Array.isArray(e))return Vt(e)}(e)||function(){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}()||function(e){if(e){if("string"==typeof e)return Vt(e,void 0);var t=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(t="Object"===t&&e.constructor?e.constructor.name:t)||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?Vt(e,void 0):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Vt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function mt(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function yt(r){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?mt(Object(o),!0).forEach(function(e){var t,n=r;e=o[t=e],t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(o)):mt(Object(o)).forEach(function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(o,e))})}return r}function vt(e){var t,n=e.app.form.filters.main,r={};if(n)for(var o in n)!n.hasOwnProperty(o)||0<(t=n[o].filter(function(e){return null!==e.value}).map(function(e){return{column:e.column,term:e.term,value:e.value}})).length&&(r[o]=t);var i=e.app.form.data.modified,a=(l=I.deconstructLocation(e.router.location)).urlFilter,l=l.command;return{filter:a,model:e.app.form.models.model,data:null==i?void 0:(Array.isArray(i)?ht:$)(i),mainControlFilters:r,errors:e.app.form.errors||void 0,hideControls:e.app.form.models.hideControls,readOnlyControls:e.app.form.models.readOnlyControls,readOnly:e.app.form.models.readOnly,dimmed:Object.values(e.app.modals.windows).some(function(e){return"sidebar"===e.type}),selectedScheme:e.app.form.selectedScheme,schemes:null===e.app.form.formParams||void 0===e.app.form.formParams?void 0:e.app.form.formParams.schemes,command:l}}var gt=function(l){return{fetchData:function(e,t,n,r,o,i){l(dt.form.fetchdata(e,t,n,r,o,i))},dataChanged:function(e,t,n,r){l(N.app.form.data.update(e,t,r,n))},executeActions:function(e){l(dt.form.executeActions(e))},additionalFetch:function(e,t,n,r,o,i,a){!(a=yt(yt({},o),{},{formName:e(),controlRef:r,callback:i,modalId:t,forCopy:n,schemeName:a})).type&&r&&r.props&&r.props["data-buildertype"]&&(a.type=r.props["data-buildertype"]),l(dt.additional.fetch(a))}}};function bt(e){return(bt="function"==typeof Symbol&&"symbol"==$n(Symbol.iterator)?function(e){return $n(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":$n(e)})(e)}function wt(e,t){return(wt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ot(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ct(e){return(Ct=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function kt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Et=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&wt(e,t)}(a,le.Component);var n,r,o=(n=a,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=Ct(n),t=r?(t=Ct(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this;return!t||"object"!==bt(t)&&"function"!=typeof t?Ot(e):t});function a(){var i;!function(e){if(!(e instanceof a))throw new TypeError("Cannot call a class as a function")}(this);for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return kt(Ot(i=o.call.apply(o,[this].concat(t))),"getAdditionalDataForControl",function(e,t,n){return t&&!t.baseLocation&&(t.baseLocation=i.props.baseLocation),i.props.additionalFetch(function(){return i.props.formName},null,"copy"===i.props.command,e,t,n,i.props.schemeName)}),kt(Ot(i),"drawMainForm",function(){if(i.props.preventDrawMainform)return null;var e=B.getState().settings,t=e.dataupload,n=e.datadownload;return e.backendUrl&&(t=e.backendUrl+t,n=e.backendUrl+n),t={key:i.props.getMainFormKey(),formName:i.props.formName,objectId:i.props.data?i.props.data.__id:i.props.filter,data:i.props.data,extendedData:{filters:i.props.mainControlFilters,schemes:i.props.schemes},model:i.props.model,errors:i.props.errors,dataChanged:function(e,t){var n=t.key,r=t.propertyName,o=t.value,t=t.additionalValues;i.props.dataChanged(r||n,o,t)},eventFunc:function(e){i.props.schemeName&&(e.schemeName=i.props.schemeName),i.props.executeActions(e)},getAdditionalDataForControl:i.getAdditionalDataForControl,hideControls:i.props.hideControls,readOnlyControls:i.props.readOnlyControls,readOnly:i.props.readOnly,uploadUrl:t,downloadUrl:n},e.userForms&&(n=t.formName?t.formName.toLowerCase():void 0)&&e.userForms[n]?(n=e.userForms[n],se.a.createElement(n,t)):se.a.createElement(qe,t)}),i}return a}();function At(e){return(At="function"==typeof Symbol&&"symbol"==$n(Symbol.iterator)?function(e){return $n(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":$n(e)})(e)}function St(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _t(e,t){return(_t=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function xt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Pt(e){return(Pt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function jt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Rt=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_t(e,t)}(i,le.Component);var n,r,o=(n=i,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=Pt(n),t=r?(t=Pt(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this;return!t||"object"!==At(t)&&"function"!=typeof t?xt(e):t});function i(){var e;!function(e){if(!(e instanceof i))throw new TypeError("Cannot call a class as a function")}(this);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return jt(xt(e=o.call.apply(o,[this].concat(n))),"abort",function(){e.reject()}),jt(xt(e),"confirm",function(){e.resolve()}),e}return St(i.prototype,[{key:"componentDidMount",value:function(){var n=this;this.promise=new Promise(function(e,t){n.resolve=e,n.reject=t})}}]),i}();function Dt(e){return(Dt="function"==typeof Symbol&&"symbol"==$n(Symbol.iterator)?function(e){return $n(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":$n(e)})(e)}function Tt(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function Ft(r){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?Tt(Object(o),!0).forEach(function(e){var t,n=r;e=o[t=e],t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(o)):Tt(Object(o)).forEach(function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(o,e))})}return r}function Nt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function It(e,t){return(It=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Lt(e){return(Lt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var a=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&It(e,t)}(i,le.Component);var e,t,n,r,o=(n=i,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=Lt(n),t=r?(t=Lt(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this;return!t||"object"!==Dt(t)&&"function"!=typeof t?function(){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}():t});function i(e){return function(e){if(!(e instanceof i))throw new TypeError("Cannot call a class as a function")}(this),(e=o.call(this,e)).state={},e}return t=[{key:"getDerivedStateFromProps",value:function(e,t){var n={},r=null===e.formName||void 0===e.formName?null:e.formName.toLowerCase(),o=null===t||void 0===t.formName?null:t.formName,i=void 0!==e.filter?e.filter:null,a=null!==t?t.filter:null,l=t?t.command:null;return n.formName=r,n.command=e.command,r!==o?null!==r&&(n.needFetchForm=!0,n.needFetchData=!0):i===a&&l===n.command||(n.filter=e.filter,n.needFetchData=!0),n.refreshKey=e.refreshKey,e.refreshKey!=t.refreshKey&&(n.needFetchForm=!0,n.needFetchData=!0),n}}],Nt((e=i).prototype,[{key:"componentDidMount",value:function(){this.RequestModelAndData()}},{key:"componentDidUpdate",value:function(){this.RequestModelAndData()}},{key:"getMainFormKey",value:function(){return"mainform_"+this.state.formName+"_"+this.props.refreshKey}},{key:"RequestModelAndData",value:function(){this.state.needFetchForm?(this.setState({needFetchForm:!1}),this.props.fetchForm(this.state.formName)):this.state.needFetchData&&null!==this.state.formName&&(this.setState({needFetchData:!1}),this.props.fetchData(null,this.state.filter,this.state.formName,null,"copy"===this.props.command))}},{key:"render",value:function(){var e=Ft({},this.props);return e.getMainFormKey=this.getMainFormKey.bind(this),e.preventDrawMainform=!this.state.formName||this.state.needFetchForm,ge("content",{key:this.getMainFormKey()+"_formcontent",props:e})}}]),Nt(e,t),i}(),Ut=Object(t.connect)(function(e,t){return Ft(Ft({},vt(e)),{},{formName:t.formName||I.nameFromLocation(e.router.location,e.settings.form),refreshKey:e.router.refreshKey})},function(t){return Ft(Ft({},gt(t)),{},{fetchForm:function(e){t(dt.form.clear()),t(dt.form.fetchform(e))}})})(a);function Mt(e){return(Mt="function"==typeof Symbol&&"symbol"==$n(Symbol.iterator)?function(e){return $n(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":$n(e)})(e)}function Bt(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function zt(r){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?Bt(Object(o),!0).forEach(function(e){var t,n=r;e=o[t=e],t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(o)):Bt(Object(o)).forEach(function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(o,e))})}return r}function Wt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Kt(e,t){return(Kt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Gt(e){return(Gt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var a=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Kt(e,t)}(i,le.Component);var e,t,n,r,o=(n=i,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=Gt(n),t=r?(t=Gt(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this;return!t||"object"!==Mt(t)&&"function"!=typeof t?function(){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}():t});function i(e){return function(e){if(!(e instanceof i))throw new TypeError("Cannot call a class as a function")}(this),(e=o.call(this,e)).state={},e}return t=[{key:"getDerivedStateFromProps",value:function(e,t){var n={},r=null===e.flowName||void 0===e.flowName?null:e.flowName.toLowerCase(),o=null===t||void 0===t.flowName?null:t.flowName,i=void 0!==e.filter?e.filter:null,a=null!==t?t.filter:null,l=t?t.command:null;return n.flowName=r,n.command=e.command,r!==o?null!==r&&(n.needFetchFlow=!0,n.needFetchData=!0,n.filter=e.filter):i===a&&l===n.command||(n.filter=e.filter,n.needFetchData=!0),n.refreshKey=e.refreshKey,e.refreshKey!=t.refreshKey&&(n.needFetchForm=!0,n.needFetchData=!0),n}}],Wt((e=i).prototype,[{key:"componentDidMount",value:function(){this.RequestModelAndData()}},{key:"componentDidUpdate",value:function(e,t){this.RequestModelAndData()}},{key:"getMainFormKey",value:function(){return"mainform_"+this.state.flowName+"_"+this.props.refreshKey}},{key:"RequestModelAndData",value:function(){this.state.needFetchFlow?(this.setState({needFetchFlow:!1}),this.props.fetchFlow(this.state.flowName,this.state.filter,"copy"===this.props.command)):this.state.needFetchData&&null!==this.props.formName&&(this.setState({needFetchData:!1}),this.props.fetchData(null,this.state.filter,this.props.formName,null,"copy"===this.props.command))}},{key:"render",value:function(){var e=zt({},this.props);return e.getMainFormKey=this.getMainFormKey.bind(this),e.preventDrawMainform=!this.state.flowName||this.state.needFetchFlow,ge("content",{key:this.getMainFormKey()+"_flowcontent",props:e})}}]),Wt(e,t),i}(),Ht=Object(t.connect)(function(e,t){return zt(zt({},vt(e)),{},{flowName:t.flowName||I.nameFromLocation(e.router.location,B.getState().settings.flow),formName:e.app.form.formParams.name,refreshKey:e.router.refreshKey})},function(r){return zt(zt({},gt(r)),{},{fetchFlow:function(e,t,n){r(dt.form.clear()),r(dt.form.fetchflow(e,t,null,n))}})})(a);function qt(e){return(qt="function"==typeof Symbol&&"symbol"==$n(Symbol.iterator)?function(e){return $n(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":$n(e)})(e)}function Qt(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function Jt(r){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?Qt(Object(o),!0).forEach(function(e){var t,n=r;e=o[t=e],t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(o)):Qt(Object(o)).forEach(function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(o,e))})}return r}function Yt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Xt(e,t){return(Xt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Zt(e){return(Zt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var a=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Xt(e,t)}(i,le.Component);var e,t,n,r,o=(n=i,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=Zt(n),t=r?(t=Zt(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this;return!t||"object"!==qt(t)&&"function"!=typeof t?function(){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}():t});function i(e){return function(e){if(!(e instanceof i))throw new TypeError("Cannot call a class as a function")}(this),(e=o.call(this,e)).state={},e}return t=[{key:"getDerivedStateFromProps",value:function(e,t){var n={},r=null===e.schemeName||void 0===e.schemeName?null:e.schemeName.toLowerCase(),o=null===t||void 0===t.schemeName?null:t.schemeName,i=void 0!==e.filter?e.filter:null,a=null!==t?t.filter:null,l=t?t.command:null;return n.schemeName=r,n.command=e.command,r!==o?null!==r&&(n.needFetchWorkflow=!0,n.needFetchData=!0,n.filter=e.filter):i===a&&l===n.command||(n.filter=e.filter,n.needFetchData=!0),n.refreshKey=e.refreshKey,e.refreshKey!=t.refreshKey&&(n.needFetchForm=!0,n.needFetchData=!0),n}}],Yt((e=i).prototype,[{key:"componentDidMount",value:function(){this.RequestModelAndData()}},{key:"componentDidUpdate",value:function(e,t){this.RequestModelAndData()}},{key:"getMainFormKey",value:function(){return"mainform_"+this.state.schemeName+"_"+this.props.refreshKey}},{key:"RequestModelAndData",value:function(){this.state.needFetchWorkflow?(this.setState({needFetchWorkflow:!1}),this.props.fetchWorkflow(this.state.schemeName,this.state.filter,"copy"===this.props.command)):this.state.needFetchData&&null!==this.props.formName&&(this.setState({needFetchData:!1}),this.props.fetchData(null,this.state.filter,this.props.formName,null,"copy"===this.props.command,this.props.schemeName))}},{key:"render",value:function(){var e=Jt({},this.props);return e.getMainFormKey=this.getMainFormKey.bind(this),e.preventDrawMainform=!this.state.schemeName||this.state.needFetchWorkflow,ge("content",{key:this.getMainFormKey()+"_workflowcontent",props:e})}}]),Yt(e,t),i}(),$t=Object(t.connect)(function(e,t){return Jt(Jt({},vt(e)),{},{schemeName:t.schemeName||I.nameFromLocation(e.router.location,e.settings.workflow),formName:e.app.form.formParams.name,refreshKey:e.router.refreshKey})},function(r){return Jt(Jt({},gt(r)),{},{fetchWorkflow:function(e,t,n){r(dt.form.clear()),r(dt.form.fetchworkflow(e,t,null,n))}})})(a);function en(e){return(en="function"==typeof Symbol&&"symbol"==$n(Symbol.iterator)?function(e){return $n(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":$n(e)})(e)}function tn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function nn(e,t){return(nn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function rn(e){return(rn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var a=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&nn(e,t)}(i,le.Component);var e,t,n,r,o=(n=i,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=rn(n),t=r?(t=rn(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this;return!t||"object"!==en(t)&&"function"!=typeof t?function(){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}():t});function i(e){return function(e){if(!(e instanceof i))throw new TypeError("Cannot call a class as a function")}(this),(e=o.call(this,e)).state={fetchCount:0},e}return t=[{key:"getDerivedStateFromProps",value:function(e,t){var n={};return 0===t.fetchCount&&0<e.fetchCount?(n.fetchCount=e.fetchCount,n.start=!0,n.stop=!1):0<t.fetchCount&&0===e.fetchCount&&(n.fetchCount=0,n.start=!1,n.stop=!0),n.showError||void 0===e.error||(n.showError=!0,n.error=e.error,n.errorLevel=e.errorLevel,n.errorDetails=e.errorDetails),n}}],tn((e=i).prototype,[{key:"render",value:function(){return null}},{key:"componentDidMount",value:function(){this.StartStopOnFetch(),this.ShowError()}},{key:"componentDidUpdate",value:function(e,t){this.StartStopOnFetch(),this.ShowError()}},{key:"StartStopOnFetch",value:function(){this.state.start?(this.setState({start:!1}),this.onFetchStarted()):this.state.stop&&(this.setState({stop:!1}),this.onFetchFinished())}},{key:"ShowError",value:function(){var e,t;this.state.showError&&(t=this.state.error,this.setState({showError:!1}),1===this.state.errorLevel?(this.state.errorDetails&&(t+="\n"+this.state.errorDetails),this.ShowPopupError(t)):(e=t,void 0!==this.state.errorDetails&&(t="More information in the developer console!",e+=". "+(t=void 0!==te()?te().msg.moreinformation:t)),this.ShowPopupError(e)),this.props.clearErrors())}},{key:"ShowPopupError",value:function(e){var t,n,r=void 0;null!=this.state.prevError&&null!=this.state.prevErrorDate&&(t=new Date,n=this.state.prevErrorDate,r=(t.getTime()-n.getTime())/1e3),null!=r&&this.state.prevError==e&&r<1||Oe(e),this.state.prevError=e,this.state.prevErrorDate=new Date}},{key:"onFetchStarted",value:function(){void 0!==this.props.onFetchStarted&&this.props.onFetchStarted()}},{key:"onFetchFinished",value:function(){void 0!==this.props.onFetchFinished&&this.props.onFetchFinished()}}]),tn(e,t),i}(),on=Object(t.connect)(function(e,t){return{fetchCount:e.app.fetchCount,error:e.app.error,errorLevel:e.app.errorLevel,errorDetails:e.app.errorDetails}},function(e,t){return{clearErrors:function(){e(N.app.clearerrors())}}})(a);function an(e){return(an="function"==typeof Symbol&&"symbol"==$n(Symbol.iterator)?function(e){return $n(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":$n(e)})(e)}function ln(){return(ln=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function sn(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function cn(r){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?sn(Object(o),!0).forEach(function(e){var t,n=r;e=o[t=e],t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(o)):sn(Object(o)).forEach(function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(o,e))})}return r}function un(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function pn(e,t){return(pn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function fn(e){return(fn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var a=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&pn(e,t)}(i,le.Component);var e,t,n,r,o=(n=i,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=fn(n),t=r?(t=fn(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this;return!t||"object"!==an(t)&&"function"!=typeof t?function(){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}():t});function i(e){return function(e){if(!(e instanceof i))throw new TypeError("Cannot call a class as a function")}(this),(e=o.call(this,e)).state={},e}return t=[{key:"getDerivedStateFromProps",value:function(e,t){var n={};return e.modelurl||void 0!==e.formName&&""!==e.formName&&e.formName!==t.formName&&(n.formName=e.formName,n.needFetchModel=!0),n}}],un((e=i).prototype,[{key:"render",value:function(){var e=cn({},this.props);return void 0===e.key&&(e.key="bindForm"),e.data=this.props.combinedData,se.a.createElement(qe,ln({},e,{eventFunc:this.eventFunc.bind(this),getAdditionalDataForControl:this.getAdditionalDataForControl.bind(this),model:this.state.model,data:this.props.combinedData,hideControls:this.state.checkConditions,readOnlyControls:this.state.readOnlyControls}))}},{key:"eventFunc",value:function(e){var t="initSystem";Array.isArray(e.actions)&&e.actions.includes(t)&&(this.initSystem(e),-1!==(t=e.actions.indexOf(t))&&e.actions.splice(t,1),0==e.actions.length)||B.dispatch(dt.form.executeActions(e))}},{key:"getAdditionalDataForControl",value:function(e,t,n){var r=t.startIndex,o=t.pageSize,i=t.filters,a=t.sort,t=(t.model,this.props.formName);B.dispatch(dt.additional.fetch({type:e.props["data-buildertype"],formName:t,controlRef:e,startIndex:r,pageSize:o,filters:i,sort:a,callback:n}))}},{key:"initSystem",value:function(e){var t;this.state.model&&(t=De.checkConditions({model:this.state.model,data:this.props.combinedData}),this.setState({checkConditions:t.checkConditions,readOnlyControls:t.readOnlyControls}))}},{key:"componentDidMount",value:function(){this.PrepareState()}},{key:"componentDidUpdate",value:function(e,t){this.PrepareState()}},{key:"PrepareState",value:function(){var e,t,n=this;this.state.needFetchModel&&(n.setState({needFetchModel:!1}),t={mobile:(e=B.getState().settings).mobile},dt.configuredFetch(e.uiform+"/"+this.props.formName+"?"+B.encodeQueryData(t)).then(function(e){return e.json()}).then(function(e){var t=e,e=De.checkConditions({model:t,data:n.props.combinedData});n.setState({model:t,checkConditions:e.checkConditions,readOnlyControls:e.readOnlyControls})}).catch(function(e){n.props.LogError(e.message,e.stack)}))}}]),un(e,t),i}(),dn=Object(t.connect)(function(a,e){function t(e,t){for(var n=e.split("."),r=0<n.length?a[n[0]]:null,o=null,i=1;i<n.length&&null!=r;i++)r=r[o=n[i]];return null==r?cn({},t):"object"===an(r)?cn(cn({},t),r):(t=cn({},t),null!==o&&(t[o]=r),t)}var n,r={},o={};if(null!==e.stateDataPath&&void 0!==e.stateDataPath)if("string"==typeof e.stateDataPath)o=t(e.stateDataPath,o);else if(Array.isArray(e.stateDataPath))for(var i=0;i<e.stateDataPath.length;i++)"string"==typeof e.stateDataPath[i]&&(o=t(e.stateDataPath[i],o));return void 0!==e.data&&null!==e.data&&"object"===an(e.data)&&(n=e.data,o=cn(cn({},o),n)),r.combinedData=o,r},function(n,e){return{LogError:function(e,t){n(N.app.form.model.fetch.failure(e,t))}}})(a),hn=function(){var e=B.getState().settings.backendUrl,t=O();return{client_id:"spa",redirect_uri:t="".concat(t.protocol,"//").concat(t.host),response_type:"token id_token",scope:"openid profile IdentityServerApi",authority:e=""===e||null==e?t:e,silent_redirect_uri:"".concat(t,"/silentRenew.html"),automaticSilentRenew:!0,filterProtocolClaims:!0,loadUserInfo:!0,monitorSession:!0}};s("alert",function(e){return"success"===e.type?alertify.success(e.message):"error"===e.type?(console.log("dwkit",e.type,e.message),alertify.error(e.message)):alertify.log("Notification",e.type)});var a=n(6),Vn=n.n(a),mn=n(3);function yn(e){return(yn="function"==typeof Symbol&&"symbol"==$n(Symbol.iterator)?function(e){return $n(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":$n(e)})(e)}function vn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function gn(e,t){return(gn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function bn(e){return(bn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var wn=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&gn(e,t)}(t,Rt);var n,r,e=(n=t,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=bn(n),t=r?(t=bn(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this;return!t||"object"!==yn(t)&&"function"!=typeof t?function(){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}():t});function t(){return function(e){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),e.apply(this,arguments)}return vn(t.prototype,[{key:"render",value:function(){return se.a.createElement(mn.Modal,{open:!0},se.a.createElement(mn.Modal.Header,null,this.props.title),se.a.createElement(mn.Modal.Content,null,this.props.text),se.a.createElement(mn.Modal.Actions,null,se.a.createElement(mn.Button,{className:"buttontype1",content:this.props.ok,onClick:this.confirm}),se.a.createElement(mn.Button,{className:"buttontype2",content:this.props.cancel,onClick:this.abort})))}}]),t}();s("confirm",function(e){return e=e.messages,t=document.body.appendChild(document.createElement("div")),Vn.a.render(se.a.createElement(wn,e),t).promise.finally(function(){return Vn.a.unmountComponentAtNode(t),setTimeout(function(){return t.remove()})});var t});var a=n(28),On=n.n(a);function Cn(e){var t=e.isOpen,n=e.title,r=e.onRequestClose,o=e.onAfterOpen,i=e.children,a=e.className,l=e.overlayClassName,s=e.from,c=e.width,e=e.closeOnOutsideClick,s="slide-pane_from_".concat(void 0===s?"right":s);return se.a.createElement(On.a,{ariaHideApp:!1,className:"slide-pane ".concat(s," ").concat(a||""),style:{content:{width:c||"80%"}},overlayClassName:"slide-pane__overlay ".concat(l||""),closeTimeoutMS:500,isOpen:t,onAfterOpen:o,onRequestClose:r,shouldCloseOnOverlayClick:e,contentLabel:'Modal "'.concat(n||"",'"')},se.a.createElement("div",{className:"slide-pane__header"},se.a.createElement("div",{className:"slide-pane__close",onClick:r},se.a.createElement(kn,null)),se.a.createElement("div",{className:"slide-pane__title-wrapper"},se.a.createElement("h2",{className:"slide-pane__title"},n))),se.a.createElement("div",{className:"slide-pane__content"},i))}function kn(){return se.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 13 22"},se.a.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M4 11l8 8c.6.5.6 1.5 0 2-.5.6-1.5.6-2 0l-9-9c-.6-.5-.6-1.5 0-2l9-9c.5-.6 1.5-.6 2 0 .6.5.6 1.5 0 2l-8 8z"}))}function En(e){return(En="function"==typeof Symbol&&"symbol"==$n(Symbol.iterator)?function(e){return $n(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":$n(e)})(e)}function An(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function Sn(r){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?An(Object(o),!0).forEach(function(e){var t,n=r;e=o[t=e],t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(o)):An(Object(o)).forEach(function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(o,e))})}return r}function _n(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function xn(){return(xn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Pn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function jn(e,t){return(jn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Rn(e){return(Rn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var a=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&jn(e,t)}(o,le.Component);var n,r,t=(n=o,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=Rn(n),t=r?(t=Rn(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this;return!t||"object"!==En(t)&&"function"!=typeof t?function(){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}():t});function o(e){!function(e){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this),(e=t.call(this,e)).state={isrtl:!1};try{e.state.isrtl="rtl"==getComputedStyle(document.getElementsByTagName("html")[0]).direction}catch(e){}return e}return Pn(o.prototype,[{key:"render",value:function(){var i=this,a=this,e=this.props.windowsOrder.map(function(e,t,n){function r(){a.props.executeActions({key:void 0,controlRef:a,formName:a.props.formName,schemeName:a.props.schemeName,component:a,eventName:"exit",actions:["exit"],parameters:void 0,modalId:o.id})}var o=i.props.childWindows[e];return"modal"===o.viewType?se.a.createElement(mn.Modal,{open:!0,key:o.id,onClose:r,closeOnDimmerClick:o.closeOnOutsideClick},se.a.createElement(mn.Modal.Content,null,se.a.createElement(nt,xn({key:o.id+o.keyIndex},o,{model:i.props.childModels[o.name]})))):(e=t===n.length-1?"last-pane-overlay":"",t="right",n="80%",o.sidebarSettings&&(o.sidebarSettings.from&&(t=o.sidebarSettings.from),o.sidebarSettings.width&&(n=o.sidebarSettings.width)),i.state.isrtl&&("right"===t?t="left":"left"===t&&(t="right")),se.a.createElement(Cn,{key:o.id,overlayClassName:e,isOpen:!0,from:t,onRequestClose:r,width:n,closeOnDimmerClick:o.closeOnOutsideClick},se.a.createElement(nt,xn({key:o.id+o.keyIndex},o,{model:i.props.childModels[o.name]}))))});return se.a.createElement("div",{ref:function(e){return i.el=e}},e)}}]),o}(),Dn=Object(t.connect)(function(e){var t,n,r=e.app.modals.windows,o=e.app.modals.models,i={},a={};for(t in r)if(r.hasOwnProperty(t)){var l=null==(l=null==(l=o[r[t].name])?void 0:l.formParams)?void 0:l.schemes;a[t]={id:t,errors:r[t].errors,name:r[t].name,viewType:r[t].viewType,sidebarSettings:r[t].sidebarSettings,onOpenFunc:r[t].onOpenFunc,onCloseFunc:r[t].onCloseFunc,schemes:l,isNew:null===r[t].data||void 0===r[t].data?void 0:r[t].data.isNew,hideControls:r[t].hideControls,readOnlyControls:r[t].readOnlyControls,readOnly:r[t].readOnly,preventLoad:r[t].preventLoad,flowName:r[t].flowName,schemeName:r[t].schemeName,keyIndex:r[t].keyIndex,filter:null===r[t].data||void 0===r[t].data?void 0:r[t].data.filter,type:r[t].type,callContext:r[t].callContext,closeOnOutsideClick:void 0===r[t].closeOnOutsideClick||r[t].closeOnOutsideClick},!r[t].data||void 0!==(l=r[t].data.modified)&&(a[t].data=Array.isArray(l)?function(e){if(Array.isArray(e))return _n(e)}(n=l)||function(){if("undefined"!=typeof Symbol&&null!=n[Symbol.iterator]||null!=n["@@iterator"])return Array.from(n)}()||function(e){if(e){if("string"==typeof e)return _n(e,void 0);var t=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(t="Object"===t&&e.constructor?e.constructor.name:t)||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?_n(e,void 0):void 0}}(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}():Sn({},l));var s=r[t].filters;if(s){var c,u={};for(c in s)s.hasOwnProperty(c)&&(u[c]=s[c].filter(function(e){return null!==e.value}).map(function(e){return Sn({},e)}));a[t].controlFilters=u}}return Object.keys(o).forEach(function(e){i[e]=o[e].model}),{childModels:i,childWindows:a,windowsOrder:e.app.modals.order}},gt)(a);function Tn(e){return(Tn="function"==typeof Symbol&&"symbol"==$n(Symbol.iterator)?function(e){return $n(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":$n(e)})(e)}function Fn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Nn(e,t){return(Nn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function In(e){return(In=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Ln=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Nn(e,t)}(t,Et);var n,r,e=(n=t,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=In(n),t=r?(t=In(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this;return!t||"object"!==Tn(t)&&"function"!=typeof t?function(){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}():t});function t(){return function(e){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),e.apply(this,arguments)}return Fn(t.prototype,[{key:"render",value:function(){return se.a.createElement("div",null,this.drawMainForm(),se.a.createElement(Dn,null))}}]),t}();function Un(){return(Un=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}s("content",function(e){return se.a.createElement(Ln,Un({key:e.key},e.props))});var Mn=n(29);function Bn(e){return(Bn="function"==typeof Symbol&&"symbol"==$n(Symbol.iterator)?function(e){return $n(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":$n(e)})(e)}function zn(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function Wn(r){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?zn(Object(o),!0).forEach(function(e){var t,n=r;e=o[t=e],t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(o)):zn(Object(o)).forEach(function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(o,e))})}return r}function Kn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Gn(e,t){return(Gn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Hn(e){return(Hn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}s("dwkit-form",function(e){return se.a.createElement(Mn.DWKitForm,e.props)}),a=n(30);var s=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Gn(e,t)}(t,le.Component);var n,r,e=(n=t,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=Hn(n),t=r?(t=Hn(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this;return!t||"object"!==Bn(t)&&"function"!=typeof t?function(){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}():t});function t(){return function(e){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),e.apply(this,arguments)}return Kn(t.prototype,[{key:"render",value:function(){return this.props.children?se.a.Children.only(this.props.children):null}},{key:"componentDidMount",value:function(){"#_=_"===this.props.history.location.hash?this.props.history.push(Wn(Wn({},this.props.history.location),{},{hash:null})):this.props.history.location.hash&&-1<this.props.history.location.hash.substring(1,this.props.history.location.hash.length-1).split("=").indexOf("id_token")&&(U(B).onLogon(),this.props.history.push(Wn(Wn({},this.props.history.location),{},{hash:null}))),this.props.onRouteChanged()}},{key:"componentDidUpdate",value:function(){var e,t=!1;this.props.push&&(e={pathname:this.props.push},this.props.history.push(e),t=!0),this.props.redirect&&(e={pathname:this.props.redirect},this.props.history.replace(e),t=!1),this.props.reload&&(this.props.onReload?this.props.onReload():console.log("ApplicationRouter: Need to define handler for onReload"),t=!0),this.props.refresh&&(this.props.onRefresh?this.props.onRefresh():console.log("ApplicationRouter: Need to define handler for onRefresh"),t=!0),this.props.onRouteChanged(t)}}]),t}(),qn=Object(a.withRouter)(Object(t.connect)(function(e,t){return{push:e.router.push,redirect:e.router.redirect,refresh:e.router.refresh,reload:e.router.reload}},function(t,n){return{onRouteChanged:function(e){t(N.router.routechanged(n.history,(n.history&&n.history.location?n.history:n).location,e))}}})(s)),Qn=n(31),Jn={connection:null,Connect:function(i){null!==this.connection&&(this.connection.off("StateChange"),this.connection.stop());var e=i.encodeQueryData({}),t=i.getState().settings,n=t.backendUrl;n+=0<e.length?t.notificationhub+"?"+e:t.notificationhub,this.connection=(new Qn.HubConnectionBuilder).withUrl(n).build(),this.connection.on("StateChange",function(e){if(null!=e&&null!==e.path&&void 0!==e.path&&"string"==typeof e.path){for(var t=e.path.split("."),n={},r=n,o=0;o<t.length;o++)o===t.length-1?r[t[o]]=e.change:(r[t[o]]={},r=r[t[o]]);i.dispatch(N.updatestate(n))}}),this.connection.start()}},Yn=n(32),Xn=null;function Zn(){var e;return Xn||(e=hn(),(Xn=new Yn.UserManager(e)).events.addUserLoaded(function(){Xn.getUser().then(function(e){e&&!e.expired&&Ge.configureHeaders(e.access_token)})}),Xn.events.addUserSignedOut(function(){Xn.removeUser().then(function(){Xn.signinRedirect()})})),Xn}o("identityserver",{preFetchUser:function(){return Zn().getUser().then(function(e){return e&&!e.expired?(Ge.configureHeaders(e.access_token),ie.Promise.resolve()):Zn().signinSilent().catch(function(e){console.log("preFetchUser: signin error",e),Zn().signinRedirect()})})},logoff:function(){var e=Zn();e.signoutRedirect(),e.removeUser()},onLogon:function(){Zn().signinRedirectCallback().then(function(e){Ge.configureHeaders(e.access_token)}).catch(function(e){console.log("onLogon: signin error",e),Zn().signinRedirect()})}})}],F.c=I,F.d=function(e,t,n){F.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},F.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},F.t=function(t,e){if(1&e&&(t=F(t)),8&e)return t;if(4&e&&"object"==$n(t)&&t&&t.__esModule)return t;var n=Object.create(null);if(F.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)F.d(n,r,function(e){return t[e]}.bind(null,r));return n},F.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return F.d(t,"a",t),t},F.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},F.p="",F(F.s=35);function F(e){if(I[e])return I[e].exports;var t=I[e]={i:e,l:!1,exports:{}};return N[e].call(t.exports,t,t.exports,F),t.l=!0,t.exports}var N,I},"object"==$n(r)&&"object"==$n(e)?e.exports=n(o(6),o(53),o(154),o(74),o(155),o(75),o(51),o(156),o(78),o(76),o(52),o(77),o(79),o(80),o(81),o(82),o(83),o(84),o(85),o(86),o(87),o(88),o(89),o(157),o(158),o(159),o(160),o(161),o(162),o(26),o(163),o(164),o(165)):(t=[o(6),o(53),o(154),o(74),o(155),o(75),o(51),o(156),o(78),o(76),o(52),o(77),o(79),o(80),o(81),o(82),o(83),o(84),o(85),o(86),o(87),o(88),o(89),o(157),o(158),o(159),o(160),o(161),o(162),o(26),o(163),o(164),o(165)],void 0===(n="function"==typeof(n=n)?n.apply(r,t):n)||(e.exports=n))}.call(this,o(117)(e))},function(e,t,n){var r=n(54)("wks"),o=n(37),i=n(2).Symbol,a="function"==typeof i;(e.exports=function(e){return r[e]||(r[e]=a&&i[e]||(a?i:o)("Symbol."+e))}).store=r},function(e,t,n){var r=n(24),o=Math.min;e.exports=function(e){return 0<e?o(r(e),9007199254740991):0}},function(e,t,n){e.exports=!n(4)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(e,t,n){var r=n(1),o=n(118),i=n(27),a=Object.defineProperty;t.f=n(10)?Object.defineProperty:function(e,t,n){if(r(e),t=i(t,!0),r(n),o)try{return a(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e}},function(e,t,n){var r=n(28);e.exports=function(e){return Object(r(e))}},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,t,n){var r=n(11),o=n(36);e.exports=n(10)?function(e,t,n){return r.f(e,t,o(1,n))}:function(e,t,n){return e[t]=n,e}},function(e,t,n){var i=n(2),a=n(14),l=n(17),s=n(37)("src"),r=n(171),c=(""+r).split("toString");n(21).inspectSource=function(e){return r.call(e)},(e.exports=function(e,t,n,r){var o="function"==typeof n;o&&(l(n,"name")||a(n,"name",t)),e[t]!==n&&(o&&(l(n,s)||a(n,s,e[t]?""+e[t]:c.join(String(t)))),e===i?e[t]=n:r?e[t]?e[t]=n:a(e,t,n):(delete e[t],a(e,t,n)))})(Function.prototype,"toString",function(){return"function"==typeof this&&this[s]||r.call(this)})},function(e,t,n){function r(e,t,n,r){var o=String(a(e)),e="<"+t;return""!==n&&(e+=" "+n+'="'+String(r).replace(l,"&quot;")+'"'),e+">"+o+"</"+t+">"}var o=n(0),i=n(4),a=n(28),l=/"/g;e.exports=function(t,e){var n={};n[t]=e(r),o(o.P+o.F*i(function(){var e=""[t]('"');return e!==e.toLowerCase()||3<e.split('"').length}),"String",n)}},function(e,t){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},function(e,t,n){var r=n(55),o=n(28);e.exports=function(e){return r(o(e))}},function(e,t,n){var r=n(56),o=n(36),i=n(18),a=n(27),l=n(17),s=n(118),c=Object.getOwnPropertyDescriptor;t.f=n(10)?c:function(e,t){if(e=i(e),t=a(t,!0),s)try{return c(e,t)}catch(e){}if(l(e,t))return o(!r.f.call(e,t),e[t])}},function(e,t,n){var r=n(17),o=n(12),i=n(92)("IE_PROTO"),a=Object.prototype;e.exports=Object.getPrototypeOf||function(e){return e=o(e),r(e,i)?e[i]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?a:null}},function(e,t){e=e.exports={version:"2.6.12"};"number"==typeof __e&&(__e=e)},function(e,t,n){var i=n(13);e.exports=function(r,o,e){if(i(r),void 0===o)return r;switch(e){case 1:return function(e){return r.call(o,e)};case 2:return function(e,t){return r.call(o,e,t)};case 3:return function(e,t,n){return r.call(o,e,t,n)}}return function(){return r.apply(o,arguments)}}},function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},function(e,t){var n=Math.ceil,r=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(0<e?r:n)(e)}},function(e,t,n){"use strict";var r=n(4);e.exports=function(e,t){return!!e&&r(function(){t?e.call(null,function(){},1):e.call(null)})}},function(e,t,n){e.exports=n(3)(862)},function(e,t,n){var o=n(5);e.exports=function(e,t){if(!o(e))return e;var n,r;if(t&&"function"==typeof(n=e.toString)&&!o(r=n.call(e)))return r;if("function"==typeof(n=e.valueOf)&&!o(r=n.call(e)))return r;if(!t&&"function"==typeof(n=e.toString)&&!o(r=n.call(e)))return r;throw TypeError("Can't convert object to primitive value")}},function(e,t){e.exports=function(e){if(null==e)throw TypeError("Can't call method on  "+e);return e}},function(e,t,n){var o=n(0),i=n(21),a=n(4);e.exports=function(e,t){var n=(i.Object||{})[e]||Object[e],r={};r[e]=t(n),o(o.S+o.F*a(function(){n(1)}),"Object",r)}},function(e,t,n){var g=n(22),b=n(55),w=n(12),O=n(9),r=n(108);e.exports=function(p,e){var f=1==p,d=2==p,h=3==p,V=4==p,m=6==p,y=5==p||m,v=e||r;return function(e,t,n){for(var r,o,i=w(e),a=b(i),l=g(t,n,3),s=O(a.length),c=0,u=f?v(e,s):d?v(e,0):void 0;c<s;c++)if((y||c in a)&&(o=l(r=a[c],c,i),p))if(f)u[c]=o;else if(o)switch(p){case 3:return!0;case 5:return r;case 6:return c;case 2:u.push(r)}else if(V)return!1;return m?-1:h||V?V:u}}},function(e,t,n){"use strict";var d,h,V,m,y,r,p,v,o,g,i,a,b,w,l,s,c,O,C,f,k,E,A,S,_,u,x,P,j,R,D,T,F,N,I,L,U,M,B,z,W,K,G,H,q,Q,J,Y,X,Z,$,ee,te,ne,re,oe,ie,ae,le,se,ce,ue,pe,fe,de,he,Ve,me,ye,ve,ge,be,we,Oe,Ce,ke,Ee,Ae,Se,_e,xe,Pe,je,Re,De,Te,Fe,Ne,Ie,Le,Ue,Me,Be;n(10)?(d=n(33),h=n(2),V=n(4),m=n(0),y=n(70),r=n(116),p=n(22),v=n(43),o=n(36),g=n(14),i=n(45),a=n(24),b=n(9),w=n(146),l=n(39),s=n(27),c=n(17),O=n(48),C=n(5),f=n(12),k=n(105),E=n(40),A=n(20),S=n(41).f,_=n(107),Ue=n(37),xe=n(8),Me=n(30),u=n(60),x=n(58),P=n(110),j=n(50),R=n(65),D=n(42),T=n(109),F=n(135),N=n(11),I=n(19),L=N.f,U=I.f,M=h.RangeError,B=h.TypeError,z=h.Uint8Array,K="Shared"+(W="ArrayBuffer"),G="BYTES_PER_ELEMENT",H="prototype",n=Array[H],q=r.ArrayBuffer,Q=r.DataView,J=Me(0),Y=Me(2),X=Me(3),Z=Me(4),$=Me(5),ee=Me(6),te=u(!0),ne=u(!1),re=P.values,oe=P.keys,ie=P.entries,ae=n.lastIndexOf,le=n.reduce,se=n.reduceRight,ce=n.join,ue=n.sort,pe=n.slice,fe=n.toString,de=n.toLocaleString,he=xe("iterator"),Ve=xe("toStringTag"),me=Ue("typed_constructor"),ye=Ue("def_constructor"),n=y.CONSTR,ve=y.TYPED,ge=y.VIEW,be="Wrong length!",we=Me(1,function(e,t){return Ae(x(e,e[ye]),t)}),Oe=V(function(){return 1===new z(new Uint16Array([1]).buffer)[0]}),Ce=!!z&&!!z[H].set&&V(function(){new z(1).set({})}),ke=function(e,t){e=a(e);if(e<0||e%t)throw M("Wrong offset!");return e},Ee=function(e){if(C(e)&&ve in e)return e;throw B(e+" is not a typed array!")},Ae=function(e,t){if(!(C(e)&&me in e))throw B("It is not a typed array constructor!");return new e(t)},Se=function(e,t){return _e(x(e,e[ye]),t)},_e=function(e,t){for(var n=0,r=t.length,o=Ae(e,r);n<r;)o[n]=t[n++];return o},xe=function(e,t,n){L(e,t,{get:function(){return this._d[n]}})},Pe=function(e){var t,n,r,o,i,a,l=f(e),s=arguments.length,c=1<s?arguments[1]:void 0,u=void 0!==c,e=_(l);if(null!=e&&!k(e)){for(a=e.call(l),r=[],t=0;!(i=a.next()).done;t++)r.push(i.value);l=r}for(u&&2<s&&(c=p(c,arguments[2],2)),t=0,n=b(l.length),o=Ae(this,n);t<n;t++)o[t]=u?c(l[t],t):l[t];return o},je=function(){for(var e=0,t=arguments.length,n=Ae(this,t);e<t;)n[e]=arguments[e++];return n},Re=!!z&&V(function(){de.call(new z(1))}),De=function(){return de.apply(Re?pe.call(Ee(this)):Ee(this),arguments)},Te={copyWithin:function(e,t){return F.call(Ee(this),e,t,2<arguments.length?arguments[2]:void 0)},every:function(e){return Z(Ee(this),e,1<arguments.length?arguments[1]:void 0)},fill:function(e){return T.apply(Ee(this),arguments)},filter:function(e){return Se(this,Y(Ee(this),e,1<arguments.length?arguments[1]:void 0))},find:function(e){return $(Ee(this),e,1<arguments.length?arguments[1]:void 0)},findIndex:function(e){return ee(Ee(this),e,1<arguments.length?arguments[1]:void 0)},forEach:function(e){J(Ee(this),e,1<arguments.length?arguments[1]:void 0)},indexOf:function(e){return ne(Ee(this),e,1<arguments.length?arguments[1]:void 0)},includes:function(e){return te(Ee(this),e,1<arguments.length?arguments[1]:void 0)},join:function(e){return ce.apply(Ee(this),arguments)},lastIndexOf:function(e){return ae.apply(Ee(this),arguments)},map:function(e){return we(Ee(this),e,1<arguments.length?arguments[1]:void 0)},reduce:function(e){return le.apply(Ee(this),arguments)},reduceRight:function(e){return se.apply(Ee(this),arguments)},reverse:function(){for(var e,t=Ee(this).length,n=Math.floor(t/2),r=0;r<n;)e=this[r],this[r++]=this[--t],this[t]=e;return this},some:function(e){return X(Ee(this),e,1<arguments.length?arguments[1]:void 0)},sort:function(e){return ue.call(Ee(this),e)},subarray:function(e,t){var n=Ee(this),r=n.length,e=l(e,r);return new(x(n,n[ye]))(n.buffer,n.byteOffset+e*n.BYTES_PER_ELEMENT,b((void 0===t?r:l(t,r))-e))}},Fe=function(e,t){return Se(this,pe.call(Ee(this),e,t))},Ne=function(e){Ee(this);var t=ke(arguments[1],1),n=this.length,r=f(e),o=b(r.length),i=0;if(n<o+t)throw M(be);for(;i<o;)this[t+i]=r[i++]},Ie={entries:function(){return ie.call(Ee(this))},keys:function(){return oe.call(Ee(this))},values:function(){return re.call(Ee(this))}},Le=function(e,t){return C(e)&&e[ve]&&"symbol"!=typeof t&&t in e&&String(+t)==String(t)},Ue=function(e,t){return Le(e,t=s(t,!0))?o(2,e[t]):U(e,t)},Me=function(e,t,n){return!(Le(e,t=s(t,!0))&&C(n)&&c(n,"value"))||c(n,"get")||c(n,"set")||n.configurable||c(n,"writable")&&!n.writable||c(n,"enumerable")&&!n.enumerable?L(e,t,n):(e[t]=n.value,e)},n||(I.f=Ue,N.f=Me),m(m.S+m.F*!n,"Object",{getOwnPropertyDescriptor:Ue,defineProperty:Me}),V(function(){fe.call({})})&&(fe=de=function(){return ce.call(this)}),Be=i({},Te),i(Be,Ie),g(Be,he,Ie.values),i(Be,{slice:Fe,set:Ne,constructor:function(){},toString:fe,toLocaleString:De}),xe(Be,"buffer","b"),xe(Be,"byteOffset","o"),xe(Be,"byteLength","l"),xe(Be,"length","e"),L(Be,Ve,{get:function(){return this[ve]}}),e.exports=function(e,c,t,r){function u(e,t){L(e,t,{get:function(){return function(e,t){e=e._d;return e.v[n](t*c+e.o,Oe)}(this,t)},set:function(e){return function(e,t,n){e=e._d;r&&(n=(n=Math.round(n))<0?0:255<n?255:255&n),e.v[o](t*c+e.o,n,Oe)}(this,t,e)},enumerable:!0})}var p=e+((r=!!r)?"Clamped":"")+"Array",n="get"+e,o="set"+e,f=h[p],i=f||{},a=f&&A(f),l=!f||!y.ABV,e={},s=f&&f[H];l?(f=t(function(e,t,n,r){v(e,f,p,"_d");var o,i,a=0,l=0;if(C(t)){if(!(t instanceof q||(s=O(t))==W||s==K))return ve in t?_e(f,t):Pe.call(f,t);var s=t,l=ke(n,c),n=t.byteLength;if(void 0===r){if(n%c)throw M(be);if((o=n-l)<0)throw M(be)}else if(n<(o=b(r)*c)+l)throw M(be);i=o/c}else i=w(t),s=new q(o=i*c);for(g(e,"_d",{b:s,o:l,l:o,e:i,v:new Q(s)});a<i;)u(e,a++)}),s=f[H]=E(Be),g(s,"constructor",f)):V(function(){f(1)})&&V(function(){new f(-1)})&&R(function(e){new f,new f(null),new f(1.5),new f(e)},!0)||(f=t(function(e,t,n,r){var o;return v(e,f,p),C(t)?t instanceof q||(o=O(t))==W||o==K?void 0!==r?new i(t,ke(n,c),r):void 0!==n?new i(t,ke(n,c)):new i(t):ve in t?_e(f,t):Pe.call(f,t):new i(w(t))}),J(a!==Function.prototype?S(i).concat(S(a)):S(i),function(e){e in f||g(f,e,i[e])}),f[H]=s,d||(s.constructor=f));l=s[he],t=!!l&&("values"==l.name||null==l.name),a=Ie.values;g(f,me,!0),g(s,ve,p),g(s,ge,!0),g(s,ye,f),(r?new f(1)[Ve]==p:Ve in s)||L(s,Ve,{get:function(){return p}}),e[p]=f,m(m.G+m.W+m.F*(f!=i),e),m(m.S,p,{BYTES_PER_ELEMENT:c}),m(m.S+m.F*V(function(){i.of.call(f,1)}),p,{from:Pe,of:je}),G in s||g(s,G,c),m(m.P,p,Te),D(p),m(m.P+m.F*Ce,p,{set:Ne}),m(m.P+m.F*!t,p,Ie),d||s.toString==fe||(s.toString=fe),m(m.P+m.F*V(function(){new f(1).slice()}),p,{slice:Fe}),m(m.P+m.F*(V(function(){return[1,2].toLocaleString()!=new f([1,2]).toLocaleString()})||!V(function(){s.toLocaleString.call([1,2])})),p,{toLocaleString:De}),j[p]=t?l:a,d||t||g(s,he,a)}):e.exports=function(){}},function(e,t,n){function o(e,t,n){var r=l.get(e);if(!r){if(!n)return;l.set(e,r=new i)}if(!(e=r.get(t))){if(!n)return;r.set(t,e=new i)}return e}var i=n(141),r=n(0),a=n(54)("metadata"),l=a.store||(a.store=new(n(144)));e.exports={store:l,map:o,has:function(e,t,n){n=o(t,n,!1);return void 0!==n&&n.has(e)},get:function(e,t,n){n=o(t,n,!1);return void 0===n?void 0:n.get(e)},set:function(e,t,n,r){o(n,r,!0).set(e,t)},keys:function(e,t){var t=o(e,t,!1),n=[];return t&&t.forEach(function(e,t){n.push(t)}),n},key:function(e){return void 0===e||"symbol"==typeof e?e:String(e)},exp:function(e){r(r.S,"Reflect",e)}}},function(e,t){e.exports=!1},function(e,t,n){function r(e){l(e,o,{value:{i:"O"+ ++s,w:{}}})}var o=n(37)("meta"),i=n(5),a=n(17),l=n(11).f,s=0,c=Object.isExtensible||function(){return!0},u=!n(4)(function(){return c(Object.preventExtensions({}))}),p=e.exports={KEY:o,NEED:!1,fastKey:function(e,t){if(!i(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!a(e,o)){if(!c(e))return"F";if(!t)return"E";r(e)}return e[o].i},getWeak:function(e,t){if(!a(e,o)){if(!c(e))return!0;if(!t)return!1;r(e)}return e[o].w},onFreeze:function(e){return u&&p.NEED&&c(e)&&!a(e,o)&&r(e),e}}},function(e,t,n){var r=n(8)("unscopables"),o=Array.prototype;null==o[r]&&n(14)(o,r,{}),e.exports=function(e){o[r][e]=!0}},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t){var n=0,r=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++n+r).toString(36))}},function(e,t,n){var r=n(120),o=n(93);e.exports=Object.keys||function(e){return r(e,o)}},function(e,t,n){var r=n(24),o=Math.max,i=Math.min;e.exports=function(e,t){return(e=r(e))<0?o(e+t,0):i(e,t)}},function(e,t,n){function r(){}var o=n(1),i=n(121),a=n(93),l=n(92)("IE_PROTO"),s="prototype",c=function(){var e=n(90)("iframe"),t=a.length;for(e.style.display="none",n(94).appendChild(e),e.src="javascript:",(e=e.contentWindow.document).open(),e.write("<script>document.F=Object<\/script>"),e.close(),c=e.F;t--;)delete c[s][a[t]];return c()};e.exports=Object.create||function(e,t){var n;return null!==e?(r[s]=o(e),n=new r,r[s]=null,n[l]=e):n=c(),void 0===t?n:i(n,t)}},function(e,t,n){var r=n(120),o=n(93).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return r(e,o)}},function(e,t,n){"use strict";var r=n(2),o=n(11),i=n(10),a=n(8)("species");e.exports=function(e){e=r[e];i&&e&&!e[a]&&o.f(e,a,{configurable:!0,get:function(){return this}})}},function(e,t){e.exports=function(e,t,n,r){if(!(e instanceof t)||void 0!==r&&r in e)throw TypeError(n+": incorrect invocation!");return e}},function(e,t,n){var p=n(22),f=n(133),d=n(105),h=n(1),V=n(9),m=n(107),y={},v={};(t=e.exports=function(e,t,n,r,o){var i,a,l,s,o=o?function(){return e}:m(e),c=p(n,r,t?2:1),u=0;if("function"!=typeof o)throw TypeError(e+" is not iterable!");if(d(o)){for(i=V(e.length);u<i;u++)if((s=t?c(h(a=e[u])[0],a[1]):c(e[u]))===y||s===v)return s}else for(l=o.call(e);!(a=l.next()).done;)if((s=f(l,c,a.value,t))===y||s===v)return s}).BREAK=y,t.RETURN=v},function(e,t,n){var o=n(15);e.exports=function(e,t,n){for(var r in t)o(e,r,t[r],n);return e}},function(e,t,n){var r=n(5);e.exports=function(e,t){if(!r(e)||e._t!==t)throw TypeError("Incompatible receiver, "+t+" required!");return e}},function(e,t,n){var r=n(11).f,o=n(17),i=n(8)("toStringTag");e.exports=function(e,t,n){e&&!o(e=n?e:e.prototype,i)&&r(e,i,{configurable:!0,value:t})}},function(e,t,n){var r=n(23),o=n(8)("toStringTag"),i="Arguments"==r(function(){return arguments}());e.exports=function(e){var t;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(e=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),o))?e:i?r(t):"Object"==(e=r(t))&&"function"==typeof t.callee?"Arguments":e}},function(e,t,n){var i=n(0),r=n(28),a=n(4),l=n(96),n="["+l+"]",o=RegExp("^"+n+n+"*"),s=RegExp(n+n+"*$"),n=function(e,t,n){var r={},o=a(function(){return!!l[e]()||""!=""[e]()}),t=r[e]=o?t(c):l[e];n&&(r[n]=t),i(i.P+i.F*o,"String",r)},c=n.trim=function(e,t){return e=String(r(e)),1&t&&(e=e.replace(o,"")),e=2&t?e.replace(s,""):e};e.exports=n},function(e,t){e.exports={}},function(e,t,n){e.exports=n(3)(35)},function(e,t,n){e.exports=n(3)(8)},function(e,t,n){e.exports=n(3)(855)},function(e,t,n){var r=n(21),o=n(2),i="__core-js_shared__",a=o[i]||(o[i]={});(e.exports=function(e,t){return a[e]||(a[e]=void 0!==t?t:{})})("versions",[]).push({version:r.version,mode:n(33)?"pure":"global",copyright:" 2020 Denis Pushkarev (zloirock.ru)"})},function(e,t,n){var r=n(23);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==r(e)?e.split(""):Object(e)}},function(e,t){t.f={}.propertyIsEnumerable},function(e,t,n){"use strict";var r=n(1);e.exports=function(){var e=r(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},function(e,t,n){var r=n(1),o=n(13),i=n(8)("species");e.exports=function(e,t){var n,e=r(e).constructor;return void 0===e||null==(n=r(e)[i])?t:o(n)}},function(e,t,n){e.exports=n(3)(57)},function(e,t,n){var s=n(18),c=n(9),u=n(39);e.exports=function(l){return function(e,t,n){var r,o=s(e),i=c(o.length),a=u(n,i);if(l&&t!=t){for(;a<i;)if((r=o[a++])!=r)return!0}else for(;a<i;a++)if((l||a in o)&&o[a]===t)return l||a||0;return!l&&-1}}},function(e,t){t.f=Object.getOwnPropertySymbols},function(e,t,n){var r=n(23);e.exports=Array.isArray||function(e){return"Array"==r(e)}},function(e,t,n){var a=n(24),l=n(28);e.exports=function(i){return function(e,t){var n,r=String(l(e)),o=a(t),e=r.length;return o<0||e<=o?i?"":void 0:(t=r.charCodeAt(o))<55296||56319<t||o+1===e||(n=r.charCodeAt(o+1))<56320||57343<n?i?r.charAt(o):t:i?r.slice(o,o+2):n-56320+(t-55296<<10)+65536}}},function(e,t,n){var r=n(5),o=n(23),i=n(8)("match");e.exports=function(e){var t;return r(e)&&(void 0!==(t=e[i])?!!t:"RegExp"==o(e))}},function(e,t,n){var i=n(8)("iterator"),a=!1;try{var r=[7][i]();r.return=function(){a=!0},Array.from(r,function(){throw 2})}catch(e){}e.exports=function(e,t){if(!t&&!a)return!1;var n=!1;try{var r=[7],o=r[i]();o.next=function(){return{done:n=!0}},r[i]=function(){return o},e(r)}catch(e){}return n}},function(e,t,n){"use strict";var r=n(48),o=RegExp.prototype.exec;e.exports=function(e,t){var n=e.exec;if("function"==typeof n){n=n.call(e,t);if("object"!=typeof n)throw new TypeError("RegExp exec method returned something other than an Object or null");return n}if("RegExp"!==r(e))throw new TypeError("RegExp#exec called on incompatible receiver");return o.call(e,t)}},function(e,t,n){"use strict";n(137);var s=n(15),c=n(14),u=n(4),p=n(28),f=n(8),d=n(111),h=f("species"),V=!u(function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")}),m=function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};e="ab".split(e);return 2===e.length&&"a"===e[0]&&"b"===e[1]}();e.exports=function(n,e,t){var i,r,o=f(n),a=!u(function(){var e={};return e[o]=function(){return 7},7!=""[n](e)}),l=a?!u(function(){var e=!1,t=/a/;return t.exec=function(){return e=!0,null},"split"===n&&(t.constructor={},t.constructor[h]=function(){return t}),t[o](""),!e}):void 0;a&&l&&("replace"!==n||V)&&("split"!==n||m)||(i=/./[o],t=(l=t(p,o,""[n],function(e,t,n,r,o){return t.exec===d?a&&!o?{done:!0,value:i.call(t,n,r)}:{done:!0,value:e.call(n,t,r)}:{done:!1}}))[0],r=l[1],s(String.prototype,n,t),c(RegExp.prototype,o,2==e?function(e,t){return r.call(e,this,t)}:function(e){return r.call(e,this)}))}},function(e,t,n){n=n(2).navigator;e.exports=n&&n.userAgent||""},function(e,t,n){"use strict";var y=n(2),v=n(0),g=n(15),b=n(45),w=n(34),O=n(44),C=n(43),k=n(5),E=n(4),A=n(65),S=n(47),_=n(97);e.exports=function(n,e,t,r,o,i){function a(e){var n=V[e];g(V,e,"delete"==e?function(e){return!(i&&!k(e))&&n.call(this,0===e?0:e)}:"has"==e?function(e){return!(i&&!k(e))&&n.call(this,0===e?0:e)}:"get"==e?function(e){return i&&!k(e)?void 0:n.call(this,0===e?0:e)}:"add"==e?function(e){return n.call(this,0===e?0:e),this}:function(e,t){return n.call(this,0===e?0:e,t),this})}var l,s,c,u,p,f=y[n],d=f,h=o?"set":"add",V=d&&d.prototype,m={};return"function"==typeof d&&(i||V.forEach&&!E(function(){(new d).entries().next()}))?(s=(l=new d)[h](i?{}:-0,1)!=l,c=E(function(){l.has(1)}),u=A(function(e){new d(e)}),p=!i&&E(function(){for(var e=new d,t=5;t--;)e[h](t,t);return!e.has(-0)}),u||(((d=e(function(e,t){C(e,d,n);e=_(new f,e,d);return null!=t&&O(t,o,e[h],e),e})).prototype=V).constructor=d),(c||p)&&(a("delete"),a("has"),o&&a("get")),(p||s)&&a(h),i&&V.clear&&delete V.clear):(d=r.getConstructor(e,n,o,h),b(d.prototype,t),w.NEED=!0),S(d,n),m[n]=d,v(v.G+v.W+v.F*(d!=f),m),i||r.setStrong(d,n,o),d}},function(e,t,n){for(var r,o=n(2),i=n(14),n=n(37),a=n("typed_array"),l=n("view"),n=!(!o.ArrayBuffer||!o.DataView),s=n,c=0,u="Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array".split(",");c<9;)(r=o[u[c++]])?(i(r.prototype,a,!0),i(r.prototype,l,!0)):s=!1;e.exports={ABV:n,CONSTR:s,TYPED:a,VIEW:l}},function(e,t,n){"use strict";e.exports=n(33)||!n(4)(function(){var e=Math.random();__defineSetter__.call(null,e,function(){}),delete n(2)[e]})},function(e,t,n){"use strict";var r=n(0);e.exports=function(e){r(r.S,e,{of:function(){for(var e=arguments.length,t=new Array(e);e--;)t[e]=arguments[e];return new this(t)}})}},function(e,t,n){"use strict";var r=n(0),a=n(13),l=n(22),s=n(44);e.exports=function(e){r(r.S,e,{from:function(e){var t,n,r,o,i=arguments[1];return a(this),(t=void 0!==i)&&a(i),null==e?new this:(n=[],t?(r=0,o=l(i,arguments[2],2),s(e,!1,function(e){n.push(o(e,r++))})):s(e,!1,n.push,n),new this(n))}})}},function(e,t,n){e.exports=n(3)(880)},function(e,t,n){e.exports=n(3)(848)},function(e,t,n){e.exports=n(3)(46)},function(en,tn,e){var nn;
/*!
 * jQuery JavaScript Library v3.4.1
 * https://jquery.com/
 *
 * Includes Sizzle.js
 * https://sizzlejs.com/
 *
 * Copyright JS Foundation and other contributors
 * Released under the MIT license
 * https://jquery.org/license
 *
 * Date: 2019-05-01T21:04Z
 */
!function(e,t){"use strict";"object"==typeof en.exports?en.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}("undefined"!=typeof window?window:this,function(O,e){"use strict";function V(e){return null!=e&&e===e.window}var t=[],C=O.document,n=Object.getPrototypeOf,l=t.slice,m=t.concat,s=t.push,o=t.indexOf,r={},i=r.toString,y=r.hasOwnProperty,a=y.toString,c=a.call(Object),v={},g=function(e){return"function"==typeof e&&"number"!=typeof e.nodeType},u={type:!0,src:!0,nonce:!0,noModule:!0};function b(e,t,n){var r,o,i=(n=n||C).createElement("script");if(i.text=e,t)for(r in u)(o=t[r]||t.getAttribute&&t.getAttribute(r))&&i.setAttribute(r,o);n.head.appendChild(i).parentNode.removeChild(i)}function h(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?r[i.call(e)]||"object":typeof e}var k=function(e,t){return new k.fn.init(e,t)},p=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;function f(e){var t=!!e&&"length"in e&&e.length,n=h(e);return!g(e)&&!V(e)&&("array"===n||0===t||"number"==typeof t&&0<t&&t-1 in e)}k.fn=k.prototype={jquery:"3.4.1",constructor:k,length:0,toArray:function(){return l.call(this)},get:function(e){return null==e?l.call(this):e<0?this[e+this.length]:this[e]},pushStack:function(e){e=k.merge(this.constructor(),e);return e.prevObject=this,e},each:function(e){return k.each(this,e)},map:function(n){return this.pushStack(k.map(this,function(e,t){return n.call(e,t,e)}))},slice:function(){return this.pushStack(l.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,e=+e+(e<0?t:0);return this.pushStack(0<=e&&e<t?[this[e]]:[])},end:function(){return this.prevObject||this.constructor()},push:s,sort:t.sort,splice:t.splice},k.extend=k.fn.extend=function(){var e,t,n,r,o,i=arguments[0]||{},a=1,l=arguments.length,s=!1;for("boolean"==typeof i&&(s=i,i=arguments[a]||{},a++),"object"==typeof i||g(i)||(i={}),a===l&&(i=this,a--);a<l;a++)if(null!=(e=arguments[a]))for(t in e)n=e[t],"__proto__"!==t&&i!==n&&(s&&n&&(k.isPlainObject(n)||(r=Array.isArray(n)))?(o=i[t],o=r&&!Array.isArray(o)?[]:r||k.isPlainObject(o)?o:{},r=!1,i[t]=k.extend(s,o,n)):void 0!==n&&(i[t]=n));return i},k.extend({expando:"jQuery"+("3.4.1"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isPlainObject:function(e){return!(!e||"[object Object]"!==i.call(e))&&(!(e=n(e))||"function"==typeof(e=y.call(e,"constructor")&&e.constructor)&&a.call(e)===c)},isEmptyObject:function(e){for(var t in e)return!1;return!0},globalEval:function(e,t){b(e,{nonce:t&&t.nonce})},each:function(e,t){var n,r=0;if(f(e))for(n=e.length;r<n&&!1!==t.call(e[r],r,e[r]);r++);else for(r in e)if(!1===t.call(e[r],r,e[r]))break;return e},trim:function(e){return null==e?"":(e+"").replace(p,"")},makeArray:function(e,t){t=t||[];return null!=e&&(f(Object(e))?k.merge(t,"string"==typeof e?[e]:e):s.call(t,e)),t},inArray:function(e,t,n){return null==t?-1:o.call(t,e,n)},merge:function(e,t){for(var n=+t.length,r=0,o=e.length;r<n;r++)e[o++]=t[r];return e.length=o,e},grep:function(e,t,n){for(var r=[],o=0,i=e.length,a=!n;o<i;o++)!t(e[o],o)!=a&&r.push(e[o]);return r},map:function(e,t,n){var r,o,i=0,a=[];if(f(e))for(r=e.length;i<r;i++)null!=(o=t(e[i],i,n))&&a.push(o);else for(i in e)null!=(o=t(e[i],i,n))&&a.push(o);return m.apply([],a)},guid:1,support:v}),"function"==typeof Symbol&&(k.fn[Symbol.iterator]=t[Symbol.iterator]),k.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(e,t){r["[object "+t+"]"]=t.toLowerCase()});var d=
/*!
 * Sizzle CSS Selector Engine v2.3.4
 * https://sizzlejs.com/
 *
 * Copyright JS Foundation and other contributors
 * Released under the MIT license
 * https://js.foundation/
 *
 * Date: 2019-04-08
 */
function(n){function p(e,t,n){var r="0x"+t-65536;return r!=r||n?t:r<0?String.fromCharCode(65536+r):String.fromCharCode(r>>10|55296,1023&r|56320)}function r(){O()}var e,f,b,i,o,d,h,V,w,s,c,O,C,a,k,m,l,u,y,E="sizzle"+ +new Date,v=n.document,A=0,g=0,S=se(),_=se(),x=se(),P=se(),j=function(e,t){return e===t&&(c=!0),0},R={}.hasOwnProperty,t=[],D=t.pop,T=t.push,F=t.push,N=t.slice,I=function(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1},L="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",U="[\\x20\\t\\r\\n\\f]",M="(?:\\\\.|[\\w-]|[^\0-\\xa0])+",B="\\["+U+"*("+M+")(?:"+U+"*([*^$|!~]?=)"+U+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+M+"))|)"+U+"*\\]",z=":("+M+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+B+")*)|.*)\\)|)",W=new RegExp(U+"+","g"),K=new RegExp("^"+U+"+|((?:^|[^\\\\])(?:\\\\.)*)"+U+"+$","g"),G=new RegExp("^"+U+"*,"+U+"*"),H=new RegExp("^"+U+"*([>+~]|"+U+")"+U+"*"),q=new RegExp(U+"|>"),Q=new RegExp(z),J=new RegExp("^"+M+"$"),Y={ID:new RegExp("^#("+M+")"),CLASS:new RegExp("^\\.("+M+")"),TAG:new RegExp("^("+M+"|[*])"),ATTR:new RegExp("^"+B),PSEUDO:new RegExp("^"+z),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+U+"*(even|odd|(([+-]|)(\\d*)n|)"+U+"*(?:([+-]|)"+U+"*(\\d+)|))"+U+"*\\)|)","i"),bool:new RegExp("^(?:"+L+")$","i"),needsContext:new RegExp("^"+U+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+U+"*((?:-\\d)?\\d*)"+U+"*\\)|)(?=[^-]|$)","i")},X=/HTML$/i,Z=/^(?:input|select|textarea|button)$/i,$=/^h\d$/i,ee=/^[^{]+\{\s*\[native \w/,te=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ne=/[+~]/,re=new RegExp("\\\\([\\da-f]{1,6}"+U+"?|("+U+")|.)","ig"),oe=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,ie=function(e,t){return t?"\0"===e?"":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e},ae=ve(function(e){return!0===e.disabled&&"fieldset"===e.nodeName.toLowerCase()},{dir:"parentNode",next:"legend"});try{F.apply(t=N.call(v.childNodes),v.childNodes),t[v.childNodes.length].nodeType}catch(e){F={apply:t.length?function(e,t){T.apply(e,N.call(t))}:function(e,t){for(var n=e.length,r=0;e[n++]=t[r++];);e.length=n-1}}}function le(t,e,n,r){var o,i,a,l,s,c,u=e&&e.ownerDocument,p=e?e.nodeType:9;if(n=n||[],"string"!=typeof t||!t||1!==p&&9!==p&&11!==p)return n;if(!r&&((e?e.ownerDocument||e:v)!==C&&O(e),e=e||C,k)){if(11!==p&&(l=te.exec(t)))if(c=l[1]){if(9===p){if(!(i=e.getElementById(c)))return n;if(i.id===c)return n.push(i),n}else if(u&&(i=u.getElementById(c))&&y(e,i)&&i.id===c)return n.push(i),n}else{if(l[2])return F.apply(n,e.getElementsByTagName(t)),n;if((c=l[3])&&f.getElementsByClassName&&e.getElementsByClassName)return F.apply(n,e.getElementsByClassName(c)),n}if(f.qsa&&!P[t+" "]&&(!m||!m.test(t))&&(1!==p||"object"!==e.nodeName.toLowerCase())){if(c=t,u=e,1===p&&q.test(t)){for((a=e.getAttribute("id"))?a=a.replace(oe,ie):e.setAttribute("id",a=E),o=(s=d(t)).length;o--;)s[o]="#"+a+" "+ye(s[o]);c=s.join(","),u=ne.test(t)&&Ve(e.parentNode)||e}try{return F.apply(n,u.querySelectorAll(c)),n}catch(e){P(t,!0)}finally{a===E&&e.removeAttribute("id")}}}return V(t.replace(K,"$1"),e,n,r)}function se(){var n=[];function r(e,t){return n.push(e+" ")>b.cacheLength&&delete r[n.shift()],r[e+" "]=t}return r}function ce(e){return e[E]=!0,e}function ue(e){var t=C.createElement("fieldset");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function pe(e,t){for(var n=e.split("|"),r=n.length;r--;)b.attrHandle[n[r]]=t}function fe(e,t){var n=t&&e,r=n&&1===e.nodeType&&1===t.nodeType&&e.sourceIndex-t.sourceIndex;if(r)return r;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function de(t){return function(e){return"form"in e?e.parentNode&&!1===e.disabled?"label"in e?"label"in e.parentNode?e.parentNode.disabled===t:e.disabled===t:e.isDisabled===t||e.isDisabled!==!t&&ae(e)===t:e.disabled===t:"label"in e&&e.disabled===t}}function he(a){return ce(function(i){return i=+i,ce(function(e,t){for(var n,r=a([],e.length,i),o=r.length;o--;)e[n=r[o]]&&(e[n]=!(t[n]=e[n]))})})}function Ve(e){return e&&void 0!==e.getElementsByTagName&&e}for(e in f=le.support={},o=le.isXML=function(e){var t=e.namespaceURI,e=(e.ownerDocument||e).documentElement;return!X.test(t||e&&e.nodeName||"HTML")},O=le.setDocument=function(e){var t,e=e?e.ownerDocument||e:v;return e!==C&&9===e.nodeType&&e.documentElement&&(a=(C=e).documentElement,k=!o(C),v!==C&&(t=C.defaultView)&&t.top!==t&&(t.addEventListener?t.addEventListener("unload",r,!1):t.attachEvent&&t.attachEvent("onunload",r)),f.attributes=ue(function(e){return e.className="i",!e.getAttribute("className")}),f.getElementsByTagName=ue(function(e){return e.appendChild(C.createComment("")),!e.getElementsByTagName("*").length}),f.getElementsByClassName=ee.test(C.getElementsByClassName),f.getById=ue(function(e){return a.appendChild(e).id=E,!C.getElementsByName||!C.getElementsByName(E).length}),f.getById?(b.filter.ID=function(e){var t=e.replace(re,p);return function(e){return e.getAttribute("id")===t}},b.find.ID=function(e,t){if(void 0!==t.getElementById&&k){e=t.getElementById(e);return e?[e]:[]}}):(b.filter.ID=function(e){var t=e.replace(re,p);return function(e){e=void 0!==e.getAttributeNode&&e.getAttributeNode("id");return e&&e.value===t}},b.find.ID=function(e,t){if(void 0!==t.getElementById&&k){var n,r,o,i=t.getElementById(e);if(i){if((n=i.getAttributeNode("id"))&&n.value===e)return[i];for(o=t.getElementsByName(e),r=0;i=o[r++];)if((n=i.getAttributeNode("id"))&&n.value===e)return[i]}return[]}}),b.find.TAG=f.getElementsByTagName?function(e,t){return void 0!==t.getElementsByTagName?t.getElementsByTagName(e):f.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,r=[],o=0,i=t.getElementsByTagName(e);if("*"!==e)return i;for(;n=i[o++];)1===n.nodeType&&r.push(n);return r},b.find.CLASS=f.getElementsByClassName&&function(e,t){if(void 0!==t.getElementsByClassName&&k)return t.getElementsByClassName(e)},l=[],m=[],(f.qsa=ee.test(C.querySelectorAll))&&(ue(function(e){a.appendChild(e).innerHTML="<a id='"+E+"'></a><select id='"+E+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&m.push("[*^$]="+U+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||m.push("\\["+U+"*(?:value|"+L+")"),e.querySelectorAll("[id~="+E+"-]").length||m.push("~="),e.querySelectorAll(":checked").length||m.push(":checked"),e.querySelectorAll("a#"+E+"+*").length||m.push(".#.+[+~]")}),ue(function(e){e.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var t=C.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&m.push("name"+U+"*[*^$|!~]?="),2!==e.querySelectorAll(":enabled").length&&m.push(":enabled",":disabled"),a.appendChild(e).disabled=!0,2!==e.querySelectorAll(":disabled").length&&m.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),m.push(",.*:")})),(f.matchesSelector=ee.test(u=a.matches||a.webkitMatchesSelector||a.mozMatchesSelector||a.oMatchesSelector||a.msMatchesSelector))&&ue(function(e){f.disconnectedMatch=u.call(e,"*"),u.call(e,"[s!='']:x"),l.push("!=",z)}),m=m.length&&new RegExp(m.join("|")),l=l.length&&new RegExp(l.join("|")),t=ee.test(a.compareDocumentPosition),y=t||ee.test(a.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,t=t&&t.parentNode;return e===t||!(!t||1!==t.nodeType||!(n.contains?n.contains(t):e.compareDocumentPosition&&16&e.compareDocumentPosition(t)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},j=t?function(e,t){if(e===t)return c=!0,0;var n=!e.compareDocumentPosition-!t.compareDocumentPosition;return n||(1&(n=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!f.sortDetached&&t.compareDocumentPosition(e)===n?e===C||e.ownerDocument===v&&y(v,e)?-1:t===C||t.ownerDocument===v&&y(v,t)?1:s?I(s,e)-I(s,t):0:4&n?-1:1)}:function(e,t){if(e===t)return c=!0,0;var n,r=0,o=e.parentNode,i=t.parentNode,a=[e],l=[t];if(!o||!i)return e===C?-1:t===C?1:o?-1:i?1:s?I(s,e)-I(s,t):0;if(o===i)return fe(e,t);for(n=e;n=n.parentNode;)a.unshift(n);for(n=t;n=n.parentNode;)l.unshift(n);for(;a[r]===l[r];)r++;return r?fe(a[r],l[r]):a[r]===v?-1:l[r]===v?1:0}),C},le.matches=function(e,t){return le(e,null,null,t)},le.matchesSelector=function(e,t){if((e.ownerDocument||e)!==C&&O(e),f.matchesSelector&&k&&!P[t+" "]&&(!l||!l.test(t))&&(!m||!m.test(t)))try{var n=u.call(e,t);if(n||f.disconnectedMatch||e.document&&11!==e.document.nodeType)return n}catch(e){P(t,!0)}return 0<le(t,C,null,[e]).length},le.contains=function(e,t){return(e.ownerDocument||e)!==C&&O(e),y(e,t)},le.attr=function(e,t){(e.ownerDocument||e)!==C&&O(e);var n=b.attrHandle[t.toLowerCase()],n=n&&R.call(b.attrHandle,t.toLowerCase())?n(e,t,!k):void 0;return void 0!==n?n:f.attributes||!k?e.getAttribute(t):(n=e.getAttributeNode(t))&&n.specified?n.value:null},le.escape=function(e){return(e+"").replace(oe,ie)},le.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},le.uniqueSort=function(e){var t,n=[],r=0,o=0;if(c=!f.detectDuplicates,s=!f.sortStable&&e.slice(0),e.sort(j),c){for(;t=e[o++];)t===e[o]&&(r=n.push(o));for(;r--;)e.splice(n[r],1)}return s=null,e},i=le.getText=function(e){var t,n="",r=0,o=e.nodeType;if(o){if(1===o||9===o||11===o){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=i(e)}else if(3===o||4===o)return e.nodeValue}else for(;t=e[r++];)n+=i(t);return n},(b=le.selectors={cacheLength:50,createPseudo:ce,match:Y,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(re,p),e[3]=(e[3]||e[4]||e[5]||"").replace(re,p),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||le.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&le.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return Y.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&Q.test(n)&&(t=d(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(re,p).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=S[e+" "];return t||(t=new RegExp("(^|"+U+")"+e+"("+U+"|$)"))&&S(e,function(e){return t.test("string"==typeof e.className&&e.className||void 0!==e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(t,n,r){return function(e){e=le.attr(e,t);return null==e?"!="===n:!n||(e+="","="===n?e===r:"!="===n?e!==r:"^="===n?r&&0===e.indexOf(r):"*="===n?r&&-1<e.indexOf(r):"$="===n?r&&e.slice(-r.length)===r:"~="===n?-1<(" "+e.replace(W," ")+" ").indexOf(r):"|="===n&&(e===r||e.slice(0,r.length+1)===r+"-"))}},CHILD:function(h,e,t,V,m){var y="nth"!==h.slice(0,3),v="last"!==h.slice(-4),g="of-type"===e;return 1===V&&0===m?function(e){return!!e.parentNode}:function(e,t,n){var r,o,i,a,l,s,c=y!=v?"nextSibling":"previousSibling",u=e.parentNode,p=g&&e.nodeName.toLowerCase(),f=!n&&!g,d=!1;if(u){if(y){for(;c;){for(a=e;a=a[c];)if(g?a.nodeName.toLowerCase()===p:1===a.nodeType)return!1;s=c="only"===h&&!s&&"nextSibling"}return!0}if(s=[v?u.firstChild:u.lastChild],v&&f){for(d=(l=(r=(o=(i=(a=u)[E]||(a[E]={}))[a.uniqueID]||(i[a.uniqueID]={}))[h]||[])[0]===A&&r[1])&&r[2],a=l&&u.childNodes[l];a=++l&&a&&a[c]||(d=l=0)||s.pop();)if(1===a.nodeType&&++d&&a===e){o[h]=[A,l,d];break}}else if(!1===(d=f?l=(r=(o=(i=(a=e)[E]||(a[E]={}))[a.uniqueID]||(i[a.uniqueID]={}))[h]||[])[0]===A&&r[1]:d))for(;(a=++l&&a&&a[c]||(d=l=0)||s.pop())&&((g?a.nodeName.toLowerCase()!==p:1!==a.nodeType)||!++d||(f&&((o=(i=a[E]||(a[E]={}))[a.uniqueID]||(i[a.uniqueID]={}))[h]=[A,d]),a!==e)););return(d-=m)===V||d%V==0&&0<=d/V}}},PSEUDO:function(e,i){var t,a=b.pseudos[e]||b.setFilters[e.toLowerCase()]||le.error("unsupported pseudo: "+e);return a[E]?a(i):1<a.length?(t=[e,e,"",i],b.setFilters.hasOwnProperty(e.toLowerCase())?ce(function(e,t){for(var n,r=a(e,i),o=r.length;o--;)e[n=I(e,r[o])]=!(t[n]=r[o])}):function(e){return a(e,0,t)}):a}},pseudos:{not:ce(function(e){var r=[],o=[],l=h(e.replace(K,"$1"));return l[E]?ce(function(e,t,n,r){for(var o,i=l(e,null,r,[]),a=e.length;a--;)(o=i[a])&&(e[a]=!(t[a]=o))}):function(e,t,n){return r[0]=e,l(r,null,n,o),r[0]=null,!o.pop()}}),has:ce(function(t){return function(e){return 0<le(t,e).length}}),contains:ce(function(t){return t=t.replace(re,p),function(e){return-1<(e.textContent||i(e)).indexOf(t)}}),lang:ce(function(n){return J.test(n||"")||le.error("unsupported lang: "+n),n=n.replace(re,p).toLowerCase(),function(e){var t;do{if(t=k?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return(t=t.toLowerCase())===n||0===t.indexOf(n+"-")}while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var t=n.location&&n.location.hash;return t&&t.slice(1)===e.id},root:function(e){return e===a},focus:function(e){return e===C.activeElement&&(!C.hasFocus||C.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:de(!1),disabled:de(!0),checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!b.pseudos.empty(e)},header:function(e){return $.test(e.nodeName)},input:function(e){return Z.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(e=e.getAttribute("type"))||"text"===e.toLowerCase())},first:he(function(){return[0]}),last:he(function(e,t){return[t-1]}),eq:he(function(e,t,n){return[n<0?n+t:n]}),even:he(function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e}),odd:he(function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e}),lt:he(function(e,t,n){for(var r=n<0?n+t:t<n?t:n;0<=--r;)e.push(r);return e}),gt:he(function(e,t,n){for(var r=n<0?n+t:n;++r<t;)e.push(r);return e})}}).pseudos.nth=b.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})b.pseudos[e]=function(t){return function(e){return"input"===e.nodeName.toLowerCase()&&e.type===t}}(e);for(e in{submit:!0,reset:!0})b.pseudos[e]=function(n){return function(e){var t=e.nodeName.toLowerCase();return("input"===t||"button"===t)&&e.type===n}}(e);function me(){}function ye(e){for(var t=0,n=e.length,r="";t<n;t++)r+=e[t].value;return r}function ve(a,e,t){var l=e.dir,s=e.next,c=s||l,u=t&&"parentNode"===c,p=g++;return e.first?function(e,t,n){for(;e=e[l];)if(1===e.nodeType||u)return a(e,t,n);return!1}:function(e,t,n){var r,o,i=[A,p];if(n){for(;e=e[l];)if((1===e.nodeType||u)&&a(e,t,n))return!0}else for(;e=e[l];)if(1===e.nodeType||u)if(r=(o=e[E]||(e[E]={}))[e.uniqueID]||(o[e.uniqueID]={}),s&&s===e.nodeName.toLowerCase())e=e[l]||e;else{if((o=r[c])&&o[0]===A&&o[1]===p)return i[2]=o[2];if((r[c]=i)[2]=a(e,t,n))return!0}return!1}}function ge(o){return 1<o.length?function(e,t,n){for(var r=o.length;r--;)if(!o[r](e,t,n))return!1;return!0}:o[0]}function be(e,t,n,r,o){for(var i,a=[],l=0,s=e.length,c=null!=t;l<s;l++)(i=e[l])&&(n&&!n(i,r,o)||(a.push(i),c&&t.push(l)));return a}function we(d,h,V,m,y,e){return m&&!m[E]&&(m=we(m)),y&&!y[E]&&(y=we(y,e)),ce(function(e,t,n,r){var o,i,a,l=[],s=[],c=t.length,u=e||function(e,t,n){for(var r=0,o=t.length;r<o;r++)le(e,t[r],n);return n}(h||"*",n.nodeType?[n]:n,[]),p=!d||!e&&h?u:be(u,l,d,n,r),f=V?y||(e?d:c||m)?[]:t:p;if(V&&V(p,f,n,r),m)for(o=be(f,s),m(o,[],n,r),i=o.length;i--;)(a=o[i])&&(f[s[i]]=!(p[s[i]]=a));if(e){if(y||d){if(y){for(o=[],i=f.length;i--;)(a=f[i])&&o.push(p[i]=a);y(null,f=[],o,r)}for(i=f.length;i--;)(a=f[i])&&-1<(o=y?I(e,a):l[i])&&(e[o]=!(t[o]=a))}}else f=be(f===t?f.splice(c,f.length):f),y?y(null,t,f,r):F.apply(t,f)})}function Oe(m,y){function e(e,t,n,r,o){var i,a,l,s=0,c="0",u=e&&[],p=[],f=w,d=e||g&&b.find.TAG("*",o),h=A+=null==f?1:Math.random()||.1,V=d.length;for(o&&(w=t===C||t||o);c!==V&&null!=(i=d[c]);c++){if(g&&i){for(a=0,t||i.ownerDocument===C||(O(i),n=!k);l=m[a++];)if(l(i,t||C,n)){r.push(i);break}o&&(A=h)}v&&((i=!l&&i)&&s--,e&&u.push(i))}if(s+=c,v&&c!==s){for(a=0;l=y[a++];)l(u,p,t,n);if(e){if(0<s)for(;c--;)u[c]||p[c]||(p[c]=D.call(r));p=be(p)}F.apply(r,p),o&&!e&&0<p.length&&1<s+y.length&&le.uniqueSort(r)}return o&&(A=h,w=f),u}var v=0<y.length,g=0<m.length;return v?ce(e):e}return me.prototype=b.filters=b.pseudos,b.setFilters=new me,d=le.tokenize=function(e,t){var n,r,o,i,a,l,s,c=_[e+" "];if(c)return t?0:c.slice(0);for(a=e,l=[],s=b.preFilter;a;){for(i in n&&!(r=G.exec(a))||(r&&(a=a.slice(r[0].length)||a),l.push(o=[])),n=!1,(r=H.exec(a))&&(n=r.shift(),o.push({value:n,type:r[0].replace(K," ")}),a=a.slice(n.length)),b.filter)!(r=Y[i].exec(a))||s[i]&&!(r=s[i](r))||(n=r.shift(),o.push({value:n,type:i,matches:r}),a=a.slice(n.length));if(!n)break}return t?a.length:a?le.error(e):_(e,l).slice(0)},h=le.compile=function(e,t){var n,r=[],o=[],i=x[e+" "];if(!i){for(n=(t=t||d(e)).length;n--;)((i=function e(t){for(var r,n,o,i=t.length,a=b.relative[t[0].type],l=a||b.relative[" "],s=a?1:0,c=ve(function(e){return e===r},l,!0),u=ve(function(e){return-1<I(r,e)},l,!0),p=[function(e,t,n){return n=!a&&(n||t!==w)||((r=t).nodeType?c:u)(e,t,n),r=null,n}];s<i;s++)if(n=b.relative[t[s].type])p=[ve(ge(p),n)];else{if((n=b.filter[t[s].type].apply(null,t[s].matches))[E]){for(o=++s;o<i&&!b.relative[t[o].type];o++);return we(1<s&&ge(p),1<s&&ye(t.slice(0,s-1).concat({value:" "===t[s-2].type?"*":""})).replace(K,"$1"),n,s<o&&e(t.slice(s,o)),o<i&&e(t=t.slice(o)),o<i&&ye(t))}p.push(n)}return ge(p)}(t[n]))[E]?r:o).push(i);(i=x(e,Oe(o,r))).selector=e}return i},V=le.select=function(e,t,n,r){var o,i,a,l,s,c="function"==typeof e&&e,u=!r&&d(e=c.selector||e);if(n=n||[],1===u.length){if(2<(i=u[0]=u[0].slice(0)).length&&"ID"===(a=i[0]).type&&9===t.nodeType&&k&&b.relative[i[1].type]){if(!(t=(b.find.ID(a.matches[0].replace(re,p),t)||[])[0]))return n;c&&(t=t.parentNode),e=e.slice(i.shift().value.length)}for(o=Y.needsContext.test(e)?0:i.length;o--&&(a=i[o],!b.relative[l=a.type]);)if((s=b.find[l])&&(r=s(a.matches[0].replace(re,p),ne.test(i[0].type)&&Ve(t.parentNode)||t))){if(i.splice(o,1),!(e=r.length&&ye(i)))return F.apply(n,r),n;break}}return(c||h(e,u))(r,t,!k,n,!t||ne.test(e)&&Ve(t.parentNode)||t),n},f.sortStable=E.split("").sort(j).join("")===E,f.detectDuplicates=!!c,O(),f.sortDetached=ue(function(e){return 1&e.compareDocumentPosition(C.createElement("fieldset"))}),ue(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||pe("type|href|height|width",function(e,t,n){if(!n)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),f.attributes&&ue(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||pe("value",function(e,t,n){if(!n&&"input"===e.nodeName.toLowerCase())return e.defaultValue}),ue(function(e){return null==e.getAttribute("disabled")})||pe(L,function(e,t,n){if(!n)return!0===e[t]?t.toLowerCase():(t=e.getAttributeNode(t))&&t.specified?t.value:null}),le}(O);k.find=d,k.expr=d.selectors,k.expr[":"]=k.expr.pseudos,k.uniqueSort=k.unique=d.uniqueSort,k.text=d.getText,k.isXMLDoc=d.isXML,k.contains=d.contains,k.escapeSelector=d.escape;function w(e,t,n){for(var r=[],o=void 0!==n;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(o&&k(e).is(n))break;r.push(e)}return r}function E(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n}var A=k.expr.match.needsContext;function S(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()}var _=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function x(e,n,r){return g(n)?k.grep(e,function(e,t){return!!n.call(e,t,e)!==r}):n.nodeType?k.grep(e,function(e){return e===n!==r}):"string"!=typeof n?k.grep(e,function(e){return-1<o.call(n,e)!==r}):k.filter(n,e,r)}k.filter=function(e,t,n){var r=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===r.nodeType?k.find.matchesSelector(r,e)?[r]:[]:k.find.matches(e,k.grep(t,function(e){return 1===e.nodeType}))},k.fn.extend({find:function(e){var t,n,r=this.length,o=this;if("string"!=typeof e)return this.pushStack(k(e).filter(function(){for(t=0;t<r;t++)if(k.contains(o[t],this))return!0}));for(n=this.pushStack([]),t=0;t<r;t++)k.find(e,o[t],n);return 1<r?k.uniqueSort(n):n},filter:function(e){return this.pushStack(x(this,e||[],!1))},not:function(e){return this.pushStack(x(this,e||[],!0))},is:function(e){return!!x(this,"string"==typeof e&&A.test(e)?k(e):e||[],!1).length}});var P=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(k.fn.init=function(e,t,n){if(!e)return this;if(n=n||j,"string"!=typeof e)return e.nodeType?(this[0]=e,this.length=1,this):g(e)?void 0!==n.ready?n.ready(e):e(k):k.makeArray(e,this);if(!(r="<"===e[0]&&">"===e[e.length-1]&&3<=e.length?[null,e,null]:P.exec(e))||!r[1]&&t)return(!t||t.jquery?t||n:this.constructor(t)).find(e);if(r[1]){if(t=t instanceof k?t[0]:t,k.merge(this,k.parseHTML(r[1],t&&t.nodeType?t.ownerDocument||t:C,!0)),_.test(r[1])&&k.isPlainObject(t))for(var r in t)g(this[r])?this[r](t[r]):this.attr(r,t[r]);return this}return(e=C.getElementById(r[2]))&&(this[0]=e,this.length=1),this}).prototype=k.fn;var j=k(C),R=/^(?:parents|prev(?:Until|All))/,D={children:!0,contents:!0,next:!0,prev:!0};function T(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}k.fn.extend({has:function(e){var t=k(e,this),n=t.length;return this.filter(function(){for(var e=0;e<n;e++)if(k.contains(this,t[e]))return!0})},closest:function(e,t){var n,r=0,o=this.length,i=[],a="string"!=typeof e&&k(e);if(!A.test(e))for(;r<o;r++)for(n=this[r];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(a?-1<a.index(n):1===n.nodeType&&k.find.matchesSelector(n,e))){i.push(n);break}return this.pushStack(1<i.length?k.uniqueSort(i):i)},index:function(e){return e?"string"==typeof e?o.call(k(e),this[0]):o.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(k.uniqueSort(k.merge(this.get(),k(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),k.each({parent:function(e){e=e.parentNode;return e&&11!==e.nodeType?e:null},parents:function(e){return w(e,"parentNode")},parentsUntil:function(e,t,n){return w(e,"parentNode",n)},next:function(e){return T(e,"nextSibling")},prev:function(e){return T(e,"previousSibling")},nextAll:function(e){return w(e,"nextSibling")},prevAll:function(e){return w(e,"previousSibling")},nextUntil:function(e,t,n){return w(e,"nextSibling",n)},prevUntil:function(e,t,n){return w(e,"previousSibling",n)},siblings:function(e){return E((e.parentNode||{}).firstChild,e)},children:function(e){return E(e.firstChild)},contents:function(e){return void 0!==e.contentDocument?e.contentDocument:(S(e,"template")&&(e=e.content||e),k.merge([],e.childNodes))}},function(r,o){k.fn[r]=function(e,t){var n=k.map(this,o,e);return(t="Until"!==r.slice(-5)?e:t)&&"string"==typeof t&&(n=k.filter(t,n)),1<this.length&&(D[r]||k.uniqueSort(n),R.test(r)&&n.reverse()),this.pushStack(n)}});var F=/[^\x20\t\r\n\f]+/g;function N(e){return e}function I(e){throw e}function L(e,t,n,r){var o;try{e&&g(o=e.promise)?o.call(e).done(t).fail(n):e&&g(o=e.then)?o.call(e,t,n):t.apply(void 0,[e].slice(r))}catch(e){n.apply(void 0,[e])}}k.Callbacks=function(r){var n;r="string"==typeof r?(n={},k.each(r.match(F)||[],function(e,t){n[t]=!0}),n):k.extend({},r);function o(){for(a=a||r.once,t=i=!0;s.length;c=-1)for(e=s.shift();++c<l.length;)!1===l[c].apply(e[0],e[1])&&r.stopOnFalse&&(c=l.length,e=!1);r.memory||(e=!1),i=!1,a&&(l=e?[]:"")}var i,e,t,a,l=[],s=[],c=-1,u={add:function(){return l&&(e&&!i&&(c=l.length-1,s.push(e)),function n(e){k.each(e,function(e,t){g(t)?r.unique&&u.has(t)||l.push(t):t&&t.length&&"string"!==h(t)&&n(t)})}(arguments),e&&!i&&o()),this},remove:function(){return k.each(arguments,function(e,t){for(var n;-1<(n=k.inArray(t,l,n));)l.splice(n,1),n<=c&&c--}),this},has:function(e){return e?-1<k.inArray(e,l):0<l.length},empty:function(){return l=l&&[],this},disable:function(){return a=s=[],l=e="",this},disabled:function(){return!l},lock:function(){return a=s=[],e||i||(l=e=""),this},locked:function(){return!!a},fireWith:function(e,t){return a||(t=[e,(t=t||[]).slice?t.slice():t],s.push(t),i||o()),this},fire:function(){return u.fireWith(this,arguments),this},fired:function(){return!!t}};return u},k.extend({Deferred:function(e){var i=[["notify","progress",k.Callbacks("memory"),k.Callbacks("memory"),2],["resolve","done",k.Callbacks("once memory"),k.Callbacks("once memory"),0,"resolved"],["reject","fail",k.Callbacks("once memory"),k.Callbacks("once memory"),1,"rejected"]],o="pending",a={state:function(){return o},always:function(){return l.done(arguments).fail(arguments),this},catch:function(e){return a.then(null,e)},pipe:function(){var o=arguments;return k.Deferred(function(r){k.each(i,function(e,t){var n=g(o[t[4]])&&o[t[4]];l[t[1]](function(){var e=n&&n.apply(this,arguments);e&&g(e.promise)?e.promise().progress(r.notify).done(r.resolve).fail(r.reject):r[t[0]+"With"](this,n?[e]:arguments)})}),o=null}).promise()},then:function(t,n,r){var s=0;function c(o,i,a,l){return function(){function e(){var e,t;if(!(o<s)){if((e=a.apply(n,r))===i.promise())throw new TypeError("Thenable self-resolution");t=e&&("object"==typeof e||"function"==typeof e)&&e.then,g(t)?l?t.call(e,c(s,i,N,l),c(s,i,I,l)):(s++,t.call(e,c(s,i,N,l),c(s,i,I,l),c(s,i,N,i.notifyWith))):(a!==N&&(n=void 0,r=[e]),(l||i.resolveWith)(n,r))}}var n=this,r=arguments,t=l?e:function(){try{e()}catch(e){k.Deferred.exceptionHook&&k.Deferred.exceptionHook(e,t.stackTrace),s<=o+1&&(a!==I&&(n=void 0,r=[e]),i.rejectWith(n,r))}};o?t():(k.Deferred.getStackHook&&(t.stackTrace=k.Deferred.getStackHook()),O.setTimeout(t))}}return k.Deferred(function(e){i[0][3].add(c(0,e,g(r)?r:N,e.notifyWith)),i[1][3].add(c(0,e,g(t)?t:N)),i[2][3].add(c(0,e,g(n)?n:I))}).promise()},promise:function(e){return null!=e?k.extend(e,a):a}},l={};return k.each(i,function(e,t){var n=t[2],r=t[5];a[t[1]]=n.add,r&&n.add(function(){o=r},i[3-e][2].disable,i[3-e][3].disable,i[0][2].lock,i[0][3].lock),n.add(t[3].fire),l[t[0]]=function(){return l[t[0]+"With"](this===l?void 0:this,arguments),this},l[t[0]+"With"]=n.fireWith}),a.promise(l),e&&e.call(l,l),l},when:function(e){function t(t){return function(e){o[t]=this,i[t]=1<arguments.length?l.call(arguments):e,--n||a.resolveWith(o,i)}}var n=arguments.length,r=n,o=Array(r),i=l.call(arguments),a=k.Deferred();if(n<=1&&(L(e,a.done(t(r)).resolve,a.reject,!n),"pending"===a.state()||g(i[r]&&i[r].then)))return a.then();for(;r--;)L(i[r],t(r),a.reject);return a.promise()}});var U=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;k.Deferred.exceptionHook=function(e,t){O.console&&O.console.warn&&e&&U.test(e.name)&&O.console.warn("jQuery.Deferred exception: "+e.message,e.stack,t)},k.readyException=function(e){O.setTimeout(function(){throw e})};var M=k.Deferred();function B(){C.removeEventListener("DOMContentLoaded",B),O.removeEventListener("load",B),k.ready()}k.fn.ready=function(e){return M.then(e).catch(function(e){k.readyException(e)}),this},k.extend({isReady:!1,readyWait:1,ready:function(e){(!0===e?--k.readyWait:k.isReady)||(k.isReady=!0)!==e&&0<--k.readyWait||M.resolveWith(C,[k])}}),k.ready.then=M.then,"complete"===C.readyState||"loading"!==C.readyState&&!C.documentElement.doScroll?O.setTimeout(k.ready):(C.addEventListener("DOMContentLoaded",B),O.addEventListener("load",B));var z=function(e,t,n,r,o,i,a){var l=0,s=e.length,c=null==n;if("object"===h(n))for(l in o=!0,n)z(e,t,l,n[l],!0,i,a);else if(void 0!==r&&(o=!0,g(r)||(a=!0),t=c?a?(t.call(e,r),null):(c=t,function(e,t,n){return c.call(k(e),n)}):t))for(;l<s;l++)t(e[l],n,a?r:r.call(e[l],l,t(e[l],n)));return o?e:c?t.call(e):s?t(e[0],n):i},W=/^-ms-/,K=/-([a-z])/g;function G(e,t){return t.toUpperCase()}function H(e){return e.replace(W,"ms-").replace(K,G)}function q(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType}function Q(){this.expando=k.expando+Q.uid++}Q.uid=1,Q.prototype={cache:function(e){var t=e[this.expando];return t||(t={},q(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,n){var r,o=this.cache(e);if("string"==typeof t)o[H(t)]=n;else for(r in t)o[H(r)]=t[r];return o},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][H(t)]},access:function(e,t,n){return void 0===t||t&&"string"==typeof t&&void 0===n?this.get(e,t):(this.set(e,t,n),void 0!==n?n:t)},remove:function(e,t){var n,r=e[this.expando];if(void 0!==r){if(void 0!==t){n=(t=Array.isArray(t)?t.map(H):(t=H(t))in r?[t]:t.match(F)||[]).length;for(;n--;)delete r[t[n]]}void 0!==t&&!k.isEmptyObject(r)||(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){e=e[this.expando];return void 0!==e&&!k.isEmptyObject(e)}};var J=new Q,Y=new Q,X=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Z=/[A-Z]/g;function $(e,t,n){var r,o;if(void 0===n&&1===e.nodeType)if(r="data-"+t.replace(Z,"-$&").toLowerCase(),"string"==typeof(n=e.getAttribute(r))){try{n="true"===(o=n)||"false"!==o&&("null"===o?null:o===+o+""?+o:X.test(o)?JSON.parse(o):o)}catch(e){}Y.set(e,t,n)}else n=void 0;return n}k.extend({hasData:function(e){return Y.hasData(e)||J.hasData(e)},data:function(e,t,n){return Y.access(e,t,n)},removeData:function(e,t){Y.remove(e,t)},_data:function(e,t,n){return J.access(e,t,n)},_removeData:function(e,t){J.remove(e,t)}}),k.fn.extend({data:function(n,e){var t,r,o,i=this[0],a=i&&i.attributes;if(void 0!==n)return"object"==typeof n?this.each(function(){Y.set(this,n)}):z(this,function(e){var t;return i&&void 0===e?void 0!==(t=Y.get(i,n))||void 0!==(t=$(i,n))?t:void 0:void this.each(function(){Y.set(this,n,e)})},null,e,1<arguments.length,null,!0);if(this.length&&(o=Y.get(i),1===i.nodeType&&!J.get(i,"hasDataAttrs"))){for(t=a.length;t--;)a[t]&&0===(r=a[t].name).indexOf("data-")&&(r=H(r.slice(5)),$(i,r,o[r]));J.set(i,"hasDataAttrs",!0)}return o},removeData:function(e){return this.each(function(){Y.remove(this,e)})}}),k.extend({queue:function(e,t,n){var r;if(e)return r=J.get(e,t=(t||"fx")+"queue"),n&&(!r||Array.isArray(n)?r=J.access(e,t,k.makeArray(n)):r.push(n)),r||[]},dequeue:function(e,t){var n=k.queue(e,t=t||"fx"),r=n.length,o=n.shift(),i=k._queueHooks(e,t);"inprogress"===o&&(o=n.shift(),r--),o&&("fx"===t&&n.unshift("inprogress"),delete i.stop,o.call(e,function(){k.dequeue(e,t)},i)),!r&&i&&i.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return J.get(e,n)||J.access(e,n,{empty:k.Callbacks("once memory").add(function(){J.remove(e,[t+"queue",n])})})}}),k.fn.extend({queue:function(t,n){var e=2;return"string"!=typeof t&&(n=t,t="fx",e--),arguments.length<e?k.queue(this[0],t):void 0===n?this:this.each(function(){var e=k.queue(this,t,n);k._queueHooks(this,t),"fx"===t&&"inprogress"!==e[0]&&k.dequeue(this,t)})},dequeue:function(e){return this.each(function(){k.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){function n(){--o||i.resolveWith(a,[a])}var r,o=1,i=k.Deferred(),a=this,l=this.length;for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";l--;)(r=J.get(a[l],e+"queueHooks"))&&r.empty&&(o++,r.empty.add(n));return n(),i.promise(t)}});var ee=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,te=new RegExp("^(?:([+-])=|)("+ee+")([a-z%]*)$","i"),ne=["Top","Right","Bottom","Left"],re=C.documentElement,oe=function(e){return k.contains(e.ownerDocument,e)},ie={composed:!0};re.getRootNode&&(oe=function(e){return k.contains(e.ownerDocument,e)||e.getRootNode(ie)===e.ownerDocument});function ae(e,t,n,r){var o,i={};for(o in t)i[o]=e.style[o],e.style[o]=t[o];for(o in r=n.apply(e,r||[]),t)e.style[o]=i[o];return r}var le=function(e,t){return"none"===(e=t||e).style.display||""===e.style.display&&oe(e)&&"none"===k.css(e,"display")};function se(e,t,n,r){var o,i,a=20,l=r?function(){return r.cur()}:function(){return k.css(e,t,"")},s=l(),c=n&&n[3]||(k.cssNumber[t]?"":"px"),u=e.nodeType&&(k.cssNumber[t]||"px"!==c&&+s)&&te.exec(k.css(e,t));if(u&&u[3]!==c){for(c=c||u[3],u=+(s/=2)||1;a--;)k.style(e,t,u+c),(1-i)*(1-(i=l()/s||.5))<=0&&(a=0),u/=i;k.style(e,t,(u*=2)+c),n=n||[]}return n&&(u=+u||+s||0,o=n[1]?u+(n[1]+1)*n[2]:+n[2],r&&(r.unit=c,r.start=u,r.end=o)),o}var ce={};function ue(e,t){for(var n,r,o,i,a,l=[],s=0,c=e.length;s<c;s++)(r=e[s]).style&&(n=r.style.display,t?("none"===n&&(l[s]=J.get(r,"display")||null,l[s]||(r.style.display="")),""===r.style.display&&le(r)&&(l[s]=(a=i=void 0,i=(o=r).ownerDocument,a=o.nodeName,(o=ce[a])||(i=i.body.appendChild(i.createElement(a)),o=k.css(i,"display"),i.parentNode.removeChild(i),ce[a]=o="none"===o?"block":o)))):"none"!==n&&(l[s]="none",J.set(r,"display",n)));for(s=0;s<c;s++)null!=l[s]&&(e[s].style.display=l[s]);return e}k.fn.extend({show:function(){return ue(this,!0)},hide:function(){return ue(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){le(this)?k(this).show():k(this).hide()})}});var pe=/^(?:checkbox|radio)$/i,fe=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,de=/^$|^module$|\/(?:java|ecma)script/i,he={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function Ve(e,t){var n=void 0!==e.getElementsByTagName?e.getElementsByTagName(t||"*"):void 0!==e.querySelectorAll?e.querySelectorAll(t||"*"):[];return void 0===t||t&&S(e,t)?k.merge([e],n):n}function me(e,t){for(var n=0,r=e.length;n<r;n++)J.set(e[n],"globalEval",!t||J.get(t[n],"globalEval"))}he.optgroup=he.option,he.tbody=he.tfoot=he.colgroup=he.caption=he.thead,he.th=he.td;var ye=/<|&#?\w+;/;function ve(e,t,n,r,o){for(var i,a,l,s,c,u=t.createDocumentFragment(),p=[],f=0,d=e.length;f<d;f++)if((i=e[f])||0===i)if("object"===h(i))k.merge(p,i.nodeType?[i]:i);else if(ye.test(i)){for(a=a||u.appendChild(t.createElement("div")),l=(fe.exec(i)||["",""])[1].toLowerCase(),l=he[l]||he._default,a.innerHTML=l[1]+k.htmlPrefilter(i)+l[2],c=l[0];c--;)a=a.lastChild;k.merge(p,a.childNodes),(a=u.firstChild).textContent=""}else p.push(t.createTextNode(i));for(u.textContent="",f=0;i=p[f++];)if(r&&-1<k.inArray(i,r))o&&o.push(i);else if(s=oe(i),a=Ve(u.appendChild(i),"script"),s&&me(a),n)for(c=0;i=a[c++];)de.test(i.type||"")&&n.push(i);return u}t=C.createDocumentFragment().appendChild(C.createElement("div")),(d=C.createElement("input")).setAttribute("type","radio"),d.setAttribute("checked","checked"),d.setAttribute("name","t"),t.appendChild(d),v.checkClone=t.cloneNode(!0).cloneNode(!0).lastChild.checked,t.innerHTML="<textarea>x</textarea>",v.noCloneChecked=!!t.cloneNode(!0).lastChild.defaultValue;var ge=/^key/,be=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,we=/^([^.]*)(?:\.(.+)|)/;function Oe(){return!0}function Ce(){return!1}function ke(e,t){return e===function(){try{return C.activeElement}catch(e){}}()==("focus"===t)}function Ee(e,t,n,r,o,i){var a,l;if("object"==typeof t){for(l in"string"!=typeof n&&(r=r||n,n=void 0),t)Ee(e,l,n,r,t[l],i);return e}if(null==r&&null==o?(o=n,r=n=void 0):null==o&&("string"==typeof n?(o=r,r=void 0):(o=r,r=n,n=void 0)),!1===o)o=Ce;else if(!o)return e;return 1===i&&(a=o,(o=function(e){return k().off(e),a.apply(this,arguments)}).guid=a.guid||(a.guid=k.guid++)),e.each(function(){k.event.add(this,t,o,r,n)})}function Ae(e,o,i){i?(J.set(e,o,!1),k.event.add(e,o,{namespace:!1,handler:function(e){var t,n,r=J.get(this,o);if(1&e.isTrigger&&this[o]){if(r.length)(k.event.special[o]||{}).delegateType&&e.stopPropagation();else if(r=l.call(arguments),J.set(this,o,r),t=i(this,o),this[o](),r!==(n=J.get(this,o))||t?J.set(this,o,!1):n={},r!==n)return e.stopImmediatePropagation(),e.preventDefault(),n.value}else r.length&&(J.set(this,o,{value:k.event.trigger(k.extend(r[0],k.Event.prototype),r.slice(1),this)}),e.stopImmediatePropagation())}})):void 0===J.get(e,o)&&k.event.add(e,o,Oe)}k.event={global:{},add:function(t,e,n,r,o){var i,a,l,s,c,u,p,f,d,h=J.get(t);if(h)for(n.handler&&(n=(i=n).handler,o=i.selector),o&&k.find.matchesSelector(re,o),n.guid||(n.guid=k.guid++),(l=h.events)||(l=h.events={}),(a=h.handle)||(a=h.handle=function(e){return void 0!==k&&k.event.triggered!==e.type?k.event.dispatch.apply(t,arguments):void 0}),s=(e=(e||"").match(F)||[""]).length;s--;)p=d=(c=we.exec(e[s])||[])[1],f=(c[2]||"").split(".").sort(),p&&(u=k.event.special[p]||{},p=(o?u.delegateType:u.bindType)||p,u=k.event.special[p]||{},c=k.extend({type:p,origType:d,data:r,handler:n,guid:n.guid,selector:o,needsContext:o&&k.expr.match.needsContext.test(o),namespace:f.join(".")},i),(d=l[p])||((d=l[p]=[]).delegateCount=0,u.setup&&!1!==u.setup.call(t,r,f,a)||t.addEventListener&&t.addEventListener(p,a)),u.add&&(u.add.call(t,c),c.handler.guid||(c.handler.guid=n.guid)),o?d.splice(d.delegateCount++,0,c):d.push(c),k.event.global[p]=!0)},remove:function(e,t,n,r,o){var i,a,l,s,c,u,p,f,d,h,V,m=J.hasData(e)&&J.get(e);if(m&&(s=m.events)){for(c=(t=(t||"").match(F)||[""]).length;c--;)if(d=V=(l=we.exec(t[c])||[])[1],h=(l[2]||"").split(".").sort(),d){for(p=k.event.special[d]||{},f=s[d=(r?p.delegateType:p.bindType)||d]||[],l=l[2]&&new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=i=f.length;i--;)u=f[i],!o&&V!==u.origType||n&&n.guid!==u.guid||l&&!l.test(u.namespace)||r&&r!==u.selector&&("**"!==r||!u.selector)||(f.splice(i,1),u.selector&&f.delegateCount--,p.remove&&p.remove.call(e,u));a&&!f.length&&(p.teardown&&!1!==p.teardown.call(e,h,m.handle)||k.removeEvent(e,d,m.handle),delete s[d])}else for(d in s)k.event.remove(e,d+t[c],n,r,!0);k.isEmptyObject(s)&&J.remove(e,"handle events")}},dispatch:function(e){var t,n,r,o,i,a=k.event.fix(e),l=new Array(arguments.length),s=(J.get(this,"events")||{})[a.type]||[],e=k.event.special[a.type]||{};for(l[0]=a,t=1;t<arguments.length;t++)l[t]=arguments[t];if(a.delegateTarget=this,!e.preDispatch||!1!==e.preDispatch.call(this,a)){for(i=k.event.handlers.call(this,a,s),t=0;(r=i[t++])&&!a.isPropagationStopped();)for(a.currentTarget=r.elem,n=0;(o=r.handlers[n++])&&!a.isImmediatePropagationStopped();)a.rnamespace&&!1!==o.namespace&&!a.rnamespace.test(o.namespace)||(a.handleObj=o,a.data=o.data,void 0!==(o=((k.event.special[o.origType]||{}).handle||o.handler).apply(r.elem,l))&&!1===(a.result=o)&&(a.preventDefault(),a.stopPropagation()));return e.postDispatch&&e.postDispatch.call(this,a),a.result}},handlers:function(e,t){var n,r,o,i,a,l=[],s=t.delegateCount,c=e.target;if(s&&c.nodeType&&!("click"===e.type&&1<=e.button))for(;c!==this;c=c.parentNode||this)if(1===c.nodeType&&("click"!==e.type||!0!==c.disabled)){for(i=[],a={},n=0;n<s;n++)void 0===a[o=(r=t[n]).selector+" "]&&(a[o]=r.needsContext?-1<k(o,this).index(c):k.find(o,this,null,[c]).length),a[o]&&i.push(r);i.length&&l.push({elem:c,handlers:i})}return c=this,s<t.length&&l.push({elem:c,handlers:t.slice(s)}),l},addProp:function(t,e){Object.defineProperty(k.Event.prototype,t,{enumerable:!0,configurable:!0,get:g(e)?function(){if(this.originalEvent)return e(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[t]},set:function(e){Object.defineProperty(this,t,{enumerable:!0,configurable:!0,writable:!0,value:e})}})},fix:function(e){return e[k.expando]?e:new k.Event(e)},special:{load:{noBubble:!0},click:{setup:function(e){e=this||e;return pe.test(e.type)&&e.click&&S(e,"input")&&Ae(e,"click",Oe),!1},trigger:function(e){e=this||e;return pe.test(e.type)&&e.click&&S(e,"input")&&Ae(e,"click"),!0},_default:function(e){e=e.target;return pe.test(e.type)&&e.click&&S(e,"input")&&J.get(e,"click")||S(e,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},k.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n)},k.Event=function(e,t){if(!(this instanceof k.Event))return new k.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?Oe:Ce,this.target=e.target&&3===e.target.nodeType?e.target.parentNode:e.target,this.currentTarget=e.currentTarget,this.relatedTarget=e.relatedTarget):this.type=e,t&&k.extend(this,t),this.timeStamp=e&&e.timeStamp||Date.now(),this[k.expando]=!0},k.Event.prototype={constructor:k.Event,isDefaultPrevented:Ce,isPropagationStopped:Ce,isImmediatePropagationStopped:Ce,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=Oe,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=Oe,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=Oe,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},k.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(e){var t=e.button;return null==e.which&&ge.test(e.type)?null!=e.charCode?e.charCode:e.keyCode:!e.which&&void 0!==t&&be.test(e.type)?1&t?1:2&t?3:4&t?2:0:e.which}},k.event.addProp),k.each({focus:"focusin",blur:"focusout"},function(e,t){k.event.special[e]={setup:function(){return Ae(this,e,ke),!1},trigger:function(){return Ae(this,e),!0},delegateType:t}}),k.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,o){k.event.special[e]={delegateType:o,bindType:o,handle:function(e){var t,n=e.relatedTarget,r=e.handleObj;return n&&(n===this||k.contains(this,n))||(e.type=r.origType,t=r.handler.apply(this,arguments),e.type=o),t}}}),k.fn.extend({on:function(e,t,n,r){return Ee(this,e,t,n,r)},one:function(e,t,n,r){return Ee(this,e,t,n,r,1)},off:function(e,t,n){var r,o;if(e&&e.preventDefault&&e.handleObj)return r=e.handleObj,k(e.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"!=typeof e)return!1!==t&&"function"!=typeof t||(n=t,t=void 0),!1===n&&(n=Ce),this.each(function(){k.event.remove(this,e,n,t)});for(o in e)this.off(o,t,e[o]);return this}});var Se=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,_e=/<script|<style|<link/i,xe=/checked\s*(?:[^=]|=\s*.checked.)/i,Pe=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function je(e,t){return S(e,"table")&&S(11!==t.nodeType?t:t.firstChild,"tr")&&k(e).children("tbody")[0]||e}function Re(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function De(e){return"true/"===(e.type||"").slice(0,5)?e.type=e.type.slice(5):e.removeAttribute("type"),e}function Te(e,t){var n,r,o,i,a,l;if(1===t.nodeType){if(J.hasData(e)&&(i=J.access(e),a=J.set(t,i),l=i.events))for(o in delete a.handle,a.events={},l)for(n=0,r=l[o].length;n<r;n++)k.event.add(t,o,l[o][n]);Y.hasData(e)&&(e=Y.access(e),e=k.extend({},e),Y.set(t,e))}}function Fe(n,r,o,i){r=m.apply([],r);var e,t,a,l,s,c,u=0,p=n.length,f=p-1,d=r[0],h=g(d);if(h||1<p&&"string"==typeof d&&!v.checkClone&&xe.test(d))return n.each(function(e){var t=n.eq(e);h&&(r[0]=d.call(this,e,t.html())),Fe(t,r,o,i)});if(p&&(t=(e=ve(r,n[0].ownerDocument,!1,n,i)).firstChild,1===e.childNodes.length&&(e=t),t||i)){for(l=(a=k.map(Ve(e,"script"),Re)).length;u<p;u++)s=e,u!==f&&(s=k.clone(s,!0,!0),l&&k.merge(a,Ve(s,"script"))),o.call(n[u],s,u);if(l)for(c=a[a.length-1].ownerDocument,k.map(a,De),u=0;u<l;u++)s=a[u],de.test(s.type||"")&&!J.access(s,"globalEval")&&k.contains(c,s)&&(s.src&&"module"!==(s.type||"").toLowerCase()?k._evalUrl&&!s.noModule&&k._evalUrl(s.src,{nonce:s.nonce||s.getAttribute("nonce")}):b(s.textContent.replace(Pe,""),s,c))}return n}function Ne(e,t,n){for(var r,o=t?k.filter(t,e):e,i=0;null!=(r=o[i]);i++)n||1!==r.nodeType||k.cleanData(Ve(r)),r.parentNode&&(n&&oe(r)&&me(Ve(r,"script")),r.parentNode.removeChild(r));return e}k.extend({htmlPrefilter:function(e){return e.replace(Se,"<$1></$2>")},clone:function(e,t,n){var r,o,i,a,l,s,c,u=e.cloneNode(!0),p=oe(e);if(!(v.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||k.isXMLDoc(e)))for(a=Ve(u),r=0,o=(i=Ve(e)).length;r<o;r++)l=i[r],s=a[r],c=void 0,"input"===(c=s.nodeName.toLowerCase())&&pe.test(l.type)?s.checked=l.checked:"input"!==c&&"textarea"!==c||(s.defaultValue=l.defaultValue);if(t)if(n)for(i=i||Ve(e),a=a||Ve(u),r=0,o=i.length;r<o;r++)Te(i[r],a[r]);else Te(e,u);return 0<(a=Ve(u,"script")).length&&me(a,!p&&Ve(e,"script")),u},cleanData:function(e){for(var t,n,r,o=k.event.special,i=0;void 0!==(n=e[i]);i++)if(q(n)){if(t=n[J.expando]){if(t.events)for(r in t.events)o[r]?k.event.remove(n,r):k.removeEvent(n,r,t.handle);n[J.expando]=void 0}n[Y.expando]&&(n[Y.expando]=void 0)}}}),k.fn.extend({detach:function(e){return Ne(this,e,!0)},remove:function(e){return Ne(this,e)},text:function(e){return z(this,function(e){return void 0===e?k.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)})},null,e,arguments.length)},append:function(){return Fe(this,arguments,function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||je(this,e).appendChild(e)})},prepend:function(){return Fe(this,arguments,function(e){var t;1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(t=je(this,e)).insertBefore(e,t.firstChild)})},before:function(){return Fe(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return Fe(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(k.cleanData(Ve(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return k.clone(this,e,t)})},html:function(e){return z(this,function(e){var t=this[0]||{},n=0,r=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!_e.test(e)&&!he[(fe.exec(e)||["",""])[1].toLowerCase()]){e=k.htmlPrefilter(e);try{for(;n<r;n++)1===(t=this[n]||{}).nodeType&&(k.cleanData(Ve(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var n=[];return Fe(this,arguments,function(e){var t=this.parentNode;k.inArray(this,n)<0&&(k.cleanData(Ve(this)),t&&t.replaceChild(e,this))},n)}}),k.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,a){k.fn[e]=function(e){for(var t,n=[],r=k(e),o=r.length-1,i=0;i<=o;i++)t=i===o?this:this.clone(!0),k(r[i])[a](t),s.apply(n,t.get());return this.pushStack(n)}});var Ie,Le,Ue,Me,Be,ze,We,Ke=new RegExp("^("+ee+")(?!px)[a-z%]+$","i"),Ge=function(e){var t=e.ownerDocument.defaultView;return(t=!t||!t.opener?O:t).getComputedStyle(e)},He=new RegExp(ne.join("|"),"i");function qe(){var e;We&&(ze.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",We.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",re.appendChild(ze).appendChild(We),e=O.getComputedStyle(We),Ie="1%"!==e.top,Be=12===Qe(e.marginLeft),We.style.right="60%",Me=36===Qe(e.right),Le=36===Qe(e.width),We.style.position="absolute",Ue=12===Qe(We.offsetWidth/3),re.removeChild(ze),We=null)}function Qe(e){return Math.round(parseFloat(e))}function Je(e,t,n){var r,o,i=e.style;return(n=n||Ge(e))&&(""!==(o=n.getPropertyValue(t)||n[t])||oe(e)||(o=k.style(e,t)),!v.pixelBoxStyles()&&Ke.test(o)&&He.test(t)&&(r=i.width,e=i.minWidth,t=i.maxWidth,i.minWidth=i.maxWidth=i.width=o,o=n.width,i.width=r,i.minWidth=e,i.maxWidth=t)),void 0!==o?o+"":o}function Ye(e,t){return{get:function(){if(!e())return(this.get=t).apply(this,arguments);delete this.get}}}ze=C.createElement("div"),(We=C.createElement("div")).style&&(We.style.backgroundClip="content-box",We.cloneNode(!0).style.backgroundClip="",v.clearCloneStyle="content-box"===We.style.backgroundClip,k.extend(v,{boxSizingReliable:function(){return qe(),Le},pixelBoxStyles:function(){return qe(),Me},pixelPosition:function(){return qe(),Ie},reliableMarginLeft:function(){return qe(),Be},scrollboxSize:function(){return qe(),Ue}}));var Xe=["Webkit","Moz","ms"],Ze=C.createElement("div").style,$e={};function et(e){var t=k.cssProps[e]||$e[e];return t||(e in Ze?e:$e[e]=function(e){for(var t=e[0].toUpperCase()+e.slice(1),n=Xe.length;n--;)if((e=Xe[n]+t)in Ze)return e}(e)||e)}var tt=/^(none|table(?!-c[ea]).+)/,nt=/^--/,rt={position:"absolute",visibility:"hidden",display:"block"},ot={letterSpacing:"0",fontWeight:"400"};function it(e,t,n){var r=te.exec(t);return r?Math.max(0,r[2]-(n||0))+(r[3]||"px"):t}function at(e,t,n,r,o,i){var a="width"===t?1:0,l=0,s=0;if(n===(r?"border":"content"))return 0;for(;a<4;a+=2)"margin"===n&&(s+=k.css(e,n+ne[a],!0,o)),r?("content"===n&&(s-=k.css(e,"padding"+ne[a],!0,o)),"margin"!==n&&(s-=k.css(e,"border"+ne[a]+"Width",!0,o))):(s+=k.css(e,"padding"+ne[a],!0,o),"padding"!==n?s+=k.css(e,"border"+ne[a]+"Width",!0,o):l+=k.css(e,"border"+ne[a]+"Width",!0,o));return!r&&0<=i&&(s+=Math.max(0,Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-i-s-l-.5))||0),s}function lt(e,t,n){var r=Ge(e),o=(!v.boxSizingReliable()||n)&&"border-box"===k.css(e,"boxSizing",!1,r),i=o,a=Je(e,t,r),l="offset"+t[0].toUpperCase()+t.slice(1);if(Ke.test(a)){if(!n)return a;a="auto"}return(!v.boxSizingReliable()&&o||"auto"===a||!parseFloat(a)&&"inline"===k.css(e,"display",!1,r))&&e.getClientRects().length&&(o="border-box"===k.css(e,"boxSizing",!1,r),(i=l in e)&&(a=e[l])),(a=parseFloat(a)||0)+at(e,t,n||(o?"border":"content"),i,r,a)+"px"}function st(e,t,n,r,o){return new st.prototype.init(e,t,n,r,o)}k.extend({cssHooks:{opacity:{get:function(e,t){if(t){e=Je(e,"opacity");return""===e?"1":e}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(e,t,n,r){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var o,i,a,l=H(t),s=nt.test(t),c=e.style;if(s||(t=et(l)),a=k.cssHooks[t]||k.cssHooks[l],void 0===n)return a&&"get"in a&&void 0!==(o=a.get(e,!1,r))?o:c[t];"string"===(i=typeof n)&&(o=te.exec(n))&&o[1]&&(n=se(e,t,o),i="number"),null!=n&&n==n&&("number"!==i||s||(n+=o&&o[3]||(k.cssNumber[l]?"":"px")),v.clearCloneStyle||""!==n||0!==t.indexOf("background")||(c[t]="inherit"),a&&"set"in a&&void 0===(n=a.set(e,n,r))||(s?c.setProperty(t,n):c[t]=n))}},css:function(e,t,n,r){var o,i=H(t);return nt.test(t)||(t=et(i)),"normal"===(o=void 0===(o=(i=k.cssHooks[t]||k.cssHooks[i])&&"get"in i?i.get(e,!0,n):o)?Je(e,t,r):o)&&t in ot&&(o=ot[t]),""===n||n?(t=parseFloat(o),!0===n||isFinite(t)?t||0:o):o}}),k.each(["height","width"],function(e,l){k.cssHooks[l]={get:function(e,t,n){if(t)return!tt.test(k.css(e,"display"))||e.getClientRects().length&&e.getBoundingClientRect().width?lt(e,l,n):ae(e,rt,function(){return lt(e,l,n)})},set:function(e,t,n){var r,o=Ge(e),i=!v.scrollboxSize()&&"absolute"===o.position,a=(i||n)&&"border-box"===k.css(e,"boxSizing",!1,o),n=n?at(e,l,n,a,o):0;return a&&i&&(n-=Math.ceil(e["offset"+l[0].toUpperCase()+l.slice(1)]-parseFloat(o[l])-at(e,l,"border",!1,o)-.5)),n&&(r=te.exec(t))&&"px"!==(r[3]||"px")&&(e.style[l]=t,t=k.css(e,l)),it(0,t,n)}}}),k.cssHooks.marginLeft=Ye(v.reliableMarginLeft,function(e,t){if(t)return(parseFloat(Je(e,"marginLeft"))||e.getBoundingClientRect().left-ae(e,{marginLeft:0},function(){return e.getBoundingClientRect().left}))+"px"}),k.each({margin:"",padding:"",border:"Width"},function(o,i){k.cssHooks[o+i]={expand:function(e){for(var t=0,n={},r="string"==typeof e?e.split(" "):[e];t<4;t++)n[o+ne[t]+i]=r[t]||r[t-2]||r[0];return n}},"margin"!==o&&(k.cssHooks[o+i].set=it)}),k.fn.extend({css:function(e,t){return z(this,function(e,t,n){var r,o,i={},a=0;if(Array.isArray(t)){for(r=Ge(e),o=t.length;a<o;a++)i[t[a]]=k.css(e,t[a],!1,r);return i}return void 0!==n?k.style(e,t,n):k.css(e,t)},e,t,1<arguments.length)}}),(k.Tween=st).prototype={constructor:st,init:function(e,t,n,r,o,i){this.elem=e,this.prop=n,this.easing=o||k.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=i||(k.cssNumber[n]?"":"px")},cur:function(){var e=st.propHooks[this.prop];return(e&&e.get?e:st.propHooks._default).get(this)},run:function(e){var t,n=st.propHooks[this.prop];return this.options.duration?this.pos=t=k.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),(n&&n.set?n:st.propHooks._default).set(this),this}},st.prototype.init.prototype=st.prototype,st.propHooks={_default:{get:function(e){return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(e=k.css(e.elem,e.prop,""))&&"auto"!==e?e:0},set:function(e){k.fx.step[e.prop]?k.fx.step[e.prop](e):1!==e.elem.nodeType||!k.cssHooks[e.prop]&&null==e.elem.style[et(e.prop)]?e.elem[e.prop]=e.now:k.style(e.elem,e.prop,e.now+e.unit)}}},st.propHooks.scrollTop=st.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},k.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},k.fx=st.prototype.init,k.fx.step={};var ct,ut,pt=/^(?:toggle|show|hide)$/,ft=/queueHooks$/;function dt(){ut&&(!1===C.hidden&&O.requestAnimationFrame?O.requestAnimationFrame(dt):O.setTimeout(dt,k.fx.interval),k.fx.tick())}function ht(){return O.setTimeout(function(){ct=void 0}),ct=Date.now()}function Vt(e,t){var n,r=0,o={height:e};for(t=t?1:0;r<4;r+=2-t)o["margin"+(n=ne[r])]=o["padding"+n]=e;return t&&(o.opacity=o.width=e),o}function mt(e,t,n){for(var r,o=(yt.tweeners[t]||[]).concat(yt.tweeners["*"]),i=0,a=o.length;i<a;i++)if(r=o[i].call(n,t,e))return r}function yt(o,e,t){var n,i,r=0,a=yt.prefilters.length,l=k.Deferred().always(function(){delete s.elem}),s=function(){if(i)return!1;for(var e=ct||ht(),e=Math.max(0,c.startTime+c.duration-e),t=1-(e/c.duration||0),n=0,r=c.tweens.length;n<r;n++)c.tweens[n].run(t);return l.notifyWith(o,[c,t,e]),t<1&&r?e:(r||l.notifyWith(o,[c,1,0]),l.resolveWith(o,[c]),!1)},c=l.promise({elem:o,props:k.extend({},e),opts:k.extend(!0,{specialEasing:{},easing:k.easing._default},t),originalProperties:e,originalOptions:t,startTime:ct||ht(),duration:t.duration,tweens:[],createTween:function(e,t){e=k.Tween(o,c.opts,e,t,c.opts.specialEasing[e]||c.opts.easing);return c.tweens.push(e),e},stop:function(e){var t=0,n=e?c.tweens.length:0;if(i)return this;for(i=!0;t<n;t++)c.tweens[t].run(1);return e?(l.notifyWith(o,[c,1,0]),l.resolveWith(o,[c,e])):l.rejectWith(o,[c,e]),this}}),u=c.props;for(!function(e,t){var n,r,o,i,a;for(n in e)if(o=t[r=H(n)],i=e[n],Array.isArray(i)&&(o=i[1],i=e[n]=i[0]),n!==r&&(e[r]=i,delete e[n]),(a=k.cssHooks[r])&&"expand"in a)for(n in i=a.expand(i),delete e[r],i)n in e||(e[n]=i[n],t[n]=o);else t[r]=o}(u,c.opts.specialEasing);r<a;r++)if(n=yt.prefilters[r].call(c,o,u,c.opts))return g(n.stop)&&(k._queueHooks(c.elem,c.opts.queue).stop=n.stop.bind(n)),n;return k.map(u,mt,c),g(c.opts.start)&&c.opts.start.call(o,c),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always),k.fx.timer(k.extend(s,{elem:o,anim:c,queue:c.opts.queue})),c}k.Animation=k.extend(yt,{tweeners:{"*":[function(e,t){var n=this.createTween(e,t);return se(n.elem,e,te.exec(t),n),n}]},tweener:function(e,t){for(var n,r=0,o=(e=g(e)?(t=e,["*"]):e.match(F)).length;r<o;r++)n=e[r],yt.tweeners[n]=yt.tweeners[n]||[],yt.tweeners[n].unshift(t)},prefilters:[function(e,t,n){var r,o,i,a,l,s,c,u="width"in t||"height"in t,p=this,f={},d=e.style,h=e.nodeType&&le(e),V=J.get(e,"fxshow");for(r in n.queue||(null==(a=k._queueHooks(e,"fx")).unqueued&&(a.unqueued=0,l=a.empty.fire,a.empty.fire=function(){a.unqueued||l()}),a.unqueued++,p.always(function(){p.always(function(){a.unqueued--,k.queue(e,"fx").length||a.empty.fire()})})),t)if(o=t[r],pt.test(o)){if(delete t[r],i=i||"toggle"===o,o===(h?"hide":"show")){if("show"!==o||!V||void 0===V[r])continue;h=!0}f[r]=V&&V[r]||k.style(e,r)}if((s=!k.isEmptyObject(t))||!k.isEmptyObject(f))for(r in u&&1===e.nodeType&&(n.overflow=[d.overflow,d.overflowX,d.overflowY],null==(c=V&&V.display)&&(c=J.get(e,"display")),"none"===(u=k.css(e,"display"))&&(c?u=c:(ue([e],!0),c=e.style.display||c,u=k.css(e,"display"),ue([e]))),("inline"===u||"inline-block"===u&&null!=c)&&"none"===k.css(e,"float")&&(s||(p.done(function(){d.display=c}),null==c&&(u=d.display,c="none"===u?"":u)),d.display="inline-block")),n.overflow&&(d.overflow="hidden",p.always(function(){d.overflow=n.overflow[0],d.overflowX=n.overflow[1],d.overflowY=n.overflow[2]})),s=!1,f)s||(V?"hidden"in V&&(h=V.hidden):V=J.access(e,"fxshow",{display:c}),i&&(V.hidden=!h),h&&ue([e],!0),p.done(function(){for(r in h||ue([e]),J.remove(e,"fxshow"),f)k.style(e,r,f[r])})),s=mt(h?V[r]:0,r,p),r in V||(V[r]=s.start,h&&(s.end=s.start,s.start=0))}],prefilter:function(e,t){t?yt.prefilters.unshift(e):yt.prefilters.push(e)}}),k.speed=function(e,t,n){var r=e&&"object"==typeof e?k.extend({},e):{complete:n||!n&&t||g(e)&&e,duration:e,easing:n&&t||t&&!g(t)&&t};return k.fx.off?r.duration=0:"number"!=typeof r.duration&&(r.duration in k.fx.speeds?r.duration=k.fx.speeds[r.duration]:r.duration=k.fx.speeds._default),null!=r.queue&&!0!==r.queue||(r.queue="fx"),r.old=r.complete,r.complete=function(){g(r.old)&&r.old.call(this),r.queue&&k.dequeue(this,r.queue)},r},k.fn.extend({fadeTo:function(e,t,n,r){return this.filter(le).css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(t,e,n,r){var o=k.isEmptyObject(t),i=k.speed(e,n,r),r=function(){var e=yt(this,k.extend({},t),i);(o||J.get(this,"finish"))&&e.stop(!0)};return r.finish=r,o||!1===i.queue?this.each(r):this.queue(i.queue,r)},stop:function(o,e,i){function a(e){var t=e.stop;delete e.stop,t(i)}return"string"!=typeof o&&(i=e,e=o,o=void 0),e&&!1!==o&&this.queue(o||"fx",[]),this.each(function(){var e=!0,t=null!=o&&o+"queueHooks",n=k.timers,r=J.get(this);if(t)r[t]&&r[t].stop&&a(r[t]);else for(t in r)r[t]&&r[t].stop&&ft.test(t)&&a(r[t]);for(t=n.length;t--;)n[t].elem!==this||null!=o&&n[t].queue!==o||(n[t].anim.stop(i),e=!1,n.splice(t,1));!e&&i||k.dequeue(this,o)})},finish:function(a){return!1!==a&&(a=a||"fx"),this.each(function(){var e,t=J.get(this),n=t[a+"queue"],r=t[a+"queueHooks"],o=k.timers,i=n?n.length:0;for(t.finish=!0,k.queue(this,a,[]),r&&r.stop&&r.stop.call(this,!0),e=o.length;e--;)o[e].elem===this&&o[e].queue===a&&(o[e].anim.stop(!0),o.splice(e,1));for(e=0;e<i;e++)n[e]&&n[e].finish&&n[e].finish.call(this);delete t.finish})}}),k.each(["toggle","show","hide"],function(e,r){var o=k.fn[r];k.fn[r]=function(e,t,n){return null==e||"boolean"==typeof e?o.apply(this,arguments):this.animate(Vt(r,!0),e,t,n)}}),k.each({slideDown:Vt("show"),slideUp:Vt("hide"),slideToggle:Vt("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,r){k.fn[e]=function(e,t,n){return this.animate(r,e,t,n)}}),k.timers=[],k.fx.tick=function(){var e,t=0,n=k.timers;for(ct=Date.now();t<n.length;t++)(e=n[t])()||n[t]!==e||n.splice(t--,1);n.length||k.fx.stop(),ct=void 0},k.fx.timer=function(e){k.timers.push(e),k.fx.start()},k.fx.interval=13,k.fx.start=function(){ut||(ut=!0,dt())},k.fx.stop=function(){ut=null},k.fx.speeds={slow:600,fast:200,_default:400},k.fn.delay=function(r,e){return r=k.fx&&k.fx.speeds[r]||r,this.queue(e=e||"fx",function(e,t){var n=O.setTimeout(e,r);t.stop=function(){O.clearTimeout(n)}})},t=C.createElement("input"),ee=C.createElement("select").appendChild(C.createElement("option")),t.type="checkbox",v.checkOn=""!==t.value,v.optSelected=ee.selected,(t=C.createElement("input")).value="t",t.type="radio",v.radioValue="t"===t.value;var vt,gt=k.expr.attrHandle;k.fn.extend({attr:function(e,t){return z(this,k.attr,e,t,1<arguments.length)},removeAttr:function(e){return this.each(function(){k.removeAttr(this,e)})}}),k.extend({attr:function(e,t,n){var r,o,i=e.nodeType;if(3!==i&&8!==i&&2!==i)return void 0===e.getAttribute?k.prop(e,t,n):(1===i&&k.isXMLDoc(e)||(o=k.attrHooks[t.toLowerCase()]||(k.expr.match.bool.test(t)?vt:void 0)),void 0!==n?null===n?void k.removeAttr(e,t):o&&"set"in o&&void 0!==(r=o.set(e,n,t))?r:(e.setAttribute(t,n+""),n):!(o&&"get"in o&&null!==(r=o.get(e,t)))&&null==(r=k.find.attr(e,t))?void 0:r)},attrHooks:{type:{set:function(e,t){if(!v.radioValue&&"radio"===t&&S(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},removeAttr:function(e,t){var n,r=0,o=t&&t.match(F);if(o&&1===e.nodeType)for(;n=o[r++];)e.removeAttribute(n)}}),vt={set:function(e,t,n){return!1===t?k.removeAttr(e,n):e.setAttribute(n,n),n}},k.each(k.expr.match.bool.source.match(/\w+/g),function(e,t){var a=gt[t]||k.find.attr;gt[t]=function(e,t,n){var r,o,i=t.toLowerCase();return n||(o=gt[i],gt[i]=r,r=null!=a(e,t,n)?i:null,gt[i]=o),r}});var bt=/^(?:input|select|textarea|button)$/i,wt=/^(?:a|area)$/i;function Ot(e){return(e.match(F)||[]).join(" ")}function Ct(e){return e.getAttribute&&e.getAttribute("class")||""}function kt(e){return Array.isArray(e)?e:"string"==typeof e&&e.match(F)||[]}k.fn.extend({prop:function(e,t){return z(this,k.prop,e,t,1<arguments.length)},removeProp:function(e){return this.each(function(){delete this[k.propFix[e]||e]})}}),k.extend({prop:function(e,t,n){var r,o,i=e.nodeType;if(3!==i&&8!==i&&2!==i)return 1===i&&k.isXMLDoc(e)||(t=k.propFix[t]||t,o=k.propHooks[t]),void 0!==n?o&&"set"in o&&void 0!==(r=o.set(e,n,t))?r:e[t]=n:o&&"get"in o&&null!==(r=o.get(e,t))?r:e[t]},propHooks:{tabIndex:{get:function(e){var t=k.find.attr(e,"tabindex");return t?parseInt(t,10):bt.test(e.nodeName)||wt.test(e.nodeName)&&e.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),v.optSelected||(k.propHooks.selected={get:function(e){e=e.parentNode;return e&&e.parentNode&&e.parentNode.selectedIndex,null},set:function(e){e=e.parentNode;e&&(e.selectedIndex,e.parentNode&&e.parentNode.selectedIndex)}}),k.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){k.propFix[this.toLowerCase()]=this}),k.fn.extend({addClass:function(t){var e,n,r,o,i,a,l=0;if(g(t))return this.each(function(e){k(this).addClass(t.call(this,e,Ct(this)))});if((e=kt(t)).length)for(;n=this[l++];)if(a=Ct(n),r=1===n.nodeType&&" "+Ot(a)+" "){for(i=0;o=e[i++];)r.indexOf(" "+o+" ")<0&&(r+=o+" ");a!==(a=Ot(r))&&n.setAttribute("class",a)}return this},removeClass:function(t){var e,n,r,o,i,a,l=0;if(g(t))return this.each(function(e){k(this).removeClass(t.call(this,e,Ct(this)))});if(!arguments.length)return this.attr("class","");if((e=kt(t)).length)for(;n=this[l++];)if(a=Ct(n),r=1===n.nodeType&&" "+Ot(a)+" "){for(i=0;o=e[i++];)for(;-1<r.indexOf(" "+o+" ");)r=r.replace(" "+o+" "," ");a!==(a=Ot(r))&&n.setAttribute("class",a)}return this},toggleClass:function(o,t){var i=typeof o,a="string"==i||Array.isArray(o);return"boolean"==typeof t&&a?t?this.addClass(o):this.removeClass(o):g(o)?this.each(function(e){k(this).toggleClass(o.call(this,e,Ct(this),t),t)}):this.each(function(){var e,t,n,r;if(a)for(t=0,n=k(this),r=kt(o);e=r[t++];)n.hasClass(e)?n.removeClass(e):n.addClass(e);else void 0!==o&&"boolean"!=i||((e=Ct(this))&&J.set(this,"__className__",e),this.setAttribute&&this.setAttribute("class",!e&&!1!==o&&J.get(this,"__className__")||""))})},hasClass:function(e){for(var t,n=0,r=" "+e+" ";t=this[n++];)if(1===t.nodeType&&-1<(" "+Ot(Ct(t))+" ").indexOf(r))return!0;return!1}});var Et=/\r/g;k.fn.extend({val:function(t){var n,e,r,o=this[0];return arguments.length?(r=g(t),this.each(function(e){1===this.nodeType&&(null==(e=r?t.call(this,e,k(this).val()):t)?e="":"number"==typeof e?e+="":Array.isArray(e)&&(e=k.map(e,function(e){return null==e?"":e+""})),(n=k.valHooks[this.type]||k.valHooks[this.nodeName.toLowerCase()])&&"set"in n&&void 0!==n.set(this,e,"value")||(this.value=e))})):o?(n=k.valHooks[o.type]||k.valHooks[o.nodeName.toLowerCase()])&&"get"in n&&void 0!==(e=n.get(o,"value"))?e:"string"==typeof(e=o.value)?e.replace(Et,""):null==e?"":e:void 0}}),k.extend({valHooks:{option:{get:function(e){var t=k.find.attr(e,"value");return null!=t?t:Ot(k.text(e))}},select:{get:function(e){for(var t,n=e.options,r=e.selectedIndex,o="select-one"===e.type,i=o?null:[],a=o?r+1:n.length,l=r<0?a:o?r:0;l<a;l++)if(((t=n[l]).selected||l===r)&&!t.disabled&&(!t.parentNode.disabled||!S(t.parentNode,"optgroup"))){if(t=k(t).val(),o)return t;i.push(t)}return i},set:function(e,t){for(var n,r,o=e.options,i=k.makeArray(t),a=o.length;a--;)((r=o[a]).selected=-1<k.inArray(k.valHooks.option.get(r),i))&&(n=!0);return n||(e.selectedIndex=-1),i}}}}),k.each(["radio","checkbox"],function(){k.valHooks[this]={set:function(e,t){if(Array.isArray(t))return e.checked=-1<k.inArray(k(e).val(),t)}},v.checkOn||(k.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})}),v.focusin="onfocusin"in O;function At(e){e.stopPropagation()}var St=/^(?:focusinfocus|focusoutblur)$/;k.extend(k.event,{trigger:function(e,t,n,r){var o,i,a,l,s,c,u,p=[n||C],f=y.call(e,"type")?e.type:e,d=y.call(e,"namespace")?e.namespace.split("."):[],h=u=i=n=n||C;if(3!==n.nodeType&&8!==n.nodeType&&!St.test(f+k.event.triggered)&&(-1<f.indexOf(".")&&(f=(d=f.split(".")).shift(),d.sort()),l=f.indexOf(":")<0&&"on"+f,(e=e[k.expando]?e:new k.Event(f,"object"==typeof e&&e)).isTrigger=r?2:3,e.namespace=d.join("."),e.rnamespace=e.namespace?new RegExp("(^|\\.)"+d.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=n),t=null==t?[e]:k.makeArray(t,[e]),c=k.event.special[f]||{},r||!c.trigger||!1!==c.trigger.apply(n,t))){if(!r&&!c.noBubble&&!V(n)){for(a=c.delegateType||f,St.test(a+f)||(h=h.parentNode);h;h=h.parentNode)p.push(h),i=h;i===(n.ownerDocument||C)&&p.push(i.defaultView||i.parentWindow||O)}for(o=0;(h=p[o++])&&!e.isPropagationStopped();)u=h,e.type=1<o?a:c.bindType||f,(s=(J.get(h,"events")||{})[e.type]&&J.get(h,"handle"))&&s.apply(h,t),(s=l&&h[l])&&s.apply&&q(h)&&(e.result=s.apply(h,t),!1===e.result&&e.preventDefault());return e.type=f,r||e.isDefaultPrevented()||c._default&&!1!==c._default.apply(p.pop(),t)||!q(n)||l&&g(n[f])&&!V(n)&&((i=n[l])&&(n[l]=null),k.event.triggered=f,e.isPropagationStopped()&&u.addEventListener(f,At),n[f](),e.isPropagationStopped()&&u.removeEventListener(f,At),k.event.triggered=void 0,i&&(n[l]=i)),e.result}},simulate:function(e,t,n){e=k.extend(new k.Event,n,{type:e,isSimulated:!0});k.event.trigger(e,null,t)}}),k.fn.extend({trigger:function(e,t){return this.each(function(){k.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];if(n)return k.event.trigger(e,t,n,!0)}}),v.focusin||k.each({focus:"focusin",blur:"focusout"},function(n,r){function o(e){k.event.simulate(r,e.target,k.event.fix(e))}k.event.special[r]={setup:function(){var e=this.ownerDocument||this,t=J.access(e,r);t||e.addEventListener(n,o,!0),J.access(e,r,(t||0)+1)},teardown:function(){var e=this.ownerDocument||this,t=J.access(e,r)-1;t?J.access(e,r,t):(e.removeEventListener(n,o,!0),J.remove(e,r))}}});var _t=O.location,xt=Date.now(),Pt=/\?/;k.parseXML=function(e){var t;if(!e||"string"!=typeof e)return null;try{t=(new O.DOMParser).parseFromString(e,"text/xml")}catch(e){t=void 0}return t&&!t.getElementsByTagName("parsererror").length||k.error("Invalid XML: "+e),t};var jt=/\[\]$/,Rt=/\r?\n/g,Dt=/^(?:submit|button|image|reset|file)$/i,Tt=/^(?:input|select|textarea|keygen)/i;k.param=function(e,t){function n(e,t){t=g(t)?t():t,o[o.length]=encodeURIComponent(e)+"="+encodeURIComponent(null==t?"":t)}var r,o=[];if(null==e)return"";if(Array.isArray(e)||e.jquery&&!k.isPlainObject(e))k.each(e,function(){n(this.name,this.value)});else for(r in e)!function n(r,e,o,i){if(Array.isArray(e))k.each(e,function(e,t){o||jt.test(r)?i(r,t):n(r+"["+("object"==typeof t&&null!=t?e:"")+"]",t,o,i)});else if(o||"object"!==h(e))i(r,e);else for(var t in e)n(r+"["+t+"]",e[t],o,i)}(r,e[r],t,n);return o.join("&")},k.fn.extend({serialize:function(){return k.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=k.prop(this,"elements");return e?k.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!k(this).is(":disabled")&&Tt.test(this.nodeName)&&!Dt.test(e)&&(this.checked||!pe.test(e))}).map(function(e,t){var n=k(this).val();return null==n?null:Array.isArray(n)?k.map(n,function(e){return{name:t.name,value:e.replace(Rt,"\r\n")}}):{name:t.name,value:n.replace(Rt,"\r\n")}}).get()}});var Ft=/%20/g,Nt=/#.*$/,It=/([?&])_=[^&]*/,Lt=/^(.*?):[ \t]*([^\r\n]*)$/gm,Ut=/^(?:GET|HEAD)$/,Mt=/^\/\//,Bt={},zt={},Wt="*/".concat("*"),Kt=C.createElement("a");function Gt(i){return function(e,t){"string"!=typeof e&&(t=e,e="*");var n,r=0,o=e.toLowerCase().match(F)||[];if(g(t))for(;n=o[r++];)"+"===n[0]?(n=n.slice(1)||"*",(i[n]=i[n]||[]).unshift(t)):(i[n]=i[n]||[]).push(t)}}function Ht(t,r,o,i){var a={},l=t===zt;function s(e){var n;return a[e]=!0,k.each(t[e]||[],function(e,t){t=t(r,o,i);return"string"!=typeof t||l||a[t]?l?!(n=t):void 0:(r.dataTypes.unshift(t),s(t),!1)}),n}return s(r.dataTypes[0])||!a["*"]&&s("*")}function qt(e,t){var n,r,o=k.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&&((o[n]?e:r=r||{})[n]=t[n]);return r&&k.extend(!0,e,r),e}Kt.href=_t.href,k.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:_t.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(_t.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Wt,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":k.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?qt(qt(e,k.ajaxSettings),t):qt(k.ajaxSettings,e)},ajaxPrefilter:Gt(Bt),ajaxTransport:Gt(zt),ajax:function(e,t){"object"==typeof e&&(t=e,e=void 0);var s,c,u,n,p,f,d,r,o,h=k.ajaxSetup({},t=t||{}),V=h.context||h,m=h.context&&(V.nodeType||V.jquery)?k(V):k.event,y=k.Deferred(),v=k.Callbacks("once memory"),g=h.statusCode||{},i={},a={},l="canceled",b={readyState:0,getResponseHeader:function(e){var t;if(f){if(!n)for(n={};t=Lt.exec(u);)n[t[1].toLowerCase()+" "]=(n[t[1].toLowerCase()+" "]||[]).concat(t[2]);t=n[e.toLowerCase()+" "]}return null==t?null:t.join(", ")},getAllResponseHeaders:function(){return f?u:null},setRequestHeader:function(e,t){return null==f&&(e=a[e.toLowerCase()]=a[e.toLowerCase()]||e,i[e]=t),this},overrideMimeType:function(e){return null==f&&(h.mimeType=e),this},statusCode:function(e){if(e)if(f)b.always(e[b.status]);else for(var t in e)g[t]=[g[t],e[t]];return this},abort:function(e){e=e||l;return s&&s.abort(e),w(0,e),this}};if(y.promise(b),h.url=((e||h.url||_t.href)+"").replace(Mt,_t.protocol+"//"),h.type=t.method||t.type||h.method||h.type,h.dataTypes=(h.dataType||"*").toLowerCase().match(F)||[""],null==h.crossDomain){o=C.createElement("a");try{o.href=h.url,o.href=o.href,h.crossDomain=Kt.protocol+"//"+Kt.host!=o.protocol+"//"+o.host}catch(e){h.crossDomain=!0}}if(h.data&&h.processData&&"string"!=typeof h.data&&(h.data=k.param(h.data,h.traditional)),Ht(Bt,h,t,b),f)return b;for(r in(d=k.event&&h.global)&&0==k.active++&&k.event.trigger("ajaxStart"),h.type=h.type.toUpperCase(),h.hasContent=!Ut.test(h.type),c=h.url.replace(Nt,""),h.hasContent?h.data&&h.processData&&0===(h.contentType||"").indexOf("application/x-www-form-urlencoded")&&(h.data=h.data.replace(Ft,"+")):(o=h.url.slice(c.length),h.data&&(h.processData||"string"==typeof h.data)&&(c+=(Pt.test(c)?"&":"?")+h.data,delete h.data),!1===h.cache&&(c=c.replace(It,"$1"),o=(Pt.test(c)?"&":"?")+"_="+xt+++o),h.url=c+o),h.ifModified&&(k.lastModified[c]&&b.setRequestHeader("If-Modified-Since",k.lastModified[c]),k.etag[c]&&b.setRequestHeader("If-None-Match",k.etag[c])),(h.data&&h.hasContent&&!1!==h.contentType||t.contentType)&&b.setRequestHeader("Content-Type",h.contentType),b.setRequestHeader("Accept",h.dataTypes[0]&&h.accepts[h.dataTypes[0]]?h.accepts[h.dataTypes[0]]+("*"!==h.dataTypes[0]?", "+Wt+"; q=0.01":""):h.accepts["*"]),h.headers)b.setRequestHeader(r,h.headers[r]);if(h.beforeSend&&(!1===h.beforeSend.call(V,b,h)||f))return b.abort();if(l="abort",v.add(h.complete),b.done(h.success),b.fail(h.error),s=Ht(zt,h,t,b)){if(b.readyState=1,d&&m.trigger("ajaxSend",[b,h]),f)return b;h.async&&0<h.timeout&&(p=O.setTimeout(function(){b.abort("timeout")},h.timeout));try{f=!1,s.send(i,w)}catch(e){if(f)throw e;w(-1,e)}}else w(-1,"No Transport");function w(e,t,n,r){var o,i,a,l=t;f||(f=!0,p&&O.clearTimeout(p),s=void 0,u=r||"",b.readyState=0<e?4:0,r=200<=e&&e<300||304===e,n&&(a=function(e,t,n){for(var r,o,i,a,l=e.contents,s=e.dataTypes;"*"===s[0];)s.shift(),void 0===r&&(r=e.mimeType||t.getResponseHeader("Content-Type"));if(r)for(o in l)if(l[o]&&l[o].test(r)){s.unshift(o);break}if(s[0]in n)i=s[0];else{for(o in n){if(!s[0]||e.converters[o+" "+s[0]]){i=o;break}a=a||o}i=i||a}if(i)return i!==s[0]&&s.unshift(i),n[i]}(h,b,n)),a=function(e,t,n,r){var o,i,a,l,s,c={},u=e.dataTypes.slice();if(u[1])for(a in e.converters)c[a.toLowerCase()]=e.converters[a];for(i=u.shift();i;)if(e.responseFields[i]&&(n[e.responseFields[i]]=t),!s&&r&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),s=i,i=u.shift())if("*"===i)i=s;else if("*"!==s&&s!==i){if(!(a=c[s+" "+i]||c["* "+i]))for(o in c)if((l=o.split(" "))[1]===i&&(a=c[s+" "+l[0]]||c["* "+l[0]])){!0===a?a=c[o]:!0!==c[o]&&(i=l[0],u.unshift(l[1]));break}if(!0!==a)if(a&&e.throws)t=a(t);else try{t=a(t)}catch(e){return{state:"parsererror",error:a?e:"No conversion from "+s+" to "+i}}}return{state:"success",data:t}}(h,a,b,r),r?(h.ifModified&&((n=b.getResponseHeader("Last-Modified"))&&(k.lastModified[c]=n),(n=b.getResponseHeader("etag"))&&(k.etag[c]=n)),204===e||"HEAD"===h.type?l="nocontent":304===e?l="notmodified":(l=a.state,o=a.data,r=!(i=a.error))):(i=l,!e&&l||(l="error",e<0&&(e=0))),b.status=e,b.statusText=(t||l)+"",r?y.resolveWith(V,[o,l,b]):y.rejectWith(V,[b,l,i]),b.statusCode(g),g=void 0,d&&m.trigger(r?"ajaxSuccess":"ajaxError",[b,h,r?o:i]),v.fireWith(V,[b,l]),d&&(m.trigger("ajaxComplete",[b,h]),--k.active||k.event.trigger("ajaxStop")))}return b},getJSON:function(e,t,n){return k.get(e,t,n,"json")},getScript:function(e,t){return k.get(e,void 0,t,"script")}}),k.each(["get","post"],function(e,o){k[o]=function(e,t,n,r){return g(t)&&(r=r||n,n=t,t=void 0),k.ajax(k.extend({url:e,type:o,dataType:r,data:t,success:n},k.isPlainObject(e)&&e))}}),k._evalUrl=function(e,t){return k.ajax({url:e,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(e){k.globalEval(e,t)}})},k.fn.extend({wrapAll:function(e){return this[0]&&(g(e)&&(e=e.call(this[0])),e=k(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&e.insertBefore(this[0]),e.map(function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e}).append(this)),this},wrapInner:function(n){return g(n)?this.each(function(e){k(this).wrapInner(n.call(this,e))}):this.each(function(){var e=k(this),t=e.contents();t.length?t.wrapAll(n):e.append(n)})},wrap:function(t){var n=g(t);return this.each(function(e){k(this).wrapAll(n?t.call(this,e):t)})},unwrap:function(e){return this.parent(e).not("body").each(function(){k(this).replaceWith(this.childNodes)}),this}}),k.expr.pseudos.hidden=function(e){return!k.expr.pseudos.visible(e)},k.expr.pseudos.visible=function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},k.ajaxSettings.xhr=function(){try{return new O.XMLHttpRequest}catch(e){}};var Qt={0:200,1223:204},Jt=k.ajaxSettings.xhr();v.cors=!!Jt&&"withCredentials"in Jt,v.ajax=Jt=!!Jt,k.ajaxTransport(function(o){var i,a;if(v.cors||Jt&&!o.crossDomain)return{send:function(e,t){var n,r=o.xhr();if(r.open(o.type,o.url,o.async,o.username,o.password),o.xhrFields)for(n in o.xhrFields)r[n]=o.xhrFields[n];for(n in o.mimeType&&r.overrideMimeType&&r.overrideMimeType(o.mimeType),o.crossDomain||e["X-Requested-With"]||(e["X-Requested-With"]="XMLHttpRequest"),e)r.setRequestHeader(n,e[n]);i=function(e){return function(){i&&(i=a=r.onload=r.onerror=r.onabort=r.ontimeout=r.onreadystatechange=null,"abort"===e?r.abort():"error"===e?"number"!=typeof r.status?t(0,"error"):t(r.status,r.statusText):t(Qt[r.status]||r.status,r.statusText,"text"!==(r.responseType||"text")||"string"!=typeof r.responseText?{binary:r.response}:{text:r.responseText},r.getAllResponseHeaders()))}},r.onload=i(),a=r.onerror=r.ontimeout=i("error"),void 0!==r.onabort?r.onabort=a:r.onreadystatechange=function(){4===r.readyState&&O.setTimeout(function(){i&&a()})},i=i("abort");try{r.send(o.hasContent&&o.data||null)}catch(e){if(i)throw e}},abort:function(){i&&i()}}}),k.ajaxPrefilter(function(e){e.crossDomain&&(e.contents.script=!1)}),k.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return k.globalEval(e),e}}}),k.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),k.ajaxTransport("script",function(n){var r,o;if(n.crossDomain||n.scriptAttrs)return{send:function(e,t){r=k("<script>").attr(n.scriptAttrs||{}).prop({charset:n.scriptCharset,src:n.url}).on("load error",o=function(e){r.remove(),o=null,e&&t("error"===e.type?404:200,e.type)}),C.head.appendChild(r[0])},abort:function(){o&&o()}}});var Yt=[],Xt=/(=)\?(?=&|$)|\?\?/;k.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Yt.pop()||k.expando+"_"+xt++;return this[e]=!0,e}}),k.ajaxPrefilter("json jsonp",function(e,t,n){var r,o,i,a=!1!==e.jsonp&&(Xt.test(e.url)?"url":"string"==typeof e.data&&0===(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&Xt.test(e.data)&&"data");if(a||"jsonp"===e.dataTypes[0])return r=e.jsonpCallback=g(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,a?e[a]=e[a].replace(Xt,"$1"+r):!1!==e.jsonp&&(e.url+=(Pt.test(e.url)?"&":"?")+e.jsonp+"="+r),e.converters["script json"]=function(){return i||k.error(r+" was not called"),i[0]},e.dataTypes[0]="json",o=O[r],O[r]=function(){i=arguments},n.always(function(){void 0===o?k(O).removeProp(r):O[r]=o,e[r]&&(e.jsonpCallback=t.jsonpCallback,Yt.push(r)),i&&g(o)&&o(i[0]),i=o=void 0}),"script"}),v.createHTMLDocument=((t=C.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===t.childNodes.length),k.parseHTML=function(e,t,n){return"string"!=typeof e?[]:("boolean"==typeof t&&(n=t,t=!1),t||(v.createHTMLDocument?((r=(t=C.implementation.createHTMLDocument("")).createElement("base")).href=C.location.href,t.head.appendChild(r)):t=C),r=!n&&[],(n=_.exec(e))?[t.createElement(n[1])]:(n=ve([e],t,r),r&&r.length&&k(r).remove(),k.merge([],n.childNodes)));var r},k.fn.load=function(e,t,n){var r,o,i,a=this,l=e.indexOf(" ");return-1<l&&(r=Ot(e.slice(l)),e=e.slice(0,l)),g(t)?(n=t,t=void 0):t&&"object"==typeof t&&(o="POST"),0<a.length&&k.ajax({url:e,type:o||"GET",dataType:"html",data:t}).done(function(e){i=arguments,a.html(r?k("<div>").append(k.parseHTML(e)).find(r):e)}).always(n&&function(e,t){a.each(function(){n.apply(this,i||[e.responseText,t,e])})}),this},k.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){k.fn[t]=function(e){return this.on(t,e)}}),k.expr.pseudos.animated=function(t){return k.grep(k.timers,function(e){return t===e.elem}).length},k.offset={setOffset:function(e,t,n){var r,o,i,a,l=k.css(e,"position"),s=k(e),c={};"static"===l&&(e.style.position="relative"),i=s.offset(),r=k.css(e,"top"),a=k.css(e,"left"),a=("absolute"===l||"fixed"===l)&&-1<(r+a).indexOf("auto")?(o=(l=s.position()).top,l.left):(o=parseFloat(r)||0,parseFloat(a)||0),null!=(t=g(t)?t.call(e,n,k.extend({},i)):t).top&&(c.top=t.top-i.top+o),null!=t.left&&(c.left=t.left-i.left+a),"using"in t?t.using.call(e,c):s.css(c)}},k.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each(function(e){k.offset.setOffset(this,t,e)});var e,n=this[0];return n?n.getClientRects().length?(e=n.getBoundingClientRect(),n=n.ownerDocument.defaultView,{top:e.top+n.pageYOffset,left:e.left+n.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var e,t,n,r=this[0],o={top:0,left:0};if("fixed"===k.css(r,"position"))t=r.getBoundingClientRect();else{for(t=this.offset(),n=r.ownerDocument,e=r.offsetParent||n.documentElement;e&&(e===n.body||e===n.documentElement)&&"static"===k.css(e,"position");)e=e.parentNode;e&&e!==r&&1===e.nodeType&&((o=k(e).offset()).top+=k.css(e,"borderTopWidth",!0),o.left+=k.css(e,"borderLeftWidth",!0))}return{top:t.top-o.top-k.css(r,"marginTop",!0),left:t.left-o.left-k.css(r,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent;e&&"static"===k.css(e,"position");)e=e.offsetParent;return e||re})}}),k.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,o){var i="pageYOffset"===o;k.fn[t]=function(e){return z(this,function(e,t,n){var r;return V(e)?r=e:9===e.nodeType&&(r=e.defaultView),void 0===n?r?r[o]:e[t]:void(r?r.scrollTo(i?r.pageXOffset:n,i?n:r.pageYOffset):e[t]=n)},t,e,arguments.length)}}),k.each(["top","left"],function(e,n){k.cssHooks[n]=Ye(v.pixelPosition,function(e,t){if(t)return t=Je(e,n),Ke.test(t)?k(e).position()[n]+"px":t})}),k.each({Height:"height",Width:"width"},function(a,l){k.each({padding:"inner"+a,content:l,"":"outer"+a},function(r,i){k.fn[i]=function(e,t){var n=arguments.length&&(r||"boolean"!=typeof e),o=r||(!0===e||!0===t?"margin":"border");return z(this,function(e,t,n){var r;return V(e)?0===i.indexOf("outer")?e["inner"+a]:e.document.documentElement["client"+a]:9===e.nodeType?(r=e.documentElement,Math.max(e.body["scroll"+a],r["scroll"+a],e.body["offset"+a],r["offset"+a],r["client"+a])):void 0===n?k.css(e,t,o):k.style(e,t,n,o)},l,n?e:void 0,n)}})}),k.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(e,n){k.fn[n]=function(e,t){return 0<arguments.length?this.on(n,null,e,t):this.trigger(n)}}),k.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),k.fn.extend({bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)}}),k.proxy=function(e,t){var n,r;if("string"==typeof t&&(r=e[t],t=e,e=r),g(e))return n=l.call(arguments,2),(r=function(){return e.apply(t||this,n.concat(l.call(arguments)))}).guid=e.guid=e.guid||k.guid++,r},k.holdReady=function(e){e?k.readyWait++:k.ready(!0)},k.isArray=Array.isArray,k.parseJSON=JSON.parse,k.nodeName=S,k.isFunction=g,k.isWindow=V,k.camelCase=H,k.type=h,k.now=Date.now,k.isNumeric=function(e){var t=k.type(e);return("number"===t||"string"===t)&&!isNaN(e-parseFloat(e))},void 0===(nn=function(){return k}.apply(tn,[]))||(en.exports=nn);var Zt=O.jQuery,$t=O.$;return k.noConflict=function(e){return O.$===k&&(O.$=$t),e&&O.jQuery===k&&(O.jQuery=Zt),k},e||(O.jQuery=O.$=k),k})},function(e,t,n){e.exports=n(3)(1100)},function(e,t,n){e.exports=n(3)(1108)},function(e,t,n){e.exports=n(3)(1139)},function(e,t,n){e.exports=n(3)(850)},function(e,t,n){e.exports=n(3)(869)},function(e,t,n){e.exports=n(3)(1238)},function(e,t,n){e.exports=n(3)(1111)},function(e,t,n){e.exports=n(3)(1138)},function(e,t,n){e.exports=n(3)(1099)},function(e,t,n){e.exports=n(3)(1098)},function(e,t,n){e.exports=n(3)(1143)},function(e,t,n){e.exports=n(3)(1122)},function(e,t,n){var r=n(5),o=n(2).document,i=r(o)&&r(o.createElement);e.exports=function(e){return i?o.createElement(e):{}}},function(e,t,n){var r=n(2),o=n(21),i=n(33),a=n(119),l=n(11).f;e.exports=function(e){var t=o.Symbol||(o.Symbol=!i&&r.Symbol||{});"_"==e.charAt(0)||e in t||l(t,e,{value:a.f(e)})}},function(e,t,n){var r=n(54)("keys"),o=n(37);e.exports=function(e){return r[e]||(r[e]=o(e))}},function(e,t){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(e,t,n){n=n(2).document;e.exports=n&&n.documentElement},function(e,t,o){function i(e,t){if(r(e),!n(t)&&null!==t)throw TypeError(t+": can't set as prototype!")}var n=o(5),r=o(1);e.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(e,n,r){try{(r=o(22)(Function.call,o(19).f(Object.prototype,"__proto__").set,2))(e,[]),n=!(e instanceof Array)}catch(e){n=!0}return function(e,t){return i(e,t),n?e.__proto__=t:r(e,t),e}}({},!1):void 0),check:i}},function(e,t){e.exports="\t\n\v\f\r \u2028\u2029\ufeff"},function(e,t,n){var o=n(5),i=n(95).set;e.exports=function(e,t,n){var r,t=t.constructor;return t!==n&&"function"==typeof t&&(r=t.prototype)!==n.prototype&&o(r)&&i&&i(e,r),e}},function(e,t,n){"use strict";var o=n(24),i=n(28);e.exports=function(e){var t=String(i(this)),n="",r=o(e);if(r<0||r==1/0)throw RangeError("Count can't be negative");for(;0<r;(r>>>=1)&&(t+=t))1&r&&(n+=t);return n}},function(e,t){e.exports=Math.sign||function(e){return 0==(e=+e)||e!=e?e:e<0?-1:1}},function(e,t){var n=Math.expm1;e.exports=!n||22025.465794806718<n(10)||n(10)<22025.465794806718||-2e-17!=n(-2e-17)?function(e){return 0==(e=+e)?e:-1e-6<e&&e<1e-6?e+e*e/2:Math.exp(e)-1}:n},function(e,t,n){"use strict";function v(){return this}var g=n(33),b=n(0),w=n(15),O=n(14),C=n(50),k=n(102),E=n(47),A=n(20),S=n(8)("iterator"),_=!([].keys&&"next"in[].keys()),x="values";e.exports=function(e,t,n,r,o,i,a){k(n,t,r);function l(e){if(!_&&e in h)return h[e];switch(e){case"keys":case x:return function(){return new n(this,e)}}return function(){return new n(this,e)}}var s,c,u,p=t+" Iterator",f=o==x,d=!1,h=e.prototype,V=h[S]||h["@@iterator"]||o&&h[o],m=V||l(o),y=o?f?l("entries"):m:void 0,r="Array"==t&&h.entries||V;if(r&&(u=A(r.call(new e)))!==Object.prototype&&u.next&&(E(u,p,!0),g||"function"==typeof u[S]||O(u,S,v)),f&&V&&V.name!==x&&(d=!0,m=function(){return V.call(this)}),g&&!a||!_&&!d&&h[S]||O(h,S,m),C[t]=m,C[p]=v,o)if(s={values:f?m:l(x),keys:i?m:l("keys"),entries:y},a)for(c in s)c in h||w(h,c,s[c]);else b(b.P+b.F*(_||d),t,s);return s}},function(e,t,n){"use strict";var r=n(40),o=n(36),i=n(47),a={};n(14)(a,n(8)("iterator"),function(){return this}),e.exports=function(e,t,n){e.prototype=r(a,{next:o(1,n)}),i(e,t+" Iterator")}},function(e,t,n){var r=n(64),o=n(28);e.exports=function(e,t,n){if(r(t))throw TypeError("String#"+n+" doesn't accept regex!");return String(o(e))}},function(e,t,n){var r=n(8)("match");e.exports=function(t){var n=/./;try{"/./"[t](n)}catch(e){try{return n[r]=!1,!"/./"[t](n)}catch(e){}}return!0}},function(e,t,n){var r=n(50),o=n(8)("iterator"),i=Array.prototype;e.exports=function(e){return void 0!==e&&(r.Array===e||i[o]===e)}},function(e,t,n){"use strict";var r=n(11),o=n(36);e.exports=function(e,t,n){t in e?r.f(e,t,o(0,n)):e[t]=n}},function(e,t,n){var r=n(48),o=n(8)("iterator"),i=n(50);e.exports=n(21).getIteratorMethod=function(e){if(null!=e)return e[o]||e["@@iterator"]||i[r(e)]}},function(e,t,n){var r=n(260);e.exports=function(e,t){return new(r(e))(t)}},function(e,t,n){"use strict";var a=n(12),l=n(39),s=n(9);e.exports=function(e){for(var t=a(this),n=s(t.length),r=arguments.length,o=l(1<r?arguments[1]:void 0,n),r=2<r?arguments[2]:void 0,i=void 0===r?n:l(r,n);o<i;)t[o++]=e;return t}},function(e,t,n){"use strict";var r=n(35),o=n(136),i=n(50),a=n(18);e.exports=n(101)(Array,"Array",function(e,t){this._t=a(e),this._i=0,this._k=t},function(){var e=this._t,t=this._k,n=this._i++;return!e||n>=e.length?(this._t=void 0,o(1)):o(0,"keys"==t?n:"values"==t?e[n]:[n,e[n]])},"values"),i.Arguments=i.Array,r("keys"),r("values"),r("entries")},function(e,t,n){"use strict";var r,i=n(57),a=RegExp.prototype.exec,l=String.prototype.replace,o=a,s="lastIndex",c=(r=/a/,n=/b*/g,a.call(r,"a"),a.call(n,"a"),0!==r[s]||0!==n[s]),u=void 0!==/()??/.exec("")[1];e.exports=o=c||u?function(e){var t,n,r,o;return u&&(n=new RegExp("^"+this.source+"$(?!\\s)",i.call(this))),c&&(t=this[s]),r=a.call(this,e),c&&r&&(this[s]=this.global?r.index+r[0].length:t),u&&r&&1<r.length&&l.call(r[0],n,function(){for(o=1;o<arguments.length-2;o++)void 0===arguments[o]&&(r[o]=void 0)}),r}:o},function(e,t,n){"use strict";var r=n(63)(!0);e.exports=function(e,t,n){return t+(n?r(e,t).length:1)}},function(e,t,n){function r(){var e,t=+this;y.hasOwnProperty(t)&&(e=y[t],delete y[t],e())}function o(e){r.call(e.data)}var i,a=n(22),l=n(126),s=n(94),c=n(90),u=n(2),p=u.process,f=u.setImmediate,d=u.clearImmediate,h=u.MessageChannel,V=u.Dispatch,m=0,y={},v="onreadystatechange";f&&d||(f=function(e){for(var t=[],n=1;n<arguments.length;)t.push(arguments[n++]);return y[++m]=function(){l("function"==typeof e?e:Function(e),t)},i(m),m},d=function(e){delete y[e]},"process"==n(23)(p)?i=function(e){p.nextTick(a(r,e,1))}:V&&V.now?i=function(e){V.now(a(r,e,1))}:h?(h=(n=new h).port2,n.port1.onmessage=o,i=a(h.postMessage,h,1)):u.addEventListener&&"function"==typeof postMessage&&!u.importScripts?(i=function(e){u.postMessage(e+"","*")},u.addEventListener("message",o,!1)):i=v in c("script")?function(e){s.appendChild(c("script"))[v]=function(){s.removeChild(this),r.call(e)}}:function(e){setTimeout(a(r,e,1),0)}),e.exports={set:f,clear:d}},function(e,t,n){var l=n(2),s=n(113).set,c=l.MutationObserver||l.WebKitMutationObserver,u=l.process,p=l.Promise,f="process"==n(23)(u);e.exports=function(){function e(){var e,t;for(f&&(e=u.domain)&&e.exit();n;){t=n.fn,n=n.next;try{t()}catch(e){throw n?o():r=void 0,e}}r=void 0,e&&e.enter()}var n,r,t,o,i,a;return o=f?function(){u.nextTick(e)}:!c||l.navigator&&l.navigator.standalone?p&&p.resolve?(t=p.resolve(void 0),function(){t.then(e)}):function(){s.call(l,e)}:(i=!0,a=document.createTextNode(""),new c(e).observe(a,{characterData:!0}),function(){a.data=i=!i}),function(e){e={fn:e,next:void 0};r&&(r.next=e),n||(n=e,o()),r=e}}},function(e,t,n){"use strict";var o=n(13);function r(e){var n,r;this.promise=new e(function(e,t){if(void 0!==n||void 0!==r)throw TypeError("Bad Promise constructor");n=e,r=t}),this.resolve=o(n),this.reject=o(r)}e.exports.f=function(e){return new r(e)}},function(e,t,n){"use strict";var r=n(2),o=n(10),i=n(33),a=n(70),l=n(14),s=n(45),c=n(4),u=n(43),p=n(24),f=n(9),d=n(146),h=n(41).f,V=n(11).f,m=n(109),y=n(47),v="ArrayBuffer",g="DataView",b="prototype",w="Wrong index!",O=r[v],C=r[g],n=r.Math,k=r.RangeError,E=r.Infinity,A=O,S=n.abs,_=n.pow,x=n.floor,P=n.log,j=n.LN2,r="byteLength",n="byteOffset",R=o?"_b":"buffer",D=o?"_l":r,T=o?"_o":n;function F(e,t,n){var r,o,i=new Array(n),a=8*n-t-1,l=(1<<a)-1,s=l>>1,c=23===t?_(2,-24)-_(2,-77):0,u=0,p=e<0||0===e&&1/e<0?1:0;for((e=S(e))!=e||e===E?(o=e!=e?1:0,r=l):(r=x(P(e)/j),e*(n=_(2,-r))<1&&(r--,n*=2),2<=(e+=1<=r+s?c/n:c*_(2,1-s))*n&&(r++,n/=2),l<=r+s?(o=0,r=l):1<=r+s?(o=(e*n-1)*_(2,t),r+=s):(o=e*_(2,s-1)*_(2,t),r=0));8<=t;i[u++]=255&o,o/=256,t-=8);for(r=r<<t|o,a+=t;0<a;i[u++]=255&r,r/=256,a-=8);return i[--u]|=128*p,i}function N(e,t,n){var r,o=8*n-t-1,i=(1<<o)-1,a=i>>1,l=o-7,s=n-1,n=e[s--],c=127&n;for(n>>=7;0<l;c=256*c+e[s],s--,l-=8);for(r=c&(1<<-l)-1,c>>=-l,l+=t;0<l;r=256*r+e[s],s--,l-=8);if(0===c)c=1-a;else{if(c===i)return r?NaN:n?-E:E;r+=_(2,t),c-=a}return(n?-1:1)*r*_(2,c-t)}function I(e){return e[3]<<24|e[2]<<16|e[1]<<8|e[0]}function L(e){return[255&e]}function U(e){return[255&e,e>>8&255]}function M(e){return[255&e,e>>8&255,e>>16&255,e>>24&255]}function B(e){return F(e,52,8)}function z(e){return F(e,23,4)}function W(e,t,n){V(e[b],t,{get:function(){return this[n]}})}function K(e,t,n,r){var o=d(+n);if(o+t>e[D])throw k(w);n=e[R]._b,e=o+e[T],t=n.slice(e,e+t);return r?t:t.reverse()}function G(e,t,n,r,o,i){n=d(+n);if(n+t>e[D])throw k(w);for(var a=e[R]._b,l=n+e[T],s=r(+o),c=0;c<t;c++)a[l+c]=s[i?c:t-c-1]}if(a.ABV){if(!c(function(){O(1)})||!c(function(){new O(-1)})||c(function(){return new O,new O(1.5),new O(NaN),O.name!=v})){for(var H,q=(O=function(e){return u(this,O),new A(d(e))})[b]=A[b],Q=h(A),J=0;Q.length>J;)(H=Q[J++])in O||l(O,H,A[H]);i||(q.constructor=O)}var q=new C(new O(2)),Y=C[b].setInt8;q.setInt8(0,2147483648),q.setInt8(1,2147483649),!q.getInt8(0)&&q.getInt8(1)||s(C[b],{setInt8:function(e,t){Y.call(this,e,t<<24>>24)},setUint8:function(e,t){Y.call(this,e,t<<24>>24)}},!0)}else O=function(e){u(this,O,v);e=d(e);this._b=m.call(new Array(e),0),this[D]=e},C=function(e,t,n){u(this,C,g),u(e,O,g);var r=e[D],t=p(t);if(t<0||r<t)throw k("Wrong offset!");if(r<t+(n=void 0===n?r-t:f(n)))throw k("Wrong length!");this[R]=e,this[T]=t,this[D]=n},o&&(W(O,r,"_l"),W(C,"buffer","_b"),W(C,r,"_l"),W(C,n,"_o")),s(C[b],{getInt8:function(e){return K(this,1,e)[0]<<24>>24},getUint8:function(e){return K(this,1,e)[0]},getInt16:function(e){e=K(this,2,e,arguments[1]);return(e[1]<<8|e[0])<<16>>16},getUint16:function(e){e=K(this,2,e,arguments[1]);return e[1]<<8|e[0]},getInt32:function(e){return I(K(this,4,e,arguments[1]))},getUint32:function(e){return I(K(this,4,e,arguments[1]))>>>0},getFloat32:function(e){return N(K(this,4,e,arguments[1]),23,4)},getFloat64:function(e){return N(K(this,8,e,arguments[1]),52,8)},setInt8:function(e,t){G(this,1,e,L,t)},setUint8:function(e,t){G(this,1,e,L,t)},setInt16:function(e,t){G(this,2,e,U,t,arguments[2])},setUint16:function(e,t){G(this,2,e,U,t,arguments[2])},setInt32:function(e,t){G(this,4,e,M,t,arguments[2])},setUint32:function(e,t){G(this,4,e,M,t,arguments[2])},setFloat32:function(e,t){G(this,4,e,z,t,arguments[2])},setFloat64:function(e,t){G(this,8,e,B,t,arguments[2])}});y(O,v),y(C,g),l(C[b],a.VIEW,!0),t[v]=O,t[g]=C},function(e,t,n){e.exports=n(3)(76)},function(e,t,n){e.exports=!n(10)&&!n(4)(function(){return 7!=Object.defineProperty(n(90)("div"),"a",{get:function(){return 7}}).a})},function(e,t,n){t.f=n(8)},function(e,t,n){var a=n(17),l=n(18),s=n(60)(!1),c=n(92)("IE_PROTO");e.exports=function(e,t){var n,r=l(e),o=0,i=[];for(n in r)n!=c&&a(r,n)&&i.push(n);for(;t.length>o;)a(r,n=t[o++])&&(~s(i,n)||i.push(n));return i}},function(e,t,n){var a=n(11),l=n(1),s=n(38);e.exports=n(10)?Object.defineProperties:function(e,t){l(e);for(var n,r=s(t),o=r.length,i=0;i<o;)a.f(e,n=r[i++],t[n]);return e}},function(e,t,n){var r=n(18),o=n(41).f,i={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];e.exports.f=function(e){return a&&"[object Window]"==i.call(e)?function(e){try{return o(e)}catch(e){return a.slice()}}(e):o(r(e))}},function(e,t,n){"use strict";var f=n(10),d=n(38),h=n(61),V=n(56),m=n(12),y=n(55),o=Object.assign;e.exports=!o||n(4)(function(){var e={},t={},n=Symbol(),r="abcdefghijklmnopqrst";return e[n]=7,r.split("").forEach(function(e){t[e]=e}),7!=o({},e)[n]||Object.keys(o({},t)).join("")!=r})?function(e,t){for(var n=m(e),r=arguments.length,o=1,i=h.f,a=V.f;o<r;)for(var l,s=y(arguments[o++]),c=i?d(s).concat(i(s)):d(s),u=c.length,p=0;p<u;)l=c[p++],f&&!a.call(s,l)||(n[l]=s[l]);return n}:o},function(e,t){e.exports=Object.is||function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}},function(e,t,n){"use strict";var i=n(13),a=n(5),l=n(126),s=[].slice,c={};e.exports=Function.bind||function(t){var n=i(this),r=s.call(arguments,1),o=function(){var e=r.concat(s.call(arguments));return this instanceof o?function(e,t,n){if(!(t in c)){for(var r=[],o=0;o<t;o++)r[o]="a["+o+"]";c[t]=Function("F,a","return new F("+r.join(",")+")")}return c[t](e,n)}(n,e.length,e):l(n,e,t)};return a(n.prototype)&&(o.prototype=n.prototype),o}},function(e,t){e.exports=function(e,t,n){var r=void 0===n;switch(t.length){case 0:return r?e():e.call(n);case 1:return r?e(t[0]):e.call(n,t[0]);case 2:return r?e(t[0],t[1]):e.call(n,t[0],t[1]);case 3:return r?e(t[0],t[1],t[2]):e.call(n,t[0],t[1],t[2]);case 4:return r?e(t[0],t[1],t[2],t[3]):e.call(n,t[0],t[1],t[2],t[3])}return e.apply(n,t)}},function(e,t,n){var r=n(2).parseInt,o=n(49).trim,n=n(96),i=/^[-+]?0[xX]/;e.exports=8!==r(n+"08")||22!==r(n+"0x16")?function(e,t){e=o(String(e),3);return r(e,t>>>0||(i.test(e)?16:10))}:r},function(e,t,n){var r=n(2).parseFloat,o=n(49).trim;e.exports=1/r(n(96)+"-0")!=-1/0?function(e){var t=o(String(e),3),e=r(t);return 0===e&&"-"==t.charAt(0)?-0:e}:r},function(e,t,n){var r=n(23);e.exports=function(e,t){if("number"!=typeof e&&"Number"!=r(e))throw TypeError(t);return+e}},function(e,t,n){var r=n(5),o=Math.floor;e.exports=function(e){return!r(e)&&isFinite(e)&&o(e)===e}},function(e,t){e.exports=Math.log1p||function(e){return-1e-8<(e=+e)&&e<1e-8?e-e*e/2:Math.log(1+e)}},function(e,t,n){var r=n(99),n=Math.pow,o=n(2,-52),i=n(2,-23),a=n(2,127)*(2-i),l=n(2,-126);e.exports=Math.fround||function(e){var t=Math.abs(e),n=r(e);return t<l?n*(t/l/i+1/o-1/o)*l*i:a<(t=(e=(1+i/o)*t)-(e-t))||t!=t?n*(1/0):n*t}},function(e,t,n){var o=n(1);e.exports=function(t,e,n,r){try{return r?e(o(n)[0],n[1]):e(n)}catch(e){n=t.return;throw void 0!==n&&o(n.call(t)),e}}},function(e,t,n){var u=n(13),p=n(12),f=n(55),d=n(9);e.exports=function(e,t,n,r,o){u(t);var i=p(e),a=f(i),l=d(i.length),s=o?l-1:0,c=o?-1:1;if(n<2)for(;;){if(s in a){r=a[s],s+=c;break}if(s+=c,o?s<0:l<=s)throw TypeError("Reduce of empty array with no initial value")}for(;o?0<=s:s<l;s+=c)s in a&&(r=t(r,a[s],s,i));return r}},function(e,t,n){"use strict";var s=n(12),c=n(39),u=n(9);e.exports=[].copyWithin||function(e,t){var n=s(this),r=u(n.length),o=c(e,r),i=c(t,r),t=2<arguments.length?arguments[2]:void 0,a=Math.min((void 0===t?r:c(t,r))-i,r-o),l=1;for(i<o&&o<i+a&&(l=-1,i+=a-1,o+=a-1);0<a--;)i in n?n[o]=n[i]:delete n[o],o+=l,i+=l;return n}},function(e,t){e.exports=function(e,t){return{value:t,done:!!e}}},function(e,t,n){"use strict";var r=n(111);n(0)({target:"RegExp",proto:!0,forced:r!==/./.exec},{exec:r})},function(e,t,n){n(10)&&"g"!=/./g.flags&&n(11).f(RegExp.prototype,"flags",{configurable:!0,get:n(57)})},function(e,t){e.exports=function(e){try{return{e:!1,v:e()}}catch(e){return{e:!0,v:e}}}},function(e,t,n){var r=n(1),o=n(5),i=n(115);e.exports=function(e,t){if(r(e),o(t)&&t.constructor===e)return t;e=i.f(e);return(0,e.resolve)(t),e.promise}},function(e,t,n){"use strict";var r=n(142),o=n(46);e.exports=n(69)("Map",function(e){return function(){return e(this,0<arguments.length?arguments[0]:void 0)}},{get:function(e){e=r.getEntry(o(this,"Map"),e);return e&&e.v},set:function(e,t){return r.def(o(this,"Map"),0===e?0:e,t)}},r,!0)},function(e,t,n){"use strict";function a(e,t){var n,r=h(t);if("F"!==r)return e._i[r];for(n=e._f;n;n=n.n)if(n.k==t)return n}var l=n(11).f,s=n(40),c=n(45),u=n(22),p=n(43),f=n(44),r=n(101),o=n(136),i=n(42),d=n(10),h=n(34).fastKey,V=n(46),m=d?"_s":"size";e.exports={getConstructor:function(e,o,n,r){var i=e(function(e,t){p(e,i,o,"_i"),e._t=o,e._i=s(null),e._f=void 0,e._l=void 0,e[m]=0,null!=t&&f(t,n,e[r],e)});return c(i.prototype,{clear:function(){for(var e=V(this,o),t=e._i,n=e._f;n;n=n.n)n.r=!0,n.p&&(n.p=n.p.n=void 0),delete t[n.i];e._f=e._l=void 0,e[m]=0},delete:function(e){var t,n=V(this,o),r=a(n,e);return r&&(t=r.n,e=r.p,delete n._i[r.i],r.r=!0,e&&(e.n=t),t&&(t.p=e),n._f==r&&(n._f=t),n._l==r&&(n._l=e),n[m]--),!!r},forEach:function(e){V(this,o);for(var t,n=u(e,1<arguments.length?arguments[1]:void 0,3);t=t?t.n:this._f;)for(n(t.v,t.k,this);t&&t.r;)t=t.p},has:function(e){return!!a(V(this,o),e)}}),d&&l(i.prototype,"size",{get:function(){return V(this,o)[m]}}),i},def:function(e,t,n){var r,o=a(e,t);return o?o.v=n:(e._l=o={i:r=h(t,!0),k:t,v:n,p:n=e._l,n:void 0,r:!1},e._f||(e._f=o),n&&(n.n=o),e[m]++,"F"!==r&&(e._i[r]=o)),e},getEntry:a,setStrong:function(e,n,t){r(e,n,function(e,t){this._t=V(e,n),this._k=t,this._l=void 0},function(){for(var e=this._k,t=this._l;t&&t.r;)t=t.p;return this._t&&(this._l=t=t?t.n:this._t._f)?o(0,"keys"==e?t.k:"values"==e?t.v:[t.k,t.v]):(this._t=void 0,o(1))},t?"entries":"values",!t,!0),i(n)}}},function(e,t,n){"use strict";var r=n(142),o=n(46);e.exports=n(69)("Set",function(e){return function(){return e(this,0<arguments.length?arguments[0]:void 0)}},{add:function(e){return r.def(o(this,"Set"),e=0===e?0:e,e)}},r)},function(e,t,n){"use strict";function r(e){return function(){return e(this,0<arguments.length?arguments[0]:void 0)}}var o,i=n(2),a=n(30)(0),l=n(15),s=n(34),c=n(123),u=n(145),p=n(5),f=n(46),d=n(46),h=!i.ActiveXObject&&"ActiveXObject"in i,V="WeakMap",m=s.getWeak,y=Object.isExtensible,v=u.ufstore,i={get:function(e){if(p(e)){var t=m(e);return!0===t?v(f(this,V)).get(e):t?t[this._i]:void 0}},set:function(e,t){return u.def(f(this,V),e,t)}},g=e.exports=n(69)(V,r,i,u,!0,!0);d&&h&&(c((o=u.getConstructor(r,V)).prototype,i),s.NEED=!0,a(["delete","has","get","set"],function(n){var e=g.prototype,r=e[n];l(e,n,function(e,t){if(!p(e)||y(e))return r.call(this,e,t);this._f||(this._f=new o);t=this._f[n](e,t);return"set"==n?this:t})}))},function(e,t,n){"use strict";function a(e){return e._l||(e._l=new y)}function r(e,t){return h(e.a,function(e){return e[0]===t})}var l=n(45),s=n(34).getWeak,o=n(1),c=n(5),u=n(43),p=n(44),i=n(30),f=n(17),d=n(46),h=i(5),V=i(6),m=0,y=function(){this.a=[]};y.prototype={get:function(e){e=r(this,e);if(e)return e[1]},has:function(e){return!!r(this,e)},set:function(e,t){var n=r(this,e);n?n[1]=t:this.a.push([e,t])},delete:function(t){var e=V(this.a,function(e){return e[0]===t});return~e&&this.a.splice(e,1),!!~e}},e.exports={getConstructor:function(e,n,r,o){var i=e(function(e,t){u(e,i,n,"_i"),e._t=n,e._i=m++,e._l=void 0,null!=t&&p(t,r,e[o],e)});return l(i.prototype,{delete:function(e){if(!c(e))return!1;var t=s(e);return!0===t?a(d(this,n)).delete(e):t&&f(t,this._i)&&delete t[this._i]},has:function(e){if(!c(e))return!1;var t=s(e);return!0===t?a(d(this,n)).has(e):t&&f(t,this._i)}}),i},def:function(e,t,n){var r=s(o(t),!0);return!0===r?a(e).set(t,n):r[e._i]=n,e},ufstore:a}},function(e,t,n){var r=n(24),o=n(9);e.exports=function(e){if(void 0===e)return 0;var t=r(e),e=o(t);if(t!==e)throw RangeError("Wrong length!");return e}},function(e,t,n){var r=n(41),o=n(61),i=n(1),n=n(2).Reflect;e.exports=n&&n.ownKeys||function(e){var t=r.f(i(e)),n=o.f;return n?t.concat(n(e)):t}},function(e,t,n){"use strict";var h=n(62),V=n(5),m=n(9),y=n(22),v=n(8)("isConcatSpreadable");e.exports=function e(t,n,r,o,i,a,l,s){for(var c,u,p=i,f=0,d=!!l&&y(l,s,3);f<o;){if(f in r){if(c=d?d(r[f],f,n):r[f],u=!1,(u=V(c)?void 0!==(u=c[v])?!!u:h(c):u)&&0<a)p=e(t,n,c,m(c.length),p,a-1)-1;else{if(9007199254740991<=p)throw TypeError();t[p]=c}p++}f++}return p}},function(e,t,n){var i=n(9),a=n(98),l=n(28);e.exports=function(e,t,n,r){var o=String(l(e)),e=o.length,n=void 0===n?" ":String(n),t=i(t);if(t<=e||""==n)return o;e=t-e,n=a.call(n,Math.ceil(e/n.length));return n.length>e&&(n=n.slice(0,e)),r?n+o:o+n}},function(e,t,n){var s=n(10),c=n(38),u=n(18),p=n(56).f;e.exports=function(l){return function(e){for(var t,n=u(e),r=c(n),o=r.length,i=0,a=[];i<o;)t=r[i++],s&&!p.call(n,t)||a.push(l?[t,n[t]]:n[t]);return a}}},function(e,t,n){var r=n(48),o=n(152);e.exports=function(e){return function(){if(r(this)!=e)throw TypeError(e+"#toJSON isn't generic");return o(this)}}},function(e,t,n){var r=n(44);e.exports=function(e,t){var n=[];return r(e,!1,n.push,n,t),n}},function(e,t){e.exports=Math.scale||function(e,t,n,r,o){return 0===arguments.length||e!=e||t!=t||n!=n||r!=r||o!=o?NaN:e===1/0||e===-1/0?e:(e-t)*(o-r)/(n-t)+r}},function(e,t,n){!function(re,oe){
/*!
 * @overview es6-promise - a tiny implementation of Promises/A+.
 * @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors (Conversion to ES6 API by Jake Archibald)
 * @license   Licensed under MIT license
 *            See https://raw.githubusercontent.com/stefanpenner/es6-promise/master/LICENSE
 * @version   v4.2.8+1e68dce6
 */
e.exports=function(){"use strict";function r(e){var t=typeof e;return e!==null&&(t==="object"||t==="function")}function s(e){return typeof e==="function"}var e=void 0;if(Array.isArray)e=Array.isArray;else e=function(e){return Object.prototype.toString.call(e)==="[object Array]"};var n=e,o=0,t=void 0,i=void 0,a=function e(t,n){b[o]=t;b[o+1]=n;o+=2;if(o===2)if(i)i(w);else C()};function l(e){i=e}function c(e){a=e}var u=typeof window!=="undefined"?window:undefined,p=u||{},f=p.MutationObserver||p.WebKitMutationObserver,d=typeof self==="undefined"&&typeof re!=="undefined"&&{}.toString.call(re)==="[object process]",h=typeof Uint8ClampedArray!=="undefined"&&typeof importScripts!=="undefined"&&typeof MessageChannel!=="undefined";function V(){return function(){return re.nextTick(w)}}function m(){if(typeof t!=="undefined")return function(){t(w)};return g()}function y(){var e=0;var t=new f(w);var n=document.createTextNode("");t.observe(n,{characterData:true});return function(){n.data=e=++e%2}}function v(){var e=new MessageChannel;e.port1.onmessage=w;return function(){return e.port2.postMessage(0)}}function g(){var e=setTimeout;return function(){return e(w,1)}}var b=new Array(1e3);function w(){for(var e=0;e<o;e+=2){var t=b[e];var n=b[e+1];t(n);b[e]=undefined;b[e+1]=undefined}o=0}function O(){try{var e=Function("return this")().require("vertx");t=e.runOnLoop||e.runOnContext;return m()}catch(e){return g()}}var C=void 0;if(d)C=V();else if(f)C=y();else if(h)C=v();else if(u===undefined&&"function"==="function")C=O();else C=g();function k(e,t){var n=this;var r=new this.constructor(S);if(r[A]===undefined)q(r);var o=n._state;if(o){var i=arguments[o-1];a(function(){return W(o,r,i,n._result)})}else B(n,r,e,t);return r}function E(e){var t=this;if(e&&typeof e==="object"&&e.constructor===t)return e;var n=new t(S);I(n,e);return n}var A=Math.random().toString(36).substring(2);function S(){}var _=void 0,x=1,P=2;function j(){return new TypeError("You cannot resolve a promise with itself")}function R(){return new TypeError("A promises callback cannot return that same promise.")}function D(e,t,n,r){try{e.call(t,n,r)}catch(e){return e}}function T(e,r,o){a(function(t){var n=false;var e=D(o,r,function(e){if(n)return;n=true;if(r!==e)I(t,e);else U(t,e)},function(e){if(n)return;n=true;M(t,e)},"Settle: "+(t._label||" unknown promise"));if(!n&&e){n=true;M(t,e)}},e)}function F(t,e){if(e._state===x)U(t,e._result);else if(e._state===P)M(t,e._result);else B(e,undefined,function(e){return I(t,e)},function(e){return M(t,e)})}function N(e,t,n){if(t.constructor===e.constructor&&n===k&&t.constructor.resolve===E)F(e,t);else if(n===undefined)U(e,t);else if(s(n))T(e,t,n);else U(e,t)}function I(t,e){if(t===e)M(t,j());else if(r(e)){var n=void 0;try{n=e.then}catch(e){M(t,e);return}N(t,e,n)}else U(t,e)}function L(e){if(e._onerror)e._onerror(e._result);z(e)}function U(e,t){if(e._state!==_)return;e._result=t;e._state=x;if(e._subscribers.length!==0)a(z,e)}function M(e,t){if(e._state!==_)return;e._state=P;e._result=t;a(L,e)}function B(e,t,n,r){var o=e._subscribers;var i=o.length;e._onerror=null;o[i]=t;o[i+x]=n;o[i+P]=r;if(i===0&&e._state)a(z,e)}function z(e){var t=e._subscribers;var n=e._state;if(t.length===0)return;var r=void 0,o=void 0,i=e._result;for(var a=0;a<t.length;a+=3){r=t[a];o=t[a+n];if(r)W(n,r,o,i);else o(i)}e._subscribers.length=0}function W(e,t,n,r){var o=s(n),i=void 0,a=void 0,l=true;if(o){try{i=n(r)}catch(e){l=false;a=e}if(t===i){M(t,R());return}}else i=r;if(t._state!==_);else if(o&&l)I(t,i);else if(l===false)M(t,a);else if(e===x)U(t,i);else if(e===P)M(t,i)}function K(n,e){try{e(function e(t){I(n,t)},function e(t){M(n,t)})}catch(e){M(n,e)}}var G=0;function H(){return G++}function q(e){e[A]=G++;e._state=undefined;e._result=undefined;e._subscribers=[]}function Q(){return new Error("Array Methods must be provided an Array")}var J=function(){function e(e,t){this._instanceConstructor=e;this.promise=new e(S);if(!this.promise[A])q(this.promise);if(n(t)){this.length=t.length;this._remaining=t.length;this._result=new Array(this.length);if(this.length===0)U(this.promise,this._result);else{this.length=this.length||0;this._enumerate(t);if(this._remaining===0)U(this.promise,this._result)}}else M(this.promise,Q())}e.prototype._enumerate=function e(t){for(var n=0;this._state===_&&n<t.length;n++)this._eachEntry(t[n],n)};e.prototype._eachEntry=function e(t,n){var r=this._instanceConstructor;var o=r.resolve;if(o===E){var i=void 0;var a=void 0;var l=false;try{i=t.then}catch(e){l=true;a=e}if(i===k&&t._state!==_)this._settledAt(t._state,n,t._result);else if(typeof i!=="function"){this._remaining--;this._result[n]=t}else if(r===te){var s=new r(S);if(l)M(s,a);else N(s,t,i);this._willSettleAt(s,n)}else this._willSettleAt(new r(function(e){return e(t)}),n)}else this._willSettleAt(o(t),n)};e.prototype._settledAt=function e(t,n,r){var o=this.promise;if(o._state===_){this._remaining--;if(t===P)M(o,r);else this._result[n]=r}if(this._remaining===0)U(o,this._result)};e.prototype._willSettleAt=function e(t,n){var r=this;B(t,undefined,function(e){return r._settledAt(x,n,e)},function(e){return r._settledAt(P,n,e)})};return e}();function Y(e){return new J(this,e).promise}function X(o){var i=this;if(!n(o))return new i(function(e,t){return t(new TypeError("You must pass an array to race."))});else return new i(function(e,t){var n=o.length;for(var r=0;r<n;r++)i.resolve(o[r]).then(e,t)})}function Z(e){var t=this;var n=new t(S);M(n,e);return n}function $(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function ee(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}var te=function(){function t(e){this[A]=H();this._result=this._state=undefined;this._subscribers=[];if(S!==e){typeof e!=="function"&&$();this instanceof t?K(this,e):ee()}}t.prototype.catch=function e(t){return this.then(null,t)};t.prototype.finally=function e(t){var n=this;var r=n.constructor;if(s(t))return n.then(function(e){return r.resolve(t()).then(function(){return e})},function(e){return r.resolve(t()).then(function(){throw e})});return n.then(t,t)};return t}();function ne(){var e=void 0;if(typeof oe!=="undefined")e=oe;else if(typeof self!=="undefined")e=self;else try{e=Function("return this")()}catch(e){throw new Error("polyfill failed because global object is unavailable in this environment")}var t=e.Promise;if(t){var n=null;try{n=Object.prototype.toString.call(t.resolve())}catch(e){}if(n==="[object Promise]"&&!t.cast)return}e.Promise=te}return te.prototype.then=k,te.all=Y,te.race=X,te.resolve=E,te.reject=Z,te._setScheduler=l,te._setAsap=c,te._asap=a,te.polyfill=ne,te.Promise=te}()}.call(this,n(370),n(59))},function(e,t,n){e.exports=n(3)(864)},function(e,t,n){e.exports=n(3)(300)},function(e,t,n){e.exports=n(3)(846)},function(e,t,n){"use strict";var s=function(e){return!(!(t=e)||"object"!=typeof t||(t=e,"[object RegExp]"===(e=Object.prototype.toString.call(t))||"[object Date]"===e||function(e){return e.$$typeof===r}(t)));var t};var r="function"==typeof Symbol&&Symbol.for?Symbol.for("react.element"):60103;function c(e,t){return t&&!0===t.clone&&s(e)?p(Array.isArray(e)?[]:{},e,t):e}function u(n,e,r){var o=n.slice();return e.forEach(function(e,t){void 0===o[t]?o[t]=c(e,r):s(e)?o[t]=p(n[t],e,r):-1===n.indexOf(e)&&o.push(c(e,r))}),o}function p(e,t,n){var r,o,i,a,l=Array.isArray(t);return l===Array.isArray(e)?l?((n||{arrayMerge:u}).arrayMerge||u)(e,t,n):(o=t,i=n,a={},s(r=e)&&Object.keys(r).forEach(function(e){a[e]=c(r[e],i)}),Object.keys(o).forEach(function(e){s(o[e])&&r[e]?a[e]=p(r[e],o[e],i):a[e]=c(o[e],i)}),a):c(t,n)}p.all=function(e,n){if(!Array.isArray(e)||e.length<2)throw new Error("first argument should be an array with at least two elements");return e.reduce(function(e,t){return p(e,t,n)})},e.exports=p},function(e,t,n){e.exports=n(3)(867)},function(e,t,n){e.exports=n(3)(868)},function(e,P,j){!function(S,_){var x;
/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */!function(){var zi,Wi="Expected a function",Ki="__lodash_hash_undefined__",Gi="__lodash_placeholder__",Hi=9007199254740991,qi=NaN,Qi=4294967295,Ji=[["ary",128],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]],Yi="[object Arguments]",Xi="[object Array]",Zi="[object Boolean]",$i="[object Date]",ea="[object Error]",ta="[object Function]",na="[object GeneratorFunction]",ra="[object Map]",oa="[object Number]",ia="[object Object]",aa="[object Promise]",la="[object RegExp]",sa="[object Set]",ca="[object String]",ua="[object Symbol]",pa="[object WeakMap]",fa="[object ArrayBuffer]",da="[object DataView]",ha="[object Float32Array]",Va="[object Float64Array]",ma="[object Int8Array]",ya="[object Int16Array]",va="[object Int32Array]",ga="[object Uint8Array]",ba="[object Uint8ClampedArray]",wa="[object Uint16Array]",Oa="[object Uint32Array]",Ca=/\b__p \+= '';/g,ka=/\b(__p \+=) '' \+/g,Ea=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Aa=/&(?:amp|lt|gt|quot|#39);/g,Sa=/[&<>"']/g,_a=RegExp(Aa.source),xa=RegExp(Sa.source),Pa=/<%-([\s\S]+?)%>/g,ja=/<%([\s\S]+?)%>/g,Ra=/<%=([\s\S]+?)%>/g,Da=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Ta=/^\w*$/,Fa=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Na=/[\\^$.*+?()[\]{}|]/g,Ia=RegExp(Na.source),La=/^\s+|\s+$/g,Ua=/^\s+/,Ma=/\s+$/,Ba=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,za=/\{\n\/\* \[wrapped with (.+)\] \*/,Wa=/,? & /,Ka=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Ga=/\\(\\)?/g,Ha=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,qa=/\w*$/,Qa=/^[-+]0x[0-9a-f]+$/i,Ja=/^0b[01]+$/i,Ya=/^\[object .+?Constructor\]$/,Xa=/^0o[0-7]+$/i,Za=/^(?:0|[1-9]\d*)$/,$a=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,el=/($^)/,tl=/['\n\r\u2028\u2029\\]/g,e="\\ud800-\\udfff",t="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",n="\\u2700-\\u27bf",r="a-z\\xdf-\\xf6\\xf8-\\xff",o="A-Z\\xc0-\\xd6\\xd8-\\xde",i="\\ufe0e\\ufe0f",a="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",l="["+e+"]",s="["+a+"]",c="["+t+"]",u="\\d+",p="["+n+"]",f="["+r+"]",d="[^"+e+a+u+n+r+o+"]",h="\\ud83c[\\udffb-\\udfff]",V="[^"+e+"]",m="(?:\\ud83c[\\udde6-\\uddff]){2}",y="[\\ud800-\\udbff][\\udc00-\\udfff]",v="["+o+"]",g="(?:"+f+"|"+d+")",a="(?:"+v+"|"+d+")",n="(?:['](?:d|ll|m|re|s|t|ve))?",r="(?:['](?:D|LL|M|RE|S|T|VE))?",o="(?:"+c+"|"+h+")"+"?",d="["+i+"]?",o=d+o+("(?:\\u200d(?:"+[V,m,y].join("|")+")"+d+o+")*"),p="(?:"+[p,m,y].join("|")+")"+o,l="(?:"+[V+c+"?",c,m,y,l].join("|")+")",nl=RegExp("[']","g"),rl=RegExp(c,"g"),b=RegExp(h+"(?="+h+")|"+l+o,"g"),ol=RegExp([v+"?"+f+"+"+n+"(?="+[s,v,"$"].join("|")+")",a+"+"+r+"(?="+[s,v+g,"$"].join("|")+")",v+"?"+g+"+"+n,v+"+"+r,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",u,p].join("|"),"g"),w=RegExp("[\\u200d"+e+t+i+"]"),il=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,al=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],ll=-1,sl={};sl[ha]=sl[Va]=sl[ma]=sl[ya]=sl[va]=sl[ga]=sl[ba]=sl[wa]=sl[Oa]=!0,sl[Yi]=sl[Xi]=sl[fa]=sl[Zi]=sl[da]=sl[$i]=sl[ea]=sl[ta]=sl[ra]=sl[oa]=sl[ia]=sl[la]=sl[sa]=sl[ca]=sl[pa]=!1;var cl={};cl[Yi]=cl[Xi]=cl[fa]=cl[da]=cl[Zi]=cl[$i]=cl[ha]=cl[Va]=cl[ma]=cl[ya]=cl[va]=cl[ra]=cl[oa]=cl[ia]=cl[la]=cl[sa]=cl[ca]=cl[ua]=cl[ga]=cl[ba]=cl[wa]=cl[Oa]=!0,cl[ea]=cl[ta]=cl[pa]=!1;var O={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},ul=parseFloat,pl=parseInt,t="object"==typeof S&&S&&S.Object===Object&&S,i="object"==typeof self&&self&&self.Object===Object&&self,fl=t||i||Function("return this")(),i=P&&!P.nodeType&&P,C=i&&"object"==typeof _&&_&&!_.nodeType&&_,dl=C&&C.exports===i,k=dl&&t.process,t=function(){try{var e=C&&C.require&&C.require("util").types;return e?e:k&&k.binding&&k.binding("util")}catch(e){}}(),hl=t&&t.isArrayBuffer,Vl=t&&t.isDate,ml=t&&t.isMap,yl=t&&t.isRegExp,vl=t&&t.isSet,gl=t&&t.isTypedArray;function bl(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function wl(e,t,n,r){for(var o=-1,i=null==e?0:e.length;++o<i;){var a=e[o];t(r,a,n(a),e)}return r}function Ol(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}function Cl(e,t){for(var n=null==e?0:e.length;n--&&!1!==t(e[n],n,e););return e}function kl(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}function El(e,t){for(var n=-1,r=null==e?0:e.length,o=0,i=[];++n<r;){var a=e[n];t(a,n,e)&&(i[o++]=a)}return i}function Al(e,t){return!!(null==e?0:e.length)&&-1<Fl(e,t,0)}function Sl(e,t,n){for(var r=-1,o=null==e?0:e.length;++r<o;)if(n(t,e[r]))return!0;return!1}function _l(e,t){for(var n=-1,r=null==e?0:e.length,o=Array(r);++n<r;)o[n]=t(e[n],n,e);return o}function xl(e,t){for(var n=-1,r=t.length,o=e.length;++n<r;)e[o+n]=t[n];return e}function Pl(e,t,n,r){var o=-1,i=null==e?0:e.length;for(r&&i&&(n=e[++o]);++o<i;)n=t(n,e[o],o,e);return n}function jl(e,t,n,r){var o=null==e?0:e.length;for(r&&o&&(n=e[--o]);o--;)n=t(n,e[o],o,e);return n}function Rl(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}var E=Ul("length");function Dl(e,r,t){var o;return t(e,function(e,t,n){if(r(e,t,n))return o=t,!1}),o}function Tl(e,t,n,r){for(var o=e.length,i=n+(r?1:-1);r?i--:++i<o;)if(t(e[i],i,e))return i;return-1}function Fl(e,t,n){return t==t?function(e,t,n){var r=n-1,o=e.length;for(;++r<o;)if(e[r]===t)return r;return-1}(e,t,n):Tl(e,Il,n)}function Nl(e,t,n,r){for(var o=n-1,i=e.length;++o<i;)if(r(e[o],t))return o;return-1}function Il(e){return e!=e}function Ll(e,t){var n=null==e?0:e.length;return n?Bl(e,t)/n:qi}function Ul(t){return function(e){return null==e?zi:e[t]}}function A(t){return function(e){return null==t?zi:t[e]}}function Ml(e,r,o,i,t){return t(e,function(e,t,n){o=i?(i=!1,e):r(o,e,t,n)}),o}function Bl(e,t){for(var n,r=-1,o=e.length;++r<o;){var i=t(e[r]);i!==zi&&(n=n===zi?i:n+i)}return n}function zl(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}function Wl(t){return function(e){return t(e)}}function Kl(t,e){return _l(e,function(e){return t[e]})}function Gl(e,t){return e.has(t)}function Hl(e,t){for(var n=-1,r=e.length;++n<r&&-1<Fl(t,e[n],0););return n}function ql(e,t){for(var n=e.length;n--&&-1<Fl(t,e[n],0););return n}var Ql=A({"":"A","":"A","":"A","":"A","":"A","":"A","":"a","":"a","":"a","":"a","":"a","":"a","":"C","":"c","":"D","":"d","":"E","":"E","":"E","":"E","":"e","":"e","":"e","":"e","":"I","":"I","":"I","":"I","":"i","":"i","":"i","":"i","":"N","":"n","":"O","":"O","":"O","":"O","":"O","":"O","":"o","":"o","":"o","":"o","":"o","":"o","":"U","":"U","":"U","":"U","":"u","":"u","":"u","":"u","":"Y","":"y","":"y","":"Ae","":"ae","":"Th","":"th","":"ss","":"A","":"A","":"A","":"a","":"a","":"a","":"C","":"C","":"C","":"C","":"c","":"c","":"c","":"c","":"D","":"D","":"d","":"d","":"E","":"E","":"E","":"E","":"E","":"e","":"e","":"e","":"e","":"e","":"G","":"G","":"G","":"G","":"g","":"g","":"g","":"g","":"H","":"H","":"h","":"h","":"I","":"I","":"I","":"I","":"I","":"i","":"i","":"i","":"i","":"i","":"J","":"j","":"K","":"k","":"k","":"L","":"L","":"L","":"L","":"L","":"l","":"l","":"l","":"l","":"l","":"N","":"N","":"N","":"N","":"n","":"n","":"n","":"n","":"O","":"O","":"O","":"o","":"o","":"o","":"R","":"R","":"R","":"r","":"r","":"r","":"S","":"S","":"S","":"S","":"s","":"s","":"s","":"s","":"T","":"T","":"T","":"t","":"t","":"t","":"U","":"U","":"U","":"U","":"U","":"U","":"u","":"u","":"u","":"u","":"u","":"u","":"W","":"w","":"Y","":"y","":"Y","":"Z","":"Z","":"Z","":"z","":"z","":"z","":"IJ","":"ij","":"Oe","":"oe","":"'n","":"s"}),Jl=A({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function Yl(e){return"\\"+O[e]}function Xl(e){return w.test(e)}function Zl(e){var n=-1,r=Array(e.size);return e.forEach(function(e,t){r[++n]=[t,e]}),r}function $l(t,n){return function(e){return t(n(e))}}function es(e,t){for(var n=-1,r=e.length,o=0,i=[];++n<r;){var a=e[n];a!==t&&a!==Gi||(e[n]=Gi,i[o++]=n)}return i}function ts(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e}),n}function ns(e){return(Xl(e)?function(e){var t=b.lastIndex=0;for(;b.test(e);)++t;return t}:E)(e)}function rs(e){return Xl(e)?e.match(b)||[]:e.split("")}var os=A({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"});var is=function e(t){var C=(t=null==t?fl:is.defaults(fl.Object(),t,is.pick(fl,al))).Array,n=t.Date,r=t.Error,p=t.Function,o=t.Math,V=t.Object,f=t.RegExp,u=t.String,v=t.TypeError,i=C.prototype,a=p.prototype,d=V.prototype,l=t["__core-js_shared__"],s=a.toString,g=d.hasOwnProperty,c=0,h=(Di=/[^.]+$/.exec(l&&l.keys&&l.keys.IE_PROTO||""))?"Symbol(src)_1."+Di:"",m=d.toString,y=s.call(V),b=fl._,w=f("^"+s.call(g).replace(Na,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),O=dl?t.Buffer:zi,k=t.Symbol,E=t.Uint8Array,A=O?O.allocUnsafe:zi,S=$l(V.getPrototypeOf,V),_=V.create,x=d.propertyIsEnumerable,P=i.splice,j=k?k.isConcatSpreadable:zi,R=k?k.iterator:zi,D=k?k.toStringTag:zi,T=function(){try{var e=zn(V,"defineProperty");return e({},"",{}),e}catch(e){}}(),F=t.clearTimeout!==fl.clearTimeout&&t.clearTimeout,N=n&&n.now!==fl.Date.now&&n.now,I=t.setTimeout!==fl.setTimeout&&t.setTimeout,L=o.ceil,U=o.floor,M=V.getOwnPropertySymbols,B=O?O.isBuffer:zi,z=t.isFinite,W=i.join,K=$l(V.keys,V),G=o.max,H=o.min,q=n.now,Q=t.parseInt,J=o.random,Y=i.reverse,X=zn(t,"DataView"),Z=zn(t,"Map"),$=zn(t,"Promise"),ee=zn(t,"Set"),te=zn(t,"WeakMap"),ne=zn(V,"create"),re=te&&new te,oe={},ie=mr(X),ae=mr(Z),le=mr($),se=mr(ee),ce=mr(te),ue=k?k.prototype:zi,pe=ue?ue.valueOf:zi,fe=ue?ue.toString:zi;function de(e){if(To(e)&&!Co(e)&&!(e instanceof ve)){if(e instanceof ye)return e;if(g.call(e,"__wrapped__"))return yr(e)}return new ye(e)}var he=function(e){if(!Do(e))return{};if(_)return _(e);Ve.prototype=e;e=new Ve;return Ve.prototype=zi,e};function Ve(){}function me(){}function ye(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=zi}function ve(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Qi,this.__views__=[]}function ge(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function be(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function we(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Oe(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new we;++t<n;)this.add(e[t])}function Ce(e){e=this.__data__=new be(e);this.size=e.size}function ke(e,t){var n,r=Co(e),o=!r&&Oo(e),i=!r&&!o&&So(e),a=!r&&!o&&!i&&zo(e),l=r||o||i||a,s=l?zl(e.length,u):[],c=s.length;for(n in e)!t&&!g.call(e,n)||l&&("length"==n||i&&("offset"==n||"parent"==n)||a&&("buffer"==n||"byteLength"==n||"byteOffset"==n)||Jn(n,c))||s.push(n);return s}function Ee(e){var t=e.length;return t?e[Ot(0,t-1)]:zi}function Ae(e,t){return pr(rn(e),Fe(t,0,e.length))}function Se(e){return pr(rn(e))}function _e(e,t,n){(n===zi||go(e[t],n))&&(n!==zi||t in e)||De(e,t,n)}function xe(e,t,n){var r=e[t];g.call(e,t)&&go(r,n)&&(n!==zi||t in e)||De(e,t,n)}function Pe(e,t){for(var n=e.length;n--;)if(go(e[n][0],t))return n;return-1}function je(e,r,o,i){return Me(e,function(e,t,n){r(i,e,o(e),n)}),i}function Re(e,t){return e&&on(t,ui(t),e)}function De(e,t,n){"__proto__"==t&&T?T(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function Te(e,t){for(var n=-1,r=t.length,o=C(r),i=null==e;++n<r;)o[n]=i?zi:ii(e,t[n]);return o}function Fe(e,t,n){return e==e&&(n!==zi&&(e=e<=n?e:n),t!==zi&&(e=t<=e?e:t)),e}function Ne(n,r,o,e,t,i){var a,l=1&r,s=2&r,c=4&r;if((a=o?t?o(n,e,t,i):o(n):a)!==zi)return a;if(!Do(n))return n;var u,p,f=Co(n);if(f){if(a=function(e){var t=e.length,n=new e.constructor(t);t&&"string"==typeof e[0]&&g.call(e,"index")&&(n.index=e.index,n.input=e.input);return n}(n),!l)return rn(n,a)}else{var d=Gn(n),e=d==ta||d==na;if(So(n))return Xt(n,l);if(d==ia||d==Yi||e&&!t){if(a=s||e?{}:qn(n),!l)return s?(e=u=n,p=(p=a)&&on(e,pi(e),p),on(u,Kn(u),p)):(p=Re(a,u=n),on(u,Wn(u),p))}else{if(!cl[d])return t?n:{};a=function(e,t,n){var r=e.constructor;switch(t){case fa:return Zt(e);case Zi:case $i:return new r(+e);case da:return function(e,t){t=t?Zt(e.buffer):e.buffer;return new e.constructor(t,e.byteOffset,e.byteLength)}(e,n);case ha:case Va:case ma:case ya:case va:case ga:case ba:case wa:case Oa:return $t(e,n);case ra:return new r;case oa:case ca:return new r(e);case la:return function(e){var t=new e.constructor(e.source,qa.exec(e));return t.lastIndex=e.lastIndex,t}(e);case sa:return new r;case ua:return function(e){return pe?V(pe.call(e)):{}}(e)}}(n,d,l)}}l=(i=i||new Ce).get(n);if(l)return l;i.set(n,a),Uo(n)?n.forEach(function(e){a.add(Ne(e,r,o,e,n,i))}):Fo(n)&&n.forEach(function(e,t){a.set(t,Ne(e,r,o,t,n,i))});var h=f?zi:(c?s?Fn:Tn:s?pi:ui)(n);return Ol(h||n,function(e,t){h&&(e=n[t=e]),xe(a,t,Ne(e,r,o,t,n,i))}),a}function Ie(e,t,n){var r=n.length;if(null==e)return!r;for(e=V(e);r--;){var o=n[r],i=t[o],a=e[o];if(a===zi&&!(o in e)||!i(a))return!1}return!0}function Le(e,t,n){if("function"!=typeof e)throw new v(Wi);return lr(function(){e.apply(zi,n)},t)}function Ue(e,t,n,r){var o=-1,i=Al,a=!0,l=e.length,s=[],c=t.length;if(!l)return s;n&&(t=_l(t,Wl(n))),r?(i=Sl,a=!1):200<=t.length&&(i=Gl,a=!1,t=new Oe(t));e:for(;++o<l;){var u=e[o],p=null==n?u:n(u),u=r||0!==u?u:0;if(a&&p==p){for(var f=c;f--;)if(t[f]===p)continue e;s.push(u)}else i(t,p,r)||s.push(u)}return s}de.templateSettings={escape:Pa,evaluate:ja,interpolate:Ra,variable:"",imports:{_:de}},(de.prototype=me.prototype).constructor=de,(ye.prototype=he(me.prototype)).constructor=ye,(ve.prototype=he(me.prototype)).constructor=ve,ge.prototype.clear=function(){this.__data__=ne?ne(null):{},this.size=0},ge.prototype.delete=function(e){return e=this.has(e)&&delete this.__data__[e],this.size-=e?1:0,e},ge.prototype.get=function(e){var t=this.__data__;if(ne){var n=t[e];return n===Ki?zi:n}return g.call(t,e)?t[e]:zi},ge.prototype.has=function(e){var t=this.__data__;return ne?t[e]!==zi:g.call(t,e)},ge.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=ne&&t===zi?Ki:t,this},be.prototype.clear=function(){this.__data__=[],this.size=0},be.prototype.delete=function(e){var t=this.__data__;return!((e=Pe(t,e))<0)&&(e==t.length-1?t.pop():P.call(t,e,1),--this.size,!0)},be.prototype.get=function(e){var t=this.__data__;return(e=Pe(t,e))<0?zi:t[e][1]},be.prototype.has=function(e){return-1<Pe(this.__data__,e)},be.prototype.set=function(e,t){var n=this.__data__,r=Pe(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this},we.prototype.clear=function(){this.size=0,this.__data__={hash:new ge,map:new(Z||be),string:new ge}},we.prototype.delete=function(e){return e=Mn(this,e).delete(e),this.size-=e?1:0,e},we.prototype.get=function(e){return Mn(this,e).get(e)},we.prototype.has=function(e){return Mn(this,e).has(e)},we.prototype.set=function(e,t){var n=Mn(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this},Oe.prototype.add=Oe.prototype.push=function(e){return this.__data__.set(e,Ki),this},Oe.prototype.has=function(e){return this.__data__.has(e)},Ce.prototype.clear=function(){this.__data__=new be,this.size=0},Ce.prototype.delete=function(e){var t=this.__data__,e=t.delete(e);return this.size=t.size,e},Ce.prototype.get=function(e){return this.__data__.get(e)},Ce.prototype.has=function(e){return this.__data__.has(e)},Ce.prototype.set=function(e,t){var n=this.__data__;if(n instanceof be){var r=n.__data__;if(!Z||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new we(r)}return n.set(e,t),this.size=n.size,this};var Me=sn(Qe),Be=sn(Je,!0);function ze(e,r){var o=!0;return Me(e,function(e,t,n){return o=!!r(e,t,n)}),o}function We(e,t,n){for(var r=-1,o=e.length;++r<o;){var i,a,l=e[r],s=t(l);null!=s&&(i===zi?s==s&&!Bo(s):n(s,i))&&(i=s,a=l)}return a}function Ke(e,r){var o=[];return Me(e,function(e,t,n){r(e,t,n)&&o.push(e)}),o}function Ge(e,t,n,r,o){var i=-1,a=e.length;for(n=n||Qn,o=o||[];++i<a;){var l=e[i];0<t&&n(l)?1<t?Ge(l,t-1,n,r,o):xl(o,l):r||(o[o.length]=l)}return o}var He=cn(),qe=cn(!0);function Qe(e,t){return e&&He(e,t,ui)}function Je(e,t){return e&&qe(e,t,ui)}function Ye(t,e){return El(e,function(e){return Po(t[e])})}function Xe(e,t){for(var n=0,r=(t=qt(t,e)).length;null!=e&&n<r;)e=e[Vr(t[n++])];return n&&n==r?e:zi}function Ze(e,t,n){t=t(e);return Co(e)?t:xl(t,n(e))}function $e(e){return null==e?e===zi?"[object Undefined]":"[object Null]":D&&D in V(e)?function(e){var t=g.call(e,D),n=e[D];try{e[D]=zi;var r=!0}catch(e){}var o=m.call(e);r&&(t?e[D]=n:delete e[D]);return o}(e):m.call(e)}function et(e,t){return t<e}function tt(e,t){return null!=e&&g.call(e,t)}function nt(e,t){return null!=e&&t in V(e)}function rt(e,t,n){for(var r=n?Sl:Al,o=e[0].length,i=e.length,a=i,l=C(i),s=1/0,c=[];a--;){var u=e[a];a&&t&&(u=_l(u,Wl(t))),s=H(u.length,s),l[a]=!n&&(t||120<=o&&120<=u.length)?new Oe(a&&u):zi}var u=e[0],p=-1,f=l[0];e:for(;++p<o&&c.length<s;){var d=u[p],h=t?t(d):d,d=n||0!==d?d:0;if(!(f?Gl(f,h):r(c,h,n))){for(a=i;--a;){var V=l[a];if(!(V?Gl(V,h):r(e[a],h,n)))continue e}f&&f.push(h),c.push(d)}}return c}function ot(e,t,n){t=null==(e=or(e,t=qt(t,e)))?e:e[Vr(_r(t))];return null==t?zi:bl(t,e,n)}function it(e){return To(e)&&$e(e)==Yi}function at(e,t,n,r,o){return e===t||(null==e||null==t||!To(e)&&!To(t)?e!=e&&t!=t:function(e,t,n,r,o,i){var a=Co(e),l=Co(t),s=a?Xi:Gn(e),c=l?Xi:Gn(t),u=(s=s==Yi?ia:s)==ia,l=(c=c==Yi?ia:c)==ia,c=s==c;if(c&&So(e)){if(!So(t))return!1;u=!(a=!0)}if(c&&!u)return i=i||new Ce,a||zo(e)?Rn(e,t,n,r,o,i):function(e,t,n,r,o,i,a){switch(n){case da:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case fa:return e.byteLength==t.byteLength&&i(new E(e),new E(t))?!0:!1;case Zi:case $i:case oa:return go(+e,+t);case ea:return e.name==t.name&&e.message==t.message;case la:case ca:return e==t+"";case ra:var l=Zl;case sa:var s=1&r;if(l=l||ts,e.size!=t.size&&!s)return!1;s=a.get(e);if(s)return s==t;r|=2,a.set(e,t);l=Rn(l(e),l(t),r,o,i,a);return a.delete(e),l;case ua:if(pe)return pe.call(e)==pe.call(t)}return!1}(e,t,s,n,r,o,i);if(!(1&n)){u=u&&g.call(e,"__wrapped__"),l=l&&g.call(t,"__wrapped__");if(u||l){u=u?e.value():e,l=l?t.value():t;return i=i||new Ce,o(u,l,n,r,i)}}return c&&(i=i||new Ce,function(e,t,n,r,o,i){var a=1&n,l=Tn(e),s=l.length,c=Tn(t).length;if(s!=c&&!a)return!1;var u=s;for(;u--;){var p=l[u];if(!(a?p in t:g.call(t,p)))return!1}var f=i.get(e);if(f&&i.get(t))return f==t;var d=!0;i.set(e,t),i.set(t,e);var h=a;for(;++u<s;){p=l[u];var V,m=e[p],y=t[p];if(!((V=r?a?r(y,m,p,t,e,i):r(m,y,p,e,t,i):V)===zi?m===y||o(m,y,n,r,i):V)){d=!1;break}h=h||"constructor"==p}d&&!h&&(c=e.constructor,f=t.constructor,c!=f&&"constructor"in e&&"constructor"in t&&!("function"==typeof c&&c instanceof c&&"function"==typeof f&&f instanceof f)&&(d=!1));return i.delete(e),i.delete(t),d}(e,t,n,r,o,i))}(e,t,n,r,at,o))}function lt(e,t,n,r){var o=n.length,i=o,a=!r;if(null==e)return!i;for(e=V(e);o--;){var l=n[o];if(a&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++o<i;){var s=(l=n[o])[0],c=e[s],u=l[1];if(a&&l[2]){if(c===zi&&!(s in e))return!1}else{var p,f=new Ce;if(!((p=r?r(c,u,s,e,t,f):p)===zi?at(u,c,3,r,f):p))return!1}}return!0}function st(e){return!(!Do(e)||(t=e,h&&h in t))&&(Po(e)?w:Ya).test(mr(e));var t}function ct(e){return"function"==typeof e?e:null==e?Ti:"object"==typeof e?Co(e)?Vt(e[0],e[1]):ht(e):Li(e)}function ut(e){if(!er(e))return K(e);var t,n=[];for(t in V(e))g.call(e,t)&&"constructor"!=t&&n.push(t);return n}function pt(e){if(!Do(e))return function(e){var t=[];if(null!=e)for(var n in V(e))t.push(n);return t}(e);var t,n=er(e),r=[];for(t in e)("constructor"!=t||!n&&g.call(e,t))&&r.push(t);return r}function ft(e,t){return e<t}function dt(e,r){var o=-1,i=Eo(e)?C(e.length):[];return Me(e,function(e,t,n){i[++o]=r(e,t,n)}),i}function ht(t){var n=Bn(t);return 1==n.length&&n[0][2]?nr(n[0][0],n[0][1]):function(e){return e===t||lt(e,t,n)}}function Vt(n,r){return Xn(n)&&tr(r)?nr(Vr(n),r):function(e){var t=ii(e,n);return t===zi&&t===r?ai(e,n):at(r,t,3)}}function mt(V,m,y,v,g){V!==m&&He(m,function(e,t){var n,r,o,i,a,l,s,c,u,p,f,d,h;g=g||new Ce,Do(e)?(r=m,i=y,a=mt,l=v,s=g,f=ir(n=V,o=t),d=ir(r,o),(h=s.get(d))?_e(n,o,h):(c=l?l(f,d,o+"",n,r,s):zi,(u=c===zi)&&(p=Co(d),h=!p&&So(d),r=!p&&!h&&zo(d),c=d,p||h||r?c=Co(f)?f:Ao(f)?rn(f):h?Xt(d,!(u=!1)):r?$t(d,!(u=!1)):[]:Io(d)||Oo(d)?Oo(c=f)?c=Yo(f):Do(f)&&!Po(f)||(c=qn(d)):u=!1),u&&(s.set(d,c),a(c,d,i,l,s),s.delete(d)),_e(n,o,c))):(c=v?v(ir(V,t),e,t+"",V,m,g):zi,_e(V,t,c=c===zi?e:c))},pi)}function yt(e,t){var n=e.length;if(n)return Jn(t+=t<0?n:0,n)?e[t]:zi}function vt(e,r,n){var o=-1;return r=_l(r.length?r:[Ti],Wl(Un())),function(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}(dt(e,function(t,e,n){return{criteria:_l(r,function(e){return e(t)}),index:++o,value:t}}),function(e,t){return function(e,t,n){var r=-1,o=e.criteria,i=t.criteria,a=o.length,l=n.length;for(;++r<a;){var s=en(o[r],i[r]);if(s){if(l<=r)return s;var c=n[r];return s*("desc"==c?-1:1)}}return e.index-t.index}(e,t,n)})}function gt(e,t,n){for(var r=-1,o=t.length,i={};++r<o;){var a=t[r],l=Xe(e,a);n(l,a)&&St(i,qt(a,e),l)}return i}function bt(e,t,n,r){var o=r?Nl:Fl,i=-1,a=t.length,l=e;for(e===t&&(t=rn(t)),n&&(l=_l(e,Wl(n)));++i<a;)for(var s=0,c=t[i],u=n?n(c):c;-1<(s=o(l,u,s,r));)l!==e&&P.call(l,s,1),P.call(e,s,1);return e}function wt(e,t){for(var n=e?t.length:0,r=n-1;n--;){var o,i=t[n];n!=r&&i===o||(Jn(o=i)?P.call(e,i,1):Ut(e,i))}return e}function Ot(e,t){return e+U(J()*(t-e+1))}function Ct(e,t){var n="";if(!e||t<1||Hi<t)return n;for(;t%2&&(n+=e),(t=U(t/2))&&(e+=e),t;);return n}function kt(e,t){return sr(rr(e,t,Ti),e+"")}function Et(e){return Ee(gi(e))}function At(e,t){e=gi(e);return pr(e,Fe(t,0,e.length))}function St(e,t,n,r){if(!Do(e))return e;for(var o=-1,i=(t=qt(t,e)).length,a=i-1,l=e;null!=l&&++o<i;){var s,c=Vr(t[o]),u=n;o!=a&&(s=l[c],(u=r?r(s,c,l):zi)===zi&&(u=Do(s)?s:Jn(t[o+1])?[]:{})),xe(l,c,u),l=l[c]}return e}var _t=re?function(e,t){return re.set(e,t),e}:Ti,xt=T?function(e,t){return T(e,"toString",{configurable:!0,enumerable:!1,value:Ri(t),writable:!0})}:Ti;function Pt(e){return pr(gi(e))}function jt(e,t,n){var r=-1,o=e.length;(n=o<n?o:n)<0&&(n+=o),o=n<(t=t<0?o<-t?0:o+t:t)?0:n-t>>>0,t>>>=0;for(var i=C(o);++r<o;)i[r]=e[r+t];return i}function Rt(e,r){var o;return Me(e,function(e,t,n){return!(o=r(e,t,n))}),!!o}function Dt(e,t,n){var r=0,o=null==e?r:e.length;if("number"==typeof t&&t==t&&o<=2147483647){for(;r<o;){var i=r+o>>>1,a=e[i];null!==a&&!Bo(a)&&(n?a<=t:a<t)?r=1+i:o=i}return o}return Tt(e,t,Ti,n)}function Tt(e,t,n,r){t=n(t);for(var o=0,i=null==e?0:e.length,a=t!=t,l=null===t,s=Bo(t),c=t===zi;o<i;){var u=U((o+i)/2),p=n(e[u]),f=p!==zi,d=null===p,h=p==p,V=Bo(p),p=a?r||h:c?h&&(r||f):l?h&&f&&(r||!d):s?h&&f&&!d&&(r||!V):!d&&!V&&(r?p<=t:p<t);p?o=u+1:i=u}return H(i,4294967294)}function Ft(e,t){for(var n=-1,r=e.length,o=0,i=[];++n<r;){var a,l=e[n],s=t?t(l):l;n&&go(s,a)||(a=s,i[o++]=0===l?0:l)}return i}function Nt(e){return"number"==typeof e?e:Bo(e)?qi:+e}function It(e){if("string"==typeof e)return e;if(Co(e))return _l(e,It)+"";if(Bo(e))return fe?fe.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function Lt(e,t,n){var r=-1,o=Al,i=e.length,a=!0,l=[],s=l;if(n)a=!1,o=Sl;else if(200<=i){var c=t?null:An(e);if(c)return ts(c);a=!1,o=Gl,s=new Oe}else s=t?[]:l;e:for(;++r<i;){var u=e[r],p=t?t(u):u,u=n||0!==u?u:0;if(a&&p==p){for(var f=s.length;f--;)if(s[f]===p)continue e;t&&s.push(p),l.push(u)}else o(s,p,n)||(s!==l&&s.push(p),l.push(u))}return l}function Ut(e,t){return null==(e=or(e,t=qt(t,e)))||delete e[Vr(_r(t))]}function Mt(e,t,n,r){return St(e,t,n(Xe(e,t)),r)}function Bt(e,t,n,r){for(var o=e.length,i=r?o:-1;(r?i--:++i<o)&&t(e[i],i,e););return n?jt(e,r?0:i,r?i+1:o):jt(e,r?i+1:0,r?o:i)}function zt(e,t){var n=e;return Pl(t,function(e,t){return t.func.apply(t.thisArg,xl([e],t.args))},n=e instanceof ve?e.value():n)}function Wt(e,t,n){var r=e.length;if(r<2)return r?Lt(e[0]):[];for(var o=-1,i=C(r);++o<r;)for(var a=e[o],l=-1;++l<r;)l!=o&&(i[o]=Ue(i[o]||a,e[l],t,n));return Lt(Ge(i,1),t,n)}function Kt(e,t,n){for(var r=-1,o=e.length,i=t.length,a={};++r<o;){var l=r<i?t[r]:zi;n(a,e[r],l)}return a}function Gt(e){return Ao(e)?e:[]}function Ht(e){return"function"==typeof e?e:Ti}function qt(e,t){return Co(e)?e:Xn(e,t)?[e]:hr(Xo(e))}var Qt=kt;function Jt(e,t,n){var r=e.length;return n=n===zi?r:n,!t&&r<=n?e:jt(e,t,n)}var Yt=F||function(e){return fl.clearTimeout(e)};function Xt(e,t){if(t)return e.slice();t=e.length,t=A?A(t):new e.constructor(t);return e.copy(t),t}function Zt(e){var t=new e.constructor(e.byteLength);return new E(t).set(new E(e)),t}function $t(e,t){t=t?Zt(e.buffer):e.buffer;return new e.constructor(t,e.byteOffset,e.length)}function en(e,t){if(e!==t){var n=e!==zi,r=null===e,o=e==e,i=Bo(e),a=t!==zi,l=null===t,s=t==t,c=Bo(t);if(!l&&!c&&!i&&t<e||i&&a&&s&&!l&&!c||r&&a&&s||!n&&s||!o)return 1;if(!r&&!i&&!c&&e<t||c&&n&&o&&!r&&!i||l&&n&&o||!a&&o||!s)return-1}return 0}function tn(e,t,n,r){for(var o=-1,i=e.length,a=n.length,l=-1,s=t.length,c=G(i-a,0),u=C(s+c),p=!r;++l<s;)u[l]=t[l];for(;++o<a;)(p||o<i)&&(u[n[o]]=e[o]);for(;c--;)u[l++]=e[o++];return u}function nn(e,t,n,r){for(var o=-1,i=e.length,a=-1,l=n.length,s=-1,c=t.length,u=G(i-l,0),p=C(u+c),f=!r;++o<u;)p[o]=e[o];for(var d=o;++s<c;)p[d+s]=t[s];for(;++a<l;)(f||o<i)&&(p[d+n[a]]=e[o++]);return p}function rn(e,t){var n=-1,r=e.length;for(t=t||C(r);++n<r;)t[n]=e[n];return t}function on(e,t,n,r){var o=!n;n=n||{};for(var i=-1,a=t.length;++i<a;){var l=t[i],s=r?r(n[l],e[l],l,n,e):zi;(o?De:xe)(n,l,s=s===zi?e[l]:s)}return n}function an(o,i){return function(e,t){var n=Co(e)?wl:je,r=i?i():{};return n(e,o,Un(t,2),r)}}function ln(l){return kt(function(e,t){var n=-1,r=t.length,o=1<r?t[r-1]:zi,i=2<r?t[2]:zi,o=3<l.length&&"function"==typeof o?(r--,o):zi;for(i&&Yn(t[0],t[1],i)&&(o=r<3?zi:o,r=1),e=V(e);++n<r;){var a=t[n];a&&l(e,a,n,o)}return e})}function sn(i,a){return function(e,t){if(null==e)return e;if(!Eo(e))return i(e,t);for(var n=e.length,r=a?n:-1,o=V(e);(a?r--:++r<n)&&!1!==t(o[r],r,o););return e}}function cn(s){return function(e,t,n){for(var r=-1,o=V(e),i=n(e),a=i.length;a--;){var l=i[s?a:++r];if(!1===t(o[l],l,o))break}return e}}function un(r){return function(e){var t=Xl(e=Xo(e))?rs(e):zi,n=t?t[0]:e.charAt(0),e=t?Jt(t,1).join(""):e.slice(1);return n[r]()+e}}function pn(t){return function(e){return Pl(Pi(Oi(e).replace(nl,"")),t,"")}}function fn(r){return function(){var e=arguments;switch(e.length){case 0:return new r;case 1:return new r(e[0]);case 2:return new r(e[0],e[1]);case 3:return new r(e[0],e[1],e[2]);case 4:return new r(e[0],e[1],e[2],e[3]);case 5:return new r(e[0],e[1],e[2],e[3],e[4]);case 6:return new r(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new r(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var t=he(r.prototype),n=r.apply(t,e);return Do(n)?n:t}}function dn(i,a,l){var s=fn(i);return function e(){for(var t=arguments.length,n=C(t),r=t,o=Ln(e);r--;)n[r]=arguments[r];o=t<3&&n[0]!==o&&n[t-1]!==o?[]:es(n,o);return(t-=o.length)<l?kn(i,a,mn,e.placeholder,zi,n,o,zi,zi,l-t):bl(this&&this!==fl&&this instanceof e?s:i,this,n)}}function hn(i){return function(e,t,n){var r,o=V(e);Eo(e)||(r=Un(t,3),e=ui(e),t=function(e){return r(o[e],e,o)});n=i(e,t,n);return-1<n?o[r?e[n]:n]:zi}}function Vn(s){return Dn(function(o){var i=o.length,e=i,t=ye.prototype.thru;for(s&&o.reverse();e--;){var n=o[e];if("function"!=typeof n)throw new v(Wi);t&&!l&&"wrapper"==In(n)&&(l=new ye([],!0))}for(e=l?e:i;++e<i;)var r=In(n=o[e]),a="wrapper"==r?Nn(n):zi,l=a&&Zn(a[0])&&424==a[1]&&!a[4].length&&1==a[9]?l[In(a[0])].apply(l,a[3]):1==n.length&&Zn(n)?l[r]():l.thru(n);return function(){var e=arguments,t=e[0];if(l&&1==e.length&&Co(t))return l.plant(t).value();for(var n=0,r=i?o[n].apply(this,e):t;++n<i;)r=o[n].call(this,r);return r}})}function mn(l,s,c,u,p,f,d,h,V,m){var y=128&s,v=1&s,g=2&s,b=24&s,w=512&s,O=g?zi:fn(l);return function e(){for(var t,n=C(a=arguments.length),r=a;r--;)n[r]=arguments[r];if(b&&(t=function(e,t){for(var n=e.length,r=0;n--;)e[n]===t&&++r;return r}(n,i=Ln(e))),u&&(n=tn(n,u,p,b)),f&&(n=nn(n,f,d,b)),a-=t,b&&a<m){var o=es(n,i);return kn(l,s,mn,e.placeholder,c,n,o,h,V,m-a)}var i=v?c:this,o=g?i[l]:l,a=n.length;return h?n=function(e,t){for(var n=e.length,r=H(t.length,n),o=rn(e);r--;){var i=t[r];e[r]=Jn(i,n)?o[i]:zi}return e}(n,h):w&&1<a&&n.reverse(),y&&V<a&&(n.length=V),(o=this&&this!==fl&&this instanceof e?O||fn(o):o).apply(i,n)}}function yn(n,a){return function(e,t){return e=e,r=n,o=a(t),i={},Qe(e,function(e,t,n){r(i,o(e),t,n)}),i;var r,o,i}}function vn(r,o){return function(e,t){var n;if(e===zi&&t===zi)return o;if(e!==zi&&(n=e),t!==zi){if(n===zi)return t;t="string"==typeof e||"string"==typeof t?(e=It(e),It(t)):(e=Nt(e),Nt(t)),n=r(e,t)}return n}}function gn(r){return Dn(function(e){return e=_l(e,Wl(Un())),kt(function(t){var n=this;return r(e,function(e){return bl(e,n,t)})})})}function bn(e,t){var n=(t=t===zi?" ":It(t)).length;if(n<2)return n?Ct(t,e):t;n=Ct(t,L(e/ns(t)));return Xl(t)?Jt(rs(n),0,e).join(""):n.slice(0,e)}function wn(l,e,s,c){var u=1&e,p=fn(l);return function e(){for(var t=-1,n=arguments.length,r=-1,o=c.length,i=C(o+n),a=this&&this!==fl&&this instanceof e?p:l;++r<o;)i[r]=c[r];for(;n--;)i[r++]=arguments[++t];return bl(a,u?s:this,i)}}function On(r){return function(e,t,n){return n&&"number"!=typeof n&&Yn(e,t,n)&&(t=n=zi),e=Ho(e),t===zi?(t=e,e=0):t=Ho(t),function(e,t,n,r){for(var o=-1,i=G(L((t-e)/(n||1)),0),a=C(i);i--;)a[r?i:++o]=e,e+=n;return a}(e,t,n=n===zi?e<t?1:-1:Ho(n),r)}}function Cn(n){return function(e,t){return"string"==typeof e&&"string"==typeof t||(e=Jo(e),t=Jo(t)),n(e,t)}}function kn(e,t,n,r,o,i,a,l,s,c){var u=8&t;t|=u?32:64,4&(t&=~(u?64:32))||(t&=-4);c=[e,t,o,u?i:zi,u?a:zi,u?zi:i,u?zi:a,l,s,c],n=n.apply(zi,c);return Zn(e)&&ar(n,c),n.placeholder=r,cr(n,e,t)}function En(e){var r=o[e];return function(e,t){if(e=Jo(e),(t=null==t?0:H(qo(t),292))&&z(e)){var n=(Xo(e)+"e").split("e");return+((n=(Xo(r(n[0]+"e"+(+n[1]+t)))+"e").split("e"))[0]+"e"+(+n[1]-t))}return r(e)}}var An=ee&&1/ts(new ee([,-0]))[1]==1/0?function(e){return new ee(e)}:Ii;function Sn(i){return function(e){var t,n,r,o=Gn(e);return o==ra?Zl(e):o==sa?(o=e,t=-1,n=Array(o.size),o.forEach(function(e){n[++t]=[e,e]}),n):_l(i(r=e),function(e){return[e,r[e]]})}}function _n(e,t,n,r,o,i,a,l){var s=2&t;if(!s&&"function"!=typeof e)throw new v(Wi);var c,u,p=r?r.length:0;p||(t&=-97,r=o=zi),a=a===zi?a:G(qo(a),0),l=l===zi?l:qo(l),p-=o?o.length:0,64&t&&(c=r,u=o,r=o=zi);var f,d,h,V,m=s?zi:Nn(e),a=[e,t,n,r,o,c,u,i,a,l];m&&function(e,t){var n=e[1],r=t[1],o=n|r,i=o<131,a=128==r&&8==n||128==r&&256==n&&e[7].length<=t[8]||384==r&&t[7].length<=t[8]&&8==n;if(!i&&!a)return;1&r&&(e[2]=t[2],o|=1&n?0:4);n=t[3];{var l;n&&(l=e[3],e[3]=l?tn(l,n,t[4]):n,e[4]=l?es(e[3],Gi):t[4])}(n=t[5])&&(l=e[5],e[5]=l?nn(l,n,t[6]):n,e[6]=l?es(e[5],Gi):t[6]);(n=t[7])&&(e[7]=n);128&r&&(e[8]=null==e[8]?t[8]:H(e[8],t[8]));null==e[9]&&(e[9]=t[9]);e[0]=t[0],e[1]=o}(a,m),e=a[0],t=a[1],n=a[2],r=a[3],o=a[4],!(l=a[9]=a[9]===zi?s?0:e.length:G(a[9]-p,0))&&24&t&&(t&=-25);n=t&&1!=t?8==t||16==t?dn(e,t,l):32!=t&&33!=t||o.length?mn.apply(zi,a):wn(e,t,n,r):(d=n,h=1&t,V=fn(f=e),function e(){return(this&&this!==fl&&this instanceof e?V:f).apply(h?d:this,arguments)});return cr((m?_t:ar)(n,a),e,t)}function xn(e,t,n,r){return e===zi||go(e,d[n])&&!g.call(r,n)?t:e}function Pn(e,t,n,r,o,i){return Do(e)&&Do(t)&&(i.set(t,e),mt(e,t,zi,Pn,i),i.delete(t)),e}function jn(e){return Io(e)?zi:e}function Rn(e,t,n,r,o,i){var a=1&n,l=e.length,s=t.length;if(l!=s&&!(a&&l<s))return!1;s=i.get(e);if(s&&i.get(t))return s==t;var c=-1,u=!0,p=2&n?new Oe:zi;for(i.set(e,t),i.set(t,e);++c<l;){var f,d=e[c],h=t[c];if((f=r?a?r(h,d,c,t,e,i):r(d,h,c,e,t,i):f)!==zi){if(f)continue;u=!1;break}if(p){if(!Rl(t,function(e,t){return!Gl(p,t)&&(d===e||o(d,e,n,r,i))&&p.push(t)})){u=!1;break}}else if(d!==h&&!o(d,h,n,r,i)){u=!1;break}}return i.delete(e),i.delete(t),u}function Dn(e){return sr(rr(e,zi,Cr),e+"")}function Tn(e){return Ze(e,ui,Wn)}function Fn(e){return Ze(e,pi,Kn)}var Nn=re?function(e){return re.get(e)}:Ii;function In(e){for(var t=e.name+"",n=oe[t],r=g.call(oe,t)?n.length:0;r--;){var o=n[r],i=o.func;if(null==i||i==e)return o.name}return t}function Ln(e){return(g.call(de,"placeholder")?de:e).placeholder}function Un(){var e=(e=de.iteratee||Fi)===Fi?ct:e;return arguments.length?e(arguments[0],arguments[1]):e}function Mn(e,t){var n,r=e.__data__;return("string"==(e=typeof(n=t))||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==n:null===n)?r["string"==typeof t?"string":"hash"]:r.map}function Bn(e){for(var t=ui(e),n=t.length;n--;){var r=t[n],o=e[r];t[n]=[r,o,tr(o)]}return t}function zn(e,t){t=t,t=null==(e=e)?zi:e[t];return st(t)?t:zi}var Wn=M?function(t){return null==t?[]:(t=V(t),El(M(t),function(e){return x.call(t,e)}))}:Ui,Kn=M?function(e){for(var t=[];e;)xl(t,Wn(e)),e=S(e);return t}:Ui,Gn=$e;function Hn(e,t,n){for(var r=-1,o=(t=qt(t,e)).length,i=!1;++r<o;){var a=Vr(t[r]);if(!(i=null!=e&&n(e,a)))break;e=e[a]}return i||++r!=o?i:!!(o=null==e?0:e.length)&&Ro(o)&&Jn(a,o)&&(Co(e)||Oo(e))}function qn(e){return"function"!=typeof e.constructor||er(e)?{}:he(S(e))}function Qn(e){return Co(e)||Oo(e)||!!(j&&e&&e[j])}function Jn(e,t){var n=typeof e;return!!(t=null==t?Hi:t)&&("number"==n||"symbol"!=n&&Za.test(e))&&-1<e&&e%1==0&&e<t}function Yn(e,t,n){if(Do(n)){var r=typeof t;return("number"==r?Eo(n)&&Jn(t,n.length):"string"==r&&t in n)&&go(n[t],e)}}function Xn(e,t){if(!Co(e)){var n=typeof e;return"number"==n||"symbol"==n||"boolean"==n||null==e||Bo(e)||(Ta.test(e)||!Da.test(e)||null!=t&&e in V(t))}}function Zn(e){var t=In(e),n=de[t];if("function"==typeof n&&t in ve.prototype){if(e===n)return 1;n=Nn(n);return n&&e===n[0]}}(X&&Gn(new X(new ArrayBuffer(1)))!=da||Z&&Gn(new Z)!=ra||$&&Gn($.resolve())!=aa||ee&&Gn(new ee)!=sa||te&&Gn(new te)!=pa)&&(Gn=function(e){var t=$e(e),e=t==ia?e.constructor:zi,e=e?mr(e):"";if(e)switch(e){case ie:return da;case ae:return ra;case le:return aa;case se:return sa;case ce:return pa}return t});var $n=l?Po:Mi;function er(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||d)}function tr(e){return e==e&&!Do(e)}function nr(t,n){return function(e){return null!=e&&(e[t]===n&&(n!==zi||t in V(e)))}}function rr(i,a,l){return a=G(a===zi?i.length-1:a,0),function(){for(var e=arguments,t=-1,n=G(e.length-a,0),r=C(n);++t<n;)r[t]=e[a+t];for(var t=-1,o=C(a+1);++t<a;)o[t]=e[t];return o[a]=l(r),bl(i,this,o)}}function or(e,t){return t.length<2?e:Xe(e,jt(t,0,-1))}function ir(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}var ar=ur(_t),lr=I||function(e,t){return fl.setTimeout(e,t)},sr=ur(xt);function cr(e,t,n){var r,o,t=t+"";return sr(e,function(e,t){var n=t.length;if(!n)return e;var r=n-1;return t[r]=(1<n?"& ":"")+t[r],t=t.join(2<n?", ":" "),e.replace(Ba,"{\n/* [wrapped with "+t+"] */\n")}(t,(r=(t=(t=t).match(za))?t[1].split(Wa):[],o=n,Ol(Ji,function(e){var t="_."+e[0];o&e[1]&&!Al(r,t)&&r.push(t)}),r.sort())))}function ur(n){var r=0,o=0;return function(){var e=q(),t=16-(e-o);if(o=e,0<t){if(800<=++r)return arguments[0]}else r=0;return n.apply(zi,arguments)}}function pr(e,t){var n=-1,r=e.length,o=r-1;for(t=t===zi?r:t;++n<t;){var i=Ot(n,o),a=e[i];e[i]=e[n],e[n]=a}return e.length=t,e}var fr,dr,hr=(dr=(fr=fo(fr=function(e){var o=[];return 46===e.charCodeAt(0)&&o.push(""),e.replace(Fa,function(e,t,n,r){o.push(n?r.replace(Ga,"$1"):t||e)}),o},function(e){return 500===dr.size&&dr.clear(),e})).cache,fr);function Vr(e){if("string"==typeof e||Bo(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function mr(e){if(null!=e){try{return s.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function yr(e){if(e instanceof ve)return e.clone();var t=new ye(e.__wrapped__,e.__chain__);return t.__actions__=rn(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}var vr=kt(function(e,t){return Ao(e)?Ue(e,Ge(t,1,Ao,!0)):[]}),gr=kt(function(e,t){var n=_r(t);return Ao(n)&&(n=zi),Ao(e)?Ue(e,Ge(t,1,Ao,!0),Un(n,2)):[]}),br=kt(function(e,t){var n=_r(t);return Ao(n)&&(n=zi),Ao(e)?Ue(e,Ge(t,1,Ao,!0),zi,n):[]});function wr(e,t,n){var r=null==e?0:e.length;if(!r)return-1;n=null==n?0:qo(n);return n<0&&(n=G(r+n,0)),Tl(e,Un(t,3),n)}function Or(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var o=r-1;return n!==zi&&(o=qo(n),o=n<0?G(r+o,0):H(o,r-1)),Tl(e,Un(t,3),o,!0)}function Cr(e){return(null==e?0:e.length)?Ge(e,1):[]}function kr(e){return e&&e.length?e[0]:zi}var Er=kt(function(e){var t=_l(e,Gt);return t.length&&t[0]===e[0]?rt(t):[]}),Ar=kt(function(e){var t=_r(e),n=_l(e,Gt);return t===_r(n)?t=zi:n.pop(),n.length&&n[0]===e[0]?rt(n,Un(t,2)):[]}),Sr=kt(function(e){var t=_r(e),n=_l(e,Gt);return(t="function"==typeof t?t:zi)&&n.pop(),n.length&&n[0]===e[0]?rt(n,zi,t):[]});function _r(e){var t=null==e?0:e.length;return t?e[t-1]:zi}var xr=kt(Pr);function Pr(e,t){return e&&e.length&&t&&t.length?bt(e,t):e}var jr=Dn(function(e,t){var n=null==e?0:e.length,r=Te(e,t);return wt(e,_l(t,function(e){return Jn(e,n)?+e:e}).sort(en)),r});function Rr(e){return null==e?e:Y.call(e)}var Dr=kt(function(e){return Lt(Ge(e,1,Ao,!0))}),Tr=kt(function(e){var t=_r(e);return Ao(t)&&(t=zi),Lt(Ge(e,1,Ao,!0),Un(t,2))}),Fr=kt(function(e){var t="function"==typeof(t=_r(e))?t:zi;return Lt(Ge(e,1,Ao,!0),zi,t)});function Nr(t){if(!t||!t.length)return[];var n=0;return t=El(t,function(e){return Ao(e)&&(n=G(e.length,n),1)}),zl(n,function(e){return _l(t,Ul(e))})}function Ir(e,t){if(!e||!e.length)return[];e=Nr(e);return null==t?e:_l(e,function(e){return bl(t,zi,e)})}var Lr=kt(function(e,t){return Ao(e)?Ue(e,t):[]}),Ur=kt(function(e){return Wt(El(e,Ao))}),Mr=kt(function(e){var t=_r(e);return Ao(t)&&(t=zi),Wt(El(e,Ao),Un(t,2))}),Br=kt(function(e){var t="function"==typeof(t=_r(e))?t:zi;return Wt(El(e,Ao),zi,t)}),zr=kt(Nr);var Wr=kt(function(e){var t=e.length,t="function"==typeof(t=1<t?e[t-1]:zi)?(e.pop(),t):zi;return Ir(e,t)});function Kr(e){e=de(e);return e.__chain__=!0,e}function Gr(e,t){return t(e)}var Hr=Dn(function(t){function e(e){return Te(e,t)}var n=t.length,r=n?t[0]:0,o=this.__wrapped__;return!(1<n||this.__actions__.length)&&o instanceof ve&&Jn(r)?((o=o.slice(r,+r+(n?1:0))).__actions__.push({func:Gr,args:[e],thisArg:zi}),new ye(o,this.__chain__).thru(function(e){return n&&!e.length&&e.push(zi),e})):this.thru(e)});var qr=an(function(e,t,n){g.call(e,n)?++e[n]:De(e,n,1)});var Qr=hn(wr),Jr=hn(Or);function Yr(e,t){return(Co(e)?Ol:Me)(e,Un(t,3))}function Xr(e,t){return(Co(e)?Cl:Be)(e,Un(t,3))}var Zr=an(function(e,t,n){g.call(e,n)?e[n].push(t):De(e,n,[t])});var $r=kt(function(e,t,n){var r=-1,o="function"==typeof t,i=Eo(e)?C(e.length):[];return Me(e,function(e){i[++r]=o?bl(t,e,n):ot(e,t,n)}),i}),eo=an(function(e,t,n){De(e,n,t)});function to(e,t){return(Co(e)?_l:dt)(e,Un(t,3))}var no=an(function(e,t,n){e[n?0:1].push(t)},function(){return[[],[]]});var ro=kt(function(e,t){if(null==e)return[];var n=t.length;return 1<n&&Yn(e,t[0],t[1])?t=[]:2<n&&Yn(t[0],t[1],t[2])&&(t=[t[0]]),vt(e,Ge(t,1),[])}),oo=N||function(){return fl.Date.now()};function io(e,t,n){return t=n?zi:t,t=e&&null==t?e.length:t,_n(e,128,zi,zi,zi,zi,t)}function ao(e,t){var n;if("function"!=typeof t)throw new v(Wi);return e=qo(e),function(){return 0<--e&&(n=t.apply(this,arguments)),e<=1&&(t=zi),n}}var lo=kt(function(e,t,n){var r,o=1;return n.length&&(r=es(n,Ln(lo)),o|=32),_n(e,o,t,n,r)}),so=kt(function(e,t,n){var r,o=3;return n.length&&(r=es(n,Ln(so)),o|=32),_n(t,o,e,n,r)});function co(r,n,e){var o,i,a,l,s,c,u=0,p=!1,f=!1,t=!0;if("function"!=typeof r)throw new v(Wi);function d(e){var t=o,n=i;return o=i=zi,u=e,l=r.apply(n,t)}function h(e){var t=e-c;return c===zi||n<=t||t<0||f&&a<=e-u}function V(){var e,t=oo();if(h(t))return m(t);s=lr(V,(t=n-((e=t)-c),f?H(t,a-(e-u)):t))}function m(e){return s=zi,t&&o?d(e):(o=i=zi,l)}function y(){var e=oo(),t=h(e);if(o=arguments,i=this,c=e,t){if(s===zi)return u=t=c,s=lr(V,n),p?d(t):l;if(f)return Yt(s),s=lr(V,n),d(c)}return s===zi&&(s=lr(V,n)),l}return n=Jo(n)||0,Do(e)&&(p=!!e.leading,f="maxWait"in e,a=f?G(Jo(e.maxWait)||0,n):a,t="trailing"in e?!!e.trailing:t),y.cancel=function(){s!==zi&&Yt(s),u=0,o=c=i=s=zi},y.flush=function(){return s===zi?l:m(oo())},y}var uo=kt(function(e,t){return Le(e,1,t)}),po=kt(function(e,t,n){return Le(e,Jo(t)||0,n)});function fo(r,o){if("function"!=typeof r||null!=o&&"function"!=typeof o)throw new v(Wi);var i=function(){var e=arguments,t=o?o.apply(this,e):e[0],n=i.cache;if(n.has(t))return n.get(t);e=r.apply(this,e);return i.cache=n.set(t,e)||n,e};return i.cache=new(fo.Cache||we),i}function ho(t){if("function"!=typeof t)throw new v(Wi);return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}}fo.Cache=we;var Vo=Qt(function(r,o){var i=(o=1==o.length&&Co(o[0])?_l(o[0],Wl(Un())):_l(Ge(o,1),Wl(Un()))).length;return kt(function(e){for(var t=-1,n=H(e.length,i);++t<n;)e[t]=o[t].call(this,e[t]);return bl(r,this,e)})}),mo=kt(function(e,t){var n=es(t,Ln(mo));return _n(e,32,zi,t,n)}),yo=kt(function(e,t){var n=es(t,Ln(yo));return _n(e,64,zi,t,n)}),vo=Dn(function(e,t){return _n(e,256,zi,zi,zi,t)});function go(e,t){return e===t||e!=e&&t!=t}var bo=Cn(et),wo=Cn(function(e,t){return t<=e}),Oo=it(function(){return arguments}())?it:function(e){return To(e)&&g.call(e,"callee")&&!x.call(e,"callee")},Co=C.isArray,ko=hl?Wl(hl):function(e){return To(e)&&$e(e)==fa};function Eo(e){return null!=e&&Ro(e.length)&&!Po(e)}function Ao(e){return To(e)&&Eo(e)}var So=B||Mi,_o=Vl?Wl(Vl):function(e){return To(e)&&$e(e)==$i};function xo(e){if(!To(e))return!1;var t=$e(e);return t==ea||"[object DOMException]"==t||"string"==typeof e.message&&"string"==typeof e.name&&!Io(e)}function Po(e){if(!Do(e))return!1;e=$e(e);return e==ta||e==na||"[object AsyncFunction]"==e||"[object Proxy]"==e}function jo(e){return"number"==typeof e&&e==qo(e)}function Ro(e){return"number"==typeof e&&-1<e&&e%1==0&&e<=Hi}function Do(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function To(e){return null!=e&&"object"==typeof e}var Fo=ml?Wl(ml):function(e){return To(e)&&Gn(e)==ra};function No(e){return"number"==typeof e||To(e)&&$e(e)==oa}function Io(e){if(!To(e)||$e(e)!=ia)return!1;e=S(e);if(null===e)return!0;e=g.call(e,"constructor")&&e.constructor;return"function"==typeof e&&e instanceof e&&s.call(e)==y}var Lo=yl?Wl(yl):function(e){return To(e)&&$e(e)==la};var Uo=vl?Wl(vl):function(e){return To(e)&&Gn(e)==sa};function Mo(e){return"string"==typeof e||!Co(e)&&To(e)&&$e(e)==ca}function Bo(e){return"symbol"==typeof e||To(e)&&$e(e)==ua}var zo=gl?Wl(gl):function(e){return To(e)&&Ro(e.length)&&!!sl[$e(e)]};var Wo=Cn(ft),Ko=Cn(function(e,t){return e<=t});function Go(e){if(!e)return[];if(Eo(e))return(Mo(e)?rs:rn)(e);if(R&&e[R])return function(e){for(var t,n=[];!(t=e.next()).done;)n.push(t.value);return n}(e[R]());var t=Gn(e);return(t==ra?Zl:t==sa?ts:gi)(e)}function Ho(e){return e?(e=Jo(e))!==1/0&&e!==-1/0?e==e?e:0:17976931348623157e292*(e<0?-1:1):0===e?e:0}function qo(e){var t=Ho(e),e=t%1;return t==t?e?t-e:t:0}function Qo(e){return e?Fe(qo(e),0,Qi):0}function Jo(e){if("number"==typeof e)return e;if(Bo(e))return qi;if("string"!=typeof(e=Do(e)?Do(t="function"==typeof e.valueOf?e.valueOf():e)?t+"":t:e))return 0===e?e:+e;e=e.replace(La,"");var t=Ja.test(e);return t||Xa.test(e)?pl(e.slice(2),t?2:8):Qa.test(e)?qi:+e}function Yo(e){return on(e,pi(e))}function Xo(e){return null==e?"":It(e)}var Zo=ln(function(e,t){if(er(t)||Eo(t))on(t,ui(t),e);else for(var n in t)g.call(t,n)&&xe(e,n,t[n])}),$o=ln(function(e,t){on(t,pi(t),e)}),ei=ln(function(e,t,n,r){on(t,pi(t),e,r)}),ti=ln(function(e,t,n,r){on(t,ui(t),e,r)}),ni=Dn(Te);var ri=kt(function(e,t){e=V(e);var n=-1,r=t.length,o=2<r?t[2]:zi;for(o&&Yn(t[0],t[1],o)&&(r=1);++n<r;)for(var i=t[n],a=pi(i),l=-1,s=a.length;++l<s;){var c=a[l],u=e[c];(u===zi||go(u,d[c])&&!g.call(e,c))&&(e[c]=i[c])}return e}),oi=kt(function(e){return e.push(zi,Pn),bl(di,zi,e)});function ii(e,t,n){t=null==e?zi:Xe(e,t);return t===zi?n:t}function ai(e,t){return null!=e&&Hn(e,t,nt)}var li=yn(function(e,t,n){e[t=null!=t&&"function"!=typeof t.toString?m.call(t):t]=n},Ri(Ti)),si=yn(function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=m.call(t)),g.call(e,t)?e[t].push(n):e[t]=[n]},Un),ci=kt(ot);function ui(e){return(Eo(e)?ke:ut)(e)}function pi(e){return Eo(e)?ke(e,!0):pt(e)}var fi=ln(function(e,t,n){mt(e,t,n)}),di=ln(function(e,t,n,r){mt(e,t,n,r)}),hi=Dn(function(t,e){var n={};if(null==t)return n;var r=!1;e=_l(e,function(e){return e=qt(e,t),r=r||1<e.length,e}),on(t,Fn(t),n),r&&(n=Ne(n,7,jn));for(var o=e.length;o--;)Ut(n,e[o]);return n});var Vi=Dn(function(e,t){return null==e?{}:gt(n=e,t,function(e,t){return ai(n,t)});var n});function mi(e,n){if(null==e)return{};var t=_l(Fn(e),function(e){return[e]});return n=Un(n),gt(e,t,function(e,t){return n(e,t[0])})}var yi=Sn(ui),vi=Sn(pi);function gi(e){return null==e?[]:Kl(e,ui(e))}var bi=pn(function(e,t,n){return t=t.toLowerCase(),e+(n?wi(t):t)});function wi(e){return xi(Xo(e).toLowerCase())}function Oi(e){return(e=Xo(e))&&e.replace($a,Ql).replace(rl,"")}var Ci=pn(function(e,t,n){return e+(n?"-":"")+t.toLowerCase()}),ki=pn(function(e,t,n){return e+(n?" ":"")+t.toLowerCase()}),Ei=un("toLowerCase");var Ai=pn(function(e,t,n){return e+(n?"_":"")+t.toLowerCase()});var Si=pn(function(e,t,n){return e+(n?" ":"")+xi(t)});var _i=pn(function(e,t,n){return e+(n?" ":"")+t.toUpperCase()}),xi=un("toUpperCase");function Pi(e,t,n){return e=Xo(e),(t=n?zi:t)===zi?il.test(e)?e.match(ol)||[]:e.match(Ka)||[]:e.match(t)||[]}var ji=kt(function(e,t){try{return bl(e,zi,t)}catch(e){return xo(e)?e:new r(e)}}),a=Dn(function(t,e){return Ol(e,function(e){e=Vr(e),De(t,e,lo(t[e],t))}),t});function Ri(e){return function(){return e}}var Di=Vn(),O=Vn(!0);function Ti(e){return e}function Fi(e){return ct("function"==typeof e?e:Ne(e,1))}n=kt(function(t,n){return function(e){return ot(e,t,n)}}),t=kt(function(t,n){return function(e){return ot(t,e,n)}});function Ni(r,t,e){var n=ui(t),o=Ye(t,n);null!=e||Do(t)&&(o.length||!n.length)||(e=t,t=r,r=this,o=Ye(t,ui(t)));var i=!(Do(e)&&"chain"in e&&!e.chain),a=Po(r);return Ol(o,function(e){var n=t[e];r[e]=n,a&&(r.prototype[e]=function(){var e=this.__chain__;if(i||e){var t=r(this.__wrapped__);return(t.__actions__=rn(this.__actions__)).push({func:n,args:arguments,thisArg:r}),t.__chain__=e,t}return n.apply(r,xl([this.value()],arguments))})}),r}function Ii(){}k=gn(_l),ue=gn(kl),F=gn(Rl);function Li(e){return Xn(e)?Ul(Vr(e)):(t=e,function(e){return Xe(e,t)});var t}X=On(),$=On(!0);function Ui(){return[]}function Mi(){return!1}te=vn(function(e,t){return e+t},0),l=En("ceil"),I=vn(function(e,t){return e/t},1),xt=En("floor");var Bi,N=vn(function(e,t){return e*t},1),Qt=En("round"),B=vn(function(e,t){return e-t},0);return de.after=function(e,t){if("function"!=typeof t)throw new v(Wi);return e=qo(e),function(){if(--e<1)return t.apply(this,arguments)}},de.ary=io,de.assign=Zo,de.assignIn=$o,de.assignInWith=ei,de.assignWith=ti,de.at=ni,de.before=ao,de.bind=lo,de.bindAll=a,de.bindKey=so,de.castArray=function(){if(!arguments.length)return[];var e=arguments[0];return Co(e)?e:[e]},de.chain=Kr,de.chunk=function(e,t,n){t=(n?Yn(e,t,n):t===zi)?1:G(qo(t),0);var r=null==e?0:e.length;if(!r||t<1)return[];for(var o=0,i=0,a=C(L(r/t));o<r;)a[i++]=jt(e,o,o+=t);return a},de.compact=function(e){for(var t=-1,n=null==e?0:e.length,r=0,o=[];++t<n;){var i=e[t];i&&(o[r++]=i)}return o},de.concat=function(){var e=arguments.length;if(!e)return[];for(var t=C(e-1),n=arguments[0],r=e;r--;)t[r-1]=arguments[r];return xl(Co(n)?rn(n):[n],Ge(t,1))},de.cond=function(r){var o=null==r?0:r.length,t=Un();return r=o?_l(r,function(e){if("function"!=typeof e[1])throw new v(Wi);return[t(e[0]),e[1]]}):[],kt(function(e){for(var t=-1;++t<o;){var n=r[t];if(bl(n[0],this,e))return bl(n[1],this,e)}})},de.conforms=function(e){return t=Ne(e,1),n=ui(t),function(e){return Ie(e,t,n)};var t,n},de.constant=Ri,de.countBy=qr,de.create=function(e,t){return e=he(e),null==t?e:Re(e,t)},de.curry=function e(t,n,r){n=_n(t,8,zi,zi,zi,zi,zi,n=r?zi:n);return n.placeholder=e.placeholder,n},de.curryRight=function e(t,n,r){n=_n(t,16,zi,zi,zi,zi,zi,n=r?zi:n);return n.placeholder=e.placeholder,n},de.debounce=co,de.defaults=ri,de.defaultsDeep=oi,de.defer=uo,de.delay=po,de.difference=vr,de.differenceBy=gr,de.differenceWith=br,de.drop=function(e,t,n){var r=null==e?0:e.length;return r?jt(e,(t=n||t===zi?1:qo(t))<0?0:t,r):[]},de.dropRight=function(e,t,n){var r=null==e?0:e.length;return r?jt(e,0,(t=r-(t=n||t===zi?1:qo(t)))<0?0:t):[]},de.dropRightWhile=function(e,t){return e&&e.length?Bt(e,Un(t,3),!0,!0):[]},de.dropWhile=function(e,t){return e&&e.length?Bt(e,Un(t,3),!0):[]},de.fill=function(e,t,n,r){var o=null==e?0:e.length;return o?(n&&"number"!=typeof n&&Yn(e,t,n)&&(n=0,r=o),function(e,t,n,r){var o=e.length;for((n=qo(n))<0&&(n=o<-n?0:o+n),(r=r===zi||o<r?o:qo(r))<0&&(r+=o),r=r<n?0:Qo(r);n<r;)e[n++]=t;return e}(e,t,n,r)):[]},de.filter=function(e,t){return(Co(e)?El:Ke)(e,Un(t,3))},de.flatMap=function(e,t){return Ge(to(e,t),1)},de.flatMapDeep=function(e,t){return Ge(to(e,t),1/0)},de.flatMapDepth=function(e,t,n){return n=n===zi?1:qo(n),Ge(to(e,t),n)},de.flatten=Cr,de.flattenDeep=function(e){return(null==e?0:e.length)?Ge(e,1/0):[]},de.flattenDepth=function(e,t){return(null==e?0:e.length)?Ge(e,t=t===zi?1:qo(t)):[]},de.flip=function(e){return _n(e,512)},de.flow=Di,de.flowRight=O,de.fromPairs=function(e){for(var t=-1,n=null==e?0:e.length,r={};++t<n;){var o=e[t];r[o[0]]=o[1]}return r},de.functions=function(e){return null==e?[]:Ye(e,ui(e))},de.functionsIn=function(e){return null==e?[]:Ye(e,pi(e))},de.groupBy=Zr,de.initial=function(e){return(null==e?0:e.length)?jt(e,0,-1):[]},de.intersection=Er,de.intersectionBy=Ar,de.intersectionWith=Sr,de.invert=li,de.invertBy=si,de.invokeMap=$r,de.iteratee=Fi,de.keyBy=eo,de.keys=ui,de.keysIn=pi,de.map=to,de.mapKeys=function(e,r){var o={};return r=Un(r,3),Qe(e,function(e,t,n){De(o,r(e,t,n),e)}),o},de.mapValues=function(e,r){var o={};return r=Un(r,3),Qe(e,function(e,t,n){De(o,t,r(e,t,n))}),o},de.matches=function(e){return ht(Ne(e,1))},de.matchesProperty=function(e,t){return Vt(e,Ne(t,1))},de.memoize=fo,de.merge=fi,de.mergeWith=di,de.method=n,de.methodOf=t,de.mixin=Ni,de.negate=ho,de.nthArg=function(t){return t=qo(t),kt(function(e){return yt(e,t)})},de.omit=hi,de.omitBy=function(e,t){return mi(e,ho(Un(t)))},de.once=function(e){return ao(2,e)},de.orderBy=function(e,t,n,r){return null==e?[]:vt(e,t=!Co(t)?null==t?[]:[t]:t,n=!Co(n=r?zi:n)?null==n?[]:[n]:n)},de.over=k,de.overArgs=Vo,de.overEvery=ue,de.overSome=F,de.partial=mo,de.partialRight=yo,de.partition=no,de.pick=Vi,de.pickBy=mi,de.property=Li,de.propertyOf=function(t){return function(e){return null==t?zi:Xe(t,e)}},de.pull=xr,de.pullAll=Pr,de.pullAllBy=function(e,t,n){return e&&e.length&&t&&t.length?bt(e,t,Un(n,2)):e},de.pullAllWith=function(e,t,n){return e&&e.length&&t&&t.length?bt(e,t,zi,n):e},de.pullAt=jr,de.range=X,de.rangeRight=$,de.rearg=vo,de.reject=function(e,t){return(Co(e)?El:Ke)(e,ho(Un(t,3)))},de.remove=function(e,t){var n=[];if(!e||!e.length)return n;var r=-1,o=[],i=e.length;for(t=Un(t,3);++r<i;){var a=e[r];t(a,r,e)&&(n.push(a),o.push(r))}return wt(e,o),n},de.rest=function(e,t){if("function"!=typeof e)throw new v(Wi);return kt(e,t=t===zi?t:qo(t))},de.reverse=Rr,de.sampleSize=function(e,t,n){return t=(n?Yn(e,t,n):t===zi)?1:qo(t),(Co(e)?Ae:At)(e,t)},de.set=function(e,t,n){return null==e?e:St(e,t,n)},de.setWith=function(e,t,n,r){return r="function"==typeof r?r:zi,null==e?e:St(e,t,n,r)},de.shuffle=function(e){return(Co(e)?Se:Pt)(e)},de.slice=function(e,t,n){var r=null==e?0:e.length;return r?(n=n&&"number"!=typeof n&&Yn(e,t,n)?(t=0,r):(t=null==t?0:qo(t),n===zi?r:qo(n)),jt(e,t,n)):[]},de.sortBy=ro,de.sortedUniq=function(e){return e&&e.length?Ft(e):[]},de.sortedUniqBy=function(e,t){return e&&e.length?Ft(e,Un(t,2)):[]},de.split=function(e,t,n){return n&&"number"!=typeof n&&Yn(e,t,n)&&(t=n=zi),(n=n===zi?Qi:n>>>0)?(e=Xo(e))&&("string"==typeof t||null!=t&&!Lo(t))&&!(t=It(t))&&Xl(e)?Jt(rs(e),0,n):e.split(t,n):[]},de.spread=function(n,r){if("function"!=typeof n)throw new v(Wi);return r=null==r?0:G(qo(r),0),kt(function(e){var t=e[r],e=Jt(e,0,r);return t&&xl(e,t),bl(n,this,e)})},de.tail=function(e){var t=null==e?0:e.length;return t?jt(e,1,t):[]},de.take=function(e,t,n){return e&&e.length?jt(e,0,(t=n||t===zi?1:qo(t))<0?0:t):[]},de.takeRight=function(e,t,n){var r=null==e?0:e.length;return r?jt(e,(t=r-(t=n||t===zi?1:qo(t)))<0?0:t,r):[]},de.takeRightWhile=function(e,t){return e&&e.length?Bt(e,Un(t,3),!1,!0):[]},de.takeWhile=function(e,t){return e&&e.length?Bt(e,Un(t,3)):[]},de.tap=function(e,t){return t(e),e},de.throttle=function(e,t,n){var r=!0,o=!0;if("function"!=typeof e)throw new v(Wi);return Do(n)&&(r="leading"in n?!!n.leading:r,o="trailing"in n?!!n.trailing:o),co(e,t,{leading:r,maxWait:t,trailing:o})},de.thru=Gr,de.toArray=Go,de.toPairs=yi,de.toPairsIn=vi,de.toPath=function(e){return Co(e)?_l(e,Vr):Bo(e)?[e]:rn(hr(Xo(e)))},de.toPlainObject=Yo,de.transform=function(e,r,o){var t,n=Co(e),i=n||So(e)||zo(e);return r=Un(r,4),null==o&&(t=e&&e.constructor,o=i?n?new t:[]:Do(e)&&Po(t)?he(S(e)):{}),(i?Ol:Qe)(e,function(e,t,n){return r(o,e,t,n)}),o},de.unary=function(e){return io(e,1)},de.union=Dr,de.unionBy=Tr,de.unionWith=Fr,de.uniq=function(e){return e&&e.length?Lt(e):[]},de.uniqBy=function(e,t){return e&&e.length?Lt(e,Un(t,2)):[]},de.uniqWith=function(e,t){return t="function"==typeof t?t:zi,e&&e.length?Lt(e,zi,t):[]},de.unset=function(e,t){return null==e||Ut(e,t)},de.unzip=Nr,de.unzipWith=Ir,de.update=function(e,t,n){return null==e?e:Mt(e,t,Ht(n))},de.updateWith=function(e,t,n,r){return r="function"==typeof r?r:zi,null==e?e:Mt(e,t,Ht(n),r)},de.values=gi,de.valuesIn=function(e){return null==e?[]:Kl(e,pi(e))},de.without=Lr,de.words=Pi,de.wrap=function(e,t){return mo(Ht(t),e)},de.xor=Ur,de.xorBy=Mr,de.xorWith=Br,de.zip=zr,de.zipObject=function(e,t){return Kt(e||[],t||[],xe)},de.zipObjectDeep=function(e,t){return Kt(e||[],t||[],St)},de.zipWith=Wr,de.entries=yi,de.entriesIn=vi,de.extend=$o,de.extendWith=ei,Ni(de,de),de.add=te,de.attempt=ji,de.camelCase=bi,de.capitalize=wi,de.ceil=l,de.clamp=function(e,t,n){return n===zi&&(n=t,t=zi),n!==zi&&(n=(n=Jo(n))==n?n:0),t!==zi&&(t=(t=Jo(t))==t?t:0),Fe(Jo(e),t,n)},de.clone=function(e){return Ne(e,4)},de.cloneDeep=function(e){return Ne(e,5)},de.cloneDeepWith=function(e,t){return Ne(e,5,t="function"==typeof t?t:zi)},de.cloneWith=function(e,t){return Ne(e,4,t="function"==typeof t?t:zi)},de.conformsTo=function(e,t){return null==t||Ie(e,t,ui(t))},de.deburr=Oi,de.defaultTo=function(e,t){return null==e||e!=e?t:e},de.divide=I,de.endsWith=function(e,t,n){e=Xo(e),t=It(t);var r=e.length,r=n=n===zi?r:Fe(qo(n),0,r);return 0<=(n-=t.length)&&e.slice(n,r)==t},de.eq=go,de.escape=function(e){return(e=Xo(e))&&xa.test(e)?e.replace(Sa,Jl):e},de.escapeRegExp=function(e){return(e=Xo(e))&&Ia.test(e)?e.replace(Na,"\\$&"):e},de.every=function(e,t,n){return(Co(e)?kl:ze)(e,Un(t=n&&Yn(e,t,n)?zi:t,3))},de.find=Qr,de.findIndex=wr,de.findKey=function(e,t){return Dl(e,Un(t,3),Qe)},de.findLast=Jr,de.findLastIndex=Or,de.findLastKey=function(e,t){return Dl(e,Un(t,3),Je)},de.floor=xt,de.forEach=Yr,de.forEachRight=Xr,de.forIn=function(e,t){return null==e?e:He(e,Un(t,3),pi)},de.forInRight=function(e,t){return null==e?e:qe(e,Un(t,3),pi)},de.forOwn=function(e,t){return e&&Qe(e,Un(t,3))},de.forOwnRight=function(e,t){return e&&Je(e,Un(t,3))},de.get=ii,de.gt=bo,de.gte=wo,de.has=function(e,t){return null!=e&&Hn(e,t,tt)},de.hasIn=ai,de.head=kr,de.identity=Ti,de.includes=function(e,t,n,r){return e=Eo(e)?e:gi(e),n=n&&!r?qo(n):0,r=e.length,n<0&&(n=G(r+n,0)),Mo(e)?n<=r&&-1<e.indexOf(t,n):!!r&&-1<Fl(e,t,n)},de.indexOf=function(e,t,n){var r=null==e?0:e.length;return r?(n=null==n?0:qo(n),Fl(e,t,n=n<0?G(r+n,0):n)):-1},de.inRange=function(e,t,n){return t=Ho(t),n===zi?(n=t,t=0):n=Ho(n),(e=e=Jo(e))>=H(t=t,n=n)&&e<G(t,n)},de.invoke=ci,de.isArguments=Oo,de.isArray=Co,de.isArrayBuffer=ko,de.isArrayLike=Eo,de.isArrayLikeObject=Ao,de.isBoolean=function(e){return!0===e||!1===e||To(e)&&$e(e)==Zi},de.isBuffer=So,de.isDate=_o,de.isElement=function(e){return To(e)&&1===e.nodeType&&!Io(e)},de.isEmpty=function(e){if(null==e)return!0;if(Eo(e)&&(Co(e)||"string"==typeof e||"function"==typeof e.splice||So(e)||zo(e)||Oo(e)))return!e.length;var t,n=Gn(e);if(n==ra||n==sa)return!e.size;if(er(e))return!ut(e).length;for(t in e)if(g.call(e,t))return!1;return!0},de.isEqual=function(e,t){return at(e,t)},de.isEqualWith=function(e,t,n){var r=(n="function"==typeof n?n:zi)?n(e,t):zi;return r===zi?at(e,t,zi,n):!!r},de.isError=xo,de.isFinite=function(e){return"number"==typeof e&&z(e)},de.isFunction=Po,de.isInteger=jo,de.isLength=Ro,de.isMap=Fo,de.isMatch=function(e,t){return e===t||lt(e,t,Bn(t))},de.isMatchWith=function(e,t,n){return n="function"==typeof n?n:zi,lt(e,t,Bn(t),n)},de.isNaN=function(e){return No(e)&&e!=+e},de.isNative=function(e){if($n(e))throw new r("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return st(e)},de.isNil=function(e){return null==e},de.isNull=function(e){return null===e},de.isNumber=No,de.isObject=Do,de.isObjectLike=To,de.isPlainObject=Io,de.isRegExp=Lo,de.isSafeInteger=function(e){return jo(e)&&-Hi<=e&&e<=Hi},de.isSet=Uo,de.isString=Mo,de.isSymbol=Bo,de.isTypedArray=zo,de.isUndefined=function(e){return e===zi},de.isWeakMap=function(e){return To(e)&&Gn(e)==pa},de.isWeakSet=function(e){return To(e)&&"[object WeakSet]"==$e(e)},de.join=function(e,t){return null==e?"":W.call(e,t)},de.kebabCase=Ci,de.last=_r,de.lastIndexOf=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var o=r;return n!==zi&&(o=(o=qo(n))<0?G(r+o,0):H(o,r-1)),t==t?function(e,t,n){for(var r=n+1;r--;)if(e[r]===t)return r;return r}(e,t,o):Tl(e,Il,o,!0)},de.lowerCase=ki,de.lowerFirst=Ei,de.lt=Wo,de.lte=Ko,de.max=function(e){return e&&e.length?We(e,Ti,et):zi},de.maxBy=function(e,t){return e&&e.length?We(e,Un(t,2),et):zi},de.mean=function(e){return Ll(e,Ti)},de.meanBy=function(e,t){return Ll(e,Un(t,2))},de.min=function(e){return e&&e.length?We(e,Ti,ft):zi},de.minBy=function(e,t){return e&&e.length?We(e,Un(t,2),ft):zi},de.stubArray=Ui,de.stubFalse=Mi,de.stubObject=function(){return{}},de.stubString=function(){return""},de.stubTrue=function(){return!0},de.multiply=N,de.nth=function(e,t){return e&&e.length?yt(e,qo(t)):zi},de.noConflict=function(){return fl._===this&&(fl._=b),this},de.noop=Ii,de.now=oo,de.pad=function(e,t,n){e=Xo(e);var r=(t=qo(t))?ns(e):0;return!t||t<=r?e:bn(U(r=(t-r)/2),n)+e+bn(L(r),n)},de.padEnd=function(e,t,n){e=Xo(e);var r=(t=qo(t))?ns(e):0;return t&&r<t?e+bn(t-r,n):e},de.padStart=function(e,t,n){e=Xo(e);var r=(t=qo(t))?ns(e):0;return t&&r<t?bn(t-r,n)+e:e},de.parseInt=function(e,t,n){return t=n||null==t?0:t&&+t,Q(Xo(e).replace(Ua,""),t||0)},de.random=function(e,t,n){var r;if(n&&"boolean"!=typeof n&&Yn(e,t,n)&&(t=n=zi),n===zi&&("boolean"==typeof t?(n=t,t=zi):"boolean"==typeof e&&(n=e,e=zi)),e===zi&&t===zi?(e=0,t=1):(e=Ho(e),t===zi?(t=e,e=0):t=Ho(t)),t<e&&(r=e,e=t,t=r),n||e%1||t%1){n=J();return H(e+n*(t-e+ul("1e-"+((n+"").length-1))),t)}return Ot(e,t)},de.reduce=function(e,t,n){var r=Co(e)?Pl:Ml,o=arguments.length<3;return r(e,Un(t,4),n,o,Me)},de.reduceRight=function(e,t,n){var r=Co(e)?jl:Ml,o=arguments.length<3;return r(e,Un(t,4),n,o,Be)},de.repeat=function(e,t,n){return t=(n?Yn(e,t,n):t===zi)?1:qo(t),Ct(Xo(e),t)},de.replace=function(){var e=arguments,t=Xo(e[0]);return e.length<3?t:t.replace(e[1],e[2])},de.result=function(e,t,n){var r=-1,o=(t=qt(t,e)).length;for(o||(o=1,e=zi);++r<o;){var i=null==e?zi:e[Vr(t[r])];i===zi&&(r=o,i=n),e=Po(i)?i.call(e):i}return e},de.round=Qt,de.runInContext=e,de.sample=function(e){return(Co(e)?Ee:Et)(e)},de.size=function(e){if(null==e)return 0;if(Eo(e))return Mo(e)?ns(e):e.length;var t=Gn(e);return t==ra||t==sa?e.size:ut(e).length},de.snakeCase=Ai,de.some=function(e,t,n){return(Co(e)?Rl:Rt)(e,Un(t=n&&Yn(e,t,n)?zi:t,3))},de.sortedIndex=function(e,t){return Dt(e,t)},de.sortedIndexBy=function(e,t,n){return Tt(e,t,Un(n,2))},de.sortedIndexOf=function(e,t){var n=null==e?0:e.length;if(n){var r=Dt(e,t);if(r<n&&go(e[r],t))return r}return-1},de.sortedLastIndex=function(e,t){return Dt(e,t,!0)},de.sortedLastIndexBy=function(e,t,n){return Tt(e,t,Un(n,2),!0)},de.sortedLastIndexOf=function(e,t){if(null==e?0:e.length){var n=Dt(e,t,!0)-1;if(go(e[n],t))return n}return-1},de.startCase=Si,de.startsWith=function(e,t,n){return e=Xo(e),n=null==n?0:Fe(qo(n),0,e.length),t=It(t),e.slice(n,n+t.length)==t},de.subtract=B,de.sum=function(e){return e&&e.length?Bl(e,Ti):0},de.sumBy=function(e,t){return e&&e.length?Bl(e,Un(t,2)):0},de.template=function(a,e,t){var n=de.templateSettings;t&&Yn(a,e,t)&&(e=zi),a=Xo(a),e=ei({},e,n,xn);var l,s,r=ui(n=ei({},e.imports,n.imports,xn)),o=Kl(n,r),c=0,n=e.interpolate||el,u="__p += '",n=f((e.escape||el).source+"|"+n.source+"|"+(n===Ra?Ha:el).source+"|"+(e.evaluate||el).source+"|$","g"),i="//# sourceURL="+(g.call(e,"sourceURL")?(e.sourceURL+"").replace(/[\r\n]/g," "):"lodash.templateSources["+ ++ll+"]")+"\n";if(a.replace(n,function(e,t,n,r,o,i){return n=n||r,u+=a.slice(c,i).replace(tl,Yl),t&&(l=!0,u+="' +\n__e("+t+") +\n'"),o&&(s=!0,u+="';\n"+o+";\n__p += '"),n&&(u+="' +\n((__t = ("+n+")) == null ? '' : __t) +\n'"),c=i+e.length,e}),u+="';\n",(e=g.call(e,"variable")&&e.variable)||(u="with (obj) {\n"+u+"\n}\n"),u=(s?u.replace(Ca,""):u).replace(ka,"$1").replace(Ea,"$1;"),u="function("+(e||"obj")+") {\n"+(e?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(l?", __e = _.escape":"")+(s?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+u+"return __p\n}",(e=ji(function(){return p(r,i+"return "+u).apply(zi,o)})).source=u,xo(e))throw e;return e},de.times=function(e,t){if((e=qo(e))<1||Hi<e)return[];var n=Qi,r=H(e,Qi);for(t=Un(t),e-=Qi,r=zl(r,t);++n<e;)t(n);return r},de.toFinite=Ho,de.toInteger=qo,de.toLength=Qo,de.toLower=function(e){return Xo(e).toLowerCase()},de.toNumber=Jo,de.toSafeInteger=function(e){return e?Fe(qo(e),-Hi,Hi):0===e?e:0},de.toString=Xo,de.toUpper=function(e){return Xo(e).toUpperCase()},de.trim=function(e,t,n){return(e=Xo(e))&&(n||t===zi)?e.replace(La,""):e&&(t=It(t))?(e=rs(e),t=rs(t),Jt(e,Hl(e,t),ql(e,t)+1).join("")):e},de.trimEnd=function(e,t,n){return(e=Xo(e))&&(n||t===zi)?e.replace(Ma,""):e&&(t=It(t))?Jt(e=rs(e),0,ql(e,rs(t))+1).join(""):e},de.trimStart=function(e,t,n){return(e=Xo(e))&&(n||t===zi)?e.replace(Ua,""):e&&(t=It(t))?Jt(e=rs(e),Hl(e,rs(t))).join(""):e},de.truncate=function(e,t){var n,r=30,o="...";Do(t)&&(n="separator"in t?t.separator:n,r="length"in t?qo(t.length):r,o="omission"in t?It(t.omission):o);var i,t=(e=Xo(e)).length;if((t=Xl(e)?(i=rs(e)).length:t)<=r)return e;if((t=r-ns(o))<1)return o;if(r=i?Jt(i,0,t).join(""):e.slice(0,t),n===zi)return r+o;if(i&&(t+=r.length-t),Lo(n)){if(e.slice(t).search(n)){var a,l=r;for((n=!n.global?f(n.source,Xo(qa.exec(n))+"g"):n).lastIndex=0;a=n.exec(l);)var s=a.index;r=r.slice(0,s===zi?t:s)}}else e.indexOf(It(n),t)==t||-1<(t=r.lastIndexOf(n))&&(r=r.slice(0,t));return r+o},de.unescape=function(e){return(e=Xo(e))&&_a.test(e)?e.replace(Aa,os):e},de.uniqueId=function(e){var t=++c;return Xo(e)+t},de.upperCase=_i,de.upperFirst=xi,de.each=Yr,de.eachRight=Xr,de.first=kr,Ni(de,(Bi={},Qe(de,function(e,t){g.call(de.prototype,t)||(Bi[t]=e)}),Bi),{chain:!1}),de.VERSION="4.17.15",Ol(["bind","bindKey","curry","curryRight","partial","partialRight"],function(e){de[e].placeholder=de}),Ol(["drop","take"],function(n,r){ve.prototype[n]=function(e){e=e===zi?1:G(qo(e),0);var t=this.__filtered__&&!r?new ve(this):this.clone();return t.__filtered__?t.__takeCount__=H(e,t.__takeCount__):t.__views__.push({size:H(e,Qi),type:n+(t.__dir__<0?"Right":"")}),t},ve.prototype[n+"Right"]=function(e){return this.reverse()[n](e).reverse()}}),Ol(["filter","map","takeWhile"],function(e,t){var n=t+1,r=1==n||3==n;ve.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:Un(e,3),type:n}),t.__filtered__=t.__filtered__||r,t}}),Ol(["head","last"],function(e,t){var n="take"+(t?"Right":"");ve.prototype[e]=function(){return this[n](1).value()[0]}}),Ol(["initial","tail"],function(e,t){var n="drop"+(t?"":"Right");ve.prototype[e]=function(){return this.__filtered__?new ve(this):this[n](1)}}),ve.prototype.compact=function(){return this.filter(Ti)},ve.prototype.find=function(e){return this.filter(e).head()},ve.prototype.findLast=function(e){return this.reverse().find(e)},ve.prototype.invokeMap=kt(function(t,n){return"function"==typeof t?new ve(this):this.map(function(e){return ot(e,t,n)})}),ve.prototype.reject=function(e){return this.filter(ho(Un(e)))},ve.prototype.slice=function(e,t){e=qo(e);var n=this;return n.__filtered__&&(0<e||t<0)?new ve(n):(e<0?n=n.takeRight(-e):e&&(n=n.drop(e)),t!==zi?(t=qo(t))<0?n.dropRight(-t):n.take(t-e):n)},ve.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},ve.prototype.toArray=function(){return this.take(Qi)},Qe(ve.prototype,function(c,e){var u=/^(?:filter|find|map|reject)|While$/.test(e),p=/^(?:head|last)$/.test(e),f=de[p?"take"+("last"==e?"Right":""):e],d=p||/^find/.test(e);f&&(de.prototype[e]=function(){function e(e){return e=f.apply(de,xl([e],n)),p&&a?e[0]:e}var t=this.__wrapped__,n=p?[1]:arguments,r=t instanceof ve,o=n[0],i=r||Co(t);i&&u&&"function"==typeof o&&1!=o.length&&(r=i=!1);var a=this.__chain__,l=!!this.__actions__.length,o=d&&!a,l=r&&!l;if(d||!i)return o&&l?c.apply(this,n):(s=this.thru(e),o?p?s.value()[0]:s.value():s);var t=l?t:new ve(this),s=c.apply(t,n);return s.__actions__.push({func:Gr,args:[e],thisArg:zi}),new ye(s,a)})}),Ol(["pop","push","shift","sort","splice","unshift"],function(e){var n=i[e],r=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",o=/^(?:pop|shift)$/.test(e);de.prototype[e]=function(){var t=arguments;if(!o||this.__chain__)return this[r](function(e){return n.apply(Co(e)?e:[],t)});var e=this.value();return n.apply(Co(e)?e:[],t)}}),Qe(ve.prototype,function(e,t){var n,r=de[t];r&&(n=r.name+"",g.call(oe,n)||(oe[n]=[]),oe[n].push({name:t,func:r}))}),oe[mn(zi,2).name]=[{name:"wrapper",func:zi}],ve.prototype.clone=function(){var e=new ve(this.__wrapped__);return e.__actions__=rn(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=rn(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=rn(this.__views__),e},ve.prototype.reverse=function(){var e;return this.__filtered__?((e=new ve(this)).__dir__=-1,e.__filtered__=!0):(e=this.clone()).__dir__*=-1,e},ve.prototype.value=function(){var e=this.__wrapped__.value(),t=this.__dir__,n=Co(e),r=t<0,o=n?e.length:0,i=function(e,t,n){var r=-1,o=n.length;for(;++r<o;){var i=n[r],a=i.size;switch(i.type){case"drop":e+=a;break;case"dropRight":t-=a;break;case"take":t=H(t,e+a);break;case"takeRight":e=G(e,t-a)}}return{start:e,end:t}}(0,o,this.__views__),a=i.start,l=(i=i.end)-a,s=r?i:a-1,c=this.__iteratees__,u=c.length,p=0,f=H(l,this.__takeCount__);if(!n||!r&&o==l&&f==l)return zt(e,this.__actions__);var d=[];e:for(;l--&&p<f;){for(var h=-1,V=e[s+=t];++h<u;){var m=c[h],y=m.iteratee,m=m.type,y=y(V);if(2==m)V=y;else if(!y){if(1==m)continue e;break e}}d[p++]=V}return d},de.prototype.at=Hr,de.prototype.chain=function(){return Kr(this)},de.prototype.commit=function(){return new ye(this.value(),this.__chain__)},de.prototype.next=function(){this.__values__===zi&&(this.__values__=Go(this.value()));var e=this.__index__>=this.__values__.length;return{done:e,value:e?zi:this.__values__[this.__index__++]}},de.prototype.plant=function(e){for(var t,n=this;n instanceof me;){var r=yr(n);r.__index__=0,r.__values__=zi,t?o.__wrapped__=r:t=r;var o=r,n=n.__wrapped__}return o.__wrapped__=e,t},de.prototype.reverse=function(){var e=this.__wrapped__;if(e instanceof ve){e=e;return(e=(e=this.__actions__.length?new ve(this):e).reverse()).__actions__.push({func:Gr,args:[Rr],thisArg:zi}),new ye(e,this.__chain__)}return this.thru(Rr)},de.prototype.toJSON=de.prototype.valueOf=de.prototype.value=function(){return zt(this.__wrapped__,this.__actions__)},de.prototype.first=de.prototype.head,R&&(de.prototype[R]=function(){return this}),de}();fl._=is,(x=function(){return is}.call(P,j,P,_))===zi||(_.exports=x)}.call(this)}.call(this,j(59),j(117)(e))},function(e,t,n){e.exports=n(3)(1101)},function(e,t,n){e.exports=n(3)(1242)},function(e,t,n){e.exports=n(3)(1241)},function(e,t,n){e.exports=n(3)(1096)},function(e,r,o){!function(e){var t,n;function wl(e){return(wl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}window,n=function(n,r,o,i,a,l,s,c,u,p,f,d,h,V,m,y,v,g,b){return C={},w.m=O=[function(e,t){e.exports=n},function(e,t){e.exports=r},function(e,t){e.exports=o},function(e,t){function o(e){return(o="function"==typeof Symbol&&"symbol"==wl(Symbol.iterator)?function(e){return wl(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":wl(e)})(e)}e.exports={initDefaultState:function e(t){var n=t.model,r=t.data;if(Array.isArray(n)&&void 0!==r)for(var o=0;o<n.length;o++){var i=n[o].propertyName||n[o].key;if(n[o].defaultValue&&!r[i]&&(r[i]=n[o].defaultValue),Array.isArray(n[o].children)&&e({model:n[o].children,data:r}),void 0!==n[o].placeholders)for(var a in n[o].placeholders)e({model:n[o].placeholders[a],data:r});"customblock"===n[o]["data-buildertype"]&&"source"===n[o].sourceType&&null!=n[o].source&&e({model:JSON5.parse(n[o].source),data:r})}},initDefaultStateFormUrl:function(e){void 0===e&&(e={});var t,t=null==(t=new RegExp("[?&]defaultvalues=([^&#]*)").exec(window.location.href))?null:decodeURI(t[1])||0;if(t){var n=void 0;try{n=JSON5.parse(t)}catch(e){}if(n&&"object"===o(n))for(var r in n)void 0!==n[r]&&(e[r]=n[r])}return e},validate:function(e){for(var t,n,r,o=e.data,i=!0,a={},l=function r(e){var o=[];return e.forEach(function(e){var t;if((!0===e["other-required"]||void 0!==e["other-customValidation"]&&""!==e["other-customValidation"])&&o.push(e),void 0!==e.children&&0<e.children.length&&(t=r(e.children),o=o.concat(t)),void 0!==e.placeholders)for(var n in e.placeholders)n=r(e.placeholders[n]),o=o.concat(n);"customblock"===e["data-buildertype"]&&"source"===e.sourceType&&null!=e.source&&(t=JSON5.parse(e.source),t=r(t),o=o.concat(t))}),o}(e.model),s=0;s<l.length;s++){var c=l[s].propertyName||l[s].key,u=(t=l[s],n=o?o[c]:void 0,r=o,!(u=u=void 0)===t["other-required"]&&(null==n||""===n||"collectioneditor"===t["data-buildertype"]&&Array.isArray(n)&&0===n.length)?u="This field is required!":void 0!==t["other-customValidation"]&&""!==t["other-customValidation"]&&(t="return "+t["other-customValidation"],"boolean"==typeof(r=new Function("value, data",t)(n,r))?!1===r&&(u=!0):u=r),u);u&&(a[c]=u,i=!1)}return{valid:i,errors:a}},checkConditions:function e(t){var n=t.model,r=t.data,o={hideControls:[],readOnlyControls:[]};if(!n||!r)return o;for(var i=0;i<n.length;i++){var a,l=n[i]["other-visibleConition"];if(void 0!==l&&""!==l&&(new Function("data","return "+l)(r)||o.hideControls.push(n[i].key)),void 0!==(l=n[i]["other-readOnlyConition"])&&""!==l&&new Function("data","return "+l)(r)&&o.readOnlyControls.push(n[i].key),Array.isArray(n[i].children)&&(a=e({model:n[i].children,data:r}),o={hideControls:o.hideControls.concat(a.hideControls),readOnlyControls:o.readOnlyControls.concat(a.readOnlyControls)}),void 0!==n[i].placeholders)for(var s in n[i].placeholders)s=e({model:n[i].placeholders[s],data:r}),o={hideControls:o.hideControls.concat(s.hideControls),readOnlyControls:o.readOnlyControls.concat(s.readOnlyControls)};"customblock"===n[i]["data-buildertype"]&&"source"===n[i].sourceType&&null!=n[i].source&&(a=e({model:JSON5.parse(n[i].source),data:r}),o={hideControls:o.hideControls.concat(a.hideControls),readOnlyControls:o.readOnlyControls.concat(a.readOnlyControls)})}return o},updateEventsFormat:function(r){return r.updated||(Object.keys(r).forEach(function(e){var t,n=r[e];((t=n).actions||n.parameters||n.targets)&&(t={actions:n.actions||[],parameters:n.parameters||[],targets:n.targets||[]},r[e]={active:n.active||!1,triggers:n.actions?[t]:void 0})}),r.updated=!0),r}}},function(e,t){e.exports=i},function(e,t){e.exports=a},function(e,t){e.exports=l},function(e,t){e.exports=s},function(e,t){e.exports=c},function(e,t){e.exports=u},function(e,t){e.exports=p},function(e,t,n){n(23),e.exports=self.fetch.bind(self)},function(e,t){e.exports=f},function(e,t,n){var r,o,i;function a(e){if(i[e])return i[e].exports;var t=i[e]={i:e,l:!1,exports:{}};return o[e].call(t.exports,t,t.exports,a),t.l=!0,t.exports}e.exports=(r=n(0),i={},a.m=o=[function(e,t){e.exports=r},function(e,t,n){e.exports=n(7)()},function(e,t,n){function r(e){if(i[e])return i[e].exports;var t=i[e]={i:e,l:!1,exports:{}};return o[e].call(t.exports,t,t.exports,r),t.l=!0,t.exports}var o,i;e.exports=(i={},r.m=o=[function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"e",function(){return o}),n.d(t,"a",function(){return i}),n.d(t,"f",function(){return a}),n.d(t,"c",function(){return l}),n.d(t,"b",function(){return s}),n.d(t,"d",function(){return c});var o=["user","environment"],i={USER:"user",ENVIRONMENT:"environment"},a=["jpg","png"],l={PNG:"png",JPG:"jpg"},s=(r(t={},"jpg","image/jpeg"),r(t,"png","image/png"),t),c={audio:!1,video:!0}},function(e,t,n){e.exports=n(2)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"FACING_MODES",function(){return i}),n.d(t,"IMAGE_TYPES",function(){return l});var a=n(3),r=n(5),o=a.a.IMAGE_TYPES.PNG,n=(c(s.prototype,[{key:"_getStreamDevice",value:function(r,o){var i=this;return new Promise(function(t,n){var e=a.a.getIdealConstraints(r,o);i.mediaDevices.getUserMedia(e).then(function(e){i._gotStream(e),t(e)}).catch(function(e){n(e)})})}},{key:"_getStreamDeviceMaxResolution",value:function(r){var o=this,e=a.a.getMaxResolutionConstraints(r,this.numberOfMaxResolutionTry);return null!=e?new Promise(function(t,n){o.mediaDevices.getUserMedia(e).then(function(e){o._gotStream(e),t(e)}).catch(function(e){setTimeout(function(){o.numberOfMaxResolutionTry+=1,o._getStreamDeviceMaxResolution(r).catch(function(){n(e)})},20)})}):this._getStreamDevice(r,{})}},{key:"_setVideoSrc",value:function(e){"srcObject"in this.videoElement?this.videoElement.srcObject=e:(e=this.windowURL.createObjectURL(e),this.videoElement.src=e)}},{key:"_setSettings",value:function(e){this.settings=null,0<(e=e&&e.getTracks?e.getTracks():[]).length&&e[0].getSettings&&(this.settings=e[0].getSettings())}},{key:"_gotStream",value:function(e){this.stream=e,this._setSettings(e),this._setVideoSrc(e)}},{key:"getCameraSettings",value:function(){return this.settings}},{key:"startCamera",value:function(e,t){var n=this;return this.stopCamera().then(function(){}).catch(function(){}).then(function(){return n._getStreamDevice(e,t)})}},{key:"startCameraMaxResolution",value:function(){var e=this,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return this.stopCamera().then(function(){}).catch(function(){}).then(function(){return e._getStreamDeviceMaxResolution(t)})}},{key:"getDataUri",value:function(e){return e={sizeFactor:void 0===e.sizeFactor?r.c:e.sizeFactor,imageType:void 0===e.imageType?o:e.imageType,imageCompression:void 0===e.imageCompression?r.a:e.imageCompression,isImageMirror:void 0===e.isImageMirror?r.b:e.isImageMirror},a.a.getDataUri(this.videoElement,e)}},{key:"stopCamera",value:function(){var n=this;return new Promise(function(e,t){n.stream&&(n.stream.getTracks().forEach(function(e){e.stop()}),n.videoElement.src="",n.stream=null,n._setSettings(null),e()),t(Error("no stream to stop!"))})}}]),s),i=a.a.FACING_MODES,l=a.a.IMAGE_TYPES;function s(e){(function(e){if(!(e instanceof s))throw new TypeError("Cannot call a class as a function")})(this),this.videoElement=e,this.stream=null,this.numberOfMaxResolutionTry=1,this.settings=null,this.windowURL=a.a.getWindowURL(),this.mediaDevices=a.a.getNavigatorMediaDevices()}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}t.default=n},function(e,t,n){"use strict";var s=n(4),o=n(0),n=(i(r,[{key:"getDataUri",value:function(e,t){var n=t.sizeFactor,r=t.imageType,o=t.imageCompression,i=t.isImageMirror,a=e.videoWidth,l=e.videoHeight,a=(t=Object(s.b)(a,l,n)).imageWidth,l=t.imageHeight;return(n=document.createElement("canvas")).width=a,n.height=l,t=n.getContext("2d"),i&&t.setTransform(-1,0,0,1,n.width,0),t.drawImage(e,0,0,a,l),Object(s.a)(n,r,o)}},{key:"getWindowURL",value:function(){return window.URL||window.webkitURL||window.mozURL||window.msURL}},{key:"getNavigatorMediaDevices",value:function(){var r,e=null,t=!(!navigator.mediaDevices||!navigator.mediaDevices.getUserMedia),n=!(!navigator.mozGetUserMedia&&!navigator.webkitGetUserMedia);return t?e=navigator.mediaDevices:n&&(r=navigator.mozGetUserMedia||navigator.webkitGetUserMedia,n={getUserMedia:function(n){return new Promise(function(e,t){r.call(navigator,n,e,t)})}},e=Object.assign(r,n)),e}},{key:"isSupportedFacingMode",value:function(){return r.getNavigatorMediaDevices().getSupportedConstraints().facingMode}},{key:"getIdealConstraints",value:function(e,t){var n={audio:!1,video:{}};if(Object(s.c)(e,t))return o.d;var r=navigator.mediaDevices.getSupportedConstraints();return r.width&&r.height&&r.facingMode?(e&&o.e.includes(e)&&(n.video.facingMode=e),t&&t.width&&(n.video.width=t.width),t&&t.height&&(n.video.height=t.height),n):(console.error("Constraint width height or facingMode not supported!"),o.d)}},{key:"getMaxResolutionConstraints",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1],n=r.getIdealConstraints(e);return t>=(e=[{width:{min:640},ideal:{facingMode:e=n.video.facingMode}},{width:{min:800},ideal:{facingMode:e}},{width:{min:900},ideal:{facingMode:e}},{width:{min:1024},ideal:{facingMode:e}},{width:{min:1080},ideal:{facingMode:e}},{width:{min:1280},ideal:{facingMode:e}},{width:{min:1920},ideal:{facingMode:e}},{width:{min:2560},ideal:{facingMode:e}},{width:{min:3840},ideal:{facingMode:e}}]).length?null:(t=e.slice(0,-t),n.video.advanced=t,n)}},{key:"FACING_MODES",get:function(){return o.a}},{key:"IMAGE_TYPES",get:function(){return o.c}}]),r);function r(){!function(e){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}(this)}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}t.a=n},function(e,t,n){"use strict";function r(e,t){var n={};try{(function(e){if(!(0<=t&&t<=1))throw new Error(t+" is invalid imageCompression, choose between: [0, 1]");if(!o.f.includes(e))throw new Error(e+" is invalid imageType, choose between: "+o.f.join(", "))})(e),n.imageType=e,n.imageCompression=t}catch(e){console.error(e),console.error("default value of "+o.c.PNG+" is used"),n.imageType=o.c.PNG,n.imageCompression=null}return n}t.b=function(e,t,n){return{imageWidth:n=e*parseFloat(n),imageHeight:t/(e/n)}},t.a=function(e,t,n){return r(t,n).imageType===o.c.JPG?n?e.toDataURL(o.b[o.c.JPG],n):e.toDataURL(o.b[o.c.JPG]):e.toDataURL(o.b[t])},t.c=function(e,t){return!(e||t&&!function(e){if("object"===(void 0===e?"undefined":i(e)))for(var t in e)if(e.hasOwnProperty(t))return;return 1}(t))};var o=n(0),i="function"==typeof Symbol&&"symbol"==wl(Symbol.iterator)?function(e){return wl(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":wl(e)}},function(e,t,n){"use strict";n.d(t,"c",function(){return r}),n.d(t,"a",function(){return o}),n.d(t,"b",function(){return i});var r=1,o=null,i=!1}],r.c=i,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:n})},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=1))},function(e,t,n){e.exports=n(4)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(5);n.d(t,"Camera",function(){return r.c}),n.d(t,"FACING_MODES",function(){return r.a}),n.d(t,"IMAGE_TYPES",function(){return r.b}),t.default=r.c},function(e,t,n){"use strict";var r=n(6);n.d(t,"a",function(){return r.a}),n.d(t,"b",function(){return r.b}),t.c=r.c},function(e,t,n){"use strict";function r(n){var e=Object(V.useState)(""),t=(s=O(e,2))[0],r=s[1],o=Object(V.useState)(!0),i=(u=O(o,2))[0],a=u[1],l=Object(V.useState)(""),s=(e=O(l,2))[0],c=e[1],o=Object(V.useRef)(null),u=Object(y.a)(o,n.idealFacingMode,n.idealResolution,n.isMaxResolution),p=(l=O(u,4))[0],f=l[1],d=l[2],h=l[3];return Object(V.useEffect)(function(){p?"function"==typeof n.onCameraStart&&n.onCameraStart(p):"function"==typeof n.onCameraStop&&n.onCameraStop()},[p]),Object(V.useEffect)(function(){f&&(c(f.name+" "+f.message),"function"==typeof n.onCameraError&&n.onCameraError(f))},[f]),Object(V.useEffect)(function(){d&&Object(w.d)(d.message)},[d]),e=Object(w.b)(i,n.isImageMirror),u=Object(w.a)(!i),l=n.isFullscreen?"react-html5-camera-photo-fullscreen":"",m.a.createElement("div",{className:"react-html5-camera-photo "+l},m.a.createElement(b.a,{cssClass:"display-error",isDisplayError:n.isDisplayStartCameraError,errorMsg:s}),m.a.createElement(g.a,{isShowWhiteFlash:!i}),m.a.createElement("img",{style:u,alt:"camera",src:t}),m.a.createElement("video",{style:e,ref:o,autoPlay:!0,muted:"muted",playsInline:!0}),m.a.createElement(v.a,{isClicked:!i,onClick:function(){var e={sizeFactor:n.sizeFactor,imageType:n.imageType,imageCompression:n.imageCompression,isImageMirror:n.isImageMirror},t=h(e);n.isSilentMode||Object(w.c)(),"function"==typeof n.onTakePhoto&&n.onTakePhoto(t),r(t),a(!1),C&&clearTimeout(C),C=setTimeout(function(){a(!0),"function"==typeof n.onTakePhotoAnimationDone&&n.onTakePhotoAnimationDone(t)},900)}}))}var V=n(0),m=n.n(V),o=n(1),i=n.n(o),a=n(2),y=(n.n(a),n(9)),v=n(13),g=n(15),b=n(17),w=n(19),o=n(21);n.n(o),n.o(a,"FACING_MODES")&&n.d(t,"a",function(){return a.FACING_MODES}),n.o(a,"IMAGE_TYPES")&&n.d(t,"b",function(){return a.IMAGE_TYPES});function O(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,l=e[Symbol.iterator]();!(r=(a=l.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{!r&&l.return&&l.return()}finally{if(o)throw i}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}var C=null;(t.c=r).propTypes={onTakePhoto:i.a.func,onTakePhotoAnimationDone:i.a.func,onCameraError:i.a.func,idealFacingMode:i.a.string,idealResolution:i.a.object,imageType:i.a.string,isImageMirror:i.a.bool,isSilentMode:i.a.bool,isDisplayStartCameraError:i.a.bool,imageCompression:i.a.number,isMaxResolution:i.a.bool,isFullscreen:i.a.bool,sizeFactor:i.a.number,onCameraStart:i.a.func,onCameraStop:i.a.func},r.defaultProps={isImageMirror:!0,isDisplayStartCameraError:!0}},function(e,t,n){"use strict";function r(){}function o(){}var a=n(8);o.resetWarningCache=r,e.exports=function(){function e(e,t,n,r,o,i){if(i!==a)throw(i=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types")).name="Invariant Violation",i}function t(){return e}var n={array:e.isRequired=e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:o,resetWarningCache:r};return n.PropTypes=n}},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t,n){"use strict";function p(e){return function(){var l=e.apply(this,arguments);return new Promise(function(i,a){return function t(e,n){try{var r=l[e](n),o=r.value}catch(e){return void a(e)}if(!r.done)return Promise.resolve(o).then(function(e){t("next",e)},function(e){t("throw",e)});i(o)}("next")})}}t.a=function(r,o,i,a){var e=Object(d.useState)(null),l=(n=V(e,2))[0],s=n[1],t=Object(d.useState)(null),n=(e=V(t,2))[0],c=e[1],t=Object(d.useState)(null),t=(e=V(t,2))[0],u=e[1];return Object(d.useEffect)(function(){r&&r.current&&(m=new h.a(r.current))},[r]),Object(d.useEffect)(function(){var e,t,n=(e=p(f.a.mark(function e(){var t;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(y=!0,e.prev=1,t=null,a)return e.next=6,m.startCameraMaxResolution(o);e.next=9;break;case 6:t=e.sent,e.next=12;break;case 9:return e.next=11,m.startCamera(o,i);case 11:t=e.sent;case 12:s(t),c(null),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(1),c(e.t0);case 19:case"end":return e.stop()}},e,this,[[1,16]])})),function(){return e.apply(this,arguments)});if(l)return t=p(f.a.mark(function e(){return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,y)return y=!1,e.next=5,m.stopCamera();e.next=5;break;case 5:r&&r.current&&(s(null),u(null)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),u(e.t0);case 11:case"end":return e.stop()}},e,this,[[0,8]])})),function(){return t.apply(this,arguments)};n()},[r,l,o,i,a]),[l,n,t,function(e){return m.getDataUri(e)}]};var t=n(10),f=n.n(t),d=n(0),t=(n.n(d),n(2)),h=n.n(t),V=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,l=e[Symbol.iterator]();!(r=(a=l.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{!r&&l.return&&l.return()}finally{if(o)throw i}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},m=null,y=!1},function(e,t,n){e.exports=n(11)},function(e,t,n){var r=function(){return this}()||Function("return this")(),o=r.regeneratorRuntime&&0<=Object.getOwnPropertyNames(r).indexOf("regeneratorRuntime"),i=o&&r.regeneratorRuntime;if(r.regeneratorRuntime=void 0,e.exports=n(12),o)r.regeneratorRuntime=i;else try{delete r.regeneratorRuntime}catch(e){r.regeneratorRuntime=void 0}},function(S,e){!function(e){"use strict";function i(e,t,n,r){var o,i,a,l,t=t&&t.prototype instanceof c?t:c,t=Object.create(t.prototype),r=new u(r||[]);return t._invoke=(o=e,i=n,a=r,l=w,function(e,t){if(l===C)throw new Error("Generator is already running");if(l===k){if("throw"===e)throw t;return f()}for(a.method=e,a.arg=t;;){var n=a.delegate;if(n){var r=function e(t,n){var r=t.iterator[n.method];if(r!==d)return"throw"===(r=s(r,t.iterator,n.arg)).type?(n.method="throw",n.arg=r.arg,n.delegate=null,E):(r=r.arg)?r.done?(n[t.resultName]=r.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=d),n.delegate=null,E):r:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,E);if(n.delegate=null,"throw"===n.method){if(t.iterator.return&&(n.method="return",n.arg=d,e(t,n),"throw"===n.method))return E;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return E}(n,a);if(r){if(r===E)continue;return r}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if(l===w)throw l=k,a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);if(l=C,"normal"===(r=s(o,i,a)).type){if(l=a.done?k:O,r.arg===E)continue;return{value:r.arg,done:a.done}}"throw"===r.type&&(l=k,a.method="throw",a.arg=r.arg)}}),t}function s(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}function c(){}function t(){}function n(){}function r(e){["next","throw","return"].forEach(function(t){e[t]=function(e){return this._invoke(t,e)}})}function a(a){var t;this._invoke=function(n,r){function e(){return new Promise(function(e,t){!function t(e,n,r,o){if("throw"!==(e=s(a[e],a,n)).type){var i=e.arg;return(n=i.value)&&"object"==wl(n)&&V.call(n,"__await")?Promise.resolve(n.__await).then(function(e){t("next",e,r,o)},function(e){t("throw",e,r,o)}):Promise.resolve(n).then(function(e){i.value=e,r(i)},o)}o(e.arg)}(n,r,e,t)})}return t=t?t.then(e,e):e()}}function o(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function l(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function u(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(o,this),this.reset(!0)}function p(t){if(t){if(e=t[m])return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var e,n=-1;return(e=function e(){for(;++n<t.length;)if(V.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=d,e.done=!0,e}).next=e}}return{next:f}}function f(){return{value:d,done:!0}}var d,h=Object.prototype,V=h.hasOwnProperty,m=(g="function"==typeof Symbol?Symbol:{}).iterator||"@@iterator",y=g.asyncIterator||"@@asyncIterator",v=g.toStringTag||"@@toStringTag",g="object"==wl(S),b=e.regeneratorRuntime;if(b)return g&&(S.exports=b);(b=e.regeneratorRuntime=g?S.exports:{}).wrap=i;var w="suspendedStart",O="suspendedYield",C="executing",k="completed",E={};(e={})[m]=function(){return this},(g=(g=Object.getPrototypeOf)&&g(g(p([]))))&&g!==h&&V.call(g,m)&&(e=g);var A=n.prototype=c.prototype=Object.create(e);(t.prototype=A.constructor=n).constructor=t,n[v]=t.displayName="GeneratorFunction",b.isGeneratorFunction=function(e){return!!(e="function"==typeof e&&e.constructor)&&(e===t||"GeneratorFunction"===(e.displayName||e.name))},b.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,n):(e.__proto__=n,v in e||(e[v]="GeneratorFunction")),e.prototype=Object.create(A),e},b.awrap=function(e){return{__await:e}},r(a.prototype),a.prototype[y]=function(){return this},b.AsyncIterator=a,b.async=function(e,t,n,r){var o=new a(i(e,t,n,r));return b.isGeneratorFunction(t)?o:o.next().then(function(e){return e.done?e.value:o.next()})},r(A),A[v]="Generator",A[m]=function(){return this},A.toString=function(){return"[object Generator]"},b.keys=function(n){var e,r=[];for(e in n)r.push(e);return r.reverse(),function e(){for(;r.length;){var t=r.pop();if(t in n)return e.value=t,e.done=!1,e}return e.done=!0,e}},b.values=p,u.prototype={constructor:u,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=d,this.done=!1,this.delegate=null,this.method="next",this.arg=d,this.tryEntries.forEach(l),!e)for(var t in this)"t"===t.charAt(0)&&V.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=d)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(n){function e(e,t){return i.type="throw",i.arg=n,r.next=e,t&&(r.method="next",r.arg=d),!!t}if(this.done)throw n;for(var r=this,t=this.tryEntries.length-1;0<=t;--t){var o=this.tryEntries[t],i=o.completion;if("root"===o.tryLoc)return e("end");if(o.tryLoc<=this.prev){var a=V.call(o,"catchLoc"),l=V.call(o,"finallyLoc");if(a&&l){if(this.prev<o.catchLoc)return e(o.catchLoc,!0);if(this.prev<o.finallyLoc)return e(o.finallyLoc)}else if(a){if(this.prev<o.catchLoc)return e(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return e(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;0<=n;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&V.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}var i=(o=o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc?null:o)?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,E):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),E},finish:function(e){for(var t=this.tryEntries.length-1;0<=t;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),l(n),E}},catch:function(e){for(var t=this.tryEntries.length-1;0<=t;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r,o=n.completion;return"throw"===o.type&&(r=o.arg,l(n)),r}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:p(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=d),E}}}(function(){return this}()||Function("return this")())},function(e,t,n){"use strict";var r=n(0),o=n.n(r),i=n(1),r=n.n(i),i=n(14);(i=(n.n(i),function(e){var t=e.onClick,n=e.isClicked;return o.a.createElement("div",{id:"container-circles"},o.a.createElement("div",{id:"outer-circle",onClick:function(e){n||t()}},o.a.createElement("div",{id:"inner-circle",className:n?"is-clicked":""})))})).propTypes={onClick:r.a.func.isRequired,isClicked:r.a.bool.isRequired},t.a=i},function(e,t){},function(e,t,n){"use strict";var r=n(0),o=n.n(r),i=n(1),r=n.n(i),i=n(16);(i=(n.n(i),function(e){return e=e.isShowWhiteFlash,o.a.createElement("div",{id:"white-flash",className:(e?"do-transition":"")+" normal"})})).propTypes={isShowWhiteFlash:r.a.bool.isRequired},t.a=i},function(e,t){},function(e,t,n){"use strict";var r=n(0),o=n.n(r),i=n(1),r=n.n(i),i=n(18);(i=(n.n(i),function(e){var t=e.isDisplayError,n=e.errorMsg,r=e.cssClass;return e=n,t&&e&&0<e.length?(console.log("cssClass",r),o.a.createElement("div",{className:r,id:"display-error"},o.a.createElement("h1",null,"Camera error: ",n))):null})).propTypes={isDisplayError:r.a.bool,errorMsg:r.a.string,cssClass:r.a.string},t.a=i},function(e,t){},function(e,t,n){"use strict";function r(e){return e?{display:"inline-block"}:{display:"none"}}t.a=r,t.b=function(e,t){return Object.assign({},t?{transform:"rotateY(180deg)"}:{transform:"none"},r(e))},t.c=function(){new Audio("data:audio/mp3;base64,"+o.a.base64).play()},t.d=function(e){console.info("react-html5-camera-photo info:",e)};var t=n(20),o=n.n(t)},function(e,t){e.exports={base64:"SUQzBAAAAAAASVRQRTEAAAAcAAADU291bmRKYXkuY29tIFNvdW5kIEVmZmVjdHMAVFNTRQAAAA8AAANMYXZmNTcuNzIuMTAxAAAAAAAAAAAAAAD/+1QAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABJbmZvAAAADwAAAB0AACxAAA0NDRUVFR4eHh4nJycvLy8vODg4QUFBQUlJSVJSUlJbW1tjY2NsbGxsdXV1fX19fYaGho+Pj4+Xl5egoKCgqampsbGxurq6usPDw8vLy8vU1NTd3d3d5eXl7u7u7vf39////wAAAABMYXZjNTcuOTMAAAAAAAAAAAAAAAAkAkAAAAAAAAAsQC+b5ZH/+5RkAA/wAABpAAAACAAADSAAAAEAAAGkAAAAIAAANIAAAAR4RBEitS0FLUmhcO1TSK1JoJrUtC4dpmkUlLQTQUtC4dpqkUkVoJoJpxcO01KKSK1JoJoRcO01i0kUlLGJkCdw7Skpaho4aHGJkCZkO0pIrDBxw0OGHoEzD3aUkVhg4wMHDD0E4tjjUkUgw8YPDhloJxbSaSRSGhxg8YpaCcW00kRSRWpNBOxZ/1VVFlv/9LLLqu//VVVUW//WWWWXd/6VVVVd/+qsssGH/ZZZVVUDt+1VVlli1dIxZZVUDI0RhaqqyzX9GLLLKq/+QtVVGgCAACMZAAY0NkBDHeIlc0SIVc0Kpu8Sudc0SucfQq+iRCd4hOlc0SubvEJ3NHiE76FErnCr13iE74d4hO8Q0SuaJUSuaJXKvEJ330Su8Q0KuaFUJ3iVzcWaJQ7wWYBHSMAgAD4xjjeYxjZ35znnO/zkJOfqQhKnO6B88jTnnOd0IRjhwUZTnO85///znkD/+5Rkrg7gAABpAAAACAAADSAAAAEQ2Y50IITAARuAEEgQjXnhDgIHCKc53IHxdyEbnOehCEkJ+pCelSMp4gHBRQ4HG5CSE8hJCN/U7oIBwONJAAAAABzNHNlZ0RgQYz9Z7iGTHEB/80BaFYCuiQxoNtAsgAYQaVXEGCOw1eAQwscAnqCA4wbgC2AfcLWgsjQU2SxNkDIOQcAICYDsC/QfJunpFwYwiBPhc4QIMLhqQFyQQMafSYToaBt4ucd4uQQUAgwyMNQQuQItic+ghuLAQdlkELTqJsxICMaQ4UERZT0KbbSURTRUOZYcwcwY5MiwoENUDJjGFslwwOn609SlqYXIK0HgXO8XPcbKThcIPIuUVoQiSyXYhB9OtX////+MF0v////zWIAICAEKgAB/mXJmPHgWEBgPOgZOlaYsIFBP+AQ4QLHrqkMPcPAKKBZ7ZFyAhl8AcIGyALmsoLqwDiCwCxhv4aX8i47Q9MOXKIXAEgKFDAxNenFnkHFkEQb/+5RE9QADBV+6LQRgAltMZtWglABa0gEKuaiAC3vAoeM1MAAWYQILzHIICTw5nW7RcBUEpjnkHEoDmA3lH0Xw/cQVFJCxdNqCh2E2Xy+dJs3JsiossdgrUcoTkRIc5t++OWO8ToPJNi5D0XIXSYEJxaidDVAy5PlocIZPW62fVpyLigBQBAHrIuVrJOFrg5pLCcSAkokPocwjSNHPHN0//////////+QhCj7qaGYVYmpqaAAAGq7AwgBlh8VBaQtGWez8jOC40Cs8QWdoEoqxgWS1OGgVhKDhH+mSYIkesyxKFQLAOJPHUkiRlkHQGoXY9YwWxnKGEht1WcAxxbxjowl8ZZOpjMoTFYLhMp1UWNzTcRKlEThVyzRJ9C5JpucTzZNnKasIvafZ4+7b8Nv83+Mazrf1JvUKBJrxNz2pLmfWWKB/Cz8x/7RM5/1Ce/+L76+P5VVv//Of/6N7Pce0F4fxJEPU6bWE3FR6oN5kpCbjkeTdixgeMWuvWJWbPnn/+5RkagAFn1nIzmXgAoEqWPDHsABTQW8/uPeACTkOaPcYsABbsyzEjbu+fchSvlqOGJ9HCWDt1LSxKyl8Ukl5ZzCMTzuj69ziub5eq/GI1/jU05e/Vyef+sLP2UOTjPezyH/2pWN3Kd+UX7tbbLmTSNimTrrEzKqWI82ZXEVz/f+APYQWsTYAFgsDYkDgbEotLbToGU/zJZiBhooccZojHRxKjGTDmIYgELVTQ6I2QqDhXYc7gxAUg/WKLpvmqB/Aa3CjVqNWDqJq6FkPVCvUdaazrdNQLVgv4+X93OD48uq7h+33naGTRWem5b5x8/PzbP34OY+8UeZuq839/vV6xL5/9b/XgaviJ9X39eff////zE3/////R5XdMx9Zlv5kMT+fb+7lKgBsvQwB1JIZFR4wVnWT2FlJ/9ydOZTEtzzjSMAwIrF0HW4nk9iLot6Z7fXzZ9ce865weBD+l9AJVqCZJWiEQsTcMVtf+2qtxuAtqJsBk0mAUCkVg8GmyjH/+5RkCQADSzRfbjFgBDyCa4/GlACMzGFh/PMACSAXa/+SUACjoDx0SmqACERx/bjtG4yJBsfEURAKyS7HTNFQ7ithQtedceTij5ucmkWN8luex6UdfP/y85Ma9PZExfX7fX5N6mDZIDUU5B4GFjoqoho+gmvcXDwfOFEQBAJAImIAIgAEBgoCAACgBWBb6r87R1ptBJTt9CIxPHoSUlxjgK9m/SEj3c159dg8LocfP5dBMH0/+r8bNvCqREJgBAo3AsBPzmJsdpUPjpXS9g9FMzKZrbNwgKTOuEDqnHmTRomLkbR2pd3RDi2Tznwzv//7otGijIoTEh2G3Q46FAgGDpWjmXd5f7f/7jYhgVdpAWecCrcCQt2IrHuQFiFFHxnaDIwAAJAFyyJGMwQlgONtlkI6kliXEWGr3/aI4kBnKOqNM539ilaUrLMZH/lUzP+ubGjlo8qZtgiBDTywUCohJd1f/r7rKml6giMBAAJEqYxixGCLCoy4k/LilUWoA4T/+5RkDIIDKhvW+ekyIkcDiu8kYoQMtHVX56UMiSmMKrj0jJnnxKuJignB5BdoZW+9uSWOWnCfrsssUm7dsQBie/NwY8W5Mcwd2coQYLGa4lTralcVA1UmoIyYTV/+2yAhmrb2/n/usGNZ7WlQTff6IlqcUUhEAJEqA8DKDVVREeIr8esjOrIUkuirufCdazjA811RD9N4LbvbaQCrw4dHvhMDz5A2w6KgoASjBS/Z+oFXtQIWF1JaIlkIxIAVMLauzmL6Rl2Q88yap03k8jXbwTjyBATEib0nyZFm3bJLlisBM01260qLqxtjRyN3m+oeF0gaslaUUUQ+FPb3T5AmE9qgnWRkokRC7/ODQPHdJPvq//9E2/SxEVK8v8htbsiCAAAgWWvTAjwQFpoiNLhYgE54RXwYLM+nGalvD2YxIJBjCwcqYng0c1/O3ts1SX8vgE9ZFUddfs8VPyCUwUA1wwzDBe2/+arbfpkEAAkBTABB0BwGgTAGdBCwAkBHJh7/+5RkDAADMxjUaYxJwkuiap8xIygM4G9Tp5kQmQkTrXzAmmOsHqFdAdFFCiEr5yxbLwZtWEEdVovOs23MAvAStVLKV8IXKgKrT8ncmLedi7bB/cA3VbAaKlqOq5/HaA4InbPz5nmuucADoe6xcBNt7tSPMuqIZAAAJBShDfodhw8JW8ZZJHhUwH3Fw7/DalLuM1CoAAQXCh4QvMhMrHIu0JKhUHpigUiESAQcKQCBYuIlFAIIUGgiPNQr+3/qOciRRBARJTh8shKgNIuRVKUxSdti8UYsSmgfCmU53r4EGDk9h+UaQORLKigsxpCqsGqz2zQThjt29fjfjzCmksKQOfPf4ErnOwvcZIT9DQVP/9TFYZiYuyTT96/zSiWVZKgcauvX/Fd2hVVUNhuyQBJGdRxhU4uKqjyBE8rLjlmFbTMFLMEjhIDHv6NmRNmf/x/F/5cxOiRvEoLByWYmOhp3cSRgUq/7/qoYV0MBAAAAIAdHYSUB4FLQkP5cCxrCATz/+5RkDAADcxrQ+e8ackTCep8wwjpL4TlL56RsgQ2T6HjEiTjmdytbVp+p2hSvFX/J3siqX5Wp2r5mJhZB/SmifjK/QQ4ShGCxzKeZDGcp/kktH8kDWWOSZDARPRv7gK6He3vFplnf/ISQ4UblSirr/7W5uvEVbi7d/41VMOCGZhBRugHYuN2QEgAmo6plMR15BTDpS6GyW+h+zjhlE8LMf//ITt//LrTQsNbb/J9Zyp169ismbG93VWFmoE0ymLyzqiiAgAXG5uD/P1BnCX472hAoSyXQ5JvjJEp2tNIkZx/G6bBA1KGgQYzpIzGm5IWHFI3Mrnvebeakn//f8j/pWaH1rsSqWc2dp0jnbn3/7JmdV7+rm4jPHhXFE1r0tJiYoAAAAigB0SlA5VjmyuiQgE4EkySaHa9QarZQzE+i/c44HSRySJ4CDjRhoytL7p/+PEeSed2CYQgcEgTaIoDtrrpKeaNEABAKbd2LYYyuPAvgvmUzBhOEiQkCUASwM4n/+5RkDwACrRjR+eZCQEOC2f4x5jYL0TlD56RriN8N7HyXiJ54Gw8X6M1cW+MDfWrsKucJQ0gMq/komUNiAq4FSIwOpfEowi0zG6KleQCSwEHCweBskbbnvsRfcri9EggAAUkBeGC1nNGwSq4XGArmaGnlPGbIccshyzql3zEm2iXAZItfIUAwLCoVDYKxffIQWDp2wsVDAJDsKevOnvQcxkqRgBAKSS4GO+X2ZRCBlqF/QtpvneXKjA4qgriVakmnNLSUvMmiVGtept5SCQ5tDuocjzRsk/bPpezir/nVJu2kc4xlwvbaEtJd6zQ6R3eZfPv/ZJ9m7oiBSzn3SsPUuzAigOuJgJs0MnJOxdG1Hos5k5GjucbkewcqlX//d9egcowOwg72yIVFgeHHACCQIp/9PT01NnhGAQAAAknKA6Tbgw7HGWOAnUc4qlQxWxVTQozhF1NqtN4r5ZNzwrSNPp7VsAAhMNBEATOaL/+InKoczbIhOQm8yucxCbkEwBj/+5RkJQACy03O+eEWUj8Cqd0kI2JK7FM957BJCP8LZrDEjRj7MQQulP8iNv1ZQ4OWjvqHfxoAAAVtoBJyKgSboha50SOlHFNhEvo0yk1IDQILHJd8pzLwyCCFsP8b6IUbJYLXxxLBnDxp1STleWZlv/9Kz3aKJGABkluAYT6bKlJ0SsMEFQhDZNG46mJhXjMyWnaEijV2W3UQQjhJ2y0PbgCxKEv/f+ooiGu9UlKa1tKv4sNhxYveU5D+e9J/2/3u9i4YA5osaQqZV7oIAAVOEC1I9By09EwqKkMtLA2RufTbvi1rZ3AWUsGCwYCCGdpMJPBVQLQqxvFCAWEaRqjziYSr/tU5CgK2lSZ5l0MQIByXbAOUTklQFwOgfB8rh4B4jOlhhg7ZuucQTkGoy6+ZAqKKQ6gWMbPkZmZ9al/+kwJlkVSkI3uaVC2PdDdkO2QyMxaaVttL+yKt1NKxBTFCCAVrowyW2stA1KFv0hbLb65ETygHpTFEK1a04Ng4gIb/+5RkOwAC0k7O+YMUUj6BiiwFgg3KmJ8zphhtQRKNZGBmJRA3zVydPlFXGVS////puxqodg5reZNm7/MndWf/JPWm/zFfXM98bBIBmkEAqijiJIAzdzxAOh6LS9CEgB3NmijZQuE95VFuWutlsK2FVMstBJuVY76LLWembjBBYkSAGFCwCSE1Ppa8UNIPf/rQVegNg4JAcJFg6bBbQAIAMCuSFKdNYIqoIFhkZHZCSAvBs6hSPpInc9z4qA4OHAHPHf+l0aFJ/6EAAV2ArBonPBCu1MQoShTe7XNf9XsZ9qpd+AAP+gZLrd1p3akdlU8FYXUqpYXEkAAVGvN3ewT7cvODAwWv/t31+k+EtuUdesnV7G0KUzixLoR06olmbZdiqiqzv7N7ttT6aftruhpizihYWJqUcutcZKiaIBXJKbYkBix6RiszxMK5sJ3Ztcpka/ndJlS85HzhllK4TzomBkODyvw6MKWqB1yAbBMTKNvY95k+RrRGFkLBABAgI4n/+5RkT4QSok5JyeYT4kUDee0Z40mKUJ8YyLypwOeOZChhDhBy6cO3WizCTU0ThVTKhLA6LJCj9VhvNbUxMr572iZ6pVQhrx7L5n3lEWWQSMJMsqkMdU/2ogTDpQ1LUgDmIw0+xSPp8q74NAETGx7fpCHkBgwgHtJJbfdIBQ2Ei9iiS4Fg8HgwECBAIpSoj4KVspVh+KNAkISWq9gdCp655vAt6qxRINC8/20T9M/zI5/3sr5eevDsXTYoZDpVDe4LaAc3X7C+k/mRXV/V5vK5X/MCgvHUGw6tbfym3UZ9VRnJVEgkcSR3dZmtOt37p7dv6f/T6V/5QuVKCHLFJbd+mxP/FHcjQI+/uXECJ7zhGKxohM9ZXlY1KlYdgNDNEOUMYLMaFMiPhVqvdmtZbF0KohuyOtfX+j/+n/xVc7/7fut6xwOQ9a6vx5ougb49A6BJJiQoymSK5RLTnwaC0KFVw9GzUl1d/2ZWq5kZlbpVkQ4EZ1WpHor+uT365V/7vT//+5Rkao9yt1FEAeY+EEBoWIAk4pQJATkOBZhRAQuSIZBzCXDoq+3/8Y3/2M/FBCAObWqHRAAtBiifAQCA1BRpVb52s2S5LI2Dq/8pdzkc9Eo10eK9QbhdwiNCt85vHP1ouZJ3FHtp77tE/0fZHon7N6oJwACADvQx9SohjjDiuogvjxhWFb55pURta2RhcxRyGZ73J0P0VvoiQ4ZlVaNv1djz1ZmtRGX9aKt2/33+1vszag1xXTcAbOWQBd6nCJkAAAwE50ngeCHKFx4NgkajxyDQGDg8gbAB82lgNsldzF0/I1VXDWjZv6losVd/pjqv+mkYxQAgLAqKmFTMqgPTSAlvGL6vsVEwoP4QoNGxYoxifXxK5OK3E9Raod2Xk6CZV263XWvqrscMz9Fa3b0ATfVXh3tQen8E8aMctpDNFg+tKkvaxhtKRI5UCFQOo+ei5Y3ApV5GBuyyL3V5hL1tIrGwRIlHhIqrvQBtZxSWLjrVaqwMSGQ1hqCNaJDGiFH/+5RkhwBSYU3DQUYS4DThKHsAIgQHeGkNgIhqgQQJ4NQAjCJAlFF/+Pt02b8lSSXzdgtLH4ihpv64/LHJp/ekvx66X+Hd5lMVFew/KbF2/CeuO7/xf903H92Cr0eRG0lKHlls5APGEG0b1MrTN/Pxtf92++3b1/ZC7yOuo1L/fUJr99PmOau1+DczWWohH8L0eh/nWTbo8/OvyZ/ccZuEf/+Rn/l/L/M//+ZEqKpH+ZFToqJ+iqi+i/yoi+ip9yhgYMh27OZUWpgoIEd1ITFaxUllRQWcDAaskNCYwCgJAlEQaBsJgsBQSlREGgbCYLBUBAUSiINB2dKnUZK3kSJ1948Y9LNCn/I9c763Wf1AVct8rUxBTUUzLjk5LjVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+5REtg5yOQ+/ACAYIkLiWBAEIy5G6UjKQIBcAPWAH5ARjShVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVACCU025+ZGfywyOy3//ksyP+XMmstIyNWCggQNHI1ls////WWRyMmVgYME6GTLJZ///2WWxyNWWSoZGrWyzL/9WVqCBOhkyhgYMI6GrBQUqFpoVFP9bDILCzOLiv/rFRYk//qF+LCrDKm/4o2sVFtbP6hdmLCsyoXUxBTUUzLjk5LjVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+5Rkjg/ygl8ruCAaQiiABWAAAAAAAAGkAAAAIAAANIAAAARVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUxBTUUzLjk5LjVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+5RkUY/wAABpAAAACAAADSAAAAEAAAGkAAAAIAAANIAAAARVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUxBTUUzLjk5LjVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+5RkUY/wAABpAAAACAAADSAAAAEAAAGkAAAAIAAANIAAAARVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUxBTUUzLjk5LjVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+5RkUY/wAABpAAAACAAADSAAAAEAAAGkAAAAIAAANIAAAARVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUxBTUUzLjk5LjVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+5RkUY/wAABpAAAACAAADSAAAAEAAAGkAAAAIAAANIAAAARVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUxBTUUzLjk5LjVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+5RkUY/wAABpAAAACAAADSAAAAEAAAGkAAAAIAAANIAAAARVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUxBTUUzLjk5LjVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+5RkUY/wAABpAAAACAAADSAAAAEAAAGkAAAAIAAANIAAAARVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUxBTUUzLjk5LjVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+5RkUY/wAABpAAAACAAADSAAAAEAAAGkAAAAIAAANIAAAARVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUxBTUUzLjk5LjVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+5RkUY/wAABpAAAACAAADSAAAAEAAAGkAAAAIAAANIAAAARVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUxBTUUzLjk5LjVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+5RkUY/wAABpAAAACAAADSAAAAEAAAGkAAAAIAAANIAAAARVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUxBTUUzLjk5LjVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+5RkUY/wAABpAAAACAAADSAAAAEAAAGkAAAAIAAANIAAAARVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUxBTUUzLjk5LjVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+5RkUY/wAABpAAAACAAADSAAAAEAAAGkAAAAIAAANIAAAARVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUxBTUUzLjk5LjVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+5RkUY/wAABpAAAACAAADSAAAAEAAAGkAAAAIAAANIAAAARVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUxBTUUzLjk5LjVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+5RkUY/wAABpAAAACAAADSAAAAEAAAGkAAAAIAAANIAAAARVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVU="}},function(e,t){}],a.c=i,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:n})},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="",a(a.s=3))},function(e,t){e.exports=d},function(e,t){e.exports=h},function(e,t){e.exports=V},function(e,t){e.exports=m},function(e,t){e.exports=y},function(e,t){e.exports=v},function(e,t){e.exports=g},function(e,t){e.exports=b},function(e,t,n){var r,o,i,a,l,s;function c(e){if(s[e])return s[e].exports;var t=s[e]={exports:{},id:e,loaded:!1};return l[e].call(t.exports,t,t.exports,c),t.loaded=!0,t.exports}e.exports=(r=n(26),o=n(0),i=n(29),a=n(30),s={},c.m=l=[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=wl(t)&&"function"!=typeof t?e:t}Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},a=function(e,t,n){return t&&d(e.prototype,t),n&&d(e,n),e},l=r(n(1)),s=n(2),c=r(s),u=r(n(3)),p=r(n(4));function f(){var e,o;!function(e){if(!(e instanceof f))throw new TypeError("Cannot call a class as a function")}(this);for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];return e=o=i(this,(e=f.__proto__||Object.getPrototypeOf(f)).call.apply(e,[this].concat(n))),o._sigPad=null,o._excludeOurProps=function(){var e=o.props;return e.canvasProps,e.clearOnResize,function(e,t){var n,r={};for(n in e)0<=t.indexOf(n)||Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n]);return r}(e,["canvasProps","clearOnResize"])},o.getCanvas=function(){return o._canvas},o.getTrimmedCanvas=function(){var e=document.createElement("canvas");return e.width=o._canvas.width,e.height=o._canvas.height,e.getContext("2d").drawImage(o._canvas,0,0),(0,p.default)(e)},o.getSignaturePad=function(){return o._sigPad},o._checkClearOnResize=function(){o.props.clearOnResize&&o._resizeCanvas()},o._resizeCanvas=function(){var e,t=o.props.canvasProps||{},n=t.width,r=t.height;n&&r||(e=o._canvas,t=Math.max(window.devicePixelRatio||1,1),n||(e.width=e.offsetWidth*t),r||(e.height=e.offsetHeight*t),e.getContext("2d").scale(t,t),o.clear())},o.on=function(){return window.addEventListener("resize",o._checkClearOnResize),o._sigPad.on()},o.off=function(){return window.removeEventListener("resize",o._checkClearOnResize),o._sigPad.off()},o.clear=function(){return o._sigPad.clear()},o.isEmpty=function(){return o._sigPad.isEmpty()},o.fromDataURL=function(e,t){return o._sigPad.fromDataURL(e,t)},o.toDataURL=function(e,t){return o._sigPad.toDataURL(e,t)},o.fromData=function(e){return o._sigPad.fromData(e)},o.toData=function(){return o._sigPad.toData()},i(o,e)}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(a=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+wl(t));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(f,s.Component),a(f,[{key:"componentDidMount",value:function(){this._sigPad=new u.default(this._canvas,this._excludeOurProps()),this._resizeCanvas(),this.on()}},{key:"componentWillUnmount",value:function(){this.off()}},{key:"componentDidUpdate",value:function(){Object.assign(this._sigPad,this._excludeOurProps())}},{key:"render",value:function(){var t=this,e=this.props.canvasProps;return c.default.createElement("canvas",o({ref:function(e){t._canvas=e}},e))}}]),f)).propTypes={velocityFilterWeight:l.default.number,minWidth:l.default.number,maxWidth:l.default.number,minDistance:l.default.number,dotSize:l.default.oneOfType([l.default.number,l.default.func]),penColor:l.default.string,throttle:l.default.number,onEnd:l.default.func,onBegin:l.default.func,canvasProps:l.default.object,clearOnResize:l.default.bool},a.defaultProps={clearOnResize:!0},t.default=a},function(e,t){e.exports=r},function(e,t){e.exports=o},function(e,t){e.exports=i},function(e,t){e.exports=a}],c.c=s,c.p="",c(0))},function(e,t,n){"use strict";n.r(t),n.d(t,"Headers",function(){return u}),n.d(t,"Request",function(){return y}),n.d(t,"Response",function(){return g}),n.d(t,"DOMException",function(){return w}),n.d(t,"fetch",function(){return O});var r,o,l="undefined"!=typeof globalThis&&globalThis||"undefined"!=typeof self&&self||void 0!==l&&l,s={searchParams:"URLSearchParams"in l,iterable:"Symbol"in l&&"iterator"in Symbol,blob:"FileReader"in l&&"Blob"in l&&function(){try{return new Blob,!0}catch(e){return!1}}(),formData:"FormData"in l,arrayBuffer:"ArrayBuffer"in l};function i(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(e)||""===e)throw new TypeError('Invalid character in header field name: "'+e+'"');return e.toLowerCase()}function c(e){return"string"!=typeof e?String(e):e}function a(t){var e={next:function(){var e=t.shift();return{done:void 0===e,value:e}}};return s.iterable&&(e[Symbol.iterator]=function(){return e}),e}function u(t){this.map={},t instanceof u?t.forEach(function(e,t){this.append(t,e)},this):Array.isArray(t)?t.forEach(function(e){this.append(e[0],e[1])},this):t&&Object.getOwnPropertyNames(t).forEach(function(e){this.append(e,t[e])},this)}function p(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function f(n){return new Promise(function(e,t){n.onload=function(){e(n.result)},n.onerror=function(){t(n.error)}})}function d(e){var t=new FileReader,n=f(t);return t.readAsArrayBuffer(e),n}function h(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function V(){return this.bodyUsed=!1,this._initBody=function(e){this.bodyUsed=this.bodyUsed,(this._bodyInit=e)?"string"==typeof e?this._bodyText=e:s.blob&&Blob.prototype.isPrototypeOf(e)?this._bodyBlob=e:s.formData&&FormData.prototype.isPrototypeOf(e)?this._bodyFormData=e:s.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)?this._bodyText=e.toString():s.arrayBuffer&&s.blob&&e&&DataView.prototype.isPrototypeOf(e)?(this._bodyArrayBuffer=h(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):s.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(e)||o(e))?this._bodyArrayBuffer=h(e):this._bodyText=e=Object.prototype.toString.call(e):this._bodyText="",this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):s.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},s.blob&&(this.blob=function(){var e=p(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){if(this._bodyArrayBuffer){var e=p(this);return e||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}return this.blob().then(d)}),this.text=function(){var e,t,n=p(this);if(n)return n;if(this._bodyBlob)return e=this._bodyBlob,n=f(t=new FileReader),t.readAsText(e),n;if(this._bodyArrayBuffer)return Promise.resolve(function(e){for(var t=new Uint8Array(e),n=new Array(t.length),r=0;r<t.length;r++)n[r]=String.fromCharCode(t[r]);return n.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},s.formData&&(this.formData=function(){return this.text().then(v)}),this.json=function(){return this.text().then(JSON.parse)},this}s.arrayBuffer&&(r=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],o=ArrayBuffer.isView||function(e){return e&&-1<r.indexOf(Object.prototype.toString.call(e))}),u.prototype.append=function(e,t){e=i(e),t=c(t);var n=this.map[e];this.map[e]=n?n+", "+t:t},u.prototype.delete=function(e){delete this.map[i(e)]},u.prototype.get=function(e){return e=i(e),this.has(e)?this.map[e]:null},u.prototype.has=function(e){return this.map.hasOwnProperty(i(e))},u.prototype.set=function(e,t){this.map[i(e)]=c(t)},u.prototype.forEach=function(e,t){for(var n in this.map)this.map.hasOwnProperty(n)&&e.call(t,this.map[n],n,this)},u.prototype.keys=function(){var n=[];return this.forEach(function(e,t){n.push(t)}),a(n)},u.prototype.values=function(){var t=[];return this.forEach(function(e){t.push(e)}),a(t)},u.prototype.entries=function(){var n=[];return this.forEach(function(e,t){n.push([t,e])}),a(n)},s.iterable&&(u.prototype[Symbol.iterator]=u.prototype.entries);var m=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function y(e,t){if(!(this instanceof y))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');var n,r=(t=t||{}).body;if(e instanceof y){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new u(e.headers)),this.method=e.method,this.mode=e.mode,this.signal=e.signal,r||null==e._bodyInit||(r=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"same-origin",!t.headers&&this.headers||(this.headers=new u(t.headers)),this.method=(e=(n=t.method||this.method||"GET").toUpperCase(),-1<m.indexOf(e)?e:n),this.mode=t.mode||this.mode||null,this.signal=t.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&r)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(r),"GET"!==this.method&&"HEAD"!==this.method||"no-store"!==t.cache&&"no-cache"!==t.cache||((t=/([?&])_=[^&]*/).test(this.url)?this.url=this.url.replace(t,"$1_="+(new Date).getTime()):this.url+=(/\?/.test(this.url)?"&":"?")+"_="+(new Date).getTime())}function v(e){var n=new FormData;return e.trim().split("&").forEach(function(e){var t;e&&(e=(t=e.split("=")).shift().replace(/\+/g," "),t=t.join("=").replace(/\+/g," "),n.append(decodeURIComponent(e),decodeURIComponent(t)))}),n}function g(e,t){if(!(this instanceof g))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');t=t||{},this.type="default",this.status=void 0===t.status?200:t.status,this.ok=200<=this.status&&this.status<300,this.statusText=void 0===t.statusText?"":""+t.statusText,this.headers=new u(t.headers),this.url=t.url||"",this._initBody(e)}y.prototype.clone=function(){return new y(this,{body:this._bodyInit})},V.call(y.prototype),V.call(g.prototype),g.prototype.clone=function(){return new g(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new u(this.headers),url:this.url})},g.error=function(){var e=new g(null,{status:0,statusText:""});return e.type="error",e};var b=[301,302,303,307,308];g.redirect=function(e,t){if(-1===b.indexOf(t))throw new RangeError("Invalid status code");return new g(null,{status:t,headers:{location:e}})};var w=l.DOMException;try{new w}catch(e){(w=function(e,t){this.message=e,this.name=t,e=Error(e),this.stack=e.stack}).prototype=Object.create(Error.prototype),w.prototype.constructor=w}function O(r,a){return new Promise(function(o,e){var t=new y(r,a);if(t.signal&&t.signal.aborted)return e(new w("Aborted","AbortError"));var i=new XMLHttpRequest;function n(){i.abort()}i.onload=function(){var e,n,t={status:i.status,statusText:i.statusText,headers:(e=i.getAllResponseHeaders()||"",n=new u,e.replace(/\r?\n[\t ]+/g," ").split("\r").map(function(e){return 0===e.indexOf("\n")?e.substr(1,e.length):e}).forEach(function(e){var t=e.split(":");(e=t.shift().trim())&&(t=t.join(":").trim(),n.append(e,t))}),n)};t.url="responseURL"in i?i.responseURL:t.headers.get("X-Request-URL");var r="response"in i?i.response:i.responseText;setTimeout(function(){o(new g(r,t))},0)},i.onerror=function(){setTimeout(function(){e(new TypeError("Network request failed"))},0)},i.ontimeout=function(){setTimeout(function(){e(new TypeError("Network request failed"))},0)},i.onabort=function(){setTimeout(function(){e(new w("Aborted","AbortError"))},0)},i.open(t.method,function(t){try{return""===t&&l.location.href?l.location.href:t}catch(e){return t}}(t.url),!0),"include"===t.credentials?i.withCredentials=!0:"omit"===t.credentials&&(i.withCredentials=!1),"responseType"in i&&(s.blob?i.responseType="blob":s.arrayBuffer&&t.headers.get("Content-Type")&&-1!==t.headers.get("Content-Type").indexOf("application/octet-stream")&&(i.responseType="arraybuffer")),!a||"object"!=wl(a.headers)||a.headers instanceof u?t.headers.forEach(function(e,t){i.setRequestHeader(t,e)}):Object.getOwnPropertyNames(a.headers).forEach(function(e){i.setRequestHeader(e,c(a.headers[e]))}),t.signal&&(t.signal.addEventListener("abort",n),i.onreadystatechange=function(){4===i.readyState&&t.signal.removeEventListener("abort",n)}),i.send(void 0===t._bodyInit?null:t._bodyInit)})}O.polyfill=!0,l.fetch||(l.fetch=O,l.Headers=u,l.Request=y,l.Response=g)},function(t,n,r){!function(m){var e;void 0===(e="function"==typeof(e=function(){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function e(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e}function i(e){return(i=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function t(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}function l(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function s(n){var r=t();return function(){var e,t=i(n);return e=r?(e=i(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),t=this,!(e=e)||"object"!==wl(e)&&"function"!=typeof e?l(t):e}}function c(e,t,n){return(c="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){e=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=i(e)););return e}(e,t);if(e){t=Object.getOwnPropertyDescriptor(e,t);return t.get?t.get.call(n):t.value}})(e,t,n||e)}var n,u,p=(e(V,[{key:"addEventListener",value:function(e,t){e in this.listeners||(this.listeners[e]=[]),this.listeners[e].push(t)}},{key:"removeEventListener",value:function(e,t){if(e in this.listeners)for(var n=this.listeners[e],r=0,o=n.length;r<o;r++)if(n[r]===t)return void n.splice(r,1)}},{key:"dispatchEvent",value:function(t){var n=this;if(t.type in this.listeners){for(var e=this.listeners[t.type],r=0,o=e.length;r<o;r++)!function(e){setTimeout(function(){return e.call(n,t)})}(e[r]);return!t.defaultPrevented}}}]),V),f=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(n,p);var t=s(n);function n(){var e;return r(this,n),(e=t.call(this)).listeners||p.call(l(e)),Object.defineProperty(l(e),"aborted",{value:!1,writable:!0,configurable:!0}),Object.defineProperty(l(e),"onabort",{value:null,writable:!0,configurable:!0}),e}return e(n,[{key:"toString",value:function(){return"[object AbortSignal]"}},{key:"dispatchEvent",value:function(e){"abort"===e.type&&(this.aborted=!0,"function"==typeof this.onabort&&this.onabort.call(this,e)),c(i(n.prototype),"dispatchEvent",this).call(this,e)}}]),n}(),d=(e(h,[{key:"abort",value:function(){var t;try{t=new Event("abort")}catch(e){"undefined"!=typeof document?document.createEvent?(t=document.createEvent("Event")).initEvent("abort",!1,!1):(t=document.createEventObject()).type="abort":t={type:"abort",bubbles:!1,cancelable:!1}}this.signal.dispatchEvent(t)}},{key:"toString",value:function(){return"[object AbortController]"}}]),h);function h(){r(this,h),Object.defineProperty(this,"signal",{value:new f,writable:!0,configurable:!0})}function V(){r(this,V),Object.defineProperty(this,"listeners",{value:{},writable:!0,configurable:!0})}"undefined"!=typeof Symbol&&Symbol.toStringTag&&(d.prototype[Symbol.toStringTag]="AbortController",f.prototype[Symbol.toStringTag]="AbortSignal"),n="undefined"!=typeof self?self:m,((u=n).__FORCE_INSTALL_ABORTCONTROLLER_POLYFILL?(console.log("__FORCE_INSTALL_ABORTCONTROLLER_POLYFILL=true is set, will force install polyfill"),1):"function"==typeof u.Request&&!u.Request.prototype.hasOwnProperty("signal")||!u.AbortController)&&(n.AbortController=d,n.AbortSignal=f)})?e.call(n,r,n,t):e)||(t.exports=e)}.call(this,r(25))},function(e,t){var n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==("undefined"==typeof window?"undefined":wl(window))&&(n=window)}e.exports=n},function(e,t,n){e.exports=n(27)()},function(e,t,n){"use strict";var a=n(28);function r(){}function o(){}o.resetWarningCache=r,e.exports=function(){function e(e,t,n,r,o,i){if(i!==a)throw(i=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types")).name="Invariant Violation",i}function t(){return e}var n={array:e.isRequired=e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:o,resetWarningCache:r};return n.PropTypes=n}},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t,n){"use strict";
/*!
     * Signature Pad v2.3.2
     * https://github.com/szimek/signature_pad
     *
     * Copyright 2017 Szymon Nowak
     * Released under the MIT license
     *
     * The main idea and some parts of the code (e.g. drawing variable width Bzier curve) are taken from:
     * http://corner.squareup.com/2012/07/smoother-signatures.html
     *
     * Implementation of interpolation using cubic Bzier curves is taken from:
     * http://benknowscode.wordpress.com/2012/09/14/path-interpolation-using-cubic-bezier-and-control-point-estimation-in-javascript
     *
     * Algorithm for approximated length of a Bzier curve is taken from:
     * http://www.lemoda.net/maths/bezier-length/index.html
     *
     */function c(e,t,n){this.x=e,this.y=t,this.time=n||(new Date).getTime()}function r(e,t,n,r){this.startPoint=e,this.control1=t,this.control2=n,this.endPoint=r}function f(e,t){var n,r,o,i,a,l,s,c,u=this;function p(){c=!1===o.leading?0:Date.now(),s=null,l=n.apply(i,a),s||(i=a=null)}this.velocityFilterWeight=(t=t||{}).velocityFilterWeight||.7,this.minWidth=t.minWidth||.5,this.maxWidth=t.maxWidth||2.5,this.throttle="throttle"in t?t.throttle:16,this.minDistance="minDistance"in t?t.minDistance:5,this.throttle?this._strokeMoveUpdate=(n=f.prototype._strokeUpdate,r=this.throttle,s=null,c=0,o={},function(){var e=Date.now(),t=r-(e-(c=!c&&!1===o.leading?e:c));return i=this,a=arguments,t<=0||r<t?(s&&(clearTimeout(s),s=null),c=e,l=n.apply(i,a),s||(i=a=null)):s||!1===o.trailing||(s=setTimeout(p,t)),l}):this._strokeMoveUpdate=f.prototype._strokeUpdate,this.dotSize=t.dotSize||function(){return(this.minWidth+this.maxWidth)/2},this.penColor=t.penColor||"black",this.backgroundColor=t.backgroundColor||"rgba(0,0,0,0)",this.onBegin=t.onBegin,this.onEnd=t.onEnd,this._canvas=e,this._ctx=e.getContext("2d"),this.clear(),this._handleMouseDown=function(e){1===e.which&&(u._mouseButtonDown=!0,u._strokeBegin(e))},this._handleMouseMove=function(e){u._mouseButtonDown&&u._strokeMoveUpdate(e)},this._handleMouseUp=function(e){1===e.which&&u._mouseButtonDown&&(u._mouseButtonDown=!1,u._strokeEnd(e))},this._handleTouchStart=function(e){1===e.targetTouches.length&&(e=e.changedTouches[0],u._strokeBegin(e))},this._handleTouchMove=function(e){e.preventDefault(),e=e.targetTouches[0],u._strokeMoveUpdate(e)},this._handleTouchEnd=function(e){e.target===u._canvas&&(e.preventDefault(),u._strokeEnd(e))},this.on()}n.r(t),c.prototype.velocityFrom=function(e){return this.time!==e.time?this.distanceTo(e)/(this.time-e.time):1},c.prototype.distanceTo=function(e){return Math.sqrt(Math.pow(this.x-e.x,2)+Math.pow(this.y-e.y,2))},c.prototype.equals=function(e){return this.x===e.x&&this.y===e.y&&this.time===e.time},r.prototype.length=function(){for(var e=0,t=void 0,n=void 0,r=0;r<=10;r+=1){var o,i=r/10,a=this._point(i,this.startPoint.x,this.control1.x,this.control2.x,this.endPoint.x),l=this._point(i,this.startPoint.y,this.control1.y,this.control2.y,this.endPoint.y);0<r&&(o=a-t,i=l-n,e+=Math.sqrt(o*o+i*i)),t=a,n=l}return e},r.prototype._point=function(e,t,n,r,o){return t*(1-e)*(1-e)*(1-e)+3*n*(1-e)*(1-e)*e+3*r*(1-e)*e*e+o*e*e*e},f.prototype.clear=function(){var e=this._ctx,t=this._canvas;e.fillStyle=this.backgroundColor,e.clearRect(0,0,t.width,t.height),e.fillRect(0,0,t.width,t.height),this._data=[],this._reset(),this._isEmpty=!0},f.prototype.fromDataURL=function(e){var t=this,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},r=new Image,o=n.ratio||window.devicePixelRatio||1,i=n.width||this._canvas.width/o,a=n.height||this._canvas.height/o;this._reset(),r.src=e,r.onload=function(){t._ctx.drawImage(r,0,0,i,a)},this._isEmpty=!1},f.prototype.toDataURL=function(e){var t;if("image/svg+xml"===e)return this._toSVG();for(var n=arguments.length,r=Array(1<n?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return(t=this._canvas).toDataURL.apply(t,[e].concat(r))},f.prototype.on=function(){this._handleMouseEvents(),this._handleTouchEvents()},f.prototype.off=function(){this._canvas.removeEventListener("mousedown",this._handleMouseDown),this._canvas.removeEventListener("mousemove",this._handleMouseMove),document.removeEventListener("mouseup",this._handleMouseUp),this._canvas.removeEventListener("touchstart",this._handleTouchStart),this._canvas.removeEventListener("touchmove",this._handleTouchMove),this._canvas.removeEventListener("touchend",this._handleTouchEnd)},f.prototype.isEmpty=function(){return this._isEmpty},f.prototype._strokeBegin=function(e){this._data.push([]),this._reset(),this._strokeUpdate(e),"function"==typeof this.onBegin&&this.onBegin(e)},f.prototype._strokeUpdate=function(e){var t=e.clientX,n=e.clientY,e=this._createPoint(t,n),t=(n=(t=this._data[this._data.length-1])&&t[t.length-1])&&e.distanceTo(n)<this.minDistance;n&&t||(t=(n=this._addPoint(e)).curve,n=n.widths,t&&n&&this._drawCurve(t,n.start,n.end),this._data[this._data.length-1].push({x:e.x,y:e.y,time:e.time,color:this.penColor}))},f.prototype._strokeEnd=function(e){var t,n=2<this.points.length,r=this.points[0];!n&&r&&this._drawDot(r),r&&(n=(t=this._data[this._data.length-1])[t.length-1],r.equals(n)||t.push({x:r.x,y:r.y,time:r.time,color:this.penColor})),"function"==typeof this.onEnd&&this.onEnd(e)},f.prototype._handleMouseEvents=function(){this._mouseButtonDown=!1,this._canvas.addEventListener("mousedown",this._handleMouseDown),this._canvas.addEventListener("mousemove",this._handleMouseMove),document.addEventListener("mouseup",this._handleMouseUp)},f.prototype._handleTouchEvents=function(){this._canvas.style.msTouchAction="none",this._canvas.style.touchAction="none",this._canvas.addEventListener("touchstart",this._handleTouchStart),this._canvas.addEventListener("touchmove",this._handleTouchMove),this._canvas.addEventListener("touchend",this._handleTouchEnd)},f.prototype._reset=function(){this.points=[],this._lastVelocity=0,this._lastWidth=(this.minWidth+this.maxWidth)/2,this._ctx.fillStyle=this.penColor},f.prototype._createPoint=function(e,t,n){var r=this._canvas.getBoundingClientRect();return new c(e-r.left,t-r.top,n||(new Date).getTime())},f.prototype._addPoint=function(e){var t=this.points;if(t.push(e),2<t.length){3===t.length&&t.unshift(t[0]);var n=this._calculateCurveControlPoints(t[0],t[1],t[2]).c2,e=this._calculateCurveControlPoints(t[1],t[2],t[3]).c1,n=new r(t[1],n,e,t[2]),e=this._calculateCurveWidths(n);return t.shift(),{curve:n,widths:e}}return{}},f.prototype._calculateCurveControlPoints=function(e,t,n){var r=e.x-t.x,o=e.y-t.y,i=t.x-n.x,a=t.y-n.y,l=(e.x+t.x)/2,s=(e.y+t.y)/2,e=(t.x+n.x)/2,n=(t.y+n.y)/2,o=Math.sqrt(r*r+o*o),a=Math.sqrt(i*i+a*a);return{c1:new c(l+(a=t.x-(e+(l-e)*(o=a/(o+a)))),s+(o=t.y-(n+(s-n)*o))),c2:new c(e+a,n+o)}},f.prototype._calculateCurveWidths=function(e){var t=e.startPoint,n=e.endPoint,e={start:null,end:null},n=this.velocityFilterWeight*n.velocityFrom(t)+(1-this.velocityFilterWeight)*this._lastVelocity,t=this._strokeWidth(n);return e.start=this._lastWidth,e.end=t,this._lastVelocity=n,this._lastWidth=t,e},f.prototype._strokeWidth=function(e){return Math.max(this.maxWidth/(e+1),this.minWidth)},f.prototype._drawPoint=function(e,t,n){var r=this._ctx;r.moveTo(e,t),r.arc(e,t,n,0,2*Math.PI,!1),this._isEmpty=!1},f.prototype._drawCurve=function(e,t,n){var r=this._ctx,o=n-t,i=Math.floor(e.length());r.beginPath();for(var a=0;a<i;a+=1){var l=a/i,s=l*l,c=s*l,u=1-l,p=u*u,f=p*u,d=f*e.startPoint.x;d+=3*p*l*e.control1.x,d+=3*u*s*e.control2.x,d+=c*e.endPoint.x,f*=e.startPoint.y,f+=3*p*l*e.control1.y,f+=3*u*s*e.control2.y,f+=c*e.endPoint.y,this._drawPoint(d,f,t+c*o)}r.closePath(),r.fill()},f.prototype._drawDot=function(e){var t=this._ctx,n="function"==typeof this.dotSize?this.dotSize():this.dotSize;t.beginPath(),this._drawPoint(e.x,e.y,n),t.closePath(),t.fill()},f.prototype._fromData=function(e,t,n){for(var r=0;r<e.length;r+=1){var o=e[r];if(1<o.length)for(var i=0;i<o.length;i+=1){var a=o[i],l=new c(a.x,a.y,a.time),s=a.color;0===i?(this.penColor=s,this._reset(),this._addPoint(l)):i!==o.length-1&&(l=(a=this._addPoint(l)).curve,a=a.widths,l&&a&&t(l,a,s))}else this._reset(),n(o[0])}},f.prototype._toSVG=function(){var r=this,e=this._data,t=this._canvas,n=Math.max(window.devicePixelRatio||1,1),o=t.width/n,n=t.height/n,i=document.createElementNS("http://www.w3.org/2000/svg","svg");if(i.setAttributeNS(null,"width",t.width),i.setAttributeNS(null,"height",t.height),this._fromData(e,function(e,t,n){var r=document.createElement("path");isNaN(e.control1.x)||isNaN(e.control1.y)||isNaN(e.control2.x)||isNaN(e.control2.y)||(e="M "+e.startPoint.x.toFixed(3)+","+e.startPoint.y.toFixed(3)+" C "+e.control1.x.toFixed(3)+","+e.control1.y.toFixed(3)+" "+e.control2.x.toFixed(3)+","+e.control2.y.toFixed(3)+" "+e.endPoint.x.toFixed(3)+","+e.endPoint.y.toFixed(3),r.setAttribute("d",e),r.setAttribute("stroke-width",(2.25*t.end).toFixed(3)),r.setAttribute("stroke",n),r.setAttribute("fill","none"),r.setAttribute("stroke-linecap","round"),i.appendChild(r))},function(e){var t=document.createElement("circle"),n="function"==typeof r.dotSize?r.dotSize():r.dotSize;t.setAttribute("r",n),t.setAttribute("cx",e.x),t.setAttribute("cy",e.y),t.setAttribute("fill",e.color),i.appendChild(t)}),o='<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 '+o+" "+n+'" width="'+o+'" height="'+n+'">',void 0===(n=i.innerHTML)){var a=document.createElement("dummy"),l=i.childNodes;a.innerHTML="";for(var s=0;s<l.length;s+=1)a.appendChild(l[s].cloneNode(!0));n=a.innerHTML}return"data:image/svg+xml;base64,"+btoa(o+n+"</svg>")},f.prototype.fromData=function(e){var n=this;this.clear(),this._fromData(e,function(e,t){return n._drawCurve(e,t.start,t.end)},function(e){return n._drawDot(e)}),this._data=e},f.prototype.toData=function(){return this._data},t.default=f},function(e,t,n){function r(e){if(i[e])return i[e].exports;var t=i[e]={exports:{},id:e,loaded:!1};return o[e].call(t.exports,t,t.exports,r),t.loaded=!0,t.exports}var o,i;e.exports=(i={},r.m=o=[function(e,t){"use strict";function l(e,t,n,r){return r[4*(n*t+e)],r[4*(n*t+e)+1],r[4*(n*t+e)+2],r[4*(n*t+e)+3]}function s(e,t,n,r){for(var o=e?1:-1,i=e?0:n-1;e?i<n:-1<i;i+=o)for(var a=0;a<t;a++)if(l(a,i,t,r))return i;return null}function c(e,t,n,r){for(var o=e?1:-1,i=e?0:t-1;e?i<t:-1<i;i+=o)for(var a=0;a<n;a++)if(l(i,a,t,r))return i;return null}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.getContext("2d"),n=e.width,r=e.height,o=s(!0,n,r,l=t.getImageData(0,0,n,r).data),i=s(!1,n,r,l),a=c(!0,n,r,l),l=c(!1,n,r,l)-a+1,o=t.getImageData(a,o,l,i=i-o+1);return e.width=l,e.height=i,t.clearRect(0,0,l,i),t.putImageData(o,0,0),e}}],r.c=i,r.p="",r(0))},function(e,t,n){"use strict";n.r(t),n.d(t,"DWKitForm",function(){return hl}),n.d(t,"GridView",function(){return pn}),n.d(t,"CollectionEditor",function(){return Fe}),n.d(t,"BaseEditControl",function(){return bl}),n.d(t,"initDefaultState",function(){return Io.initDefaultState}),n.d(t,"initDefaultStateFormUrl",function(){}),n.d(t,"validate",function(){return Io.validate}),n.d(t,"checkConditions",function(){return Io.checkConditions});var c=n(0),z=n.n(c);function o(e){return(o="function"==typeof Symbol&&"symbol"==wl(Symbol.iterator)?function(e){return wl(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":wl(e)})(e)}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function u(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var f=n(8),l=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(s,c.Component);var n,r,l=(n=s,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=p(n),t=r?(t=p(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this;return!t||"object"!==o(t)&&"function"!=typeof t?u(e):t});function s(){var n;!function(e){if(!(e instanceof s))throw new TypeError("Cannot call a class as a function")}(this);for(var e,t,r,o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];return r=function(e,t){n.props.handleChange(n.props.row,e,t)},(t="handleChange")in(e=u(n=l.call.apply(l,[this].concat(i))))?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,n}return i(s.prototype,[{key:"shouldComponentUpdate",value:function(e){return!f(this.props,e)}}]),s}();function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var s=(r(h.prototype,[{key:"register",value:function(e,t){if(s.map[e])throw new Error("Component "+e+" already registered!");s.map[e]=t}},{key:"draw",value:function(e,t){var n=s.map[e];return n?n(t):(n=s.map["null-control"])({"data-buildertype":e,text:"".concat(e," is unsupported")})}}]),new h),d=s.register,W=s.draw;function h(){var e;!function(e){if(!(e instanceof h))throw new TypeError("Cannot call a class as a function")}(this),e={},"map"in this?Object.defineProperty(this,"map",{value:e,enumerable:!0,configurable:!0,writable:!0}):this.map=e}function V(e){return(V="function"==typeof Symbol&&"symbol"==wl(Symbol.iterator)?function(e){return wl(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":wl(e)})(e)}function m(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function y(e,t){return(y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function v(e){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var F=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&y(e,t)}(t,l);var n,r,e=(n=t,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=v(n),t=r?(t=v(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this;return!t||"object"!==V(t)&&"function"!=typeof t?function(){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}():t});function t(){return function(e){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),e.apply(this,arguments)}return m(t.prototype,[{key:"render",value:function(){return W("collection-checkbox",{me:this,props:this.props})}}]),t}();function g(e){return(g="function"==typeof Symbol&&"symbol"==wl(Symbol.iterator)?function(e){return wl(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":wl(e)})(e)}function b(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function w(e,t){return(w=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function O(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function C(e){return(C=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function k(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var N=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&w(e,t)}(i,c.Component);var n,r,o=(n=i,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=C(n),t=r?(t=C(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this;return!t||"object"!==g(t)&&"function"!=typeof t?O(e):t});function i(){var r;!function(e){if(!(e instanceof i))throw new TypeError("Cannot call a class as a function")}(this);for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return k(O(r=o.call.apply(o,[this].concat(t))),"handleEvent",function(e){e.parameters||(e.parameters={}),e.parameters.row||(e.parameters.row=r.props.row),"onChange"===e.eventName?r.props.handleChange(r.props.row,e.syntheticEvent,e):r.props.handleEvent(e)}),k(O(r),"getAdditionalDataForControl",function(e,t,n){return(t=t||{}).row||(t.row=r.props.row),r.props.getAdditionalDataForControl(e,t,n)}),r}return b(i.prototype,[{key:"render",value:function(){return W("collection-custom-control",{getAdditionalDataForControl:this.getAdditionalDataForControl,handleEvent:this.handleEvent,props:this.props})}}]),i}();function E(e){return(E="function"==typeof Symbol&&"symbol"==wl(Symbol.iterator)?function(e){return wl(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":wl(e)})(e)}function A(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function S(e,t){return(S=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _(e){return(_=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var I=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&S(e,t)}(t,l);var n,r,e=(n=t,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=_(n),t=r?(t=_(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this;return!t||"object"!==E(t)&&"function"!=typeof t?function(){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}():t});function t(){return function(e){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),e.apply(this,arguments)}return A(t.prototype,[{key:"render",value:function(){return W("collection-date-time",{me:this,props:this.props})}}]),t}();function x(e){return(x="function"==typeof Symbol&&"symbol"==wl(Symbol.iterator)?function(e){return wl(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":wl(e)})(e)}function P(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function j(e,t){return(j=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function R(e){return(R=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var L=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&j(e,t)}(t,l);var n,r,e=(n=t,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=R(n),t=r?(t=R(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this;return!t||"object"!==x(t)&&"function"!=typeof t?function(){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}():t});function t(){return function(e){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),e.apply(this,arguments)}return P(t.prototype,[{key:"render",value:function(){return W("collection-dropdown",{me:this,props:this.props})}}]),t}();function D(e){return(D="function"==typeof Symbol&&"symbol"==wl(Symbol.iterator)?function(e){return wl(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":wl(e)})(e)}function T(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function U(e,t){return(U=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function M(e){return(M=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var B=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&U(e,t)}(t,l);var n,r,e=(n=t,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=M(n),t=r?(t=M(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this;return!t||"object"!==D(t)&&"function"!=typeof t?function(){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}():t});function t(){return function(e){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),e.apply(this,arguments)}return T(t.prototype,[{key:"render",value:function(){return W("collection-input",{me:this,props:this.props})}}]),t}();function K(e){return(K="function"==typeof Symbol&&"symbol"==wl(Symbol.iterator)?function(e){return wl(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":wl(e)})(e)}function G(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function H(e,t){return(H=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function q(e){return(q=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Q=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&H(e,t)}(t,l);var n,r,e=(n=t,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=q(n),t=r?(t=q(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this;return!t||"object"!==K(t)&&"function"!=typeof t?function(){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}():t});function t(){return function(e){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),e.apply(this,arguments)}return G(t.prototype,[{key:"render",value:function(){return W("collection-upload",{me:this,props:this.props})}}]),t}();function J(e){return(J="function"==typeof Symbol&&"symbol"==wl(Symbol.iterator)?function(e){return wl(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":wl(e)})(e)}function Y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function X(e,t){return(X=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Z(e){return(Z=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var ee=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&X(e,t)}(t,l);var n,r,e=(n=t,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=Z(n),t=r?(t=Z(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this;return!t||"object"!==J(t)&&"function"!=typeof t?function(){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}():t});function t(){return function(e){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),e.apply(this,arguments)}return Y(t.prototype,[{key:"render",value:function(){return W("collection-camera",{me:this,props:this.props})}}]),t}();function te(e){return(te="function"==typeof Symbol&&"symbol"==wl(Symbol.iterator)?function(e){return wl(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":wl(e)})(e)}function ne(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function re(e,t){return(re=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function oe(e){return(oe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var ie=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&re(e,t)}(t,l);var n,r,e=(n=t,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=oe(n),t=r?(t=oe(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this;return!t||"object"!==te(t)&&"function"!=typeof t?function(){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}():t});function t(){return function(e){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),e.apply(this,arguments)}return ne(t.prototype,[{key:"render",value:function(){return W("collection-signature",{me:this,props:this.props})}}]),t}();function ae(e){return(ae="function"==typeof Symbol&&"symbol"==wl(Symbol.iterator)?function(e){return wl(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":wl(e)})(e)}function le(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function se(e,t){return(se=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ce(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ue(e){return(ue=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function pe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var fe=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&se(e,t)}(i,c.Component);var n,r,o=(n=i,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=ue(n),t=r?(t=ue(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this;return!t||"object"!==ae(t)&&"function"!=typeof t?ce(e):t});function i(){var r;!function(e){if(!(e instanceof i))throw new TypeError("Cannot call a class as a function")}(this);for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return pe(ce(r=o.call.apply(o,[this].concat(t))),"onUpload",function(e,t){var n=ce(r),e={name:e.name,token:t.result.properties.Token,success:t.success,properties:t.result.properties};t.success?n.props.onChange&&n.props.onChange(null,{name:n.props.name,propertyName:n.props.propertyName,value:t.result.properties.Token,parameters:e}):n.props.onUploadFail&&n.props.onUploadFail(null,{name:n.props.name,propertyName:n.props.propertyName,message:t.result.message,details:t.result.details,success:!1})}),pe(ce(r),"onClear",function(e){var t=ce(r);t.props.onChange&&t.props.onChange(null,{name:t.props.name,propertyName:t.props.propertyName,value:null})}),r}return le(i.prototype,[{key:"render",value:function(){var e=this.onClear,t=this.onUpload;return W("camera",{handleChange:this.handleChange,me:this,onClear:e,onUpload:t,props:this.props,state:this.state})}}]),i}();function de(e){return void 0===e}function he(e){return!de(e)&&null!==e}function Ve(e){return he(e)&&""!==e}function me(e){return(me="function"==typeof Symbol&&"symbol"==wl(Symbol.iterator)?function(e){return wl(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":wl(e)})(e)}function ye(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ve(e,t){return(ve=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ge(e){return(ge=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var be=n(8),we=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ve(e,t)}(o,c.Component);var n,r,t=(n=o,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=ge(n),t=r?(t=ge(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this;return!t||"object"!==me(t)&&"function"!=typeof t?function(){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}():t});function o(e){return function(e){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this),(e=t.call(this,e)).state={},e}return ye(o.prototype,[{key:"componentDidMount",value:function(){this.redrawChart()}},{key:"shouldComponentUpdate",value:function(e){return!be(this.props,e)}},{key:"componentDidUpdate",value:function(){this.redrawChart()}},{key:"componentWillUnmount",value:function(){he(this.state.chart)&&this.state.chart.destroy()}},{key:"redrawChart",value:function(){return W("chart-view-redraw-chart",{chartData:this.getChartData(),divId:this.getDivId(),props:this.props,state:this.state})}},{key:"getDivId",value:function(){return"dwkit-chart-"+this.props.name}},{key:"getChartData",value:function(){var e=[];try{e="string"==typeof this.props.value?JSON.parse(this.props.value):this.props.value}catch(e){console.log("Can't parse to JSON",this.props.value,this)}if(this.props.datasetCustom){var t=[];return{labels:t=he(this.props.dataLabels)?this.props.dataLabels.split(","):t,datasets:[{label:this.props.datasetLabel,steppedLine:this.props.datasetSteppedLine,borderColor:this.props.datasetBorderColor,backgroundColor:this.props.datasetBackgroundColor,fill:this.props.datasetFill,borderWidth:this.props.datasetBorderWidth,data:e}]}}return this.copyObj(e)}},{key:"copyObj",value:function(e){if(null==e||"object"!=me(e))return e;var t,n=e.constructor();for(t in e)e.hasOwnProperty(t)&&(n[t]=this.copyObj(e[t]));return n}},{key:"render",value:function(){return W("chart-view",{divId:this.getDivId(),props:this.props,state:this.state})}}]),o}(),Oe=n(2),Ce=n.n(Oe),ke=n(9),Ee=n.n(ke);function Ae(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function Se(e){return(Se="function"==typeof Symbol&&"symbol"==wl(Symbol.iterator)?function(e){return wl(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":wl(e)})(e)}function _e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function xe(e,t){return(xe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Pe(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function je(e){return(je=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Re(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var De=n(8),Te=n(10),Fe=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&xe(e,t)}(i,c.Component);var e,t,n,r,o=(n=i,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=je(n),t=r?(t=je(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this;return!t||"object"!==Se(t)&&"function"!=typeof t?Pe(e):t});function i(e){var u;return function(e){if(!(e instanceof i))throw new TypeError("Cannot call a class as a function")}(this),Re(Pe(u=o.call(this,e)),"btnAdd",function(){var e=de(u.props.defaultrow)?{}:u.props.defaultrow;e.__id="CLIENT_"+Ee.a.v1(),u.fillDefaultValues(e,u.props.columns,u.props.placeholders),u.state.data.push(e),u.props.handleEvent&&u.props.handleEvent({key:u.props.name,propertyName:u.props.propertyName,eventName:"onAdd",parameters:{rowIdx:u.state.data.length-1,row:e}}),u.sendChangesToParent()}),Re(Pe(u),"handleChange",function(e,t,n){var r=n.name,o=n.propertyName,i=n.value,a=n.checked,l=n.additionalValues;if(u.props.handleEvent||u.props.onChange){var s=o||r;if(de(i)&&he(a)?e[s]=a:e[s]=i,"object"==Se(l))for(var c in l)e[s+"_"+c]=l[c];u.sendChangesToParent(),t&&t.preventDefault?t.preventDefault():u.forceUpdate()}}),u.state={expanded:{},data:[]},u}return t=[{key:"getDerivedStateFromProps",value:function(e,t){var n=null;return De(t.originalValue,e.value)||((n={}).originalValue=Te(e.value),e=null==e.value?[]:e.value,Array.isArray(e)?(n.data=Te(e),n.stringmode=!1):(n.data=e.length?Ce.a.parse(e):[],n.stringmode=!0)),n}}],_e((e=i).prototype,[{key:"applyCollapseAll",value:function(e){for(var t in e)de(this.state.expanded[t])&&(this.state.expanded[t]=!1)}},{key:"getFilteredItems",value:function(e,t){return void 0===e?[]:void 0!==t?e.filter(function(e){return t.IsRowMatched(e)}):e}},{key:"btnDelete",value:function(e,t){var n;(this.props.handleEvent||this.props.onChange)&&(n=(t=void 0===t?this.state.data:t)[e],t.splice(e,1),this.props.handleEvent&&this.props.handleEvent({key:this.props.name,propertyName:this.props.propertyName,eventName:"onDelete",parameters:{rowIdx:e,row:n}}),this.sendChangesToParent())}},{key:"btnAddChild",value:function(e,t){var n=(t=void 0===t?de(this.state.data)?[]:this.state.data:t)[e];(e=de(this.props.defaultrow)?{}:function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Ae(Object(n),!0).forEach(function(e){Re(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ae(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}({},this.props.defaultrow)).__id="CLIENT_"+Ee.a.v1(),this.fillDefaultValues(e,this.props.columns,this.props.placeholders),this.props.parentIdField?(e[this.props.parentIdField]=n[this.props.idField]||n.__id,t.push(e)):(Array.isArray(n[this.props.childrenField])||(n[this.props.childrenField]=[]),n[this.props.childrenField].push(e)),this.props.handleEvent&&this.props.handleEvent({key:this.props.name,propertyName:this.props.propertyName,eventName:"onAddChild",parameters:{rowIdx:t.length-1,row:e}}),this.sendChangesToParent()}},{key:"fillDefaultValues",value:function(e,t,n){if(t&&n)for(var r=0;r<t.length;r++){var o=void 0,i=n[o="object"===Se(t[r])?t[r].key:t[r]];Array.isArray(i)&&0<i.length&&(i=i[0])&&(i.propertyName&&(o=i.propertyName),i.defaultValue&&(e[o]=i.defaultValue))}}},{key:"copyForParentId",value:function(t,n,e){var r=this,o=Te(n);return o.__id="CLIENT_"+Ee.a.v1(),delete o[this.props.idField],o[this.props.parentIdField]=e,t.filter(function(e){return e[r.props.parentIdField]===(n[r.props.idField]||n.__id)}).forEach(function(e){return r.copyForParentId(t,e,o.__id)}),t.push(o),o}},{key:"resetIdsRecursive",value:function(e){var t=this;e.__id="CLIENT_"+Ee.a.v1(),delete e[this.props.idField],Array.isArray(e[this.props.childrenField])&&e[this.props.childrenField].forEach(function(e){return t.resetIdsRecursive(e)})}},{key:"btnCopy",value:function(e,t){var n,e=(t=t||this.state.data)[e];this.props.parentIdField&&e.hasOwnProperty(this.props.parentIdField)?n=this.copyForParentId(t,e,e[this.props.parentIdField]):(n=Te(e),this.resetIdsRecursive(n),t.push(n)),this.props.handleEvent&&this.props.handleEvent({key:this.props.name,propertyName:this.props.propertyName,eventName:"onCopy",parameters:{rowIdx:t.length-1,row:n}}),this.sendChangesToParent()}},{key:"onExpand",value:function(e,t){this.state.expanded[e]=t,this.forceUpdate()}},{key:"onDragOver",value:function(e){e.preventDefault()}},{key:"onDragStart",value:function(e,t,n){n.dataTransfer.setData("index",e);var r=n.target;(r=(r=r&&r.parentElement)&&r.parentElement)&&n.dataTransfer.setDragImage($(n.target).parent().parent()[0],0,0),this.state.dragElementIndex=e,this.state.dragRows=t}},{key:"onDragEnd",value:function(e,t){this.state.dragElementIndex=void 0,this.state.dragRows=void 0}},{key:"onDrop",value:function(e,t,n){var r=this.state.dragElementIndex,o=this.state.dragRows,e=e,t=t;return he(r)&&(e!==r&&(void 0!==this.props.parentIdField&&""!==this.props.parentIdField&&(o[r][this.props.parentIdField]=t[e][this.props.parentIdField]),t.splice(e,0,o.splice(r,1)[0]),this.sendChangesToParent()),n.preventDefault()),!1}},{key:"sendChangesToParent",value:function(){var e=this.state.data,e=this.state.stringmode?e.length?Ce.a.stringify(e):[]:e;this.props.buildermode||(this.props.onChange?this.props.onChange(null,{name:this.props.name,propertyName:this.props.propertyName,value:e}):this.props.handleEvent({syntheticEvent:null,key:this.props.name,eventName:"onChange",name:this.props.name,value:e,propertyName:this.props.propertyName}))}},{key:"render",value:function(){return W("collection-editor",{applyCollapseAll:this.applyCollapseAll,btnAdd:this.btnAdd,btnAddChild:this.btnAddChild,btnCopy:this.btnCopy,btnDelete:this.btnDelete,getFilteredItems:this.getFilteredItems,handleChange:this.handleChange,me:this,onExpand:this.onExpand,onDragStart:this.onDragStart,onDragEnd:this.onDragEnd,onDragOver:this.onDragOver,onDrop:this.onDrop,props:this.props,state:this.state})}}]),_e(e,t),i}();function Ne(e){return(Ne="function"==typeof Symbol&&"symbol"==wl(Symbol.iterator)?function(e){return wl(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":wl(e)})(e)}function Ie(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Le(e,t){return(Le=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ue(e){return(Ue=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Me=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Le(e,t)}(o,c.Component);var n,r,t=(n=o,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=Ue(n),t=r?(t=Ue(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this;return!t||"object"!==Ne(t)&&"function"!=typeof t?function(){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}():t});function o(e){return function(e){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this),(e=t.call(this,e)).state={},e}return Ie(o.prototype,[{key:"render",value:function(){return W("container",{props:this.props})}}]),o}(),Be=n(5),ze=n.n(Be);function We(e){return window.DWKitLang&&window.DWKitLang.common&&window.DWKitLang.common.dateFormat?window.DWKitLang.common.dateFormat:e}function Ke(e){return window.DWKitLang&&window.DWKitLang.common&&window.DWKitLang.common.timeFormat?window.DWKitLang.common.timeFormat:e}function Ge(){if(window.DWKitAdminLang&&window.DWKitAdminLang.workflowbar)return window.DWKitAdminLang.workflowbar}function He(e){return(He="function"==typeof Symbol&&"symbol"==wl(Symbol.iterator)?function(e){return wl(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":wl(e)})(e)}function qe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Qe(e,t){return(Qe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Je(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ye(e){return(Ye=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Xe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ze=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Qe(e,t)}(o,c.Component);var n,r,t=(n=o,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=Ye(n),t=r?(t=Ye(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this;return!t||"object"!==He(t)&&"function"!=typeof t?Je(e):t});function o(e){var n;return function(e){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this),Xe(Je(n=t.call(this,e)),"handleChangeRaw",function(e){e=ze()(e.target.value,n.state.dateFormat),n.onChange(e)}),Xe(Je(n),"onChange",function(e){var t;n.props.readOnly||he(n.props.onChange)&&((t=null)!=e&&he(e)&&(t="date"===n.props.type?e.format("YYYY-MM-DD"):e.toJSON()),n.props.onChange(null,{propertyName:n.props.propertyName,name:n.props.name,value:t}))}),n.state={},n}return qe(o.prototype,[{key:"render",value:function(){var e=this.props.type,t=this.props.value?ze()(this.props.value):void 0;t&&!t.isValid()&&(t=void 0);var n={style:this.props.style,className:this.props.className,onBlur:this.props.onBlur,onClick:this.props.onClick,onFocus:this.props.onFocus,onMouseEnter:this.props.onMouseEnter,onMouseLeave:this.props.onMouseLeave},r={};return"date"===e?r.dateFormat=We("DD.MM.YYYY"):"time"===e?(r.showTimeSelect=!0,r.showTimeSelectOnly=!0,r.timeIntervals=10,r.dateFormat=Ke(),r.dateFormat||(r.dateFormat="HH:mm",r.timeFormat="HH:mm")):"datetime"===e&&(r.showTimeSelect=!0,We()?r.dateFormat=We()+" "+Ke("HH:ss"):(r.dateFormat="DD.MM.YYYY HH:mm",r.timeFormat="HH:mm")),this.state.dateFormat=r.dateFormat,W("date-picker",{controlProps:n,date:t,datePickerProps:r,handleChangeRaw:this.handleChangeRaw,onChange:this.onChange,state:this.state,placeholder:this.placeholder,props:this.props})}}]),o}();function $e(e){return($e="function"==typeof Symbol&&"symbol"==wl(Symbol.iterator)?function(e){return wl(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":wl(e)})(e)}function et(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function tt(e,t){return(tt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function nt(e){return(nt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var rt=n(8),ot=n(10),it=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&tt(e,t)}(i,c.Component);var e,t,n,r,o=(n=i,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=nt(n),t=r?(t=nt(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this;return!t||"object"!==$e(t)&&"function"!=typeof t?function(){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}():t});function i(e){var t;return function(e){if(!(e instanceof i))throw new TypeError("Cannot call a class as a function")}(this),(t=o.call(this,e)).state={options:[],value:t.props.value},t.pageSize=e.pageSize,t.pageSize||(t.pageSize=100),t}return t=[{key:"getDerivedStateFromProps",value:function(e,t){return e.dataModel!==t.dataModel?{getAdditionalDataForControl:e.getAdditionalDataForControl,dataModel:e.dataModel,needFetch:!0,needValueFetch:!0,filters:e.filters}:e.paging&&e.value!==t.value&&void 0!==e.value?{needValueFetch:!0,value:e.value}:e.filters!=t.filters?{needFetch:!0,filters:e.filters}:null}}],et((e=i).prototype,[{key:"componentDidMount",value:function(){this.GetAdditionalData()}},{key:"shouldComponentUpdate",value:function(e,t){return!rt(this.state,t)||!rt(this.props,e)}},{key:"componentDidUpdate",value:function(e,t){this.GetAdditionalData()}},{key:"GetAdditionalData",value:function(){var n,e,r=this;void 0===this.state.dataModel?void 0!==console&&!0===this.props.buildermode&&console.log("Dictionary: Set DataModel label!"):void 0===this.state.getAdditionalDataForControl?void 0!==console&&!0===this.props.buildermode&&console.log("Dictionary: For paging on server need to set getAdditionalDataForControl func!"):this.state.needFetch?(e={model:(n=this).state.dataModel,filters:this.state.filters},this.props.paging&&(e.startIndex=0,e.pageSize=this.pageSize),this.state.isFetching=!0,this.state.needFetch=!1,this.state.getAdditionalDataForControl(this,e,function(e){var t=e.items,e=e.rowsCount;n.setData({items:t,rowsCount:e,page:0},!0),r.state.needValueFetch&&(r.state.needValueFetch=!1,r.loadCurrentValue())})):this.state.needValueFetch&&(this.state.needValueFetch=!1,this.loadCurrentValue())}},{key:"render",value:function(){var e,t=this,n={};for(e in this.props)"parentIsForm"!==e&&"getAdditionalDataForControl"!==e&&"dataModel"!==e&&"clearable"!==e&&"columns"!==e&&"paging"!==e&&"pageSize"!==e&&"handleEvent"!==e&&"propertyName"!==e&&"textAsValue"!==e&&(n[e]=this.props[e]);return this.props.readOnly&&(n.disabled=!0),n.options=this.state.options,n.onChange=this.onChange.bind(this),this.props.paging&&(n.onSearchChange=this.handleSearchChange.bind(this),n.onClose=this.onClose.bind(this),null!=this.state.open&&(this.state.open?n.open=!0:(n.open=!1,this.state.open=void 0,setTimeout(function(){t.forceUpdate()})))),n.multiple&&(void 0!==n.value&&null!==n.value||(n.value=[]),Array.isArray(n.value)||(n.value=this.getArrayValues(n.value))),n.loading=this.state.isFetching,n.searchQuery=this.state.searchQuery,W("dictionary",{propsControl:n,props:this.props})}},{key:"onChange",value:function(e,t){var n,r=this,o=(t.name,t.value),t=!1;this.props.multiple?Array.isArray(o)&&(n=!1,o.forEach(function(e){"string"==typeof e&&0===e.lastIndexOf("__load",0)&&(n=!0)}),n&&(t=!0)):"string"==typeof o&&0===o.lastIndexOf("__load",0)&&(t=!0),t?(this.state.open=!0,this.setState({isFetching:!0}),this.loadNextPage(),o=this.props.value):he(this.state.open)&&(this.state.open=!1);var i=null;this.props.textAsValue||(Array.isArray(o)?(i=new Array,o.forEach(function(t){var e;"string"!=typeof t||0!==t.lastIndexOf("__load",0)||0<(e=r.state.options.filter(function(e){return e.key===t})).length&&i.push(e[0].values)})):0<(t=this.state.options.filter(function(e){return e.key===o})).length?i=t[0].values:(t=this.getCollumnsForFilter())&&(i={},t.split(",").forEach(function(e){i[e]=null}))),this.props.handleEvent&&this.props.handleEvent({syntheticEvent:e,key:this.props.name,eventName:"onChange",name:this.props.name,propertyName:this.props.propertyName,value:o,additionalValues:i})}},{key:"onClose",value:function(){1!=this.state.open&&this.state.searchQuery?(this.state.isFetching=!0,this.state.searchQuery="",this.state.lastLoadPage=-1,this.loadNextPage(!0)):!1===this.state.open&&this.forceUpdate()}},{key:"handleSearchChange",value:function(e,t){var n=t.searchQuery,r=this;r.searchTimeout&&clearTimeout(r.searchTimeout),r.searchTimeout=setTimeout(function(){r.searchTimeout=void 0,r.setState({isFetching:!0,searchQuery:n,lastLoadPage:-1}),r.loadNextPage(!0)},100)}},{key:"loadNextPage",value:function(n){var r=this,e={model:this.state.dataModel},o=this.state.lastLoadPage+1;r.state.searchQuery&&(e.filters=[{column:this.getCollumnsForFilter(),term:"like",value:r.state.searchQuery}]),e.startIndex=o*this.pageSize,e.pageSize=this.pageSize,this.state.getAdditionalDataForControl(this,e,function(e){var t=e.items,e=e.rowsCount;r.setData({items:t,rowsCount:e,page:o},n),n&&r.loadCurrentValue()})}},{key:"setData",value:function(e,t){var n,r=e.items,o=e.rowsCount,e=e.page;if(t){if(o>(n=ot(r)).length&&(u=(null!=this.state.searchQuery?this.state.searchQuery:"")+"...",n.push({key:"__load",value:"__load",text:u})),this.props.clearable&&!this.props.multiple&&n.unshift({key:"__reset",value:"",text:"   "}),this.props.multiple)for(var i=this.getArrayValues(this.props.value),a=0;a<i.length;a++)for(var l=i[a],s=0;s<this.state.options.length;s++){var c=this.state.options[s];l==c.value&&n.unshift(c)}}else{var u=void 0;0<(n=this.state.options).length&&"__load"===n[n.length-1].key&&((u=n.pop()).value="__load_"+e);for(var p=0;p<r.length;p++){for(var f=r[p],d=0;d<n.length;d++)if(n[d].key===f.key){n.splice(d,1);break}n.push(f)}void 0!==u&&o>n.length&&n.push(u)}this.props.textAsValue&&n.forEach(function(e){"__load"!=e.key&&(e.value=e.text)}),this.setState({needFetch:!1,options:n,rowsCount:o,isFetching:!1,lastLoadPage:e}),this.props.handleEvent&&this.props.handleEvent({syntheticEvent:void 0,key:this.props.name,eventName:"onDataReceived",name:this.props.name,propertyName:this.props.propertyName,value:this.props.value,parameters:{options:n}})}},{key:"getArrayValues",value:function(e){var t,e=e;if(!Array.isArray(e)){try{t=JSON.parse(e)}catch(e){}e=t=Array.isArray(t)?t:[e]}return e}},{key:"loadCurrentValue",value:function(){var t=this;if(this.props.value)if(this.props.multiple){for(var n,e=this.getArrayValues(this.props.value),r=[],o=0;o<e.length;o++){for(var i=e[o],a=!1,l=0;l<this.state.options.length;l++)if(this.state.options[l].value==i){a=!0;break}a||r.push(i)}0<r.length&&(this.props.textAsValue?(n=this.state.options,r.forEach(function(e){n.push({value:e,text:e})})):((s={model:this.state.dataModel}).filters=[{column:"__id",term:"in",value:r}],this.state.isFetching=!0,this.state.getAdditionalDataForControl(this,s,function(e){e=e.items,t.addAdditionalOptions(e)})))}else{for(var s,c=!1,u=0;u<this.state.options.length;u++)if(this.state.options[u].value==this.props.value){c=!0;break}c||(this.props.textAsValue?this.state.options.push({value:t.props.value,text:t.props.value}):((s={model:this.state.dataModel}).filters=[{column:"__id",term:"=",value:t.props.value}],this.state.isFetching=!0,this.state.getAdditionalDataForControl(this,s,function(e){e=e.items,t.addAdditionalOptions(e)})))}}},{key:"addAdditionalOptions",value:function(e){if(this.state.isFetching=!1,Array.isArray(e)&&e.length){for(var t=this.state.options,n=e.length-1;0<=n;n--){for(var r=!1,o=0;o<t.length;o++)if(t[o].key==e[n].key){r=!0;break}r||t.unshift(e[n])}this.forceUpdate()}}},{key:"getCollumnsForFilter",value:function(){if(this.props.columns){var e=new RegExp(" asc","gi"),t=this.props.columns.replace(e,""),e=new RegExp(" desc","gi"),t=t.replace(e,"");return e=new RegExp(" ","gi"),t.replace(e,"")}}}]),et(e,t),i}();function at(e){return(at="function"==typeof Symbol&&"symbol"==wl(Symbol.iterator)?function(e){return wl(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":wl(e)})(e)}function lt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function st(e,t){return(st=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ct(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ut(e){return(ut=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function pt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ft=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&st(e,t)}(o,c.Component);var n,r,t=(n=o,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=ut(n),t=r?(t=ut(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this;return!t||"object"!==at(t)&&"function"!=typeof t?ct(e):t});function o(e){var n;return function(e){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this),pt(ct(n=t.call(this,e)),"onChange",function(e,t){t.name,t=t.value,1!=n.state.opendialog?he(n.props.handleEvent)&&n.props.handleEvent({e:e,key:n.props.name,propertyName:n.props.propertyName,eventName:"onItemClick",parameters:{target:t}}):n.state.opendialog=!1}),pt(ct(n),"onMouseDown",function(e){n.state.opendialog=!Boolean(n.state.opendialog)}),n.state={},n}return lt(o.prototype,[{key:"render",value:function(){var e,r={};for(e in this.props)"imageUrl"!==e&&"defaultValue"!==e&&"value"!==e&&"handleEvent"!==e&&"items"!==e&&"propertyName"!==e&&(r[e]=this.props[e]);return r.options=[],this.props.items.forEach(function(e){var t=!1;if(void 0!==e.visibleCondition&&null!==e.visibleCondition&&""!==e.visibleCondition){var n="return "+e.visibleCondition;try{new Function("",n)()||(t=!0)}catch(e){}}t||r.options.push({value:e.target,text:e.title,target:e.target})}),r.value="",r.onChange=this.onChange,W("dropdown-trigger",{controlProps:r,onMouseDown:this.onMouseDown,props:this.props})}}]),o}();function dt(e){return(dt="function"==typeof Symbol&&"symbol"==wl(Symbol.iterator)?function(e){return wl(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":wl(e)})(e)}function ht(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Vt(e,t){return(Vt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function mt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function yt(e){return(yt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var vt=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Vt(e,t)}(i,c.Component);var n,r,o=(n=i,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=yt(n),t=r?(t=yt(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this;return!t||"object"!==dt(t)&&"function"!=typeof t?mt(e):t});function i(e){var a,t,n,r;return function(e){if(!(e instanceof i))throw new TypeError("Cannot call a class as a function")}(this),r=function(e,t){var n,r=a.props.additionalParams.handleEvent,o=a.props.onSuccess,i=a.props.onFail;(r||o||i)&&(t.success?(n={name:e.name,size:e.size,token:t.result.properties.Token,success:t.success,properties:t.result.properties},o?o(a.props.name,a.props.propertyName,n):r&&r({key:a.props.name,eventName:"success",name:a.props.name,propertyName:a.props.propertyName,value:t.message,parameters:n})):(t={name:e.name,size:e.size,message:t.message,success:t.success,details:t.details},i?i(a.props.name,a.props.propertyName,t):r&&r({key:a.props.name,eventName:"fail",name:a.props.name,propertyName:a.props.propertyName,parameters:t})),a.props.addRemoveLinks&&setTimeout(function(){e._removeLink.click()},500))},(n="fileUploadSuccess")in(t=mt(a=o.call(this,e)))?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r,a.state={commands:e.commands,states:e.states},a}return ht(i.prototype,[{key:"componentDidMount",value:function(){this.isMount=!0}},{key:"componentWillUnmount",value:function(){this.isMount=!1}},{key:"render",value:function(){var e=this.props.additionalParams.parentItem,t=void 0;this.props.iconFiletypes&&(o=this.props.iconFiletypes.split(","),Array.isArray(o)&&0<o.length&&(t=[],o.forEach(function(e){t.push(e.trim())})));var n={addRemoveLinks:this.props.addRemoveLinks,autoProcessQueue:this.props.autoProcessQueue&&he(this.props.postUrl)},r={iconFiletypes:t,showFiletypeIcon:this.props.showFiletypeIcon,postUrl:de(this.props.postUrl)?"no-url":this.props.postUrl},o={success:this.fileUploadSuccess};return W("dropzone",{componentConfig:r,djsConfig:n,eventHandlers:o,isForm:this.isForm(e),props:this.props})}},{key:"isForm",value:function(e){return e&&("form"===e["data-buildertype"]||"formgroup"===e["data-buildertype"])}},{key:"getEvents",value:function(){return["drop","dragstart","dragend","dragenter","dragover","dragleave","addedfile","removedfile","thumbnail","error","processing","uploadprogress","sending","success","complete","canceled","maxfilesreached","maxfilesexceeded","processingmultiple","sendingmultiple","successmultiple","completemultiple","canceledmultiple","totaluploadprogress","reset","queuecompleted"]}}]),i}();function gt(e){return(gt="function"==typeof Symbol&&"symbol"==wl(Symbol.iterator)?function(e){return wl(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":wl(e)})(e)}function bt(e){return function(e){if(Array.isArray(e))return wt(e)}(e)||function(){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}()||function(e){if(e){if("string"==typeof e)return wt(e,void 0);var t=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(t="Object"===t&&e.constructor?e.constructor.name:t)||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?wt(e,void 0):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function wt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ot(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function Ct(r){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?Ot(Object(o),!0).forEach(function(e){var t,n=r;e=o[t=e],t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(o)):Ot(Object(o)).forEach(function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(o,e))})}return r}function kt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Et(e,t){return(Et=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function At(e){return(At=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var St=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Et(e,t)}(o,c.Component);var n,r,t=(n=o,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=At(n),t=r?(t=At(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this;return!t||"object"!==gt(t)&&"function"!=typeof t?function(){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}():t});function o(e){var n;return function(e){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this),(n=t.call(this,e)).state={},n.props.events.forEach(function(e){var t=n.props.data[e]||{triggers:[]};(de(t)||t.actions||t.parameters||t.targets||de(t.triggers[0]))&&(t=n.props.data[e]={active:t.active||!1,triggers:[{actions:t.actions||[],parameters:t.parameters||[{name:"",value:""}],targets:t.targets||[]}]},n.handleChange(e,{},{name:"triggers",checked:t.active||!1,value:t.triggers}))}),n}return kt(o.prototype,[{key:"render",value:function(){var r=[];Array.isArray(this.props.actions)&&this.props.actions.forEach(function(e){"string"==typeof e?r.push({text:e,value:e}):r.push(Ct(Ct({},e),{},{value:e.text}))});var n=this.props.data,e=this.props.events,o=bt(this.props.targets);return e.forEach(function(e){var t;he(n)&&(t=n[e])&&t.triggers&&Array.isArray(t.triggers)&&t.triggers.forEach(function(e){e.actions&&e.actions.forEach(function(e){for(var t=!1,n=0;n<r.length;n++)if(e==r[n].value){t=!0;break}t||r.push({text:e,value:e})}),e.targets&&e.targets.forEach(function(e){for(var t=!1,n=0;n<o.length;n++)if(e===o[n].value){t=!0;break}t||o.push({text:e,value:e})})})}),W("events-editor",{actionOptions:[].concat(r),targetOptions:bt(o),items:this.items,me:this,props:this.props})}},{key:"initNewTrigger",value:function(e){var t=this.props.data;t&&(t[e]||(t[e]={}),de((t=t[e]).triggers)&&(t.triggers=[]),t.triggers.push({actions:[],targets:[],parameters:[{name:"",value:""}]}),this.handleChange(e,{},{name:"triggers",checked:t.active||!1,value:t.triggers}))}},{key:"handleChange",value:function(e,t,n){var r=n.name,o=n.value,i=n.checked;de(n=this.props.data[e])&&(this.props.data[e]=n={triggers:[]}),de(o)&&he(i)?n[r]=i:n[r]=o,he(this.props.onChange)&&this.props.onChange(t,{name:this.props.name,value:this.props.data})}},{key:"actionsOnAddItem",value:function(e,t){t=t.value,he(this.props.onAdditionActions)&&this.props.onAdditionActions(e,{value:t})}}]),o}();function _t(e){return(_t="function"==typeof Symbol&&"symbol"==wl(Symbol.iterator)?function(e){return wl(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":wl(e)})(e)}function xt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Pt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function jt(e,t){return(jt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Rt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Dt(e){return(Dt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Tt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ft=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&jt(e,t)}(i,c.Component);var n,r,o=(n=i,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=Dt(n),t=r?(t=Dt(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this;return!t||"object"!==_t(t)&&"function"!=typeof t?Rt(e):t});function i(){var r;!function(e){if(!(e instanceof i))throw new TypeError("Cannot call a class as a function")}(this);for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Tt(Rt(r=o.call.apply(o,[this].concat(t))),"onDropzoneUploadSuccess",function(e,t,n){r.onFileUploaded(n)}),Tt(Rt(r),"onDropzoneUploadFail",function(e,t,n){r.onFail(n)}),Tt(Rt(r),"onCollectionEditorChange",function(e){var t=e.eventName,n=e.parameters,e=e.value;"onDelete"===t&&r.props.additionalParams.handleEvent({key:r.props.name,propertyName:r.props.propertyName,eventName:t,parameters:n}),"onChange"===t&&r.props.additionalParams.handleEvent({syntheticEvent:null,key:r.props.name,eventName:t,name:r.props.name,value:e,propertyName:r.props.propertyName})}),Tt(Rt(r),"onUploadChange",function(e,t){t=t.parameters,r.onFileUploaded(t)}),Tt(Rt(r),"onUploadFail",function(e,t){r.onFail(t)}),Tt(Rt(r),"nameGetter",function(e){return e[r.props.columns.find(function(e){return"Name"===e.property}).field]}),Tt(Rt(r),"contentTypeGetter",function(e){return e[r.props.columns.find(function(e){return"ContentType"===e.property}).field]}),r}return Pt(i.prototype,[{key:"onFileUploaded",value:function(e){var t,n=this.props.value?function(e){if(Array.isArray(e))return xt(e)}(t=this.props.value)||function(){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}()||function(e){if(e){if("string"==typeof e)return xt(e,void 0);var t=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(t="Object"===t&&e.constructor?e.constructor.name:t)||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?xt(e,void 0):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}():[],r=e.properties,o={__id:"CLIENT_"+Ee.a.v1()};this.props.columns.filter(function(e){return e.field}).forEach(function(e){o[e.field]=r[e.property]}),n.push(o),this.props.additionalParams.handleEvent({syntheticEvent:null,key:this.props.name,eventName:"onChange",name:this.props.name,value:n,propertyName:this.props.propertyName}),this.props.additionalParams.handleEvent({syntheticEvent:null,key:this.props.name,eventName:"onUploadSuccess",name:this.props.name,parameters:e,propertyName:this.props.propertyName})}},{key:"onFail",value:function(e){this.props.additionalParams.handleEvent({syntheticEvent:null,key:this.props.name,eventName:"onUploadFail",name:this.props.name,parameters:e,propertyName:this.props.propertyName})}},{key:"render",value:function(){var n=this,r=[];this.props.columns.filter(function(e){return e.showcolumn}).forEach(function(e){var t={key:e.field,name:e.title,control:e.control};"Token"===e.property&&(t.additionalData={customNameGetter:n.nameGetter,customContentTypeGetter:n.contentTypeGetter}),r.push(t)});var e={readOnly:this.props.readOnly,value:this.props.value,idField:this.props.idField,downloadUrl:this.props.downloadUrl,columns:r,handleEvent:this.onCollectionEditorChange};return W("files",{editorProps:e,onDropzoneUploadSuccess:this.onDropzoneUploadSuccess,onDropzoneUploadFail:this.onDropzoneUploadFail,onUploadChange:this.onUploadChange,onUploadFail:this.onUploadFail,props:this.props})}}]),i}();function Nt(e){return(Nt="function"==typeof Symbol&&"symbol"==wl(Symbol.iterator)?function(e){return wl(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":wl(e)})(e)}function It(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Lt(e,t){return(Lt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ut(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Mt(e){return(Mt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Bt=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Lt(e,t)}(i,c.Component);var n,r,o=(n=i,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=Mt(n),t=r?(t=Mt(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this;return!t||"object"!==Nt(t)&&"function"!=typeof t?Ut(e):t});function i(e){var n,t,r;return function(e){if(!(e instanceof i))throw new TypeError("Cannot call a class as a function")}(this),n=o.call(this,e),r=function(e){var t;n.props.buildermode?(t=n.props["data-panes"],Array.isArray(t)&&t.forEach(function(t){e.forEach(function(e){t.psid==e.i&&(t.x=e.x,t.y=e.y,t.w=e.w,t.h=e.h)})})):(n.props.draggable||n.props.resizable)&&n.setCookie(window.location.pathname+"_"+n.props.name,JSON.stringify(e)),he(n.props.handleEvent)&&n.props.handleEvent({undefined:void 0,key:n.props.name,eventName:"onLayoutChange",parameters:{layout:e}})},(e="onLayoutChange")in(t=Ut(n))?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,n.state={},n}return It(i.prototype,[{key:"render",value:function(){return W("grid-layout",{getCookie:this.getCookie,setCookie:this.setCookie,me:this,onLayoutChange:this.onLayoutChange,props:this.props})}},{key:"getCookie",value:function(e){return(e=document.cookie.match(new RegExp("(?:^|; )"+e.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,"\\$1")+"=([^;]*)")))?decodeURIComponent(e[1]):void 0}},{key:"setCookie",value:function(e,t,n){var r,o=(n=n||{}).expires;"number"==typeof o&&o&&((r=new Date).setTime(r.getTime()+1e3*o),o=n.expires=r),o&&o.toUTCString&&(n.expires=o.toUTCString());var i,a=e+"="+(t=encodeURIComponent(t));for(i in n){a+="; "+i;var l=n[i];!0!==l&&(a+="="+l)}document.cookie=a}}]),i}();function zt(e){return(zt="function"==typeof Symbol&&"symbol"==wl(Symbol.iterator)?function(e){return wl(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":wl(e)})(e)}function Wt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Kt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Gt(e,t,n){return t&&Kt(e.prototype,t),n&&Kt(e,n),e}var Ht=(Gt(Jt,null,[{key:"Greater",get:function(){return">"}},{key:"Less",get:function(){return">"}},{key:"Equal",get:function(){return"="}},{key:"GreaterOrEqual",get:function(){return">="}},{key:"LessOrEqual",get:function(){return"<="}},{key:"NotEqual",get:function(){return"!="}},{key:"Like",get:function(){return"like"}},{key:"StartsWith",get:function(){return"like*"}},{key:"EndsWith",get:function(){return"*like"}},{key:"IsGreater",value:function(e){return e===Jt.Greater}},{key:"IsLess",value:function(e){return e===Jt.Less}},{key:"IsEqual",value:function(e){return e===Jt.Equal}},{key:"IsGreaterOrEqual",value:function(e){return e===Jt.GreaterOrEqual}},{key:"IsLessOrEqual",value:function(e){return e===Jt.LessOrEqual}},{key:"IsNotEqual",value:function(e){return e===Jt.NotEqual}},{key:"IsLike",value:function(e){return e.toLowerCase()===Jt.Like||"*like*"===e.toLowerCase()}},{key:"IsStartsWith",value:function(e){return e.toLowerCase()===Jt.StartsWith}},{key:"IsEndsWith",value:function(e){return e.toLowerCase()===Jt.EndsWith}},{key:"Evaluate",value:function(e,t,n){if(Jt.IsGreater(n))return Jt.compareWithTypeCheck(e,t,function(e,t){return t<e});if(Jt.IsLess(n))return Jt.compareWithTypeCheck(e,t,function(e,t){return e<t});if(Jt.IsEqual(n))return Jt.compareWithTypeCheck(e,t,function(e,t){return e===t});if(Jt.IsGreaterOrEqual(n))return Jt.compareWithTypeCheck(e,t,function(e,t){return t<=e});if(Jt.IsLessOrEqual(n))return Jt.compareWithTypeCheck(e,t,function(e,t){return e<=t});if(Jt.IsNotEqual(n))return Jt.compareWithTypeCheck(e,t,function(e,t){return e!==t});if(Jt.IsLike(n))return Jt.likeCompare(e,t,function(e,t){return 0<=e.indexOf(t)});if(Jt.IsStartsWith(n))return Jt.likeCompare(e,t,function(e,t){return e.startsWith(t)});if(Jt.IsEndsWith(n))return Jt.likeCompare(e,t,function(e,t){return e.endsWith(t)});throw"Unknown term "+n}},{key:"likeCompare",value:function(e,t,n){return null===e&&null===t||void 0===e&&void 0===t||null!=e&&null!=t&&n(e.toString().toLowerCase(),t.toString().toLowerCase())}},{key:"compareWithTypeCheck",value:function(e,t,n){return null===e&&null===t||void 0===e&&void 0===t||null!=e&&null!=t&&(e instanceof Date&&"string"==typeof t?n(e.getTime(),new Date(t).getTime()):"string"==typeof e&&t instanceof Date?n(new Date(e).getTime(),t.getTime()):e instanceof Date&&t instanceof Date?n(e.getTime(),t.getTime()):zt(e)===zt(t)?n(e,t):n(e,"number"==typeof e&&"string"==typeof t?parseFloat(t):"string"==typeof e&&"number"==typeof t?t.toString():t))}}]),Jt),qt=(Gt(Qt,[{key:"AddFilter",value:function(e){var n,t,r,o=this,i=e.names,a=e.expected,l=e.term,s=e.id;i.length<1||(n=1===i.length?i[0]:i.sort().join(","),this._innerFilter.hasOwnProperty(n)?t=this._innerFilter[n]:((t=this._innerFilter[n]={}).funcs=[],t.items=[],t.test=function(t){return o._innerFilter[n].funcs.every(function(e){return e(t)})}),r=function(e,t){var n=Object.keys(e).find(function(e){return e.toString().toLowerCase()===t.toLowerCase()});return void 0!==n&&Ht.Evaluate(e[n],a,l)},e=1===i.length?function(e){return r(e,i[0])}:function(t){return i.some(function(e){return r(t,e)})},t.funcs.push(e),t.items.push({expected:a,term:l,id:s}))}},{key:"RemoveFilter",value:function(e){var t,n,r,o=this,i=e.name,a=e.id;void 0!==i&&(n=Array.isArray(i)?(t=1===i.length?i[0]:i.sort().join(","),i):[t=i]),void 0!==i&&void 0===a?delete this._innerFilter[t]:void 0===i&&void 0===a?this._innerFilter={}:(r=function(e,t,n){var r;!o._innerFilter.hasOwnProperty(e)||(r=o._innerFilter[e].items.filter(function(e){return e.id!==n})).length<o._innerFilter[e].items.length&&(delete o._innerFilter[e],r.forEach(function(e){o.AddFilter({names:t,expected:e.expected,term:e.term,id:e.id})}))},void 0!==i&&void 0!==a?r(t,n,a):Object.keys(this._innerFilter).forEach(function(e){r(e,e.split(","),a)}))}},{key:"IsRowMatched",value:function(e){var t=Object.keys(this._innerFilter);if(t.length<=0)return!0;for(var n=0;n<t.length;n++)if(!this._innerFilter[t[n]].test(e))return!1;return!0}},{key:"GetFilterAsObjects",value:function(){var e=this;if(void 0===this._innerFilter)return[];var n=[];return Object.keys(this._innerFilter).forEach(function(t){e._innerFilter[t].items.forEach(function(e){n.push({column:t,value:e.expected,term:e.term})})}),n}}]),Qt);function Qt(e,n){var r=this;if(Wt(this,Qt),this._innerFilter={},void 0!==e&&Array.isArray(e)){if(void 0===n||!Array.isArray(n))throw"columns must be array";e.forEach(function(e){var t;void 0!==e&&(t="*"===e.column?n:e.column.split(",").map(function(e){return e.trim()}),r.AddFilter({names:t,expected:e.value,term:e.term}))})}}function Jt(){Wt(this,Jt)}function Yt(e){return(Yt="function"==typeof Symbol&&"symbol"==wl(Symbol.iterator)?function(e){return wl(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":wl(e)})(e)}function Xt(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function Zt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function $t(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function en(e,t,n){return t&&$t(e.prototype,t),n&&$t(e,n),e}function tn(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&nn(e,t)}function nn(e,t){return(nn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function rn(n){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e=on(n),t=r?(t=on(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this;return!t||"object"!==Yt(t)&&"function"!=typeof t?function(){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}():t}}function on(e){return(on=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var an=function(){tn(t,c.Component);var e=rn(t);function t(){return Zt(this,t),e.apply(this,arguments)}return en(t,[{key:"render",value:function(){return W("checkbox-formatter",{props:this.props})}}]),t}(),ln=function(){tn(t,c.Component);var e=rn(t);function t(){return Zt(this,t),e.apply(this,arguments)}return en(t,[{key:"render",value:function(){return W("number-formatter",{props:this.props})}}]),t}(),sn=function(){tn(t,c.Component);var e=rn(t);function t(){return Zt(this,t),e.apply(this,arguments)}return en(t,[{key:"render",value:function(){var e,t=ze()(this.props.value),n="";return t.isValid()&&(e=We("L"),n=t.format(e)),W("date-formatter",{props:this.props,strValue:n})}}]),t}(),cn=function(){tn(t,c.Component);var e=rn(t);function t(){return Zt(this,t),e.apply(this,arguments)}return en(t,[{key:"render",value:function(){var e,t,n,r=ze()(this.props.value),o="";return r.isValid()&&(n="DD.MM.YYYY HH:mm",(e=We())&&(t=Ke("HH:mm"),n="".concat(e," ").concat(t)),o=r.format(n)),W("datetime-formatter",{props:this.props,strValue:o})}}]),t}(),un=function(){tn(t,c.Component);var e=rn(t);function t(){return Zt(this,t),e.apply(this,arguments)}return en(t,[{key:"render",value:function(){var e,t=ze()(this.props.value),n="";return t.isValid()&&(e=he(window.DWKitLang)&&he(window.DWKitLang.common)&&he(window.DWKitLang.common.timeFormat)?window.DWKitLang.common.timeFormat:"HH:mm",n=t.format(e)),W("time-formatter",{props:this.props,strValue:n})}}]),t}(),pn=function(){tn(a,c.Component);var n=rn(a);function a(e){var t;Zt(this,a),(t=n.call(this,e)).state={items:[],sort:"",defaultSort:e.defaultSort,filter:e.filter,pageSize:20,selectedIndexes:[],rowsCount:a.staticIsServerMode(e)?void 0:0};try{t.state.isrtl="rtl"==getComputedStyle(document.getElementsByTagName("html")[0]).direction}catch(e){}return t}return en(a,[{key:"isEditFormModal",value:function(){return"modal"===this.props.editFormShowType}},{key:"isEditFormSidebar",value:function(){return"sidebar"===this.props.editFormShowType}},{key:"isServerMode",value:function(){return a.staticIsServerMode(this.props)}},{key:"refresh",value:function(){var e;this.isServerMode()?this.setState({items:[],selectedIndexes:[],rowsCount:void 0}):(e=Array.isArray(this.props.value)?a.staticGetSortedAndFilteredItems(this.props.value,this.state.filter,this.state.sort,this.props.defaultSort):[],this.setState({items:e,rowsCount:e.length,selectedIndexes:[],originalItems:this.props.value}))}},{key:"resetSelection",value:function(){this.setState({selectedIndexes:[]})}},{key:"render",value:function(){return W("grid-view",{gridColumns:this.getColumns(),gridProps:this.getGridPropsByPagerType(this.props.pagerType),me:this,onRowsSelected:this.onRowsSelected.bind(this),onRowsDeselected:this.onRowsDeselected.bind(this),selectBy:{indexes:this.state.selectedIndexes},gridRowGetter:this.gridRowGetter.bind(this),gridOnRowClick:this.gridOnRowClick.bind(this),handleGridSort:this.handleGridSort.bind(this),state:this.state,props:this.props})}},{key:"getColumns",value:function(){var r=this,e=void 0===this.props.columns?[]:Array.isArray(this.props.columns)?this.props.columns:JSON.parse(this.props.columns);return e.forEach(function(n){null!==n.width&&""!==n.width&&void 0!==n.width&&(n.width=Number(n.width)),!1!==n.sortable&&(n.sortable=!r.props.disableSort),n.filterable=Boolean(r.props.filterRow),n.resizable=Boolean(n.resizable),"number"===n.type?n.formatter=ln:"checkbox"===n.type?n.formatter=an:"date"===n.type?n.formatter=sn:"time"===n.type?n.formatter=un:"datetime"===n.type?n.formatter=cn:"custom"===n.type&&(n.getRowMetaData=function(e){return e},n.formatter=function(e){if(de(n.customFormatter)||"function"!=typeof n.customFormatter){if(r.props.placeholders&&Array.isArray(r.props.placeholders[n.key])&&0<r.props.placeholders[n.key].length){var t=r.props.placeholders[n.key][0];return void 0!==t.propertyName&&""!==t.propertyName||(t.propertyName=n.key),z.a.createElement(N,{key:n.key+"_"+e.dependentValues.__id,model:t,parent:r,row:e.dependentValues,errorOnRow:{},name:r.props.name,buildermode:r.props.buildermode,handleChange:function(){},handleEvent:r.props.handleEvent,getAdditionalDataForControl:r.props.getAdditionalDataForControl,readOnly:r.props.readOnly,uploadUrl:r.props.uploadUrl,downloadUrl:r.props.downloadUrl,data:r.props.data,adaptiveViewType:r.props.adaptiveViewType,controlBarParams:r.props.controlBarParams,createControl:r.props.createControl})}return r.props.buildermode?r.props.createBuilderDropzone(r.props.name,r.props.name,void 0,n.key,n.key):""}return n.customFormatter({row:e.dependentValues,value:e.value,column:n})})}),this.state.isrtl?e.reverse():e}},{key:"getGridPropsByPagerType",value:function(){var e,t={};return"server"===this.props.pagerType&&((e=parseInt(this.props.pageSize))&&(this.state.pageSize=e),t.rowRenderer=z.a.createElement(fn,{error:this.props.error}),de(this.state.rowsCount)&&(this.state.rowsCount=1)),t}},{key:"getSeletedRowKeys",value:function(){var n=this,r=[];return this.state.selectedIndexes.forEach(function(e){var t;void 0!==(e=n.gridRowGetter(e))&&null!=(t=null==(t=null!==n.props.rowKey&&void 0!==n.props.rowKey&&e.hasOwnProperty(n.props.rowKey)?e[n.props.rowKey]:t)||de(t)?e.__id:t)&&r.push(t)}),r}},{key:"gridRowGetter",value:function(e){if(!(e<0)){var t,n=this.props.pagerType;return"server"===n&&void 0===this.state.items[e]&&(t=this.state.pageSize,this.loadPage(e,t)),"server"===n?this.state.items[e]:function(r){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?Xt(Object(o),!0).forEach(function(e){var t,n=r;e=o[t=e],t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(o)):Xt(Object(o)).forEach(function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(o,e))})}return r}({},this.state.items[e])}}},{key:"getSort",value:function(){var e=this.state.sort;return""===e&&void 0!==this.props.defaultSort?this.props.defaultSort:e}},{key:"getFilters",value:function(){return void 0!==this.state.filter?this.state.filter.GetFilterAsObjects():[]}},{key:"loadPage",value:function(e,t){for(var n,a=this,r=0;r<t;r++)this.state.items[r+e]={__loading:!0};void 0===this.props.getAdditionalDataForControl?void 0!==console&&console.log("GridView: For paging on server need to set getAdditionalDataForControl func!"):(n=this.getSort(),this.props.getAdditionalDataForControl(this,{startIndex:e,pageSize:t,filters:this.getFilters(),sort:n},function(e){var t=e.sIndex,n=e.pSize,r=e.rowsCount,o=e.items;if(void 0===r||void 0===o)a.state.rowsCount=0,a.setState({rowsCount:0,items:[]});else{a.state.rowsCount=r;for(var i=0;i<n;i++)i<o.length?a.state.items[t+i]=o[i]:a.state.items[t+i]=void 0;a.forceUpdate()}}))}},{key:"gridOnRowClick",value:function(e,t){var n;void 0!==t&&(n=Date.now(),void 0!==this.rowClickTime&&this.rowClickTime.rowIdx===e&&n-this.rowClickTime.time<=1e3?(this.rowClickTime=void 0,this.onRowDblClick(e,t)):(this.rowClickTime={rowIdx:e,time:n},void 0!==this.props.handleEvent&&this.props.handleEvent({key:this.props.name,propertyName:this.props.propertyName,eventName:"onRowClick",parameters:{rowIdx:e,row:t}})))}},{key:"onRowDblClick",value:function(e,t){void 0!==this.props.handleEvent&&this.props.handleEvent({key:this.props.name,propertyName:this.props.propertyName,eventName:"onRowDblClick",parameters:{rowIdx:e,row:t}})}},{key:"onRowsSelected",value:function(e){this.state.selectedIndexes=this.state.selectedIndexes.concat(e.map(function(e){return e.rowIdx})),void 0!==this.props.handleEvent&&this.props.handleEvent({key:this.props.name,eventName:"onSelectionChanged",propertyName:this.props.propertyName,parameters:{selectedIndexes:this.state.selectedIndexes}}),this.forceUpdate()}},{key:"onRowsDeselected",value:function(e){var t=e.map(function(e){return e.rowIdx});this.state.selectedIndexes=this.state.selectedIndexes.filter(function(e){return-1===t.indexOf(e)}),void 0!==this.props.handleEvent&&this.props.handleEvent({key:this.props.name,eventName:"onSelectionChanged",propertyName:this.props.propertyName,parameters:{selectedIndexes:this.state.selectedIndexes}}),this.forceUpdate()}},{key:"handleGridSort",value:function(e,t){var n={};n.sort="NONE"===t?"":e+" "+t,t=this.props.pagerType,n.items="server"===t?[]:a.staticGetSortedAndFilteredItems(this.props.value,this.state.filter,n.sort,this.props.defaultSort),n.selectedIndexes=[],this.setState(n)}},{key:"handleFilterChange",value:function(e){var t={},n=e.column.key,r="columnfilter_"+n;t.filter=void 0!==this.state.filter?this.state.filter:new qt([],this.props.columns.map(function(e){return e.key})),t.filter.RemoveFilter({name:n,id:r}),""!==e.filterTerm&&t.filter.AddFilter({names:[n],expected:e.filterTerm,term:Ht.Like,id:r}),a.staticIsServerMode(this.props)?(t.items=[],t.selectedIndexes=[],t.rowsCount=void 0):(t.items=a.staticGetSortedAndFilteredItems(this.props.value,t.filter,this.state.sort,this.props.defaultSort),t.selectedIndexes=[],t.rowsCount=t.items.length),this.setState(t)}},{key:"onClearFilters",value:function(){this.setState({filter:this.props.filter})}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"componentDidMount",value:function(){this._isMounted=!0,this.recalcSizeParams()}},{key:"recalcSizeParams",value:function(){var e;this._isMounted&&this.props.autoHeight&&(e=window.innerHeight,this.setState({gridHeight:e-this.props.deltaHeight}))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n,r=null,o=t.filter,i=e.filter;return JSON.stringify(o)!==JSON.stringify(i)?(r={filter:e.filter},a.staticIsServerMode(e)?(r.items=[],r.selectedIndexes=t.selectedIndexes,r.rowsCount=void 0):(n=Array.isArray(e.value)?a.staticGetSortedAndFilteredItems(e.value,e.filter,t.sort,e.defaultSort):[],r.items=n,r.selectedIndexes=t.selectedIndexes,r.rowsCount=n.length)):a.staticIsServerMode(e)||t.originalItems===e.value||(r={},n=Array.isArray(e.value)?a.staticGetSortedAndFilteredItems(e.value,t.filter,t.sort,e.defaultSort):[],r.items=n,r.rowsCount=n.length,r.selectedIndexes=t.selectedIndexes,r.originalItems=e.value),r}},{key:"staticIsServerMode",value:function(e){return"server"===e.pagerType}},{key:"staticGetSortedAndFilteredItems",value:function(e,t,n,r){var o=[];if(void 0===e)return o;if(o=void 0!==t?e.filter(function(e){return t.IsRowMatched(e)}):e,"NONE"===(e=n)||""===n){if(void 0===r)return o;e=r}var r=e.indexOf(" "),i=e.substring(0,r),a=e.substring(r+1,e.length);return o.slice(0).sort(function(e,t){return(e=void 0!==e[i]&&null!==e[i]&&void 0!==e[i].toLowerCase?e[i].toLowerCase():e[i])===(t=void 0!==t[i]&&null!==t[i]&&void 0!==t[i].toLowerCase?t[i].toLowerCase():t[i])?0:null==e?1:null==t?-1:"ASC"===a?t<e?1:-1:"DESC"===a?e<t?1:-1:void 0})}}]),a}(),fn=function(){tn(t,c.Component);var e=rn(t);function t(){return Zt(this,t),e.apply(this,arguments)}return en(t,[{key:"setScrollLeft",value:function(e){this.row.setScrollLeft(e)}},{key:"getClassName",value:function(){var t=this;return this.props.row.__loading?"dwkit-gridview-rowloading":void 0!==this.props.row.__id&&null!==this.props.row.__id&&void 0!==this.props.error&&null!==this.props.error&&Array.isArray(this.props.error)&&void 0!==this.props.error.find(function(e){return e.__id===t.props.row.__id})?"dwkit-gridview-rowerror":""}},{key:"render",value:function(){return W("row-loading-renderer",{className:this.getClassName(),me:this,props:this.props,row:this.row})}}]),t}();function dn(e){return(dn="function"==typeof Symbol&&"symbol"==wl(Symbol.iterator)?function(e){return wl(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":wl(e)})(e)}function hn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Vn(e,t){return(Vn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function mn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function yn(e){return(yn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var vn=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Vn(e,t)}(a,c.Component);var e,t,n,r,i=(n=a,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=yn(n),t=r?(t=yn(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this;return!t||"object"!==dn(t)&&"function"!=typeof t?mn(e):t});function a(e){var n,t,r,o;return function(e){if(!(e instanceof a))throw new TypeError("Cannot call a class as a function")}(this),o=function(e,t){t=t.name,he(n.props.handleEvent)&&0!=n.props.handleEvent({e:e,key:n.props.name,eventName:"onItemClick",parameters:{target:t}})&&n.setState({activeitem:t})},(r="handleItemClick")in(t=mn(n=i.call(this,e)))?Object.defineProperty(t,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[r]=o,n.state={},he(e.value)?n.state.activeitem=e.value:null!=e.activeitem&&(n.state.activeitem=e.activeitem),n}return t=[{key:"getDerivedStateFromProps",value:function(e,t){return t.activeitem!==e.value?{activeitem:e.value}:null}}],hn((e=a).prototype,[{key:"handleItemClick2",value:function(e,t){this.handleItemClick(t,e),t.preventDefault()}},{key:"render",value:function(){var e=this.props["data-items"];return de(e)||""==e?e=[]:Array.isArray(e)||(e=Ce.a.parse(e)),W("menu-group",{handleItemClick:this.handleItemClick,handleItemClick2:this.handleItemClick2,items:e,me:this,props:this.props,state:this.state})}}]),hn(e,t),a}();function gn(e){return(gn="function"==typeof Symbol&&"symbol"==wl(Symbol.iterator)?function(e){return wl(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":wl(e)})(e)}function bn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function wn(e,t){return(wn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function On(e){return(On=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Cn=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&wn(e,t)}(t,c.Component);var n,r,e=(n=t,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=On(n),t=r?(t=On(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this;return!t||"object"!==gn(t)&&"function"!=typeof t?function(){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}():t});function t(){return function(e){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),e.apply(this,arguments)}return bn(t.prototype,[{key:"render",value:function(){var e,t={};for(e in this.props)"additionalParams"!==e&&"items"!==e&&"propertyName"!==e&&(t[e]=this.props[e]);var n=this.props.additionalParams.model,r=this.props.additionalParams.parentItem,o=this.props.additionalParams.handleEvent;return t.defaultValue=n.defaultvalue,t.size=n.size,Ve(n.label)&&(t.label=n.label),t.labelPosition=n.labelPosition,t.type=n.type,t.disabled=n.disabled,t.transparent=n.transparent,t.fluid=n.fluid,t.readOnly=n.readOnly||this.props.readOnly,t.placeholder=n.placeholder,null==t.value&&(t.value=""),t.error=Boolean(this.props.error),t.format=n.format||void 0,t.mask=n.mask||void 0,t.onValueChange=function(e){o({key:t.name,propertyName:t.propertyName,eventName:"onChange",name:t.name,value:Number(e.value)})},W("number-format",{isForm:this.isForm(r),props:this.props,propsControl:t})}},{key:"isForm",value:function(e){return null!=e&&("form"===e["data-buildertype"]||"formgroup"===e["data-buildertype"])}}]),t}();function kn(e){return(kn="function"==typeof Symbol&&"symbol"==wl(Symbol.iterator)?function(e){return wl(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":wl(e)})(e)}function En(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function An(e,t){return(An=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Sn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _n(e){return(_n=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var xn=n(8),Pn=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&An(e,t)}(l,c.Component);var n,r,a=(n=l,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=_n(n),t=r?(t=_n(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this;return!t||"object"!==kn(t)&&"function"!=typeof t?Sn(e):t});function l(){var r;!function(e){if(!(e instanceof l))throw new TypeError("Cannot call a class as a function")}(this);for(var e,t,n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return t=function(e,t){var n=t.name,t=t.value;r.props.onChange?r.props.onChange(e,{name:r.props.name,propertyName:r.props.propertyName,value:t}):r.props.handleEvent?r.props.handleEvent({syntheticEvent:e,key:r.props.name,eventName:"onChange",name:n,value:t,propertyName:r.props.propertyName}):console.error("Set onChange property for RadioGroup!")},"onChange"in(e=Sn(r=a.call.apply(a,[this].concat(o))))?Object.defineProperty(e,"onChange",{value:t,enumerable:!0,configurable:!0,writable:!0}):e.onChange=t,r}return En(l.prototype,[{key:"shouldComponentUpdate",value:function(e){return!xn(this.props,e)}},{key:"render",value:function(){return W("radio-group",{props:this.props,onChange:this.onChange.bind(this)})}}]),l}();function jn(e){return(jn="function"==typeof Symbol&&"symbol"==wl(Symbol.iterator)?function(e){return wl(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":wl(e)})(e)}function Rn(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function Dn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Tn(e,t){return(Tn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Fn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Nn(e){return(Nn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function In(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ln=n(8),Un=n(10),Mn=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Tn(e,t)}(s,c.Component);var e,t,n,r,o=(n=s,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=Nn(n),t=r?(t=Nn(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this;return!t||"object"!==jn(t)&&"function"!=typeof t?Fn(e):t});function s(e){var l;return function(e){if(!(e instanceof s))throw new TypeError("Cannot call a class as a function")}(this),In(Fn(l=o.call(this,e)),"handleChange",function(e,t,n){var r=n.name,o=n.propertyName,i=n.value,a=n.checked,n=n.parameters;(l.props.controlProps.handleEvent||l.props.controlProps.buildermode)&&(void 0===o&&(o=r),n&&void 0!==n.index&&((r=l.state.items)[n.index]=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Rn(Object(n),!0).forEach(function(e){In(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Rn(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}({},e),e=r[n.index]),de(i)&&he(a)?e[o]=a:e[o]=i,l.isServerMode()?l.forceUpdate():(l.sendChangesToParent(),t&&t.preventDefault?t.preventDefault():l.forceUpdate()))}),In(Fn(l),"loadNextPage",function(){var e=l.state.pageSize,t=0;he(l.state.items)&&(t=l.state.items.length),l.loadPage(t,e)}),l.psTemplate="template",l.state={items:[],sort:"",filter:e.filter,firstLoad:!e.controlProps.buildermode&&s.staticIsServerMode(e),pageSize:e.pageSize||20},l}return t=[{key:"getDerivedStateFromProps",value:function(e,t){var n,r={needUpdate:!1};return Ln(t.filter,e.filter)?s.staticIsServerMode(e)||Ln(t.originalItems,e.value)||(n=s.staticGetSortedAndFilteredItems(e.value,t.filter,t.sort,e.defaultSort),r.items=n,r.rowsCount=n.length,r.selectedIndexes=[],r.originalItems=s.copyObj(e.value),r.needUpdate=!0):(r.filter=e.filter,r.needUpdate=!0,s.staticIsServerMode(e)?(r.items=[],r.firstLoad=!0,r.rowsCount=void 0):(e=s.staticGetSortedAndFilteredItems(e.value,e.filter,t.sort,e.defaultSort),r.items=e,r.selectedIndexes=[],r.rowsCount=e.length)),r}},{key:"staticIsServerMode",value:function(e){return e.pagerType&&"server"===e.pagerType.toLowerCase()}},{key:"staticCheckData",value:function(e){if(e=e||[],Array.isArray(e))e=Un(e);else try{e=Ce.a.parse(e)}catch(e){}return e}},{key:"staticGetSortedAndFilteredItems",value:function(e,t,n,r){var o=s.staticCheckData(e);if(void 0===o)return o;if(Array.isArray(o)&&0<o.length)for(var i in o)o[i].__originalIndex=i,i++;if(void 0!==t&&(o=o.filter(function(e){return t.IsRowMatched(e)})),"NONE"===(e=n)||""===n){if(void 0===r)return o;e=r}var r=e.indexOf(" "),a=e.substring(0,r),l=e.substring(r+1,e.length);return o.sort(function(e,t){return(e=void 0!==e[a]&&null!==e[a]&&void 0!==e[a].toLowerCase?e[a].toLowerCase():e[a])===(t=void 0!==t[a]&&null!==t[a]&&void 0!==t[a].toLowerCase?t[a].toLowerCase():t[a])?0:null==e?1:null==t?-1:"ASC"===l?t<e?1:-1:"DESC"===l?e<t?1:-1:void 0})}},{key:"copyObj",value:function(e){if(null==e||"object"!=jn(e))return e;var t,n=e.constructor();for(t in e)e.hasOwnProperty(t)&&(n[t]=this.copyObj(e[t]));return n}}],Dn((e=s).prototype,[{key:"shouldComponentUpdate",value:function(e,t){return!!t.needUpdate||!Ln(this.props,e)}},{key:"render",value:function(){return W("repeater",{isServerMode:this.isServerMode(),loadNextPage:this.loadNextPage,me:this,props:this.props,psTemplate:this.psTemplate,state:this.state,handleChange:this.handleChange})}},{key:"sendChangesToParent",value:function(){var e=s.copyObj(this.state.items);if(Array.isArray(e)&&0<e.length)for(var t in e)delete e[t].__originalIndex;var n="string"==typeof this.props.value?Ce.a.stringify(e):e;this.props.controlProps.buildermode?this.props.value=n:this.props.controlProps.handleEvent({syntheticEvent:null,key:this.props.name,propertyName:this.props.propertyName,eventName:"onChange",name:this.name,value:n})}},{key:"loadPage",value:function(o,e){var t,i=this;this.props.controlProps&&void 0!==this.props.controlProps.getAdditionalDataForControl?(""===(t=this.state.sort)&&void 0!==this.props.defaultSort&&(t=this.props.defaultSort),this.state.loading=!0,this.forceUpdate(),this.props.controlProps.getAdditionalDataForControl(this,{startIndex:o,pageSize:e,filters:void 0!==this.state.filter?this.state.filter.GetFilterAsObjects():[],sort:t},function(e){e.sIndex,e.pageSize;var t=e.rowsCount,n=e.items;if(void 0!==t&&void 0!==n&&(i.state.rowsCount=t,i.state.items.length==o))for(var r=0;r<n.length;r++)i.state.items.push(n[r]);i.state.loading=!1,i.forceUpdate()})):void 0!==console&&console.log("Repeater: For paging on server need to set getAdditionalDataForControl func!")}},{key:"isServerMode",value:function(){return s.staticIsServerMode(this.props)}}]),Dn(e,t),s}();function Bn(e){return(Bn="function"==typeof Symbol&&"symbol"==wl(Symbol.iterator)?function(e){return wl(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":wl(e)})(e)}function zn(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function Wn(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?zn(Object(n),!0).forEach(function(e){Qn(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):zn(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function Kn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Gn(e,t){return(Gn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Hn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function qn(e){return(qn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Qn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Jn=n(8),Yn=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Gn(e,t)}(i,c.Component);var n,r,o=(n=i,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=qn(n),t=r?(t=qn(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this;return!t||"object"!==Bn(t)&&"function"!=typeof t?Hn(e):t});function i(){var r;!function(e){if(!(e instanceof i))throw new TypeError("Cannot call a class as a function")}(this);for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Qn(Hn(r=o.call.apply(o,[this].concat(t))),"handleEvent",function(e){e.parameters||(e.parameters={}),e.parameters.row||(e.parameters.row=r.props.item),"onChange"===e.eventName?(e.parameters.index||(e.parameters.index=r.props.index),r.props.handleChange(r.props.item,e.syntheticEvent,e)):(e.parameters.index||(r.props.item&&r.props.item.__originalIndex?e.parameters.index=r.props.item.__originalIndex:e.parameters.index=r.props.index),r.props.controlProps.handleEvent(e))}),Qn(Hn(r),"getAdditionalDataForControl",function(e,t,n){return(t=t||{}).row||(t.row=r.props.item),r.props.controlProps.getAdditionalDataForControl(e,t,n)}),r}return Kn(i.prototype,[{key:"shouldComponentUpdate",value:function(e){return!Jn(this.props,e)}},{key:"render",value:function(){var e=this.props.controlProps.createBuilderDropzone,t=this.props.model,n=this.props.index+"_",r=this.props.psTemplate,o=this.props.controlProps.createControls(this.props.parent,Wn(Wn({},this.props.controlProps),{},{model:t,parentPlaceholder:r,data:this.props.item,errors:this.props.errors,needCheckReplace:!this.props.controlProps.buildermode,formData:this.props.data,parentItem:this.props.parentItem,handleEvent:this.handleEvent,getAdditionalDataForControl:this.getAdditionalDataForControl}));return this.props.includeDropzone&&e&&(0<o.length&&0<t.length&&o.unshift(e(n+"repeter_dropzone_header",this.props.parentItem.key,void 0,void 0,r)),o.push(e(n+"repeter_dropzone_footer",this.props.parentItem.key,t[t.length-1].key,void 0,r))),o}}]),i}(),Xn=n(11),Zn=n.n(Xn);function $n(e){return($n="function"==typeof Symbol&&"symbol"==wl(Symbol.iterator)?function(e){return wl(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":wl(e)})(e)}function er(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function tr(e,t){return(tr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function nr(e){return(nr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var rr=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&tr(e,t)}(o,c.Component);var n,r,t=(n=o,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=nr(n),t=r?(t=nr(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this;return!t||"object"!==$n(t)&&"function"!=typeof t?function(){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}():t});function o(e){return function(e){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this),(e=t.call(this,e)).state={value:""},e}return er(o.prototype,[{key:"render",value:function(){var e,t={};for(e in this.props)"value"!==e&&"handleEvent"!==e&&(t[e]=this.props[e]);return W("search",{controlProps:t,handleResultSelect:this.handleResultSelect.bind(this),handleSearchChange:this.handleSearchChange.bind(this),state:this.state})}},{key:"resetSearch",value:function(){this.setState({isLoading:!1,results:[]})}},{key:"handleResultSelect",value:function(e,t){t=t.result,he(this.props.handleEvent)&&this.props.handleEvent({key:this.props.name,propertyName:this.props.propertyName,eventName:"onSelect",parameters:t})}},{key:"handleSearchChange",value:function(e,t){var t=t.value,n=this;n.setState({isLoading:!0,value:t}),setTimeout(function(){return null===n.state.value||void 0===n.state.value||n.state.value.length<2?n.resetSearch():void n.search(n.state.value)},200)}},{key:"search",value:function(e){var t=this,n=this.props.url;n+=this.props.url.includes("?")?"&":"?",n+="term="+e,Zn()(n,{credentials:"same-origin"}).then(function(e){return e.json()}).then(function(e){t.setState({isLoading:!1,results:e})}).catch(function(e){de(console)?alert(e):console.error(e)})}}]),o}();function or(e){return(or="function"==typeof Symbol&&"symbol"==wl(Symbol.iterator)?function(e){return wl(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":wl(e)})(e)}function ir(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function ar(r){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?ir(Object(o),!0).forEach(function(e){var t,n=r;e=o[t=e],t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(o)):ir(Object(o)).forEach(function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(o,e))})}return r}function lr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function sr(e,t){return(sr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function cr(e){return(cr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var ur=n(10),pr=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&sr(e,t)}(o,c.Component);var n,r,t=(n=o,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=cr(n),t=r?(t=cr(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this;return!t||"object"!==or(t)&&"function"!=typeof t?function(){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}():t});function o(e){return function(e){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this),(e=t.call(this,e)).state={},e}return lr(o.prototype,[{key:"render",value:function(){var e,r=this,i=this,a={};for(e in this.props)"additionalParams"!==e&&"items"!==e&&"propertyName"!==e&&(a[e]=this.props[e]);var t,n,o=this.props.additionalParams.model,l=this.props.additionalParams.data,s=this.props.additionalParams.errors,c=this.props.additionalParams.children,u=this.props.additionalParams.parentItem,p=this.props.additionalParams.handleEvent,f=o["data-buildertype"];if("header"===f)t=W(f,{props:this.props,propsControl:a,model:o});else if("button"===f)a.floated=o.floated,a.size=""!==o.size?o.size:null,a.content=this.props.content,a.basic=o.basic,a.circular=o.circular,a.compact=o.compact,a.disabled=o.disabled,a.fluid=o.fluid,a.primary=o.primary,a.secondary=o.secondary,a.link=o.link,o.icon&&(a.icon=o.icon),void 0!==p&&(n=a.onClick,a.onClick=function(e){n&&n(e),e.currentTarget&&e.currentTarget.classList&&e.currentTarget.classList.add("loading");var t=p({syntheticEvent:e,key:a.name,eventName:"onClick"});return e.currentTarget&&e.currentTarget.classList&&e.currentTarget.classList.remove("loading"),t}),t=W(f,{propsControl:a,isForm:this.isForm(u)});else if("label"===f)t=W(f,{props:this.props,propsControl:a,model:o});else if("message"===f)t=W(f,{props:this.props,propsControl:a,model:o});else if("input"===f)a.defaultValue=o.defaultvalue,a.size=o.size,Ve(o.label)&&(a.label=o.label),a.keyboardType=o.keyboardType,a.labelPosition=o.labelPosition,a.placeholder=o.placeholder,a.type=o.type,a.disabled=o.disabled,a.transparent=o.transparent,a.fluid=o.fluid,a.readOnly=o.readOnly||this.props.readOnly,null!=p&&(a.onChange=function(e,t){var n=t.name,r=t.value,o=r;"number"===a.type&&(""==o?o=void 0:"string"!=typeof o||"."!=(t=o[o.length-1])&&","!=t&&(o=Number(o),Number.isNaN(o)&&(o=r))),p({syntheticEvent:e,key:a.name,propertyName:i.props.propertyName,eventName:"onChange",name:n,value:o})}),null==a.value&&(a.value=""),a.error=Boolean(this.props.error),t=W(f,{isForm:this.isForm(u),props:this.props,propsControl:a});else if("textarea"===f)delete a.autoHeight,a.placeholder=o.placeholder,a.keyboardType=o.keyboardType,a.rows=null!==o.rows&&void 0!==o.rows?Number(o.rows):void 0,void 0!==o.label&&""!==o.label&&(a.label=o.label),a.readOnly=o.readOnly||this.props.readOnly,null!==p&&(a.onChange=function(e,t){var n=t.name,t=t.value;p({syntheticEvent:e,key:a.name,propertyName:i.props.propertyName,eventName:"onChange",name:n,value:t})}),null==a.value&&(a.value=""),t=W(f,{isForm:this.isForm(u),props:this.props,propsControl:a});else if("checkbox"===f)void 0!==o.label&&""!==o.label&&(a.label=o.label),a.placeholder=o.placeholder,a.type=o.type,a.disabled=o.disabled,a.fitted=o.fitted,a.indeterminate=o.indeterminate,a.readOnly=o.readOnly||this.props.readOnly,a.slider=o.slider,a.toggle=o.toggle,null!==p&&(a.onChange=function(e,t){var n=t.name,t=t.checked;p({syntheticEvent:e,key:a.name,propertyName:i.props.propertyName,eventName:"onChange",name:n,value:t})}),void 0!==l&&("boolean"==typeof variable?a.checked=l[a.name]:"true"===l[a.name]||"1"===l[a.name]?a.checked=!0:"false"===l[a.name]||"0"===l[a.name]?a.checked=!1:a.checked=Boolean(l[a.name])),s&&he(s[o.key])&&1==Boolean(s[o.key])&&(Ve(a.className)?a.className+=" error":a.className="error"),t=W(f,{isForm:this.isForm(u),propsControl:a});else if("dropdown"===f){var d,l=[];if(void 0!==o["data-elements"]&&(l=Array.isArray(o["data-elements"])?o["data-elements"]:Ce.a.parse(o["data-elements"])),void 0!==o.label&&""!==o.label&&(a.label=o.label),o.clearable&&!o.multiple&&(l=ur(l)).unshift({key:"__reset",value:"",text:"   "}),a.defaultValue=o.defaultvalue,a.placeholder=o.placeholder,a.options=l,a.fluid=o.fluid,a.selection=o.selection,a.multiple=o.multiple,a.search=o.search,a.disabled=o.disabled||o.readOnly||this.props.readOnly,s&&void 0!==s[o.key]&&(a.error=Boolean(a.error)),null!==p&&(a.onChange=function(e,t){var n=t.name,t=t.value;p({syntheticEvent:e,key:a.name,propertyName:i.props.propertyName,eventName:"onChange",name:n,value:t})}),a.allowAdditions=o.allowAddItems,a.allowAdditions&&(a.onAddItem=function(e,t){var n=t.value,t=ur(a.value);Array.isArray(t)?t.includes(n)||t.push(n):t=[n],a.onChange(e,{name:a.name,value:t})}),a.multiple){if(void 0!==a.value&&null!==a.value||(a.value=[]),!Array.isArray(a.value)){try{d=Ce.a.parse(a.value)}catch(e){}Array.isArray(d)||(d=[a.value]),a.value=d}a.allowAdditions&&this.dropdownCheckAdditional(a.value,a.options)}t=W(f,{isForm:this.isForm(u),props:this.props,propsControl:a})}else if("statistic"===f)u=[],void 0!==o["data-elements"]&&(u=Array.isArray(o["data-elements"])?o["data-elements"]:Ce.a.parse(o["data-elements"])),t=W(f,{items:u,model:o,propsControl:a});else if("image"===f)t=W(f,{me:i,model:o,props:this.props,propsControl:a});else if("form"===f)t=W(f,{propsControl:a,children:c,model:o});else if("formgroup"===f)t=W(f,{propsControl:a,widths:o.widths,widthsCustom:o.widthsCustom,children:c,orientation:o.orientation});else if("breadcrumb"===f){var h=[];if(Array.isArray(this.props.items))for(var V=0;V<this.props.items.length;V++)!function(e){var t=r.props.items[e],n={key:e};n.active=t.active,n.href=t.url,null!==p&&(n.onClick=function(e){p({syntheticEvent:e,key:a.name,eventName:"onItemClick",parameters:{target:t.url}}),e.preventDefault()}),h.push({childProps:ar({},n),text:he(t.text)?t.text:"<not set>"}),e<r.props.items.length-1&&(e={key:e+"_d"},""!==t.divider&&(e.icon=t.divider),h.push({dividerProps:ar({},e),isDivider:!0}))}(V);t=W(f,{children:h,propsControl:a})}else t=W("unknown",{props:this.props,type:f});return t}},{key:"isForm",value:function(e){return null!=e&&("form"===e["data-buildertype"]||"formgroup"===e["data-buildertype"])}},{key:"dropdownCheckAdditional",value:function(e,r){Array.isArray(e)&&e.forEach(function(e){for(var t=!1,n=0;n<r.length;n++)if(e===r[n].value){t=!0;break}0==t&&r.push({value:e,text:e})})}}]),o}();function fr(e){return(fr="function"==typeof Symbol&&"symbol"==wl(Symbol.iterator)?function(e){return wl(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":wl(e)})(e)}function dr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function hr(e,t){return(hr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Vr(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function mr(e){return(mr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function yr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var vr=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&hr(e,t)}(i,c.Component);var n,r,o=(n=i,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=mr(n),t=r?(t=mr(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this;return!t||"object"!==fr(t)&&"function"!=typeof t?Vr(e):t});function i(){var r;!function(e){if(!(e instanceof i))throw new TypeError("Cannot call a class as a function")}(this);for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return yr(Vr(r=o.call.apply(o,[this].concat(t))),"onUpload",function(e,t){var n=Vr(r),e={name:e.name,token:t.result.properties.Token,success:t.success,properties:t.result.properties};t.success?n.props.onChange&&n.props.onChange(null,{name:n.props.name,propertyName:n.props.propertyName,value:t.result.properties.Token,parameters:e}):n.props.onUploadFail&&n.props.onUploadFail(null,{name:n.props.name,propertyName:n.props.propertyName,message:t.result.message,details:t.result.details,success:!1})}),yr(Vr(r),"onClear",function(e){var t=Vr(r);t.props.onChange&&t.props.onChange(null,{name:t.props.name,propertyName:t.props.propertyName,value:null})}),r}return dr(i.prototype,[{key:"render",value:function(){var e=this.onClear,t=this.onUpload;return W("signature",{handleChange:this.handleChange,me:this,onClear:e,onUpload:t,props:this.props,state:this.state})}}]),i}();function gr(e){return(gr="function"==typeof Symbol&&"symbol"==wl(Symbol.iterator)?function(e){return wl(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":wl(e)})(e)}function br(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function wr(e,t){return(wr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Or(e){return(Or=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Cr=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&wr(e,t)}(o,c.Component);var n,r,t=(n=o,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=Or(n),t=r?(t=Or(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this;return!t||"object"!==gr(t)&&"function"!=typeof t?function(){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}():t});function o(e){return function(e){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this),(e=t.call(this,e)).state={},e}return br(o.prototype,[{key:"render",value:function(){var e={name:this.props.name,className:this.props["style-customcss"],style:this.props.style,"data-buildertype":this.props["data-buildertype"]};return W("static-content",{props:this.props,spanProps:e})}}]),o}();function kr(e){return(kr="function"==typeof Symbol&&"symbol"==wl(Symbol.iterator)?function(e){return wl(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":wl(e)})(e)}function Er(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ar(e,t){return(Ar=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Sr(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _r(e){return(_r=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var xr=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ar(e,t)}(a,c.Component);var e,t,n,r,i=(n=a,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=_r(n),t=r?(t=_r(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this;return!t||"object"!==kr(t)&&"function"!=typeof t?Sr(e):t});function a(e){var n,t,r,o;return function(e){if(!(e instanceof a))throw new TypeError("Cannot call a class as a function")}(this),o=function(e,t){t=t.activeIndex,n.props.buildermode&&n.forceUpdate(),window&&window.document&&setTimeout(function(){var e=window.document.createEvent("UIEvents");e.initUIEvent("resize",!0,!1,window,0),window.dispatchEvent(e)},50),he(n.props.handleEvent)&&n.props.handleEvent({e:e,key:n.props.name,eventName:"onTabChange",parameters:{targetIndex:t,pane:n.props["data-panes"][t]}})},(r="onTabChange")in(t=Sr(n=i.call(this,e)))?Object.defineProperty(t,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[r]=o,n.state={},he(e.value)?n.state.activeitem=e.value:null!=e.activeitem&&(n.state.activeitem=e.activeitem),n}return t=[{key:"getDerivedStateFromProps",value:function(e,t){return t.activeitem!==e.value?{activeitem:e.value}:null}}],Er((e=a).prototype,[{key:"render",value:function(){var e=this.getPanes(this.props["data-panes"]);return W("tab-group",{onTabChange:this.onTabChange,panes:e,props:this.props})}},{key:"getPanes",value:function(e){var t=[];if(Array.isArray(e))for(var n=0;n<e.length;n++){var r=e[n];if(void 0!==r.visibleCondition&&null!==r.visibleCondition&&""!==r.visibleCondition){var o="return "+r.visibleCondition;try{if(!new Function("data",o)(this.props.data))continue}catch(e){}}t.push({menuItem:r.title,pane:{key:r.psid,className:"top",content:this.renderPanel(r)}})}return t}},{key:"renderPanel",value:function(e){var t,n,r=void 0;return he(this.props.placeholders)&&Array.isArray(this.props.placeholders[e.psid])&&0<this.props.placeholders[e.psid].length?(t=this.props.placeholders[e.psid])&&(r=this.props.createControls(this,{model:t,parentPlaceholder:e.psid,data:this.props.data,formData:this.props.data,errors:this.props.errors,buildermode:this.props.buildermode,parentItem:this.props.model,children:this.props.children,handleEvent:this.props.handleEvent,readOnlyControls:this.props.readOnlyControls,hideControls:this.props.hideControls,getFormFunc:this.props.getFormFunc,getAdditionalDataForControl:this.props.getAdditionalDataForControl,readOnly:this.props.readOnly,disableRefs:this.props.disableRefs,uploadUrl:this.props.uploadUrl,downloadUrl:this.props.downloadUrl,extendedData:this.props.extendedData,controlsToReplace:this.props.controlsToReplace,needCheckReplace:this.props.needCheckReplace,eventOnEdit:this.props.eventOnEdit,eventOnDelete:this.props.eventOnDelete,eventOnCopy:this.props.eventOnCopy,externalControlRender:this.props.externalControlRender,externalControlList:this.props.externalControlList,adaptiveViewType:this.props.adaptiveViewType}),n=e.psid,this.props.buildermode&&this.props.createBuilderDropzone&&(0<r.length&&0<t.length&&r.unshift(this.props.createBuilderDropzone(n+"tab_dropzone_header",this.props.name,void 0,e.title,e.psid)),r.push(this.props.createBuilderDropzone(n+"tab_dropzone_footer",this.props.name,t[t.length-1].key,e.title,e.psid)))):this.props.buildermode&&this.props.createBuilderDropzone&&(r=this.props.createBuilderDropzone("tab_dropzone_footer",this.props.name,void 0,e.title,e.psid)),r}}]),Er(e,t),a}();function Pr(e){return(Pr="function"==typeof Symbol&&"symbol"==wl(Symbol.iterator)?function(e){return wl(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":wl(e)})(e)}function jr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Rr(e,t){return(Rr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Dr(e){return(Dr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Tr=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Rr(e,t)}(o,c.Component);var n,r,t=(n=o,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=Dr(n),t=r?(t=Dr(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this;return!t||"object"!==Pr(t)&&"function"!=typeof t?function(){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}():t});function o(e){return function(e){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this),(e=t.call(this,e)).state={},e}return jr(o.prototype,[{key:"render",value:function(){var e=this.getPanels(this.props.panels);return W("accordion",{panels:e,props:this.props})}},{key:"getPanels",value:function(e){var t=[];if(Array.isArray(e))for(var n=0;n<e.length;n++){var r=e[n];if(void 0!==r.visibleCondition&&null!==r.visibleCondition&&""!==r.visibleCondition){var o="return "+r.visibleCondition;try{if(!new Function("data",o)(this.props.data))continue}catch(e){}}t.push({key:r.psid,title:r.title,content:{content:this.renderPanel(r)}})}return t}},{key:"renderPanel",value:function(e){var t,n,r=void 0;return he(this.props.placeholders)&&Array.isArray(this.props.placeholders[e.psid])&&0<this.props.placeholders[e.psid].length?(t=this.props.placeholders[e.psid])&&(r=this.props.createControls(this,{model:t,parentPlaceholder:e.psid,data:this.props.data,formData:this.props.data,errors:this.props.errors,buildermode:this.props.buildermode,parentItem:this.props.model,children:this.props.children,handleEvent:this.props.handleEvent,readOnlyControls:this.props.readOnlyControls,hideControls:this.props.hideControls,getFormFunc:this.props.getFormFunc,getAdditionalDataForControl:this.props.getAdditionalDataForControl,readOnly:this.props.readOnly,disableRefs:this.props.disableRefs,uploadUrl:this.props.uploadUrl,downloadUrl:this.props.downloadUrl,extendedData:this.props.extendedData,controlsToReplace:this.props.controlsToReplace,needCheckReplace:this.props.needCheckReplace,eventOnEdit:this.props.eventOnEdit,eventOnDelete:this.props.eventOnDelete,eventOnCopy:this.props.eventOnCopy,externalControlRender:this.props.externalControlRender,externalControlList:this.props.externalControlList,adaptiveViewType:this.props.adaptiveViewType}),n=e.psid,this.props.buildermode&&this.props.createBuilderDropzone&&(0<r.length&&0<t.length&&r.unshift(this.props.createBuilderDropzone(n+"tab_dropzone_header",this.props.name,void 0,e.title,e.psid)),r.push(this.props.createBuilderDropzone(n+"tab_dropzone_footer",this.props.name,t[t.length-1].key,e.title,e.psid)))):this.props.buildermode&&this.props.createBuilderDropzone&&(r=this.props.createBuilderDropzone("tab_dropzone_footer",this.props.name,void 0,e.title,e.psid)),r}}]),o}();function Fr(e){return(Fr="function"==typeof Symbol&&"symbol"==wl(Symbol.iterator)?function(e){return wl(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":wl(e)})(e)}function Nr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ir(e,t){return(Ir=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Lr(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ur(e){return(Ur=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Mr=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ir(e,t)}(i,c.Component);var e,t,n,r,o=(n=i,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=Ur(n),t=r?(t=Ur(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this;return!t||"object"!==Fr(t)&&"function"!=typeof t?Lr(e):t});function i(e){var t,n,r;return function(e){if(!(e instanceof i))throw new TypeError("Cannot call a class as a function")}(this),t=o.call(this,e),r=function(e){null!=t.props.handleEvent&&t.props.handleEvent({syntheticEvent:e,key:t.props.name,propertyName:t.props.propertyName,eventName:"onClick"})},(e="onClick")in(n=Lr(t))?Object.defineProperty(n,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[e]=r,t.state={},t}return t=[{key:"copyObj",value:function(e){if(null==e||"object"!=Fr(e))return e;var t,n=e.constructor();for(t in e)e.hasOwnProperty(t)&&(n[t]=this.copyObj(e[t]));return n}}],Nr((e=i).prototype,[{key:"render",value:function(){var e={className:this.props.className,style:this.props.style};return this.props.activeEvent&&(e.onClick=this.onClick.bind(this)),W("card",{props:this.props,propsControls:e,me:this})}},{key:"renderPanel",value:function(e){var t,n,r=void 0;return null!=this.props.placeholders&&Array.isArray(this.props.placeholders[e])&&0<this.props.placeholders[e].length?(t=this.props.placeholders[e])&&(r=this.props.createControls(this,{model:t,parentPlaceholder:e,data:this.props.data,formData:this.props.data,errors:this.props.errors,buildermode:this.props.buildermode,parentItem:this.props.model,children:this.props.children,handleEvent:this.props.handleEvent,hideControls:this.props.hideControls,readOnlyControls:this.props.readOnlyControls,getFormFunc:this.props.getFormFunc,getAdditionalDataForControl:this.props.getAdditionalDataForControl,readOnly:this.props.readOnly,disableRefs:this.props.disableRefs,uploadUrl:this.props.uploadUrl,downloadUrl:this.props.downloadUrl,extendedData:this.props.extendedData,controlsToReplace:this.props.controlsToReplace,needCheckReplace:this.props.needCheckReplace,eventOnEdit:this.props.eventOnEdit,eventOnDelete:this.props.eventOnDelete,eventOnCopy:this.props.eventOnCopy,externalControlRender:this.props.externalControlRender,externalControlList:this.props.externalControlList,adaptiveViewType:this.props.adaptiveViewType}),n=e,this.props.buildermode&&this.props.createBuilderDropzone&&(0<r.length&&0<t.length&&r.unshift(this.props.createBuilderDropzone(n+"tab_dropzone_header",this.props.name,void 0,e,e)),r.push(this.props.createBuilderDropzone(n+"tab_dropzone_footer",this.props.name,t[t.length-1].key,e,e)))):this.props.buildermode&&this.props.createBuilderDropzone&&(r=this.props.createBuilderDropzone("tab_dropzone_footer",this.props.name,void 0,e,e)),r}}]),Nr(e,t),i}();function Br(e){return(Br="function"==typeof Symbol&&"symbol"==wl(Symbol.iterator)?function(e){return wl(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":wl(e)})(e)}function zr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Wr(e,t){return(Wr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Kr(e){return(Kr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Gr=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Wr(e,t)}(t,c.Component);var n,r,e=(n=t,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=Kr(n),t=r?(t=Kr(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this;return!t||"object"!==Br(t)&&"function"!=typeof t?function(){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}():t});function t(){return function(e){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),e.apply(this,arguments)}return zr(t.prototype,[{key:"componentDidMount",value:function(){this.props.onMount(this)}},{key:"render",value:function(){return W("tree-picker-header",{props:this.props})}}]),t}();function Hr(e){return(Hr="function"==typeof Symbol&&"symbol"==wl(Symbol.iterator)?function(e){return wl(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":wl(e)})(e)}function qr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Qr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Jr(e,t){return(Jr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Yr(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Xr(e){return(Xr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Zr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var $r=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Jr(e,t)}(i,c.Component);var n,r,o=(n=i,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=Xr(n),t=r?(t=Xr(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this;return!t||"object"!==Hr(t)&&"function"!=typeof t?Yr(e):t});function i(){var a;!function(e){if(!(e instanceof i))throw new TypeError("Cannot call a class as a function")}(this);for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Zr(Yr(a=o.call.apply(o,[this].concat(t))),"onChange",function(t){var e,n=Yr(a),r=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e){if(e){if("string"==typeof e)return qr(e,void 0);var t=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(t="Object"===t&&e.constructor?e.constructor.name:t)||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?qr(e,void 0):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return{s:t=function(){},n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:t}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,a=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){a=!0,o=e},f:function(){try{i||null==n.return||n.return()}finally{if(a)throw o}}}}(t.target.files);try{for(r.s();!(e=r.n()).done;){var o=e.value,i=new FormData;i.append(n.props.name,o),window.$.ajax({url:n.props.uploadUrl,type:"POST",processData:!1,contentType:!1,dataType:"json",data:i,success:function(e){e.success?n.props.onChange&&n.props.onChange(t,{name:n.props.name,propertyName:n.props.propertyName,value:e.result.properties.Token,parameters:{success:!0,properties:e.result.properties}}):n.props.onUploadFail&&n.props.onUploadFail(t,{name:n.props.name,propertyName:n.props.propertyName,message:e.message,details:e.details,success:!1})}})}}catch(e){r.e(e)}finally{r.f()}}),Zr(Yr(a),"onClear",function(){a.props.onChange&&a.props.onChange(void 0,{name:a.props.name,propertyName:a.props.propertyName,value:null})}),a}return Qr(i.prototype,[{key:"getCustomFileName",value:function(){return this.props.additionalData&&this.props.additionalDataContext&&this.props.additionalData.customNameGetter?this.props.additionalData.customNameGetter(this.props.additionalDataContext):null}},{key:"getCustomContentType",value:function(){return this.props.additionalData&&this.props.additionalDataContext&&this.props.additionalData.customContentTypeGetter?this.props.additionalData.customContentTypeGetter(this.props.additionalDataContext):null}},{key:"render",value:function(){return W("upload",{getCustomContentType:this.getCustomContentType,getCustomFileName:this.getCustomFileName,me:this,onChange:this.onChange,onClear:this.onClear,props:this.props})}}]),i}();function eo(e){return(eo="function"==typeof Symbol&&"symbol"==wl(Symbol.iterator)?function(e){return wl(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":wl(e)})(e)}function to(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function no(e,t){return(no=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ro(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function oo(e){return(oo=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function io(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ao=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&no(e,t)}(o,c.Component);var n,r,t=(n=o,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=oo(n),t=r?(t=oo(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this;return!t||"object"!==eo(t)&&"function"!=typeof t?ro(e):t});function o(e){var r;return function(e){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this),io(ro(r=t.call(this,e)),"selectWorkflowScheme",function(e,t){t=t.value,r.props.handleEvent({key:r.props.name,eventName:"onSchemeSelected",parameters:{scheme:t}})}),io(ro(r),"handleChanged",function(e,t){var n=t.name,t=t.value;r.setState(io({},n,t))}),r.state={commands:e.commands,states:e.states,processExists:e.processExists},r.checkGetAdditionalDataForControl(),r}return to(o.prototype,[{key:"componentDidMount",value:function(){this.isMount=!0}},{key:"componentWillUnmount",value:function(){this.isMount=!1}},{key:"checkGetAdditionalDataForControl",value:function(){var o=this;this.props.getAdditionalDataForControl||this.props.commands||this.props.states?this.props.getAdditionalDataForControl(this,{loadParameters:!this.props.blockLoadParameters},function(e){var t=e.commands,n=e.states,r=e.processExists,e=e.processParameters;o.setState({commands:t,states:n,processExists:r}),o.props.handleEvent&&o.props.handleEvent({key:o.props.name,eventName:"onReceivedCommands",parameters:{commands:t,states:n,processParameters:e}}),o.isMount&&o.forceUpdate()}):console&&console.log("WorkflowBar: This control requires getAdditionalDataForControl or commands and states not undefined parameters!")}},{key:"onCommand",value:function(e,t){he(this.props.handleEvent)&&(t.currentTarget&&t.currentTarget.classList&&t.currentTarget.classList.add("loading"),this.props.handleEvent({key:this.props.name,eventName:"onCommandClick",parameters:{command:e}}),t.currentTarget&&t.currentTarget.classList&&t.currentTarget.classList.remove("loading"))}},{key:"onSetState",value:function(e){if(he(this.props.handleEvent)){e.currentTarget&&e.currentTarget.classList&&e.currentTarget.classList.add("loading");for(var t=(he(this.state.states)?this.state:this.props).states,n=void 0,r=0;r<t.length;r++)if(t[r].value==this.state.setstate){n=t[r];break}this.props.handleEvent({key:this.props.name,eventName:"onSetStateClick",parameters:{state:n}}),e.currentTarget&&e.currentTarget.classList&&e.currentTarget.classList.remove("loading")}}},{key:"render",value:function(){return W("workflow-bar",{handleChanged:this.handleChanged.bind(this),me:this,props:this.props,selectWorkflowScheme:this.selectWorkflowScheme.bind(this),state:this.state,onCommand:this.onCommand.bind(this),onSetState:this.onSetState.bind(this)})}}]),o}(),t=n(14),lo=n.n(t).a.createActions(["add","showEditForm","remove","saveData","save","move","insert"]),Oe=n(17),so=n.n(Oe);function co(e){return(co="function"==typeof Symbol&&"symbol"==wl(Symbol.iterator)?function(e){return wl(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":wl(e)})(e)}function uo(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function po(e,t){return(po=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function fo(e){return(fo=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var ho=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&po(e,t)}(o,c.Component);var n,r,t=(n=o,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=fo(n),t=r?(t=fo(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this;return!t||"object"!==co(t)&&"function"!=typeof t?function(){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}():t});function o(e){return function(e){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this),(e=t.call(this,e)).state={},e.controlRef=z.a.createRef(),e.barRef=z.a.createRef(),e}return uo(o.prototype,[{key:"render",value:function(){return W("control-bar",{props:this.props,onCopyControl:this.onCopyControl.bind(this,this.props.model),me:this})}},{key:"onCopyControl",value:function(e,t){var n=Ce.a.stringify(e);(e=document.createElement("textarea")).value=n,e.setAttribute("readonly",""),e.style.position="absolute",e.style.left="-9999px",document.body.appendChild(e),n=0<document.getSelection().rangeCount&&document.getSelection().getRangeAt(0),e.select(),document.execCommand("copy"),document.body.removeChild(e),n&&(document.getSelection().removeAllRanges(),document.getSelection().addRange(n))}},{key:"componentDidMount",value:function(){this.updateBarPosition&&(window.addEventListener("resize",this.updateBarPosition),this.updateBarPosition())}},{key:"componentDidUpdate",value:function(){this.updateBarPosition&&this.updateBarPosition()}},{key:"componentWillUnmount",value:function(){this.updateBarPosition&&window.removeEventListener("resize",this.updateBarPosition)}}]),o}();function Vo(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function mo(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Vo(Object(n),!0).forEach(function(e){bo(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Vo(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function yo(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e){if(e){if("string"==typeof e)return vo(e,void 0);var t=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(t="Object"===t&&e.constructor?e.constructor.name:t)||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?vo(e,void 0):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return{s:t=function(){},n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:t}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,a=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){a=!0,o=e},f:function(){try{i||null==n.return||n.return()}finally{if(a)throw o}}}}function vo(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function go(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function bo(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var wo,Oo=(Do=[{key:"isAdaptiveRender",value:function(e,t){return!e["style-adaptive"]||null==t||""===t||!e["style-renderwhen"]||t===e["style-renderwhen"]}},{key:"isForm",value:function(e){return null!=e&&("form"===e["data-buildertype"]||"formgroup"===e["data-buildertype"])}},{key:"getFormattedDate",value:function(e,t){if(null==t)return"";var n,r=void 0,o=e.indexOf(":");return 0<o?(n=e.substring(0,o),r=e.substring(o+1,e.length)):n=e,null==(e=t[n])&&(e=""),he(r)&&("number"==typeof e?e=so()(e).format(r):(t=ze()(e)).isValid()&&(e="local"===r?(n=We("L"),t.format(n)):t.format(r))),e}},{key:"getStyle",value:function(e,t,n){var r={};return e["style-marginTop"]&&(r.marginTop=e["style-marginTop"]),e["style-marginBottom"]&&(r.marginBottom=e["style-marginBottom"]),e["style-marginLeft"]&&(r.marginLeft=e["style-marginLeft"]),e["style-marginRight"]&&(r.marginRight=e["style-marginRight"]),e["style-width"]&&(r.width=e["style-width"]),e["style-height"]&&(r.height=e["style-height"]),void 0!==e["style-float"]&&(r.float=e["style-float"]),void 0!==e["style-display"]&&(r.display=e["style-display"]),e["style-hidden"]&&(t?r.opacity=.2:r.display="none"),void 0!==e["style-source"]&&Co.getCustomStyle(e["style-source"],r),void 0!==e["style-font-size"]&&(r.fontSize=e["style-font-size"]),e["style-adaptive"]&&void 0!==e["style-mobilesource"]&&"mobile"===n&&Co.getCustomStyle(e["style-mobilesource"],r),r}},{key:"getCustomStyle",value:function(e,n){e.split(";").forEach(function(e){var t=e.split(":");2===t.length&&(e=t[0].replace(/^\s+|\s+$/g,""),n[e]=t[1].replace(/^\s+|\s+$/g,""))})}},{key:"getClassName",value:function(e,t){var n=e["style-customcss"];return t&&he(Co.containers["data-buildertype"])&&(n=(null==n?"":n+" ")+"dwkit-formbuilder-item-container"),1==e["other-required"]&&(t="dwkit-required-field",n=null==n||""==n?t:n+t),1==e["style-hiddeninprint"]?(null==n?"":n+" ")+"dwkit-notprint":n}},{key:"fillDefaultValues",value:function(e,t){for(var n in t)void 0===e[n]&&(e[n]=t[n]);return e}},{key:"createBuilderDropzone",value:function(t,n,r,e,o){var i="";return W("builder-dropzone",{key:t,elementToInsert:n,elementAfter:r,onChangeDZ:function(e,t){t.name,t=t.value,i=t},onClosePopup:function(){try{var e=Ce.a.parse(i);lo.insert(e,t,n,r,o)}catch(e){}},placeholderKey:o,text:"DROP ZONE"})}}],go((To=Co).prototype,[{key:"isContainer",value:function(e){return he(Co.containers[e])}},{key:"getItems",value:function(){return this.items}},{key:"setItems",value:function(e){this.items=e||[]}},{key:"getControlInfoByType",value:function(e,t){var n,r=yo(this.items);try{for(r.s();!(n=r.n()).done;){var o=n.value;if(o.key===e)return o}}catch(e){r.e(e)}finally{r.f()}if(t=t||function(){if(window.DWKitFormSettings)return window.DWKitFormSettings.externalControlList}()){var i,a=yo(t);try{for(a.s();!(i=a.n()).done;){var l=i.value;if(l.key===e)return l}}catch(e){a.e(e)}finally{a.f()}}}},{key:"getControlByType",value:function(e,t){return(t=this.getControlInfoByType(e,t))?t.control:null}},{key:"getEditControlByType",value:function(e,t){return(t=this.getControlInfoByType(e,t))?t.editControl:null}},{key:"createControls",value:function(e,t){var n=t.model,r=t.data,o=t.errors,i=t.eventOnEdit,a=t.eventOnDelete,l=t.eventOnCopy,s=t.handleEvent,c=t.parentItem,u=t.getFormFunc,p=t.getAdditionalDataForControl,f=t.buildermode,d=t.hideControls,h=t.readOnlyControls,V=t.readOnly,m=t.disableRefs,y=t.uploadUrl,v=t.downloadUrl,g=t.extendedData,b=t.controlsToReplace,w=t.needCheckReplace,O=t.parentPlaceholder,C=t.formItem,k=t.externalControlRender,E=t.externalControlList,A=t.adaptiveViewType,S=t.formData,_=[];if(null==n)return _;for(var x=0;x<n.length;x++)if(!(Array.isArray(d)&&d.includes(n[x].key)||!f&&!Co.isAdaptiveRender(n[x],A))){var P=void 0,j=n[x]["data-buildertype"];if("customcontrol"===j)if(void 0===n[x].type||""===n[x].type)P=W("empty",{key:n[x].key,text:"Fill Type property for rendering the control."});else{var R=mo(mo({},void 0===n[x].props?{}:Ce.a.parse(n[x].props)),{},(bo(L={key:n[x].key,name:n[x].key,className:n[x]["style-customcss"]},"className",Co.getClassName(n[x],f)),bo(L,"style",Co.getStyle(n[x],f,A)),bo(L,"data-buildertype",n[x]["data-buildertype"]),bo(L,"getAdditionalDataForControl",p),bo(L,"uploadUrl",y),bo(L,"downloadUrl",v),L));(V||Array.isArray(h)&&h.includes(R.key))&&(R.readOnly=!0);var D=n[x].children;if(void 0!==n[x].children)try{D=Ce.a.parse(n[x].children)}catch(e){}P=void 0===D||Array.isArray(D)&&0===D.length?z.a.createElement(n[x].type,R):z.a.createElement(n[x].type,R,D)}else if("customblock"===j){var T=[],F=!1,N=!1,I=!1,L=n[x],R=O,D=C;if("form"===n[x].sourceType||void 0===n[x].sourceType)if(void 0!==n[x].children&&""!==n[x].children)T=n[x].children;else{if(void 0===u){console.error('Error: "getFormFunc" parameter is undefined!. Please, set "getFormFunc" parameter for DWKitBuilder or DWKitForm!');continue}void 0!==n[x].formname&&""!==n[x].formname?T=u(n[x].formname):F=!0}else if("placeholder"===n[x].sourceType)I=N=void 0!==i,L=c,void 0===R&&(R=n[x].key),void 0!==(D=void 0===D?c:D)&&void 0!==D.placeholders&&void 0!==D.placeholders[n[x].key]&&(T=D.placeholders[n[x].key]);else if(void 0!==n[x].source&&""!==n[x].source)try{T=Ce.a.parse(n[x].source)}catch(e){F=!0}else F=!0;P=F?W("empty",{key:n[x].key,text:"Set a form name or source in properties."}):(U=this.createControls(e,{model:T,data:r,errors:o,buildermode:N,eventOnEdit:i,eventOnDelete:a,eventOnCopy:l,parentItem:L,handleEvent:s,getFormFunc:u,getAdditionalDataForControl:p,hideControls:d,readOnlyControls:h,readOnly:V,disableRefs:m,uploadUrl:y,downloadUrl:v,controlsToReplace:b,needCheckReplace:w,parentPlaceholder:R,formItem:D,extendedData:g,externalControlRender:k,externalControlList:E,adaptiveViewType:A,formData:S}),M={key:n[x].key,name:n[x].key,className:Co.getClassName(n[x],f),style:Co.getStyle(n[x],f,A),"data-buildertype":n[x]["data-buildertype"]},I&&(0<(U=void 0===U?[]:U).length&&(I=Co.createBuilderDropzone(n[x].key+"_dropzone_footer",void 0===D?void 0:D.key,U[U.length-1].key,n[x].key,n[x].key),U.push(I)),D=Co.createBuilderDropzone(n[x].key+"_dropzone_header",void 0===D?void 0:D.key,void 0,n[x].key,n[x].key),U.unshift(D)),z.a.createElement(this.getPlatformContainerControl(),M,U))}else var U,M,B=this.getControlByType(j,E),P=null===B?W("null-control",{key:n[x].key,text:"".concat(j," is unsupported")}):this.isContainer(j)?(de(M=C)&&he(c)&&"form"===c.sourceType&&(M=c),(U=void 0)!==n[x].readOnly&&(U=n[x].readOnly),(V||Array.isArray(h)&&h.includes(n[x].key))&&(U=!0),j=f&&("formgroup"===n[x]["data-buildertype"]&&"grouped"!==n[x].orientation||"container"===n[x]["data-buildertype"]&&"flex"===n[x]["style-display"]),U=this.createControls(e,{model:n[x].children,data:r,errors:o,buildermode:f,eventOnEdit:i,eventOnDelete:a,eventOnCopy:l,parentItem:n[x],handleEvent:s,getFormFunc:u,getAdditionalDataForControl:p,hideControls:d,readOnlyControls:h,readOnly:U,disableRefs:m,uploadUrl:y,downloadUrl:v,controlsToReplace:b,needCheckReplace:w,parentPlaceholder:void 0,formItem:M,extendedData:g,externalControlRender:k,externalControlList:E,adaptiveViewType:A,formData:S}),f&&(0<U.length&&(M=j?"...":"... "+n[x].key+" down ...",M=Co.createBuilderDropzone(n[x].key+"-dropzone_footer",n[x].key,void 0,M),U.push(M)),j=j?"...":"... "+n[x].key+" up ...",j=Co.createBuilderDropzone(n[x].key+"-dropzone_header",n[x].key,void 0,j),U.unshift(j)),this.createControl(e,B,{model:n[x],data:r,errors:o,parentItem:c,buildermode:f,children:U,handleEvent:s,getFormFunc:u,getAdditionalDataForControl:p,hideControls:d,readOnlyControls:h,readOnly:V,disableRefs:m,uploadUrl:y,downloadUrl:v,extendedData:g,parentPlaceholder:O,controlsToReplace:b,needCheckReplace:w,eventOnEdit:i,eventOnDelete:a,eventOnCopy:l,externalControlRender:k,externalControlList:E,adaptiveViewType:A,formData:S})):this.createControl(e,B,{model:n[x],data:r,errors:o,parentItem:c,buildermode:f,handleEvent:s,getFormFunc:u,getAdditionalDataForControl:p,hideControls:d,readOnlyControls:h,readOnly:V,disableRefs:m,uploadUrl:y,downloadUrl:v,extendedData:g,parentPlaceholder:O,controlsToReplace:b,needCheckReplace:w,eventOnEdit:i,eventOnDelete:a,eventOnCopy:l,externalControlRender:k,externalControlList:E,adaptiveViewType:A,formData:S});f?(0<x&&x<n.length&&(B=Co.createBuilderDropzone(n[x].key+"-dropzone_bw",void 0===c?void 0:c.key,n[x].key,"...",O),_.push(B)),_.push(z.a.createElement(ho,{key:P.key+"_controlbar",control:P,text:n[x]["data-buildertype"],model:n[x],parent:e,onDelete:a,onEdit:i,onCopy:l,isGroup:"formgroup"===n[x]["data-buildertype"]}))):_.push(P)}return _}},{key:"createControl",value:function(e,t,n){throw n.model,n.data,n.errors,n.parentItem,n.buildermode,n.children,n.handleEvent,n.getAdditionalDataForControl,n.getFormFunc,n.hideControls,n.readOnlyControls,n.readOnly,n.disableRefs,n.uploadUrl,n.downloadUrl,n.extendedData,n.controlsToReplace,n.needCheckReplace,n.eventOnEdit,n.eventOnDelete,n.eventOnCopy,n.externalControlRender,n.externalControlList,n.adaptiveViewType,n.formData,new Error("You must implement this method in subclass")}},{key:"setCreateControlsProps",value:function(e,t){Object.assign(e,t),e.buildermode&&(e.createBuilderDropzone=Co.createBuilderDropzone),e.createControls=this.createControls.bind(this)}},{key:"getPlatformContainerControl",value:function(){}}]),go(To,Do),Co);function Co(){!function(e){if(!(e instanceof Co))throw new TypeError("Cannot call a class as a function")}(this),bo(this,"items",[])}function ko(e){return(ko="function"==typeof Symbol&&"symbol"==wl(Symbol.iterator)?function(e){return wl(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":wl(e)})(e)}function Eo(n,r,e,t,o){var i=2<arguments.length&&void 0!==e?e:null;return((3<arguments.length&&void 0!==t?t:null)||Zn.a)(n,4<arguments.length&&void 0!==o?o:null).then(function(e){var t=e.json();return e.ok?t.then(r):i?t.then(i):void console.log(error+" url: "+n)}).catch(function(e){return i?i(e):void console.log(e+" url: "+n)})}function Ao(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}bo(Oo,"containers",{form:"",formgroup:"",grid:"",gridcolumn:"",container:"",div:"",repeater:""}),n(14).createStore({init:function(){this.listenTo(lo.add,this.add),this.listenTo(lo.move,this.move),this.listenTo(lo.remove,this.remove),this.listenTo(lo.save,this.save),this.listenTo(lo.saveData,this._updateOrder),this.listenTo(lo.insert,this.insert),wo=[]},move:function(e,t){var n,r,o,i,a,l,s;null!=t&&(n=this.findItemByKey(e,wo),r=this._excludeItemByKey(e,wo),t.attributes.name&&"dropzone_footer"===t.attributes.name.value?r.push(n):t.attributes.name&&"dropzone_header"===t.attributes.name.value?r.unshift(n):null!=t.attributes.elementtoinsert?null!=(o=null!=(i=t.attributes.elementtoinsert)?this.findItemByKey(i.value,r):o)?(a=(a=void 0)===(e=t.attributes.placeholderkey)?(null==o.children&&(o.children=[]),o.children):(void 0===o.placeholders&&(o.placeholders={}),null==o.placeholders[e.value]&&(o.placeholders[e.value]=[]),o.placeholders[e.value]),null!=t.attributes.name&&t.attributes.name.value.includes("dropzone_footer")?a.push(n):null!=t.attributes.name&&t.attributes.name.value.includes("dropzone_header")?a.unshift(n):null!=(s=t.attributes.elementafter)&&(e=this.findItemByKey(s.value,a),a.splice(a.indexOf(e),0,n))):console.error("ERROR: element is not found",i,n,t):null!=t.attributes.elementafter&&(null!=(l=null!=(s=t.attributes.elementafter)?this.findItemByKey(s.value,r):l)?r.splice(r.indexOf(l),0,n):console.error("ERROR: element is not found",s,n,t)),this.setData(r))},insert:function(e,t,n,r,o){var i,a,l;e&&(this.makeUniqueKeys(e,this.getAllKeys(i=wo)),"dropzone_footer"===t?i.push(e):"dropzone_header"===t?i.unshift(e):n?null!=(l=this.findItemByKey(n,i))?(a=(a=void 0)===o?(null==l.children&&(l.children=[]),l.children):(void 0===l.placeholders&&(l.placeholders={}),null==l.placeholders[o.value]&&(l.placeholders[o.value]=[]),l.placeholders[o.value]),t&&t.includes("dropzone_footer")?a.push(e):t&&t.includes("dropzone_header")?a.unshift(e):null!=r&&(t=this.findItemByKey(r,a),a.splice(a.indexOf(t),0,e))):console.error("ERROR: element is not found",l,e,n):null!=r&&(null!=(n=this.findItemByKey(r,i))?i.splice(i.indexOf(n),0,e):console.error("ERROR: element is not found",r,e)),this.setData(i))},_excludeItemByKey:function(e,t){for(var n=[],r=0;r<t.length;r++)if(t[r].key!=e&&(n.push(t[r]),t[r].children&&(n[n.length-1].children=this._excludeItemByKey(e,t[r].children)),null!=t[r].placeholders))for(var o in t[r].placeholders)Array.isArray(t[r].placeholders[o])&&(n[n.length-1].placeholders[o]=this._excludeItemByKey(e,t[r].placeholders[o]));return n},add:function(e,t){var n,r,o,i,a,l,s,c=Oo.fillDefaultValues({key:this.getDefaultKey(e.key),"data-buildertype":void 0!==e.builderType?e.builderType:e.key},e.defaultValues);null==t?0<wo.length&&"form"===wo[wo.length-1]["data-buildertype"]?(null==(o=wo[wo.length-1]).children&&(o.children=[]),o.children.push(c)):wo.push(c):t.attributes.name&&"dropzone_footer"===t.attributes.name.value?wo.push(c):t.attributes.name&&"dropzone_header"===t.attributes.name.value?wo.unshift(c):null!=t.attributes.elementtoinsert?null!=(n=null!=(r=t.attributes.elementtoinsert)?this.findItemByKey(r.value,wo):n)?(a=(a=void 0)===(o=t.attributes.placeholderkey)?(null==n.children&&(n.children=[]),n.children):(void 0===n.placeholders&&(n.placeholders={}),null==n.placeholders[o.value]&&(n.placeholders[o.value]=[]),n.placeholders[o.value]),null!=t.attributes.name&&t.attributes.name.value.includes("dropzone_footer")?a.push(c):null!=t.attributes.name&&t.attributes.name.value.includes("dropzone_header")?a.unshift(c):(null!=(s=t.attributes.elementafter)&&(i=this.findItemByKey(s.value,a)),a.splice(a.indexOf(i),0,c))):console.error("ERROR: element is not found",r,e,t):null!=t.attributes.elementafter&&(null!=(l=null!=(s=t.attributes.elementafter)?this.findItemByKey(s.value,wo):l)?wo.splice(wo.indexOf(l),0,c):console.error("ERROR: element is not found",s,t)),this.trigger(wo)},remove:function(e){this.removeItemByKey(e.key,wo),this.trigger(wo)},copy:function(e){var t=this.copyObj(e);this.insertAfterKey(t,e.key,wo),this.makeUniqueKeys(t),this.trigger(wo)},getData:function(){return wo},setData:function(e){wo=e,this.trigger(wo)},_updateOrder:function(e){wo=e,this.trigger(wo)},getDefaultKey:function(e){for(var t=1,n=e+"_"+t,r=this.getAllKeys(wo),o=0;o<r.length;o++)r[o]==(n=e+"_"+t)&&(t++,o=-1);return n},getAllKeys:function(e){var t=[];if(null!=e)for(var n=0;n<e.length;n++){var r=e[n];if(t.push(r.key),null!=r.children)var o=this.getAllKeys(r.children),t=t.concat(o);else if(null!=r.placeholders)for(var i in r.placeholders)Array.isArray(r.placeholders[i])&&(i=this.getAllKeys(r.placeholders[i]),t=t.concat(i))}return t},getByKey:function(e){return this.findItemByKey(e,wo)},findItemByKey:function(e,t){for(var n=0;n<t.length;n++){var r,o=t[n];if(o.key==e)return o;if(null!=o.children){if(null!=(r=this.findItemByKey(e,o.children)))return r}else if(null!=o.placeholders)for(var i in o.placeholders)if(Array.isArray(o.placeholders[i])&&null!=(r=this.findItemByKey(e,o.placeholders[i])))return r}},insertAfterKey:function(e,t,n){for(var r=0;r<n.length;r++){var o=n[r];if(o.key==t)return n.splice(r+1,0,e),!0;if(void 0!==o.children&&this.insertAfterKey(e,t,o.children))return!0;if(void 0!==o.placeholders)for(var i in o.placeholders)if(Array.isArray(o.placeholders[i])&&this.insertAfterKey(e,t,o.placeholders[i]))return!0}},updateItemByKey:function(e,t){var n,r=this.getByKey(e);for(n in t)r[n]=t[n];e!=t.key&&this.replaceDepensKeys(e,t.key),this.trigger(wo)},replaceDepensKeys:function(e,t,n){null==n&&(n=wo);for(var r=0;r<n.length;r++){var o=n[r];if(Array.isArray(o["events-onclick-targets"]))for(var i=o["events-onclick-targets"],a=0;a<i.length;a++)i[a]==e&&(i[a]=t);if(null!=o.children&&this.replaceDepensKeys(e,t,o.children),void 0!==o.placeholders)for(var l in o.placeholders)Array.isArray(o.placeholders[l])&&this.replaceDepensKeys(e,t,o.placeholders[l])}},removeItemByKey:function(e,t){for(var n=0;n<t.length;n++){var r=t[n];if(r.key==e){t.splice(n,1);break}if(null!=r.children&&this.removeItemByKey(e,r.children),void 0!==r.placeholders)for(var o in r.placeholders)Array.isArray(r.placeholders[o])&&this.removeItemByKey(e,r.placeholders[o])}},copyObj:function(e){if(null==e||"object"!==ko(e))return e;var t,n=e.constructor();for(t in e)e.hasOwnProperty(t)&&(n[t]=this.copyObj(e[t]));return n},makeUniqueKeys:function(e,t){var n=this,r=e["data-buildertype"];if(r&&e.key&&(!t||t&&t.includes(e.key))&&(e.key=this.getDefaultKey(r)),Array.isArray(e.children)&&e.children.forEach(function(e){n.makeUniqueKeys(e,t)}),void 0!==e.placeholders)for(var o in e.placeholders)Array.isArray(e.placeholders[o])&&e.placeholders[o].forEach(function(e){n.makeUniqueKeys(e,t)})}});var So=(Ao(xo.prototype,[{key:"registerItems",value:function(e){So.items=e}},{key:"getItems",value:function(){return So.items}}]),new xo),ke=So.registerItems,Be=So.getItems,_o=z.a.createContext({visible:!1});function xo(){var e;!function(e){if(!(e instanceof xo))throw new TypeError("Cannot call a class as a function")}(this),e=[],"items"in this?Object.defineProperty(this,"items",{value:e,enumerable:!0,configurable:!0,writable:!0}):this.items=e}var Po=function t(){!function(e){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this)};function jo(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}Ro=/{\S[A-z,0-9,_,-,.,:, ,/]+?}/gm,(To="regexForReplace")in(Do=Po)?Object.defineProperty(Do,To,{value:Ro,enumerable:!0,configurable:!0,writable:!0}):Do[To]=Ro;var Ro,Do,To,Fo={},No=(Do=Lo,To=[{key:"Set",value:function(e,t,n){Fo.hasOwnProperty(e)&&clearTimeout(Fo[e]),Fo[e]=setTimeout(t,n)}},{key:"Clear",value:function(e){Fo.hasOwnProperty(e)&&(clearTimeout(Fo[e]),delete Fo[e])}}],(Ro=null)&&jo(Do.prototype,Ro),jo(Do,To),Lo),Io=n(3);function Lo(){!function(e){if(!(e instanceof Lo))throw new TypeError("Cannot call a class as a function")}(this)}function Uo(e){return(Uo="function"==typeof Symbol&&"symbol"==wl(Symbol.iterator)?function(e){return wl(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":wl(e)})(e)}function Mo(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function Bo(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Mo(Object(n),!0).forEach(function(e){Ho(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Mo(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function zo(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Wo(e,t){return(Wo=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ko(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Go(e){return(Go=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ho(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n(24);var qo=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Wo(e,t)}(i,c.Component);var e,t,n,r,o=(n=i,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=Go(n),t=r?(t=Go(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this;return!t||"object"!==Uo(t)&&"function"!=typeof t?Ko(e):t});function i(e){var f;return function(e){if(!(e instanceof i))throw new TypeError("Cannot call a class as a function")}(this),Ho(Ko(f=o.call(this,e)),"_asyncGetData",null),Ho(Ko(f),"_asyncGetModel",null),Ho(Ko(f),"handleEvent",function(e){e.e;var o,i,a=e.key,t=e.propertyName,l=e.eventName,s=e.parameters,n=e.name,c=e.value,r=e.additionalValues,u=Ko(f),p="onChange"===l;p&&(f.props.onlyExternalDataChanged||(void 0===f.state.data&&(f.state.data={}),(e=f.state.data)[t||a]=c,f.setState({data:e})),void 0!==f.props.dataChanged&&f.props.dataChanged(Ko(f),{key:a,propertyName:t,value:c,additionalValues:r}),f.onConditions(a,l,s,n,c)),void 0===f.props.eventFunc||void 0!==(o=f.findModelItembyKey(a))&&void 0!==o.events&&void 0!==o.events[l]&&o.events[l].active&&(o.events=Object(Io.updateEventsFormat)(o.events),n=o.events[l],i=Bo({},s),Array.isArray(n.triggers)&&0<n.triggers.length&&n.triggers.forEach(function(t){Array.isArray(t.parameters)&&0<t.parameters.length&&t.parameters.forEach(function(e){"string"==typeof e.value?i[e.name]=e.value.replace(Po.regexForReplace,function(e){return u.applySubstitution(e,s?s.row:void 0,u.state.data)}):i[e.name]=e.value});var n=u.findRefs(a),r=c,e=Array.isArray(t.targets)&&0<t.targets.length?function(){return t.targets.forEach(function(e){u.props.eventFunc({key:e,sourceControlRef:n,sourceControlValue:r,controlRef:u.findRefs(e),formName:u.props.formName,component:u,eventName:l,actions:t.actions,parameters:i})})}:function(){return u.props.eventFunc({key:a,sourceControlRef:n,sourceControlValue:r,controlRef:n,formName:u.props.formName,component:u,eventName:l,actions:t.actions,parameters:i})};!p||void 0===o.onChangeTimeout||""===o.onChangeTimeout||Number(o.onChangeTimeout)<1?e():No.Set(a,e,Number(o.onChangeTimeout))}))}),f.state={data:e.data,model:e.model,extendedData:e.extendedData,controlsToReplace:null,adaptiveViewType:f.getAdaptiveViewType()},f.checkLoadedState(f.state.data,f.state.model,!0),f.abortController=new AbortController,f.abortSignal=f.abortController.signal,f}return t=[{key:"getDerivedStateFromProps",value:function(e,t){var n,r={};if(e.adaptiveViewType&&t.adaptiveViewType!==e.adaptiveViewType&&(r.adaptiveViewType=e.adaptiveViewType),void 0!==e.modelurl&&""!==e.modelurl&&e.modelurl!==t.modelurl&&(r.modelurl=e.modelurl,r.needFetchModel=!0),void 0!==e.model&&e.model!==t.model&&(r.controlsToReplace=null,r.model=e.model),void 0!==e.dataurl&&""!==e.dataurl&&e.dataurl!==t.dataurl&&(r.dataurl=e.dataurl,r.needFetchData=!0),void 0!==e.data&&(r.data=e.data,e.autoCheckConditions&&t.enableCheckConditions&&(n=Object(Io.checkConditions)({data:r.data,model:r.model||t.model}),r.hideControls=n.hideControls,r.readOnlyControls=n.readOnlyControls),e.autoValidate))if((n=Object(Io.validate)({data:r.data,model:r.model||t.model})).valid)r.errors=void 0;else if(r.errors=n.errors,e.errors)for(var o in e.errors)r.errors[o]=e.errors[o];return e.objectId!==t.objectId&&(r.objectId=e.objectId,r.isLoaded=!1),r}}],zo((e=i).prototype,[{key:"createControls",value:function(){throw new Error("Function createControls must be implemented in ancestor!")}},{key:"componentDidMount",value:function(){this.PrepareState()}},{key:"componentDidUpdate",value:function(e,t){this.PrepareState()}},{key:"componentWillUnmount",value:function(){(this._asyncGetData||this._asyncGetModel)&&this.abortController.abort()}},{key:"PrepareState",value:function(){var t=this;this.state.needFetchModel&&(t.setState({needFetchModel:!1}),this._asyncGetModel=Eo(this.state.modelurl,function(e){t._asyncGetModel=null,t.modelChanged(e)},function(e){t._asyncGetModel=null,t.handleErrEvent(e)},this.props.fetchFunc,{signal:this.abortSignal})),this.state.needFetchData&&(t.setState({needFetchData:!1}),this._asyncGetData=Eo(this.state.modelurl,function(e){t._asyncGetData=null,t.dataChanged(e)},function(e){t._asyncGetData=null,t.handleErrEvent(e)},this.props.fetchFunc,{signal:this.abortSignal})),this.checkConditions(this.state.model),this.checkLoadedState(this.state.data,this.state.model)}},{key:"modelChanged",value:function(e){this.setState({model:e,controlsToReplace:null}),this.checkConditions(e)}},{key:"dataChanged",value:function(e){this.setState({data:e}),this.checkLoadedState(e,this.state.model)}},{key:"checkLoadedState",value:function(e,t,n){this.state.isLoaded||null==e||null==t||(n?this.state.isLoaded=!0:this.setState({isLoaded:!0}),e=Bo({},e),Object(Io.initDefaultState)({model:t,data:e}),this.props.eventFunc({key:void 0,controlRef:this,formName:this.props.formName,component:this,eventName:"init",actions:["initSystem","init"],parameters:{initialData:e}}))}},{key:"findRefs",value:function(e,t){if(t=t||this.refs){var n=t[e];if(!n)for(var r in t)if(n=t[r].refs?this.findRefs(e,t[r].refs):n)break;return n}}},{key:"checkConditions",value:function(e,t){var n=!1;if(Array.isArray(e))for(var r=0;r<e.length;r++){if(void 0!==e[r]["other-visibleConition"]&&""!==e[r]["other-visibleConition"]||void 0!==e[r]["other-readOnlyConition"]&&""!==e[r]["other-readOnlyConition"])n=!0;else if(Array.isArray(e[r].children))n=this.checkConditions(e[r].children,!0);else if("object"==Uo(e[r].placeholders))for(var o in e[r].placeholders)n=this.checkConditions(e[r].placeholders[o],!0);if(n)break}if(t)return n;this.state.enableCheckConditions=n}},{key:"onConditions",value:function(e,t,n,r,o){var i;this.state.enableCheckConditions&&(this.props.autoCheckConditions&&this.state.enableCheckConditions?(i=Object(Io.checkConditions)({data:this.state.data,model:this.state.model}),this.setState({hideControls:i.hideControls,readOnlyControls:i.readOnlyControls})):this.props.eventFunc({key:e,controlRef:this.findRefs(e),formName:this.props.formName,component:this,eventName:t,actions:["checkConditions"],parameters:n}))}},{key:"handleErrEvent",value:function(e){this.props.eventErrFunc&&this.props.eventErrFunc(this,e)}},{key:"findModelItembyKey",value:function(e,t){void 0===t&&(t=this.state.model);for(var n=0;n<t.length;n++){if(t[n].key===e)return t[n];if(void 0!==t[n].children){var r=this.findModelItembyKey(e,t[n].children);if(void 0!==r)return r}if(void 0!==t[n].placeholders)for(var o in t[n].placeholders)if(void 0!==(o=this.findModelItembyKey(e,t[n].placeholders[o])))return o;if("customblock"===t[n]["data-buildertype"]&&"source"===t[n].sourceType&&null!=t[n].source){var i=Ce.a.parse(t[n].source);if(void 0!==(i=this.findModelItembyKey(e,i)))return i}if("customblock"===t[n]["data-buildertype"]&&"form"===t[n].sourceType&&void 0!==t[n].formname&&""!==t[n].formname&&(i=t[n].children||this.props.getFormFunc(t[n].formname),void 0!==(i=this.findModelItembyKey(e,i))))return i}}},{key:"getAdaptiveViewType",value:function(){return"mobile"}},{key:"handleResize",value:function(){var e=this.getAdaptiveViewType();this.state.adaptiveViewType!==e&&this.setState({adaptiveViewType:e})}},{key:"applySubstitution",value:function(e,t,n){var r=e;return null!=t&&"row."==e.slice(1,5)?null==(r=t[e.slice(5,e.length-1)])?"":r:null!=n&&null==(r=n[e.slice(1,e.length-1)])?"":r}}]),zo(e,t),i}();function Qo(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Jo(e,t,n){void 0===t[e]&&(t[e]=[]),t[e].push(n)}var Yo=(Qo(Xo.prototype,[{key:"toNested",value:function(e,t){for(var n,r,o,i=0,a=[],l={},s={},c=e.length;i<c;i++)n=(o=e[i])[this.config.id],r=o[this.config.parent],l[n]=o,r===t?a.push(o):void 0!==l[r]?Jo(this.config.children,l[r],o):Jo(r,s,o),this.config.options.deleteParent&&delete o[this.config.parent],void 0!==s[n]&&function(e,t,n){var r=n.length;for(void 0===t[e]&&(t[e]=[]);0<r--;)t[e].push(n.shift())}(this.config.children,o,s[n]);return a}}]),Xo);function Xo(e){!function(e){if(!(e instanceof Xo))throw new TypeError("Cannot call a class as a function")}(this),this.config=e=e||{},this.config.id=e.id||"id",this.config.parent=e.parent||"parent",this.config.children=e.children||"nodes",this.config.options=e.options||{deleteParent:!1}}function Zo(e){return(Zo="function"==typeof Symbol&&"symbol"==wl(Symbol.iterator)?function(e){return wl(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":wl(e)})(e)}function $o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ei(e,t,n){return(ei="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){if(e=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=ni(e)););return e}(e,t))return(t=Object.getOwnPropertyDescriptor(e,t)).get?t.get.call(n):t.value})(e,t,n||e)}function ti(e,t){return(ti=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ni(e){return(ni=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var ri=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ti(e,t)}(t,qo);var n,r,e=(n=t,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=ni(n),t=r?(t=ni(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this;return!t||"object"!==Zo(t)&&"function"!=typeof t?function(){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}():t});function t(){return function(e){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),e.apply(this,arguments)}return $o(t.prototype,[{key:"componentDidMount",value:function(){ei(ni(t.prototype),"componentDidMount",this).call(this),window.addEventListener&&window.addEventListener("resize",this.handleResize.bind(this))}},{key:"componentWillUnmount",value:function(){ei(ni(t.prototype),"componentWillUnmount",this).call(this),window.removeEventListener&&window.removeEventListener("resize",this.handleResize.bind(this))}},{key:"getItemsForRender",value:function(){var e=[],t=!1;null!==this.state.model&&void 0!==this.state.model&&(e=null===this.state.controlsToReplace?[]:this.state.controlsToReplace,t=null===this.state.controlsToReplace);var n=this.createControls(this,{model:this.state.model,data:this.state.data,errors:this.state.errors||this.props.errors,handleEvent:this.handleEvent,getFormFunc:this.props.getFormFunc,getAdditionalDataForControl:this.props.getAdditionalDataForControl,hideControls:(this.props.autoCheckConditions?this.state:this.props).hideControls,readOnlyControls:(this.props.autoCheckConditions?this.state:this.props).readOnlyControls,readOnly:this.props.readOnly,uploadUrl:this.props.uploadUrl,downloadUrl:this.props.downloadUrl,extendedData:this.props.extendedData,controlsToReplace:e,needCheckReplace:t,externalControlRender:this.props.externalControlRender,externalControlList:this.props.externalControlList,adaptiveViewType:this.props.adaptiveViewType||this.state.adaptiveViewType});return t&&(this.state.controlsToReplace=e),n}},{key:"getAdaptiveViewType",value:function(){return window.matchMedia&&window.matchMedia("(max-width: 997px)").matches?"mobile":"desktop"}}]),t}(),oi=n(1),Xn=n(6),ii=n.n(Xn);function ai(e){return(ai="function"==typeof Symbol&&"symbol"==wl(Symbol.iterator)?function(e){return wl(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":wl(e)})(e)}function li(){return(li=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function si(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e){if(e){if("string"==typeof e)return ci(e,void 0);var t=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(t="Object"===t&&e.constructor?e.constructor.name:t)||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?ci(e,void 0):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return{s:t=function(){},n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:t}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,a=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){a=!0,o=e},f:function(){try{i||null==n.return||n.return()}finally{if(a)throw o}}}}function ci(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ui(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function pi(e,t){return(pi=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function fi(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function di(e){return(di=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function hi(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Vi=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&pi(e,t)}(i,c.Component);var e,t,n,r,o=(n=i,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=di(n),t=r?(t=di(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this;return!t||"object"!==ai(t)&&"function"!=typeof t?fi(e):t});function i(e){var r;return function(e){if(!(e instanceof i))throw new TypeError("Cannot call a class as a function")}(this),hi(fi(r=o.call(this,e)),"onMount",function(e){r.modal=$(ii.a.findDOMNode(e)).parent(),r.count=$(".count",r.modal),r.tabs={tree:$(".tree-tab",r.modal),search:$(".search-tab",r.modal),picked:$(".picked-tab",r.modal)},$(".menu .tree",r.modal).on("click",function(){return r.showTree()}),$(".menu .picked",r.modal).on("click",function(){return r.showPicked()}),$(".search input",r.modal).on("keyup",function(e){return r.showSearch($(e.currentTarget).val())}),r.nodes.length&&(r.props.paging?r.loadCurrentValue():(r.updatePickedNodes(r.getPicked()),r.updatePickedCount()),r.initializeNodes(r.nodes))}),hi(fi(r),"pickSearch",function(){$(".search-tab .node:not(.picked) .name",r.modal).trigger("click")}),hi(fi(r),"unpickSearch",function(){$(".search-tab .node.picked .name",r.modal).trigger("click")}),hi(fi(r),"unpickPicked",function(){$(".picked-tab .node.picked .name",r.modal).trigger("click")}),hi(fi(r),"handleOpen",function(){r.state.visible||r.setState({visible:!0})}),hi(fi(r),"handleClose",function(){r.setState({visible:!1})}),hi(fi(r),"handleSave",function(){var e=r.props.multiple?r.picked.map(function(e){return e.id}):r.picked.length?r.picked[0].id:null,t=r.getAdditionalValues(e);r.onChange(e,t),r.setState({visible:!1})}),hi(fi(r),"onDropdownChange",function(e,t){var n=t.value,t=r.getAdditionalValues(n);r.onChange(n,t)}),r.state={visible:!1,value:r.props.value},r.converter=new Yo({children:r.props.childrenKey}),r}return t=[{key:"getDerivedStateFromProps",value:function(e,t){return e.dataModel!==t.dataModel?{getAdditionalDataForControl:e.getAdditionalDataForControl,dataModel:e.dataModel,needFetch:!0,needValueFetch:!0}:e.paging&&e.value!==t.value&&void 0!==e.value?{needValueFetch:!0,value:e.value}:null}}],ui((e=i).prototype,[{key:"componentDidMount",value:function(){this.widget=$(ii.a.findDOMNode(this)),this.nodes=[],this.tabs={},this.picked=[],this.opened=[],this.checkFetch()}},{key:"componentDidUpdate",value:function(e,t){this.checkFetch()}},{key:"checkFetch",value:function(){this.state.needFetch?this.getAdditionalData(null):this.state.needValueFetch&&this.loadCurrentValue()}},{key:"getNodeById",value:function(t){var e=this.recursiveNodeSearch(this.nodes,function(e){return"".concat(e.id)==="".concat(t)});return e.length?e[0]:null}},{key:"getPicked",value:function(){var e=[];return this.props.multiple?this.getArrayValues(this.props.value):(this.props.value&&e.push(this.props.value),e)}},{key:"updatePickedNodes",value:function(e){if(e){this.picked=[];var t,n=si(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,o=this.recursiveNodeSearch(this.nodes,function(t){return function(e){return"".concat(e.id)==="".concat(t)}}(r));o.length&&this.picked.push(o[0])}}catch(e){n.e(e)}finally{n.f()}}}},{key:"initializeNodes",value:function(e){return e=this.renderTree(e,this.state.rowsCount,null,0,{height:"400px",overflowY:"scroll"}),this.tabs.tree.html(e),this.initializeNodeList(e)}},{key:"recursiveNodeSearch",value:function(e,t){var n=[];if(!Array.isArray(e))return n;for(var r=0,o=Array.from(e);r<o.length;r++){var i=o[r];t(i)&&n.push(i),i[this.props.childrenKey]&&i[this.props.childrenKey].length&&(n=n.concat(this.recursiveNodeSearch(i[this.props.childrenKey],t)))}return n}},{key:"renderTree",value:function(e,t,n,r,o){o=o||{};for(var i=$('<div class="ui tree-picker tree"></div>').css(o),a=0,l=e.length;a<l;a++){var s=e[a],c=this.opened.includes(s.id)?" opened":"";this.props.hidden(s)||(c=$('<div class="node'.concat(c,'" data-id="').concat(s.id,'" data-name="').concat(s.name,'">\n    <div class="head">\n        <i class="add circle icon"></i>\n        <i class="minus circle icon"></i>\n        <i class="radio icon"></i>\n        <a class="name">').concat(s.name,'</a>\n        <i class="checkmark icon"></i>\n    </div>\n    <div class="content').concat(c,'"></div>\n</div>')).appendTo(i),this.props.disabledClause(s)&&c.addClass("disabled"),s[this.props.childrenKey]&&s[this.props.childrenKey].length?$(".content",c).append(this.renderTree(s[this.props.childrenKey],s.rowsCount,s.id,0)):s.hasChild||c.addClass("childless"))}return this.props.paging&&e.length+r<t&&$('<div class="node pager" data-parent-id="'.concat(n,'" data-start-index="').concat(e.length+r,'">\n    <div class="head">\n        <a class="name">...</a>\n    </div>\n</div>')).appendTo(i),i}},{key:"initializeNodeList",value:function(e){var o=this;$(".node",e).each(function(e,t){var n=$(t),t=$(">.head",n),r=$(">.content",n);$(">.name",t).on("click",function(){n.hasClass("pager")?o.pagerClicked(n):o.nodeClicked(n)}),o.nodeIsPicked(n)&&n.addClass("picked"),n.hasClass("childless")||$(">.icon",t).on("click",function(){var t=o.getNodeById(o.getNodeId(n));!t||!t.hasChild||t[o.props.childrenKey]&&t[o.props.childrenKey].length?r.slideToggle():o.getAdditionalData(t.id,n),n.toggleClass("opened"),o.opened.includes(t.id)?o.opened=o.opened.filter(function(e){return e!==t.id}):o.opened.push(t.id)})})}},{key:"pagerClicked",value:function(e){this.getAdditionalData(e.data("parent-id"),e,e.data("start-index"))}},{key:"nodeClicked",value:function(e){if(!e.hasClass("disabled")){if(!this.props.multiple){if(this.picked.length&&this.props.clearable&&this.picked[0].id===this.getNodeId(e))return this.unpickNode(e);$(".node.picked",this.modal).removeClass("picked"),this.picked=[]}return e.toggleClass("picked"),e.hasClass("picked")?this.pickNode(e):this.unpickNode(e)}}},{key:"nodeIsPicked",value:function(t){var n=this;return this.picked.filter(function(e){return"".concat(e.id)===n.getNodeId(t)}).length}},{key:"updatePickedCount",value:function(){return this.picked.length?(this.count.closest(".item").addClass("highlighted"),this.count.html("("+this.picked.length+")")):(this.count.closest(".item").removeClass("highlighted"),this.count.html(""))}},{key:"getNodeId",value:function(e){return e.attr("data-id")}},{key:"pickNode",value:function(e){var t=this.getNodeId(e);return this.picked.push({id:t,name:e.attr("data-name")}),this.updatePickedCount(),$(".node[data-id="+t+"]",this.modal).addClass("picked")}},{key:"unpickNode",value:function(e){var t=this.getNodeId(e);return this.picked=this.picked.filter(function(e){return"".concat(e.id)!=="".concat(t)}),this.updatePickedCount(),$(".node[data-id="+t+"]",this.modal).removeClass("picked")}},{key:"showTree",value:function(){return $(".menu .item",this.modal).removeClass("active"),$(".menu .tree",this.modal).addClass("active"),this.tabs.tree.show(),this.tabs.search.hide(),this.tabs.picked.hide(),this.modal.attr("data-mode","tree")}},{key:"getColumnsForFilter",value:function(){var e=new RegExp(" asc","gi"),t=this.props.columns.replace(e,""),e=new RegExp(" desc","gi"),t=t.replace(e,"");return e=new RegExp(" ","gi"),t.replace(e,"")}},{key:"showSearch",value:function(t){var e,n,r=this;null!==t&&t.length>=this.props.minSearchQueryLength?this.props.paging?(e={model:this.state.dataModel,filters:[{column:this.getColumnsForFilter(),term:"like",value:t}]},this.setState({isFetching:!0},function(){r.state.getAdditionalDataForControl(r,e,function(e){e=e.items,r.setState({isFetching:!1}),r.renderSearchResults(e,t)})})):(n=this.recursiveNodeSearch(this.nodes,function(e){return e.name&&-1<e.name.toLowerCase().indexOf(t.toLowerCase())}),this.renderSearchResults(n,t)):this.showTree()}},{key:"renderSearchResults",value:function(e,n){e=this.renderList(e,{height:"400px",overflowY:"scroll"}),$(".menu .item",this.modal).removeClass("active"),this.tabs.search.show().html(e),this.tabs.tree.hide(),this.tabs.picked.hide(),this.modal.attr("data-mode","search"),this.initializeNodeList(e),$(".name",e).each(function(){var e=$(this).text(),t=RegExp("("+n+")","gi"),e=e.replace(t,"<strong class='search-query'>$1</strong>");$(this).html(e)})}},{key:"showPicked",value:function(){var e=this.renderList(this.picked,{height:"400px",overflowY:"scroll"});return $(".menu .item",this.modal).removeClass("active"),$(".menu .picked",this.modal).addClass("active"),this.tabs.picked.show().html(e),this.tabs.tree.hide(),this.tabs.search.hide(),this.modal.attr("data-mode","picked"),this.initializeNodeList(e)}},{key:"renderList",value:function(e,t){var n,r,o,i,a;for(t=t||{},n=$('<div class="ui tree-picker list"></div>').css(t),i=0,a=e.length;i<a;i++)r=e[i],this.props.hidden(r)||(o=$('<div class="node" data-id="'.concat(r.id,'" data-name="').concat(r.name,'">\n    <div class="head">\n        <a class="name">').concat(r.name,'</a>\n        <i class="checkmark icon"></i>\n    </div>\n    <div class="content"></div>\n</div>')).appendTo(n),this.props.disabledClause(r)&&o.addClass("disabled"));return n}},{key:"getAdditionalData",value:function(n,r){var e,o=this,i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0;this.state.dataModel?this.state.getAdditionalDataForControl?(e={model:this.state.dataModel},this.props.paging&&(e.startIndex=i,e.pageSize=this.props.pageSize),this.setState({isFetching:!0,needFetch:!1,parentIdToFetch:n},function(){o.state.getAdditionalDataForControl(o,e,function(e){var t=e.items,e=e.rowsCount,t=o.converter.toNested(t,n);o.setData({items:t,rowsCount:e,parentIdToFetch:n},!i),o.props.paging?(e=o.renderTree(t,e,n,i),o.initializeNodeList(e),i?r.replaceWith(e.children()):($(".content",r).append(e),$(">.content",r).slideToggle())):(o.updatePickedNodes(o.getPicked()),o.modal&&o.initializeNodes(o.nodes)),o.state.needValueFetch&&o.loadCurrentValue()})})):this.props.buildermode&&console.log("TreePicker: For paging on server need to set getAdditionalDataForControl func!"):this.props.buildermode&&console.log("TreePicker: Set DataModel label!")}},{key:"loadCurrentValue",value:function(){var t=this;if(this.picked=[],void 0!==this.props.value&&null!==this.props.value)if(this.props.multiple){for(var e,n=this.getArrayValues(this.props.value),r=[],o=0;o<n.length;o++){var i=n[o],a=this.getNodeById(i);a?this.picked.push(a):r.push(i)}0<r.length?((e={model:this.state.dataModel}).filters=[{column:"__id",term:"in",value:r}],this.setState({isFetching:!0},function(){t.state.getAdditionalDataForControl(t,e,function(e){e=e.items,t.addSelectedNodes(e)})})):this.modal&&this.updatePickedCount()}else{var l,s=this.getNodeById(this.props.value);s?(this.picked.push(s),this.modal&&this.updatePickedCount()):((l={model:this.state.dataModel}).filters=[{column:"__id",term:"=",value:this.props.value}],this.setState({isFetching:!0},function(){t.state.getAdditionalDataForControl(t,l,function(e){e=e.items,t.addSelectedNodes(e)})}))}this.state.needValueFetch&&this.setState({needValueFetch:!1})}},{key:"setData",value:function(e,t){var n=e.items,r=e.rowsCount,e=e.parentIdToFetch;t?e?(t=this.getNodeById(e))&&(t[this.props.childrenKey]=n,t.rowsCount=r):(this.nodes=n,this.setState({rowsCount:r})):e?(e=this.getNodeById(e))&&(e[this.props.childrenKey]=e[this.props.childrenKey].concat(n)):this.nodes=this.nodes.concat(n),this.setState({needFetch:!1,isFetching:!1})}},{key:"getArrayValues",value:function(e){var t;if(null==(e=e))return[];if(!Array.isArray(e)){try{t=JSON.parse(e)}catch(e){console.log(e)}e=t=Array.isArray(t)?t:[e]}return e}},{key:"addSelectedNodes",value:function(e){Array.isArray(e)&&e.length&&(this.picked=this.picked.concat(e),this.modal&&this.updatePickedCount(),this.setState({isFetching:!1}))}},{key:"getLocalized",value:function(e,t){return window.DWKitAdminLang&&window.DWKitAdminLang.treepicker?window.DWKitAdminLang.treepicker[e]:t}},{key:"onChange",value:function(e,t){this.props.handleEvent&&this.props.handleEvent({syntheticEvent:null,key:this.props.name,propertyName:this.props.propertyName,eventName:"onChange",name:this.props.name,value:e,additionalValues:t})}},{key:"getAdditionalValues",value:function(t){var n,r,e;return this.nodes.length&&(Array.isArray(t)?(n=t.map(function(e){return"".concat(e)}),r=this.recursiveNodeSearch(this.nodes,function(e){return n.includes("".concat(e.id))}).map(function(e){return e.values})):t?(e=this.recursiveNodeSearch(this.nodes,function(e){return"".concat(e.id)==="".concat(t)})).length&&(r=e[0].values):(e=this.getColumnsForFilter())&&(r={},e.split(",").forEach(function(e){r[e]=null}))),r}},{key:"triggerElement",value:function(){var e,t=this.props.value,n=[];if(this.props.multiple){this.props.value||(t=[]);var r,o=si(t=Array.isArray(this.props.value)?t:this.getArrayValues(this.props.value));try{for(o.s();!(r=o.n()).done;){var i=r.value,a=this.getNodeById(i);a&&n.push({value:a.id,text:a.name})}}catch(e){o.e(e)}finally{o.f()}}else!t||(e=this.getNodeById(t))&&n.push({value:e.id,text:e.name});return(t={fluid:this.props.fluid,disabled:this.props.disabled,multiple:this.props.multiple,value:t,className:this.props.className,options:n,selection:this.props.selection}).label=this.props.label,t.error=this.props.error,z.a.createElement(oi.Form.Dropdown,li({},t,{onClick:this.handleOpen,onChange:this.onDropdownChange}))}},{key:"render",value:function(){var e="tree-picker ".concat(this.props.modalCssClass);return z.a.createElement(oi.Modal,{style:this.props.modalStyle,className:e,open:this.state.visible,trigger:this.triggerElement()},z.a.createElement(Gr,{name:this.props.label,onMount:this.onMount,selected:this.getLocalized("selected","Selected")}),z.a.createElement("div",{className:"ui search form"},z.a.createElement("div",{className:"field"},z.a.createElement("div",{className:"ui icon input"},z.a.createElement("input",{type:"text",placeholder:this.getLocalized("search","Search")}),z.a.createElement("i",{className:"search icon"})))),z.a.createElement(oi.Modal.Content,null,z.a.createElement("div",{className:" active"},z.a.createElement("div",{className:"ui text loader"},this.getLocalized("loadingData","Loading data"))),z.a.createElement("div",{className:"tree-tab"},z.a.createElement("div",{style:{height:"400px"}})),z.a.createElement("div",{className:"search-tab"}),z.a.createElement("div",{className:"picked-tab"})),z.a.createElement(oi.Modal.Actions,null,z.a.createElement(oi.Button,{onClick:this.pickSearch,className:"pick-search"},z.a.createElement("i",{className:"checkmark icon"}),this.getLocalized("selectAll","Select all")),z.a.createElement(oi.Button,{onClick:this.unpickSearch,className:"unpick-search"},z.a.createElement("i",{className:"remove icon"}),this.getLocalized("removeAll","Remove all")),z.a.createElement(oi.Button,{onClick:this.unpickPicked,className:"unpick-picked"},z.a.createElement("i",{className:"remove icon"}),this.getLocalized("removeAll","Remove all")),z.a.createElement(oi.Button,{onClick:this.handleSave,className:"blue"},this.getLocalized("ok","Ok")),z.a.createElement(oi.Button,{onClick:this.handleClose},this.getLocalized("cancel","Cancel"))))}}]),ui(e,t),i}();hi(Vi,"defaultProps",{hidden:function(e){return!1},disabledClause:function(e){return!1},childrenKey:"nodes",multiple:!1,minSearchQueryLength:3,pageSize:100});var mi=n(4),yi=n(15);function vi(e){return(vi="function"==typeof Symbol&&"symbol"==wl(Symbol.iterator)?function(e){return wl(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":wl(e)})(e)}function gi(){return(gi=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function bi(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function wi(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Oi(e,t,n){return t&&wi(e.prototype,t),n&&wi(e,n),e}function Ci(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ki(e,t)}function ki(e,t){return(ki=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ei(n){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e=Si(n),t=r?(t=Si(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this;return!t||"object"!==vi(t)&&"function"!=typeof t?Ai(e):t}}function Ai(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Si(e){return(Si=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var _i=function(){Ci(n,c.Component);var t=Ei(n);function n(e){return bi(this,n),(e=t.call(this,e)).state={editorState:mi.EditorState.createEmpty()},e.handleKeyCommand=e._handleKeyCommand.bind(Ai(e)),e.mapKeyToEditorCommand=e._mapKeyToEditorCommand.bind(Ai(e)),e.toggleBlockType=e._toggleBlockType.bind(Ai(e)),e.toggleInlineStyle=e._toggleInlineStyle.bind(Ai(e)),e}return Oi(n,[{key:"render",value:function(){var e,n=this,r={},t={};for(e in this.props)"className"===e||"style"===e?t[e]=this.props[e]:r[e]=this.props[e];var o=this.props.additionalParams.model,i=this.props.additionalParams.handleEvent,a=this.props.additionalParams.parentItem;r.placeholder=o.placeholder,r.onChange=this.onChange=function(e){var t=e.getCurrentContent(),t=Object(yi.convertToHTML)(t);n.setState({editorState:e,value:t}),i({key:r.name,propertyName:r.propertyName,eventName:"onChange",name:r.name,value:t})};var l="dwkit-richtextcontrol RichEditor-root";return t.className?t.className+=" "+l:t.className=l,l=z.a.createElement("div",t,!r.readOnly&&z.a.createElement(Di,{editorState:this.state.editorState,onToggle:this.toggleBlockType}),!r.readOnly&&z.a.createElement(Fi,{editorState:this.state.editorState,onToggle:this.toggleInlineStyle}),z.a.createElement("div",{onClick:this.focus},z.a.createElement(mi.Editor,gi({},r,{editorState:this.state.editorState,blockStyleFn:Pi,customStyleMap:xi,handleKeyCommand:this.handleKeyCommand,keyBindingFn:this.mapKeyToEditorCommand,ref:"editor",spellCheck:!0})))),this.isForm(a)?z.a.createElement(oi.Form.Field,null,z.a.createElement("label",null,o.label),l):l}},{key:"isForm",value:function(e){return null!=e&&("form"===e["data-buildertype"]||"formgroup"===e["data-buildertype"])}},{key:"_handleKeyCommand",value:function(e,t){return!!(e=mi.RichUtils.handleKeyCommand(t,e))&&(this.onChange(e),!0)}},{key:"_mapKeyToEditorCommand",value:function(e){if(9!==e.keyCode)return Object(mi.getDefaultKeyBinding)(e);(e=mi.RichUtils.onTab(e,this.state.editorState,4))!==this.state.editorState&&this.onChange(e)}},{key:"_toggleBlockType",value:function(e){this.onChange(mi.RichUtils.toggleBlockType(this.state.editorState,e))}},{key:"_toggleInlineStyle",value:function(e){this.onChange(mi.RichUtils.toggleInlineStyle(this.state.editorState,e))}}],[{key:"getDerivedStateFromProps",value:function(e,t){if(e.value===t.value)return null;t=mi.EditorState.createEmpty();try{var n=Object(yi.convertFromHTML)(e.value),t=mi.EditorState.createWithContent(n)}catch(e){}return{value:e.value,editorState:t}}}]),n}(),xi={CODE:{backgroundColor:"rgba(0, 0, 0, 0.05)",fontFamily:'"Inconsolata", "Menlo", "Consolas", monospace',fontSize:16,padding:2}};function Pi(e){return"blockquote"!==e.getType()?null:"RichEditor-blockquote"}var ji=function(){Ci(n,z.a.Component);var e=Ei(n);function n(){var t;return bi(this,n),(t=e.call(this)).onToggle=function(e){e.preventDefault(),t.props.onToggle(t.props.style)},t}return Oi(n,[{key:"render",value:function(){var e="RichEditor-styleButton";return this.props.active&&(e+=" RichEditor-activeButton"),z.a.createElement("span",{className:e,onMouseDown:this.onToggle},this.props.label)}}]),n}(),Ri=[{label:"H1",style:"header-one"},{label:"H2",style:"header-two"},{label:"UL",style:"unordered-list-item"},{label:"OL",style:"ordered-list-item"}],Di=function(t){var e=t.editorState,n=e.getSelection(),r=e.getCurrentContent().getBlockForKey(n.getStartKey()).getType();return z.a.createElement("div",{className:"RichEditor-controls"},Ri.map(function(e){return z.a.createElement(ji,{key:e.label,active:e.style===r,label:e.label,onToggle:t.onToggle,style:e.style})}))},Ti=[{label:"Bold",style:"BOLD"},{label:"Italic",style:"ITALIC"},{label:"Underline",style:"UNDERLINE"},{label:"Code",style:"CODE"}],Fi=function(t){var n=t.editorState.getCurrentInlineStyle();return z.a.createElement("div",{className:"RichEditor-controls"},Ti.map(function(e){return z.a.createElement(ji,{key:e.label,active:n.has(e.style),label:e.label,onToggle:t.onToggle,style:e.style})}))};function Ni(e){return(Ni="function"==typeof Symbol&&"symbol"==wl(Symbol.iterator)?function(e){return wl(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":wl(e)})(e)}function Ii(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function Li(r){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?Ii(Object(o),!0).forEach(function(e){var t,n=r;e=o[t=e],t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(o)):Ii(Object(o)).forEach(function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(o,e))})}return r}function Ui(){return(Ui=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Mi(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Bi(e,t){return(Bi=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function zi(e){return(zi=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Wi=n(10),t=new(function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Bi(e,t)}(t,Oo);var n,r,e=(n=t,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=zi(n),t=r?(t=zi(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this;return!t||"object"!==Ni(t)&&"function"!=typeof t?function(){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}():t});function t(){return function(e){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),e.apply(this,arguments)}return Mi(t.prototype,[{key:"createControl",value:function(e,t,n){var l=n.model,s=n.data,r=n.errors,o=n.parentItem,c=n.buildermode,i=n.children,a=n.handleEvent,u=n.getAdditionalDataForControl,p=n.getFormFunc,f=n.readOnlyControls,d=n.readOnly,h=n.disableRefs,V=n.uploadUrl,m=n.downloadUrl,y=n.extendedData,v=n.controlsToReplace,g=n.needCheckReplace,b=n.eventOnEdit,w=n.eventOnDelete,O=n.eventOnCopy,C=n.externalControlRender,k=n.externalControlList,E=n.adaptiveViewType,A=n.formData,S=n.hideControls,_=void 0,x={key:l.key,name:l.key,className:Oo.getClassName(l,c),style:Oo.getStyle(l,c,E),"data-buildertype":l["data-buildertype"],propertyName:l.propertyName||l.key};x.key||console.log(l);var P=x["data-buildertype"],j=g||v.includes(l.key);c&&this.isContainer(x["data-buildertype"])&&(x.className=(de(x.className)?"":x.className+" ")+"dwkit-formbuilder-item-container"),h||(x.ref=l.key),void 0!==l.readOnly&&(x.readOnly=l.readOnly),(d||Array.isArray(f)&&f.includes(l.key))&&(x.readOnly=!0);var R,D=Po.regexForReplace,n=function r(e){if(!j||null==e||c)return e;function o(e){return null!=A?"row."===e.slice(1,5)?Oo.getFormattedDate(e.slice(5,e.length-1),s):Oo.getFormattedDate(e.slice(1,e.length-1),A):Oo.getFormattedDate(e.slice(1,e.length-1),s)}if(Array.isArray(e)){var i=[],a=!1;return e.forEach(function(e){var t,n={};for(t in e)e.hasOwnProperty(t)&&(void 0!==e[t]&&null!==e[t]&&"string"==typeof e[t]?(n[t]=e[t].replace(D,o),!a&&g&&n[t]!==e[t]&&(a=!0)):Array.isArray(e[t])?n[t]=r(e[t]):n[t]=e[t]);i.push(n)}),a&&v.push(l.key),i}if("string"!=typeof e)return e;var t=e.replace(D,o);return g&&e!==t&&v.push(l.key),t};if(void 0!==s&&(l.propertyName?x.value=s[l.propertyName]:x.value=s[x.key]),null!=r&&(l.propertyName?x.error=r[l.propertyName]:x.error=r[x.key]),t===pr)"header"===P?(x.content=n(l.content),x.subheader=n(l.subheader)):"label"===P?x.content=n(l.content):"message"===P?(x.content=n(l.content),x.header=n(l.header)):"image"===P?(x.src=n(l.src),x.href=n(l.href)):"breadcrumb"===P?x.items=n(l.items):"button"===P&&(x.content=n(l.content)),_=z.a.createElement(pr,Ui({},x,{additionalParams:{model:l,data:s,errors:r,children:i,handleEvent:a,parentItem:o,uploadUrl:V,downloadUrl:m}}));else if(t===fe)(x=Li(Li({},x),l)).uploadUrl=V,x.downloadUrl=m,null!=a&&(x.onChange=function(e,t){var n=t.name,r=t.value,t=t.parameters;a({syntheticEvent:e,key:x.name,propertyName:x.propertyName,eventName:"onChange",name:n,value:r,parameters:t})}),_=z.a.createElement(fe,Ui({},x,{additionalParams:{model:l,data:s,errors:r,children:i,handleEvent:a,parentItem:o}}));else if(t===vr)(x=Li(Li({},x),l)).uploadUrl=V,x.downloadUrl=m,null!=a&&(x.onChange=function(e,t){var n=t.name,r=t.value,t=t.parameters;a({syntheticEvent:e,key:x.name,propertyName:x.propertyName,eventName:"onChange",name:n,value:r,parameters:t})}),_=z.a.createElement(vr,Ui({},x,{additionalParams:{model:l,data:s,errors:r,children:i,handleEvent:a,parentItem:o}}));else if(t===Cn)x.format=l.format,x.mask=l.mask,x.thousandSeparator=l.thousandSeparator,x.prefix=l.prefix,x.suffix=l.suffix,_=z.a.createElement(Cn,Ui({},x,{additionalParams:{model:l,data:s,errors:r,children:i,handleEvent:a,parentItem:o,uploadUrl:V,downloadUrl:m}}));else if(t===it)x.label=l.label,x.defaultValue=l.defaultValue,x.placeholder=l.placeholder,x.disabled=l.disabled,x.fluid=l.fluid,x.selection=l.selection,x.multiple=l.multiple,x.search=l.search,x.dataModel=l.dataModel,x.clearable=l.clearable,x.columns=l.columns,x.paging=l.paging,x.pageSize=l.pageSize,x.getAdditionalDataForControl=u,x.filters=n(l.filters),x.textAsValue=l.textAsValue,l.text&&(x.textFunc=new Function("data","return ".concat(l.text,";"))),r&&void 0!==r[l.key]&&(x.error=r[l.key]),x.handleEvent=a,x.parentIsForm=Oo.isForm(o),_=z.a.createElement(it,x);else if(t===ft)x.defaultValue=l.defaultValue,x.items=l.items,x.imageUrl=l.imageUrl,x.handleEvent=a,_=z.a.createElement(ft,x);else if(t===rr)x.url=l.url,x.category=l.category,x.handleEvent=a,_=z.a.createElement(rr,x);else if(t===Pn)P=[],void 0!==l["data-elements"]&&(P=Array.isArray(l["data-elements"])?l["data-elements"]:Ce.a.parse(l["data-elements"])),x.handleEvent=a,r&&void 0!==r[l.key]&&(x.error=r[l.key]),_=z.a.createElement(Pn,Ui({},x,{label:l.label,direction:l.direction,placeholder:l.placeholder,items:P}));else if(t===Fe){if(x.columns=l.columns,x.draggable=l.draggable,x.hierarchical=l.hierarchical,x.parentIdField=l.parentIdField,x.idField=l.idField,x.childrenField=l.childrenField,x.collapseAll=l.collapseAll,x.disableAdd=l.disableAdd,x.disableCopy=l.disableCopy,x.disableDelete=l.disableDelete,x.placeholders=Wi(l.placeholders),x.placeholders&&(x.data=s,x.adaptiveViewType=E,x.controlBarParams={adaptiveViewType:E,eventOnDelete:w,eventOnEdit:b,eventOnCopy:O,parentComponent:e},x.getAdditionalDataForControl=u,x.createControl=this.createCollectionEditorControl.bind(this)),x.handleEvent=a,x.downloadUrl=m,x.uploadUrl=V,c&&void 0===x.value&&void 0!==x.columns){for(x.buildermode=c,x.createBuilderDropzone=Oo.createBuilderDropzone,x.value=[],I=0;I<5;I++)x.value.push({});if(Boolean(l.hierarchical)&&void 0!==l.parentIdField&&""!==l.parentIdField&&void 0!==l.idField&&""!==l.idField)for(I=1;I<5;I++){var T=x.value[I];void 0===T[l.idField]&&(T[l.idField]=I);for(var F=0;F<2;F++){var N={};N[l.parentIdField]=T[l.idField],x.value.push(N)}}}void 0!==y&&void 0!==y.filters&&void 0!==y.filters[x.key]&&(x.filter=new qt(y.filters[x.key],x.columns.map(function(e){return e.key}))),_=z.a.createElement(Fe,x)}else if(t===pn){if(x.columns=l.columns,x.multiselect=l.multiselect,x.rowKey=l.rowKey,x.editForm=l.editForm,x.editFlow=l.editFlow,x.editWorkflow=l.editWorkflow,x.editType=l.editType,x.pagerType=l.pagerType,x.pageSize=l.pageSize,x.rowHeight=l.rowHeight,x.headerRowHeight=l.headerRowHeight,x.minHeight=l.minHeight,x.autoHeight=l.autoHeight,x.offSet=l.offSet,x.disableSort=l.disableSort,x.resizeColumns=l.resizeColumns,x.editFormShowType=l.editFormShowType,x.sidebarDirection=l.sidebarDirection,x.getAdditionalDataForControl=u,x.handleEvent=a,x.defaultSort=l.defaultSort,x.uploadUrl=V,x.downloadUrl=m,r&&void 0!==r[l.key]&&(x.error=r[l.key]),c&&void 0===x.value){x.buildermode=c,x.createBuilderDropzone=Oo.createBuilderDropzone,x.value=[];for(var I=0;I<30;I++)!function(){var t={};x.columns.forEach(function(e){t[e.key]=e.key+"_"+I}),x.value.push(t)}()}void 0!==y&&void 0!==y.filters&&void 0!==y.filters[x.key]&&(x.filter=new qt(y.filters[x.key],x.columns.map(function(e){return e.key}))),x.placeholders=Wi(l.placeholders),x.placeholders&&(x.data=s,x.adaptiveViewType=E,x.controlBarParams={adaptiveViewType:E,eventOnDelete:w,eventOnEdit:b,eventOnCopy:O,parentComponent:e},x.createControl=this.createCollectionEditorControl.bind(this)),_=z.a.createElement(pn,x)}else if(t===vn)x["data-items"]=n(l.items),x.pointing=l.pointing,x.secondary=l.secondary,x.tabular=l.tabular,x.fluid=l.fluid,x.vertical=l.vertical,x.activeitem=l.activeitem,x.link=l.link,x.handleEvent=a,_=z.a.createElement(vn,x);else if(t===xr)x["data-panes"]=l.panes,x.pointing=l.pointing,x.secondary=l.secondary,x.tabular=l.tabular,x.fluid=l.fluid,x.vertical=l.vertical,x.activeitem=l.activeitem,x.placeholders=l.placeholders,this.setCreateControlsProps(x,{data:s,buildermode:c,model:l,children:i,getFormFunc:p,getAdditionalDataForControl:u,disableRefs:h,uploadUrl:V,downloadUrl:m,extendedData:y,controlsToReplace:v,eventOnEdit:b,eventOnDelete:w,eventOnCopy:O,adaptiveViewType:E,handleEvent:a,externalControlList:k,externalControlRender:C,needCheckReplace:g,readOnly:d,readOnlyControls:f,hideControls:S,errors:r}),_=z.a.createElement(xr,x);else if(t===Tr)x.panels=l.panels,x.fluid=l.fluid,x.styled=l.styled,x.placeholders=l.placeholders,this.setCreateControlsProps(x,{data:s,buildermode:c,model:l,children:i,getFormFunc:p,getAdditionalDataForControl:u,disableRefs:h,uploadUrl:V,downloadUrl:m,extendedData:y,controlsToReplace:v,eventOnEdit:b,eventOnDelete:w,eventOnCopy:O,adaptiveViewType:E,handleEvent:a,externalControlList:k,externalControlRender:C,needCheckReplace:g,readOnly:d,readOnlyControls:f,hideControls:S,errors:r}),_=z.a.createElement(Tr,x);else if(t===Bt)x.draggable=l.draggable,x.resizable=l.resizable,x.scroll=l.scroll,x.cols=l.cols,x["data-panes"]=l.panes,x.placeholders=l.placeholders,this.setCreateControlsProps(x,{data:s,buildermode:c,model:l,children:i,getFormFunc:p,getAdditionalDataForControl:u,disableRefs:h,uploadUrl:V,downloadUrl:m,extendedData:y,controlsToReplace:v,eventOnEdit:b,eventOnDelete:w,eventOnCopy:O,adaptiveViewType:E,handleEvent:a,errors:r,readOnlyControls:f,readOnly:d,needCheckReplace:g}),_=z.a.createElement(Bt,x);else if(t===we)x.chartType=l.chartType,x.responsive=l.responsive,x.legendPosition=l.legendPosition,x.title=l.title,x.titleSize=l.titleSize,x.datasetCustom=l.datasetCustom,x.dataLabels=l.dataLabels,x.datasetLabel=l.datasetLabel,x.datasetSteppedLine=l.datasetSteppedLine,x.datasetBorderColor=l.datasetBorderColor,x.datasetFill=l.datasetFill,x.datasetBorderWidth=l.datasetBorderWidth,x.datasetBackgroundColor=l.datasetBackgroundColor,c?x.datasetCustom?x.value=[1,2,3,4,3,2,1]:(S="scatter"!==x.chartType?[6,23,15,3]:[{x:6,y:-12},{x:11,y:1},{x:24,y:5},{x:40,y:32}],x.value={labels:["Q1","Q2","Q3","Q4"],datasets:[{data:S}]}):void 0!==s&&(x.value=s[x.key]),_=z.a.createElement(we,x);else if(t===ao)x.blockSetState=l.blockSetState,x.blockCommands=l.blockCommands,x.setStateButton=l.setStateButton,x.handleEvent=a,x.getAdditionalDataForControl=u,x.blockLoadParameters=void 0===l.blockLoadParameters||l.blockLoadParameters,x.blockSelectScheme=l.blockSelectScheme,x.selectSchemeDropdown=l.selectSchemeDropdown,s&&(x.selectedScheme=s.__wf_selectedscheme),x.schemes=y&&y.schemes||[],r&&void 0!==r[l.key]&&(x.error=r[l.key]),c&&(x.commands=[{value:"approve",text:"Approve",type:1},{value:"back",text:"Back",type:2}],x.states=[{value:"draft",text:"Draft"},{value:"state1",text:"State 1"},{value:"state2",text:"State 2"},{value:"state3",text:"State 3"},{value:"finish",text:"Finish"}],x.schemes=[]),_=z.a.createElement(ao,x);else if(t===Me){if(x.style&&"flex"===l["style-display"]&&(l["style-display-horizontalalign"]&&(x.style.justifyContent=l["style-display-horizontalalign"]),l["style-display-verticalalign"]?x.style.alignItems=l["style-display-verticalalign"]:x.style.alignItems="baseline"),l.childrenView&&(x.className=(x.className?x.className+" ":"")+"dwkit-container-"+l.childrenView),o&&o["children-style-source"]){var L,U={};for(L in Oo.getCustomStyle(o["children-style-source"],U),U)x.style[L]||(x.style[L]=U[L])}delete x.propertyName,_=z.a.createElement(Me,Ui({},x,{children:i}))}else t===Mn?(x.slider=l.slider,x["item-visibleCondition"]=l["item-visibleCondition"],x.pageSize=l.pageSize,x.pagerType=l.pagerType,x.loadButtonLabel=l.loadButtonLabel,x.noRecordsLabel=l.noRecordsLabel,x.defaultSort=l.defaultSort,void 0!==y&&void 0!==y.filters&&void 0!==y.filters[x.key]&&(x.filter=new qt(y.filters[x.key],["*"])),x.placeholders=Wi(l.placeholders),x.controlProps={readOnly:"server"===l.pagerType||d},x.model=l,x.data=s,R=x.controlProps,this.setCreateControlsProps(R,{children:i,getAdditionalDataForControl:u,disableRefs:h,uploadUrl:V,downloadUrl:m,extendedData:y,controlsToReplace:v,eventOnEdit:b,eventOnDelete:w,eventOnCopy:O,adaptiveViewType:E,handleEvent:a,externalControlList:k,externalControlRender:C,readOnlyControls:f,buildermode:c}),l.childrenView&&(x.className=(x.className?x.className+" ":"")+"dwkit-container-"+l.childrenView),_=z.a.createElement(Mn,x)):t===Cr?(x.content=n(l.content),x.isHtml=l.isHtml,_=z.a.createElement(Cr,x)):t===vt?(x.iconFiletypes=l.iconFiletypes,x.postUrl=V,x.showFiletypeIcon=l.showFiletypeIcon,x.autoProcessQueue=l.autoProcessQueue,x.addRemoveLinks=l.addRemoveLinks,_=z.a.createElement(vt,Ui({},x,{additionalParams:{model:l,data:s,errors:r,children:i,handleEvent:a,parentItem:o}}))):t===Ft?(x.iconFiletypes=l.iconFiletypes,x.showFiletypeIcon=l.showFiletypeIcon,x.autoProcessQueue=l.autoProcessQueue,x.useDropzone=l.useDropzone,x.columns=l.columns,x.idField=l.idField,x.useCamera=l.useCamera,x.multiple=l.multiple,x.postUrl=V,x.downloadUrl=m,_=z.a.createElement(Ft,Ui({},x,{additionalParams:{model:l,data:s,errors:r,children:i,handleEvent:a,parentItem:o}}))):t===Vi?(x.label=l.label,x.defaultValue=l.defaultValue,x.placeholder=l.placeholder,x.selection=l.selection,x.multiple=l.multiple,x.search=l.search,x.dataModel=l.dataModel,x.clearable=l.clearable,x.columns=l.columns,x.paging=l.paging,x.pageSize=l.pageSize,x.parentIdField=l.parentIdField,x.getAdditionalDataForControl=u,x.modalCssClass=l["style-custommodalcss"],x.fluid=l.fluid,x.disabled=l.disabled,x.handleEvent=a,void 0!==l["style-modalsource"]&&(Oo.getCustomStyle(l["style-modalsource"],R={}),x.modalStyle=R),r&&void 0!==r[l.key]&&(x.error=r[l.key]),l.text&&(x.textFunc=new Function("data","return ".concat(l.text,";"))),x.parentIsForm=Oo.isForm(o),_=z.a.createElement(Vi,x)):t===_i?_=z.a.createElement(_i,Ui({},x,{additionalParams:{model:l,data:s,errors:r,children:i,handleEvent:a,parentItem:o,uploadUrl:V,downloadUrl:m}})):t===Mr?(x.header=n(l.header),x.subheader=n(l.subheader),x.imgurl=n(l.imgurl),x.placeholders=l.placeholders,x.activeEvent=l.events&&l.events.onClick&&l.events.onClick.active,this.setCreateControlsProps(x,{data:s,buildermode:c,model:l,children:i,getFormFunc:p,getAdditionalDataForControl:u,disableRefs:h,uploadUrl:V,downloadUrl:m,extendedData:y,controlsToReplace:v,eventOnEdit:b,eventOnDelete:w,eventOnCopy:O,adaptiveViewType:E,handleEvent:a,externalControlList:k,externalControlRender:C,needCheckReplace:g,readOnly:d,readOnlyControls:f,errors:r}),_=z.a.createElement(Mr,x)):((C=C||function(){if(window.DWKitFormSettings)return window.DWKitFormSettings.externalControlRender}())&&(x.parentIsForm=Oo.isForm(o),_=C(e,t,{model:l,data:s,errors:r,parentItem:o,buildermode:c,children:i,handleEvent:a,getAdditionalDataForControl:u,readOnlyControls:f,readOnly:d,disableRefs:h,uploadUrl:V,downloadUrl:m,extendedData:y,controlsToReplace:v,needCheckReplace:g,eventOnEdit:b,eventOnDelete:w,eventOnCopy:O,controlProps:x,replaceControlValue:n})),_||console.error("Control is unsupported!",t,l));if(!0===l["tooltip-errordisabled"]||!r||void 0===r[l.key]||"boolean"==typeof r[l.key]||Array.isArray(r[l.key]))return l["tooltip-enabled"]?(B=""==l["tooltip-showtype"]?void 0:l["tooltip-showtype"],M=""==l["tooltip-position"]?void 0:l["tooltip-position"],W("popup",{className:l["tooltip-classname"],content:l["tooltip-content"],header:l["tooltip-header"],key:l.key+"-tooltip",trigger:_,popupOn:M,popupPosition:B})):_;var M=""==l["tooltip-errorposition"]?void 0:l["tooltip-errorposition"],B=""==l["tooltip-errorshowtype"]?void 0:l["tooltip-errorshowtype"];return W("popup",{className:"dwkit-tooltiperror",content:r[l.key],key:l.key+"-error",trigger:_,popupOn:B,popupPosition:M})}},{key:"createCollectionEditorControl",value:function(e,t,n,r){if(i=this.getControlByType(t)){var o=this.createControl(e,i,Li(Li({},n),{},{needCheckReplace:!0})),i=[];return n.buildermode?(r=z.a.createElement(ho,{key:n.model.key+"_controlbar",model:n.model,parent:r.parentComponent,onDelete:r.eventOnDelete,onEdit:r.eventOnEdit,onCopy:r.eventOnCopy,control:o}),i.push(r),i):o}console.error("Control is unsupported!",t,e,n)}},{key:"getPlatformContainerControl",value:function(){return"div"}}]),t}());function Ki(){return(Ki=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Gi(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function Hi(r){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?Gi(Object(o),!0).forEach(function(e){var t,n=r;e=o[t=e],t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(o)):Gi(Object(o)).forEach(function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(o,e))})}return r}function qi(e){return(qi="function"==typeof Symbol&&"symbol"==wl(Symbol.iterator)?function(e){return wl(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":wl(e)})(e)}function Qi(){return(Qi=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Ji(){return(Ji=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Yi(e){return!0===e?{}:{display:"none"}}function Xi(e){return z.a.createElement(oi.Dimmer,{active:!0,inverted:!0},z.a.createElement(oi.Loader,e))}d("collection-checkbox",function(e){var t={};return e.props.errorFlag&&(t.className="error"),z.a.createElement(oi.Checkbox,Ki({},t,{name:e.props.colName,checked:e.props.checked,readOnly:e.props.readOnly,onChange:e.me.handleChange}))}),d("collection-custom-control",function(e){var t=e.props.model;return e.props.createControl(e.props.parent,t["data-buildertype"],{model:t,data:e.props.row,errors:e.props.errorOnRow,parentItem:e.props.name,buildermode:e.props.buildermode,handleEvent:e.handleEvent,getAdditionalDataForControl:e.getAdditionalDataForControl,readOnly:e.props.readOnly,uploadUrl:e.props.uploadUrl,downloadUrl:e.props.downloadUrl,controlsToReplace:[],formData:e.props.data,adaptiveViewType:e.props.adaptiveViewType},e.props.controlBarParams)}),d("collection-date-time",function(e){return z.a.createElement(Ze,{name:e.props.colName,error:e.props.errorFlag,value:e.props.value,readOnly:e.props.readOnly,onChange:e.me.handleChange,type:e.props.type,isForm:!0})}),d("collection-dropdown",function(e){return z.a.createElement(oi.Dropdown,{name:e.props.colName,multiple:e.props.multiple,placeholder:e.props.placeholder,options:e.props.options,error:e.props.errorFlag,value:e.props.value,readOnly:e.props.readOnly,onChange:e.me.handleChange,selection:!0,fluid:!0,search:!0})}),d("collection-editor",function(T){var e=T.props.columns,t=T.props.value,n=T.props.error;return T.props.collapseAll&&Array.isArray(t)&&T.applyCollapseAll(t),e&&e.length?((t={style:T.props.style,className:T.props.className,onBlur:T.props.onBlur,onClick:T.props.onClick,onFocus:T.props.onFocus,onMouseEnter:T.props.onMouseEnter,onMouseLeave:T.props.onMouseLeave}).className?t.className+=" field":t.className="field",T.props.error&&"object"!==qi(T.props.error)&&(t.className+=" error"),t.className+=" dwkit-collectioneditor-control",z.a.createElement("div",t,z.a.createElement("label",null,T.props.label),z.a.createElement("table",{className:"dwkit-collectioneditor"},z.a.createElement("tbody",null,function(e){var l=[],s=0;e.forEach(function(e){var t,n,r,o,i=void 0;"object"===qi(e)?(t=e.key,n=e.name,r=e.width,Array.isArray(e.dataList)&&(i=e.dataList)):n=t=e,he(n)&&2<=n.length&&(n=n.charAt(0).toUpperCase()+n.slice(1));var a,e=void 0;he(i)&&null!=i&&(e=t+"_datalist",a=[],i.forEach(function(e){a.push(z.a.createElement("option",{key:e,value:e}))}),o=z.a.createElement("datalist",{key:e,id:e},a)),l.push(z.a.createElement("td",{key:s,style:Hi({width:r},0==s?{display:"flex"}:{})},n,o)),s++});var t=!0!==T.props.disableAdd,n=!0!==T.props.disableCopy,e=!0!==T.props.disableDelete;return!T.props.readOnly&&(t||n||e)&&(n="Add",he(e=function(){if(window.DWKitAdminLang&&window.DWKitAdminLang.collectioneditor)return window.DWKitAdminLang.collectioneditor}())&&(n=e.add),l.push(z.a.createElement("td",{key:"btntd",className:"dwkit-collectioneditor-buttoncol"},t&&z.a.createElement("a",{key:"btnadd",className:"dwkit-btn",onClick:T.btnAdd},n)))),z.a.createElement("tr",{key:"headertr",className:"dwkit-collectioneditor-header"},l)}(e),function e(r,t,n,o,i,a){var l=T.me,s=[];if(null==t)return s;var c=t;de(i)&&(i=0),void 0===a&&(a=""),T.props.filter&&(c=T.getFilteredItems(c,T.props.filter));for(var u=0;u<c.length;u++)if(void 0!==T.props.childrenField||!T.props.hierarchical||c[u][T.props.parentIdField]==o){var p,f=function(e,t){var n=!T.props.readOnly&&Boolean(T.props.draggable);if(n)return z.a.createElement("div",{draggable:n,onDragStart:T.onDragStart.bind(T.me,t,e),onDragEnd:T.onDragEnd.bind(T.me,t,e),onDragOver:T.onDragOver.bind(T.me),onDrop:T.onDrop.bind(T.me,t,e),key:"celldrag",className:"dwkit-collectioneditor-action"},z.a.createElement(oi.Icon,{onClick:T.onExpand.bind(T.me,t,!1),name:"ellipsis vertical"}))}(c,u),d=void 0,h=void 0,V=c[u][T.props.idField]||c[u].__id||u;T.props.hierarchical&&(b=void 0,v=a+String(u+"_"),Ve(T.props.parentIdField)?Ve(p=c[u][T.props.idField]||c[u].__id)&&0<(h=e(r,t,n,p,i+1,v)).length&&(de(p=T.state.expanded[a+u])||p?b=z.a.createElement("img",{onClick:T.onExpand.bind(T.me,a+u,!1),className:"dwkit-collectioneditor-imgbutton-collapse"}):(b=z.a.createElement("img",{onClick:T.onExpand.bind(T.me,a+u,!0),className:"dwkit-collectioneditor-imgbutton-expand"}),h=void 0)):Array.isArray(c[u][T.props.childrenField])&&0<c[u][T.props.childrenField].length?0<(h=e(r,c[u][T.props.childrenField],n,void 0,i+1,v)).length&&(de(g=T.state.expanded[a+u])||g?b=z.a.createElement("img",{onClick:T.onExpand.bind(T.me,a+u,!1),className:"dwkit-collectioneditor-imgbutton-collapse"}):(b=z.a.createElement("img",{onClick:T.onExpand.bind(T.me,a+u,!0),className:"dwkit-collectioneditor-imgbutton-expand"}),h=void 0)):b=z.a.createElement("img",{style:{opacity:0},className:"dwkit-collectioneditor-imgbutton-collapse"}),d=z.a.createElement("div",{className:"dwkit-collectioneditor-action"},b));var m=[],y=void 0;Array.isArray(n)&&0<n.length&&(void 0!==n[0].__id&&null!==n[0].__id?function(){var t=c[u].__id;void 0!==t&&null!=t&&(y=n.find(function(e){return e.__id===t}))}():y=n[u]);for(var v,g,b,w=0;w<r.length;w++){var O=void 0,C=T.props.readOnly?"":"input",k=void 0,E=void 0,A=void 0;"object"===qi(r[w])?(O=r[w].key,C=r[w].control,E=r[w].customControl,Array.isArray(r[w].dataList)&&(k=O+"_datalist"),Array.isArray(r[w].options)&&(A=r[w].options)):O=r[w];var S=void 0;he(y)&&(S=Boolean(y[O]));var _={};0===w&&(f||T.props.hierarchical)&&(_.display="flex");var x,P,j,R,D=void 0;"checkbox"===C?D=z.a.createElement(F,{key:V+"_"+w,row:c[u],handleChange:T.handleChange,colName:O,checked:c[u][O],errorFlag:S,readOnly:T.props.readOnly}):"span"===C?(_.verticalAlign="middle",D=z.a.createElement("span",{key:V+"_"+w,name:O},c[u][O])):"number"===C?(x=null===c[u][O]||void 0===c[u][O]?"":c[u][O],x={name:O,type:"number",error:S,value:x,readOnly:T.props.readOnly},D=z.a.createElement(B,{key:V+"_"+w,row:c[u],inputProps:x,handleChange:T.handleChange})):"date"===C?(x=null===c[u][O]||void 0===c[u][O]?"":c[u][O],D=z.a.createElement(I,{key:V+"_"+w,row:c[u],colName:O,value:x,errorFlag:S,readOnly:T.props.readOnly,handleChange:T.handleChange,type:"date"})):"datetime"===C?(P=null===c[u][O]||void 0===c[u][O]?"":c[u][O],D=z.a.createElement(I,{key:V+"_"+w,row:c[u],colName:O,value:P,errorFlag:S,readOnly:T.props.readOnly,handleChange:T.handleChange,type:"datetime"})):"dropdown"===C?(P=null==c[u][O]?r[w].multiple?[]:"":c[u][O],D=z.a.createElement(L,{key:V+"_"+w,row:c[u],colName:O,multiple:r[w].multiple,placeholder:r[w].placeholder,errorFlag:S,value:P,options:A,readOnly:T.props.readOnly,handleChange:T.handleChange})):"file"===C||"file2"===C?(A=null===c[u][O]||void 0===c[u][O]?"":c[u][O],D=z.a.createElement(Q,{key:V+"_"+w,row:c[u],colName:O,errorFlag:S,value:A,readOnly:T.props.readOnly,handleChange:T.handleChange,downloadUrl:T.props.downloadUrl,uploadUrl:T.props.uploadUrl,control:C,additionalData:r[w].additionalData})):"camera"===C?(j=null===c[u][O]||void 0===c[u][O]?"":c[u][O],D=z.a.createElement(ee,{key:V+"_"+w,row:c[u],colName:O,errorFlag:S,value:j,readOnly:T.props.readOnly,handleChange:T.handleChange,downloadUrl:T.props.downloadUrl,uploadUrl:T.props.uploadUrl,control:C,additionalData:r[w].additionalData})):"signature"===C?(j=null===c[u][O]||void 0===c[u][O]?"":c[u][O],D=z.a.createElement(ie,{key:V+"_"+w,row:c[u],colName:O,errorFlag:S,value:j,readOnly:T.props.readOnly,handleChange:T.handleChange,downloadUrl:T.props.downloadUrl,uploadUrl:T.props.uploadUrl,control:C,additionalData:r[w].additionalData})):"custom"===C?E?function(){var e=c[u][O]||"",t={},n=Hi(Hi({},t=r[w].customControlGetPropsFunc?r[w].customControlGetPropsFunc(c[u]):t),{},{key:V+"_"+w,name:O,error:S,value:e,colName:O,row:c[u],readOnly:T.props.readOnly,onChange:function(e,t){l.handleChange(n.row,e,t)}});D=z.a.createElement(E,n)}():he(T.props.placeholders)&&Array.isArray(T.props.placeholders[O])&&0<T.props.placeholders[O].length?(C=T.props.placeholders[O][0])&&(R=c[u],void 0!==C.propertyName&&""!==C.propertyName||(C.propertyName=O),_.position="relative",D=z.a.createElement(N,{key:V+"_"+w,model:C,parent:T.me,row:R,errorOnRow:y,name:T.props.name,buildermode:T.props.buildermode,handleChange:T.handleChange,handleEvent:T.props.handleEvent,getAdditionalDataForControl:T.props.getAdditionalDataForControl,readOnly:T.props.readOnly,uploadUrl:T.props.uploadUrl,downloadUrl:T.props.downloadUrl,data:T.props.data,adaptiveViewType:T.props.adaptiveViewType,controlBarParams:T.props.controlBarParams,createControl:T.props.createControl})):T.props.buildermode&&T.props.createBuilderDropzone&&(D=T.props.createBuilderDropzone(T.props.name,T.props.name,void 0,O,O)):(R=null===c[u][O]||void 0===c[u][O]?"":c[u][O],R={name:O,list:k,error:S,value:R,readOnly:T.props.readOnly},D=z.a.createElement(B,{key:V+"_"+w,row:c[u],inputProps:R,handleChange:T.handleChange})),0===w?(i&&(_.paddingLeft=String(15*i+5)+"px"),m.push(z.a.createElement("td",{key:V+"_"+w+"td",style:_},d,f,D))):m.push(z.a.createElement("td",{key:V+"_"+w+"td",style:_},D))}T.props.readOnly||(v=!T.props.disableAdd,g=!T.props.disableCopy,b=!T.props.disableDelete,(v||g||b)&&(T.props.hierarchical?m.push(z.a.createElement("td",{key:"celldelete",className:"dwkit-collectioneditor-cellbtn"},z.a.createElement("div",{className:"field"},v&&z.a.createElement(oi.Icon,{key:"addchild",onClick:T.btnAddChild.bind(T.me,u,c),link:!0,name:"add"}),g&&z.a.createElement(oi.Icon,{key:"copy",onClick:T.btnCopy.bind(T.me,u,c),link:!0,name:"copy"}),b&&z.a.createElement(oi.Icon,{key:"delete",onClick:T.btnDelete.bind(T.me,u,c),link:!0,name:"delete"})))):m.push(z.a.createElement("td",{key:"celldelete",className:"dwkit-collectioneditor-cellbtn"},z.a.createElement("div",{className:"field"},g&&z.a.createElement(oi.Icon,{key:"copy",onClick:T.btnCopy.bind(T.me,u,void 0),link:!0,name:"copy"}),b&&z.a.createElement(oi.Icon,{key:"delete",onClick:T.btnDelete.bind(T.me,u,void 0),link:!0,name:"delete"})))))),s.push(z.a.createElement("tr",{key:a+V,className:"dwkit-collectioneditor-row","data-rowindex":u},m)),s=s.concat(h)}return s}(e,T.state.data,n))))):z.a.createElement("div",null,"Fill columns property!")}),d("collection-input",function(e){return z.a.createElement(oi.Input,Qi({},e.props.inputProps,{onChange:e.me.handleChange}))}),d("collection-upload",function(e){return z.a.createElement($r,{name:e.props.colName,error:e.props.errorFlag,value:e.props.value,readOnly:e.props.readOnly,onChange:e.me.handleChange,downloadUrl:e.props.downloadUrl,uploadUrl:e.props.uploadUrl,additionalData:e.props.additionalData,additionalDataContext:e.props.row,isForm:!0,hideClearButton:"file2"===e.props.control})}),d("collection-camera",function(e){return z.a.createElement(fe,{name:e.props.colName,error:e.props.errorFlag,value:e.props.value,readOnly:e.props.readOnly,onChange:e.me.handleChange,downloadUrl:e.props.downloadUrl,uploadUrl:e.props.uploadUrl,additionalData:e.props.additionalData,additionalDataContext:e.props.row,compact:!0,showPreview:!0,hideClear:!0,fluid:!0,isForm:!0,compression:.75})}),d("collection-signature",function(e){return z.a.createElement(vr,{name:e.props.colName,error:e.props.errorFlag,value:e.props.value,readOnly:e.props.readOnly,onChange:e.me.handleChange,downloadUrl:e.props.downloadUrl,uploadUrl:e.props.uploadUrl,additionalData:e.props.additionalData,additionalDataContext:e.props.row,compact:!0,showPreview:!0,fluid:!0,isForm:!0})}),d("breadcrumb",function(e){for(var t=[],n=0;n<e.children.length;n++){var r=e.children[n];r.isDivider?t.push(z.a.createElement(oi.Breadcrumb.Divider,r.dividerProps)):t.push(z.a.createElement(oi.Breadcrumb.Section,r.childProps,r.text))}return z.a.createElement(oi.Breadcrumb,Ji({},e.propsControl,{children:t}))}),d("builder-dropzone",function(t){return z.a.createElement(_o.Consumer,null,function(e){return e=e.visible,z.a.createElement(oi.Popup,{trigger:z.a.createElement("div",{name:t.key,key:t.key,elementafter:t.elementAfter,elementtoinsert:t.elementToInsert,placeholderkey:t.placeholderKey,className:"dwkit-formbuilder-zone",style:Yi(e)},t.text),onClose:t.onClosePopup,content:z.a.createElement(oi.TextArea,{rows:"10",width:"200px",onChange:t.onChangeDZ,placeholder:"Insert a model control"}),on:"click"})})}),d("button",function(e){return e.propsControl.link?(e.propsControl.style.cursor="pointer",z.a.createElement("a",e.propsControl,e.propsControl.content)):e.propsControl.isForm?z.a.createElement(oi.Form.Button,e.propsControl):z.a.createElement(oi.Button,e.propsControl)});var Zi=n(13),$i=function(e){return z.a.createElement("div",e,e.children,e.isLoading&&z.a.createElement(Xi,null))};function ea(e){return(ea="function"==typeof Symbol&&"symbol"==wl(Symbol.iterator)?function(e){return wl(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":wl(e)})(e)}function ta(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function na(e,t){return(na=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ra(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function oa(e){return(oa=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ia(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var aa="image/png",la="signature-image",sa=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&na(e,t)}(o,z.a.Component);var n,r,t=(n=o,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=oa(n),t=r?(t=oa(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this;return!t||"object"!==ea(t)&&"function"!=typeof t?ra(e):t});function o(e){var i;return function(e){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this),ia(ra(i=t.call(this,e)),"labels",function(){return i.props.compact?{}:{open:i.props.openLabel||"Open",clear:i.props.clearLabel||"Clear"}}),ia(ra(i),"load",function(r){var e=ra(i).props,t=e.value,o=new XMLHttpRequest;o.open("POST",e.downloadUrl+t,!0),o.responseType="arraybuffer",o.onload=function(){var e=la,t=o.getResponseHeader("Content-Disposition");!t||-1===t.indexOf("attachment")||(n=/filename[^;=\n]*=((['"]).*?\2|[^;\n]*)/.exec(t))&&n[1]&&(e=n[1].replace(/['"]/g,""));var n=o.response;n.filename=e,n=URL.createObjectURL(new Blob([n],{type:aa})),i.setState({image:n,loading:!1}),r&&r(n)},o.send(null)}),ia(ra(i),"download",function(e){e.preventDefault(),i.load(function(e){var t=document.createElement("a");t.setAttribute("href",window.URL.createObjectURL(new Blob([e],{type:aa}))),t.setAttribute("download",e.filename||"unknown"),document.body.appendChild(t),t.onclick=function(){document.body.removeChild(t)},t.click()})}),ia(ra(i),"clear",function(){i.props.clear(),i.setState({image:null})}),ia(ra(i),"openFullscreen",function(){var e=ra(i).state;e.image?window.open(e.image):i.load(function(e){window.open(e)})}),ia(ra(i),"preview",function(){var e=(t=ra(i)).props,t=t.state;return e.showPreview&&z.a.createElement($i,{isLoading:t.loading,className:"image-uploaded-preview"+(e.compact?" compact":""),onClick:i.openFullscreen},e.compact?z.a.createElement(oi.Image,{rounded:!0,src:t.image,className:"compact-image-preview signature"}):z.a.createElement("img",{src:t.image,className:"image-preview"}))}),i.state={image:null,loading:!!e.showPreview},e.value&&e.showPreview&&i.load(),i}return ta(o.prototype,[{key:"componentDidUpdate",value:function(e){var t=this.props;t.value!==e.value&&(t.value?t.showPreview&&this.load():this.setState({image:null}))}},{key:"render",value:function(){var e=this.props,t=(this.state,this.labels);return z.a.createElement("div",{style:{display:"flex",flexDirection:e.showPreview&&!e.compact?"column":"row"}},e.showPreview?this.preview():z.a.createElement(oi.Button,{content:t().open,onClick:this.openFullscreen,icon:"zoom-in",fluid:!e.compact}),!e.hideClear&&z.a.createElement(oi.Button,{onClick:this.clear,content:t().clear,icon:"cancel",fluid:!e.compact}))}}]),o}(),ca=function(e,t,n){var e=function(e){for(var t=atob(e.split(",")[1]),n=e.split(",")[0].split(":")[1].split(";")[0],e=new ArrayBuffer(t.length),r=new Uint8Array(e),o=0;o<t.length;o++)r[o]=t.charCodeAt(o);return new Blob([e],{type:n})}(e),r=new FormData,e=new File([e],"file",{type:"image/jpeg"});r.append("data",e),r.append("name","photo"),window.$.ajax({url:t,type:"POST",processData:!1,contentType:!1,dataType:"json",data:r,success:function(e){n(r,e)}})};function ua(e){return(ua="function"==typeof Symbol&&"symbol"==wl(Symbol.iterator)?function(e){return wl(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":wl(e)})(e)}function pa(){return(pa=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function fa(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function da(e,t){return(da=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ha(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Va(e){return(Va=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ma(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ya=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&da(e,t)}(o,z.a.Component);var n,r,t=(n=o,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=Va(n),t=r?(t=Va(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this;return!t||"object"!==ua(t)&&"function"!=typeof t?ha(e):t});function o(e){var r;return function(e){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this),ma(ha(r=t.call(this,e)),"labels",function(){return{takeShot:r.props.compact?"":r.props.shotLabel||"Take shot",openImage:r.props.compact?"":r.props.openImageLabel||"Open image",reset:r.props.resetLabel||"Reset",upload:r.props.uploadLabel||"Upload",cancel:r.props.cancelLabel||"Cancel"}}),ma(ha(r),"showCameraModal",function(){r.setState({open:!0,dataUrl:null})}),ma(ha(r),"openImageDialog",function(){var n=document.createElement("input");n.setAttribute("type","file"),n.style.opacity=0,n.setAttribute("accept","image/*"),n.setAttribute("multiple",!1),document.body.appendChild(n),n.onchange=function(e){var e=e.target.files[0],t=new FileReader;t.onload=function(){r.upload(t.result)},t.readAsDataURL(e),document.body.removeChild(n)},n.click()}),ma(ha(r),"cancel",function(){r.setState({open:!1,dataUrl:null})}),ma(ha(r),"clear",function(){r.setState({dataUrl:null})}),ma(ha(r),"upload",function(e){var n=ha(r).props;ca(r.state.dataUrl||e,n.uploadUrl,function(e,t){n.onUpload(e,t)}),r.setState({open:!1})}),ma(ha(r),"onTakePhoto",function(e){r.setState({dataUrl:e})}),r.state={open:!1,dataUrl:null},r}return fa(o.prototype,[{key:"render",value:function(){var e=this.props,t=this.state,n=this.labels;return e.value?z.a.createElement(sa,pa({},e,{clear:e.onClear})):z.a.createElement("div",{style:{display:"flex",flexDirection:"row"}},z.a.createElement(oi.Modal,{open:this.state.open},z.a.createElement(oi.Modal.Content,null,t.dataUrl?z.a.createElement("div",{className:"react-html5-camera-photo"},z.a.createElement("img",{src:t.dataUrl,className:"image-preview"}),z.a.createElement(oi.Button,{fluid:!0,content:n().reset,className:"ui button",onClick:this.clear,icon:"cancel"})):z.a.createElement(Zi.Camera,{onTakePhotoAnimationDone:this.onTakePhoto,isFullscreen:!1,idealFacingMode:Zi.FACING_MODES.ENVIRONMENT,imageType:Zi.IMAGE_TYPES.JPG,imageCompression:parseFloat(e.compression)||1,isMaxResolution:!0,isImageMirror:!0})),z.a.createElement(oi.Modal.Actions,null,z.a.createElement(oi.Button,{className:"buttontype1",content:n().upload,src:t.dataUrl,download:!0,onClick:this.upload,icon:"check",disabled:!t.dataUrl}),z.a.createElement(oi.Button,{className:"buttontype2",content:n().cancel,onClick:this.cancel}))),z.a.createElement(oi.Button,{content:n().takeShot,basic:!0,fluid:!!e.compact,onClick:this.showCameraModal,icon:"photo"}),z.a.createElement(oi.Button,{content:n().openImage,basic:!0,fluid:!!e.compact,onClick:this.openImageDialog,icon:"folder"}))}}]),o}();d("camera",function(e){var t=e.props,n=t.compact&&t.showPreview?{minWidth:160}:{};return z.a.createElement("div",{className:"field",style:n},e.props.label&&z.a.createElement("label",null,e.props.label),z.a.createElement(ya,pa({},t,{onUpload:e.onUpload,onClear:e.onClear})))}),d("chart-view",function(e){var t=e.props.style,n=he(e.props.width)?e.props.width:"400px";he(t.width)&&(n=t.width);var r=he(e.props.height)?e.props.height:"300px";he(t.height)&&(r=t.height),e.state.width===n&&e.state.height===r||!he(e.state.chart)||(e.state.chart.destroy(),e.state.chart=void 0),e.state.width=n,e.state.height=r;var o="field";return he(e.props.className)&&(o+=" "+e.props.className),z.a.createElement("div",{className:o,style:t},z.a.createElement("canvas",{id:e.divId,width:n,height:r}))}),d("chart-view-redraw-chart",function(e){if(he(e.state.chart)&&(e.state.chart.destroy(),e.state.chart=void 0),de(e.state.chart)){var t=document.getElementById(e.divId).getContext("2d"),n=e.chartData,r=void 0;if(he(n)&&Array.isArray(n.datasets)){var o=[];if(n.datasets.forEach(function(e){he(e.yAxisID)&&null!=e.yAxisID&&(o.includes(e.yAxisID)||o.push(e.yAxisID))}),0<o.length)for(var r=[],i=0;i<o.length;i++)i?r.push({type:"linear",display:!0,position:"right",id:o[i],gridLines:{drawOnChartArea:!1}}):r.push({type:"linear",display:!0,position:"left",id:o[i]})}n={type:e.props.chartType,data:n,options:{responsive:Boolean(e.props.responsive),legend:{position:e.props.legendPosition},title:{fontSize:de(e.props.titleSize)?14:e.props.titleSize,display:Ve(e.props.title),text:e.props.title}}},he(r)&&(n.options.scales={yAxes:r}),e.state.chart=new Chart(t,n)}else e.state.chart.update()}),d("checkbox",function(e){return e.isForm?z.a.createElement(oi.Form.Checkbox,e.propsControl):z.a.createElement(oi.Checkbox,e.propsControl)}),d("container",function(e){return z.a.createElement("div",e.props)});var Oe=n(7),va=n.n(Oe);d("control-bar",function(a){function l(){var e=va()(".dwkit-formbuilder-zone");e.removeClass("dwkit-formbuilder-zone-active"),e.removeClass("dwkit-formbuilder-zone-select"),e.off()}return a.me.updateBarPosition=function(){var e,t,n,r;a.me.controlRef&&a.me.controlRef.current&&a.me.barRef&&a.me.barRef.current&&(r=ii.a.findDOMNode(a.me.controlRef.current),e=ii.a.findDOMNode(a.me.barRef.current),t=va()(r).position(),n=r.getBoundingClientRect(),r=e.getBoundingClientRect(),n=t.left+n.width-r.width,r=t.top-r.height/2,e.style.transform="translate3d("+(n=(n=n<15?15:n)<15?15:n)+"px, "+r+"px, 0)")},z.a.createElement(_o.Consumer,null,function(e){return e=e.visible,e=z.a.createElement("div",{ref:a.me.barRef,className:"dwkit-formbuilder-item-toolbar-container",style:Yi(e)},z.a.createElement("div",{key:"bar",className:"dwkit-formbuilder-item-toolbar-header",onMouseOver:function(e){var t=void 0;(t=a.me.controlRef.current?ii.a.findDOMNode(a.me.controlRef.current):t)&&va()(t).addClass("dwkit-formbuilder-item-selected")}.bind(a.me),onMouseLeave:function(e){var t=void 0;(t=a.me.controlRef.current?ii.a.findDOMNode(a.me.controlRef.current):t)&&va()(t).removeClass("dwkit-formbuilder-item-selected")}.bind(a.me)},z.a.createElement("div",{className:"dwkit-formbuilder-item-toolbar-header-buttons"},z.a.createElement("div",{className:"dwkit-formbuilder-item-toolbar-header-title",title:a.props.text,onDoubleClick:a.onCopyControl},a.props.model.key),z.a.createElement(oi.Icon,{key:"move",draggable:!0,onDragStart:function(e,t){var n,r,o,i=".dwkit-formbuilder-zone";t.dataTransfer.setData("text",""),this.controlRef.current&&(r=(n=ii.a.findDOMNode(this.controlRef.current)).getBoundingClientRect(),t.dataTransfer.setDragImage(n,r.width/2,0)),he(e.forContainerType)&&(r=e.forContainerType.split(","),o="",r.forEach(function(e){0<o.length&&(o+=","),o+="[data-buildertype='"+e+"'] > "+i}),i=o),va()(i).addClass("dwkit-formbuilder-zone-active").on("dragenter",function(e,t,n){va()(n.target).addClass(t)}.bind(a.me,e,"dwkit-formbuilder-zone-select")).on("dragleave",function(e,t,n){va()(n.target).removeClass(t)}.bind(a.me,e,"dwkit-formbuilder-zone-select")).on("dragover",function(e){e.preventDefault()}).on("drop",function(e,t){return 0<(t=va()(t.target)).length&&lo.move(e.key,t[0]),l(),!1}.bind(a.me,e))}.bind(a.me,a.props.model),onDragEnd:l.bind(a.me,a.props.model),link:!0,name:"move"}),z.a.createElement(oi.Icon,{key:"edit",onClick:a.me.props.onEdit.bind(a.props.parent,a.props.model),link:!0,name:"edit"}),z.a.createElement(oi.Icon,{key:"copy",onClick:a.me.props.onCopy.bind(a.props.parent,a.props.model),link:!0,name:"copy"}),z.a.createElement(oi.Icon,{key:"delete",onClick:a.me.props.onDelete.bind(a.props.parent,a.props.model),link:!0,name:"delete"})))),[z.a.cloneElement(a.props.control,{ref:a.me.controlRef}),e]})});var Xn=n(18),ga=n.n(Xn);function ba(){return(ba=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function wa(){return(wa=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Oa(){return(Oa=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}d("date-picker",function(e){var t=z.a.createElement(ga.a,ba({},e.datePickerProps,{peekNextMonth:!0,showMonthDropdown:!0,showYearDropdown:!0,dropdownMode:"select",isClearable:!e.props.readOnly,placeholderText:e.placeholder,selected:e.date,onChange:e.onChange,onChangeRaw:e.handleChangeRaw}));return!e.props.labelPosition||e.props.isForm?(e.controlProps.className?e.controlProps.className+=" field":e.controlProps.className="field",e.props.error&&(e.controlProps.className+=" error"),e.props.readOnly&&(e.controlProps.className+=" datepicker-readonly"),z.a.createElement("div",e.controlProps,he(e.props.label)&&z.a.createElement("label",null,e.props.label),z.a.createElement("div",{"data-buildertype":e.props.type},t))):(e.controlProps.className?e.controlProps.className+=" ui fluid labeled input":e.controlProps.className="ui fluid labeled input",e.props.error&&(e.controlProps.className+=" error"),e.props.readOnly&&(e.controlProps.className+=" datepicker-readonly"),z.a.createElement("div",ba({},e.controlProps,{"data-buildertype":e.props.type}),he(e.props.label)&&z.a.createElement("div",{className:"ui label label"},e.props.label),t))}),d("dictionary",function(e){return z.a.createElement(oi.Form.Dropdown,wa({},e.propsControl,{error:he(e.propsControl.error)}))}),d("dropdown",function(e){return z.a.createElement(oi.Form.Dropdown,e.propsControl)}),d("dropdown-trigger",function(e){return e.controlProps.trigger=z.a.createElement("span",null,he(e.props.imageUrl)&&z.a.createElement(oi.Image,{avatar:!0,src:e.props.imageUrl}),he(e.props.value)?e.props.value:e.props.defaultValue),z.a.createElement(oi.Dropdown,Oa({},e.controlProps,{onMouseDown:e.onMouseDown}))});var Oe=n(19),Ca=n.n(Oe);function ka(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function Ea(r){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?ka(Object(o),!0).forEach(function(e){var t,n=r;e=o[t=e],t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(o)):ka(Object(o)).forEach(function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(o,e))})}return r}function Aa(){return(Aa=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Sa(){return(Sa=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function _a(){return(_a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function xa(){return(xa=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Pa(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}d("dropzone",function(e){var t=e.props.readOnly?z.a.createElement("div",null):z.a.createElement(Ca.a,{config:e.componentConfig,eventHandlers:e.eventHandlers,djsConfig:e.djsConfig});return e.isForm?z.a.createElement("div",{className:"field"},t):t}),d("edit-form",function(e){if(de(e.state.item))return z.a.createElement("div",null);var t=e.dwKitControls.getEditControlByType(e.state.item["data-buildertype"],e.props.externalControlList);if(!t)return o="Close",he(e.props.localization)&&(o=e.props.localization.base.closebutton),z.a.createElement(oi.Modal,{open:e.state.open,onClose:e.onClose},z.a.createElement(oi.Modal.Header,null,"Error"),z.a.createElement(oi.Modal.Content,null,z.a.createElement("p",null,"EditForm is not found for this control!")),z.a.createElement(oi.Modal.Actions,null,z.a.createElement(oi.Button,{onClick:e.onClose},o)));var n="OK",r="Cancel",o="Question";return he(e.props.localization)&&(n=e.props.localization.base.okbutton,r=e.props.localization.base.cancelbutton,o=e.props.localization.base.questiontitle),z.a.createElement("div",null,z.a.createElement(t,{key:"editform",data:e.state.item,parent:e.parent,open:e.state.open,onSave:e.onSave,onClose:e.onClose,actions:e.props.actions,className:"dwkit-formbuilder-editform",localization:e.props.localization}),z.a.createElement(oi.Modal,{size:"small",open:e.state.confirm,dimmer:"inverted",onClose:e.confirmHandleCancel},z.a.createElement(oi.Modal.Header,null,o),z.a.createElement(oi.Modal.Content,null,z.a.createElement("p",null,e.state.confirmtext)),z.a.createElement(oi.Modal.Actions,null,z.a.createElement(oi.Button,{className:"buttontype1",onClick:e.state.confirmHandle},n),z.a.createElement(oi.Button,{className:"buttontype2",onClick:e.confirmHandleCancel},r))))}),d("empty",function(e){return z.a.createElement("div",{className:"dwkit-formbuilder-empty",key:e.key},e.text)}),d("events-editor",function(o){var i=o.props.data,e=o.props.events,a=[];return e.forEach(function(e){var t=he(i)?i[e]:{},n={element:oi.Form.Dropdown,props:{className:"dwkit-action-dropdown",multiple:!0,search:!0,selection:!0,allowAdditions:!0}},r={element:Fe,props:{className:"parameters-editor",multiple:!0,search:!0,selection:!0,allowAdditions:!0}};a.push(z.a.createElement("div",{key:e+"_events"},z.a.createElement(oi.Form.Checkbox,{className:t.active?"events-editor-checkbox":"",width:3,key:"active",label:e,name:"active",checked:t.active,onChange:o.me.handleChange.bind(o.me,e)}),z.a.createElement("div",{className:"events-editor-block",style:t.active?{}:{display:"none"}},z.a.createElement(Fe,{draggable:!0,columns:[{key:"actions",name:"Actions",control:"custom",customControl:n.element,customControlGetPropsFunc:function(e){return Ea({options:o.actionOptions,value:e.actions},n.props)}},{key:"parameters",name:"Parameters",control:"custom",customControl:r.element,customControlGetPropsFunc:function(e){return Ea({value:e.parameters,columns:[{key:"name",name:"Name"},{key:"value",name:"Value"}]},r.props)}},{key:"targets",name:"Targets",control:"custom",customControl:n.element,customControlGetPropsFunc:function(e){return Ea({options:o.targetOptions,value:e.targets},n.props)}}],name:"triggers",className:"events-editor",value:t.triggers,onChange:o.me.handleChange.bind(o.me,e)}),z.a.createElement(oi.Button,{onClick:o.me.initNewTrigger.bind(o.me,e),basic:!0,size:"mini",style:{width:"calc(100% - 70px)",marginLeft:20,fontWeight:900,padding:4,fontSize:19}},"+"))))}),z.a.createElement("div",null,a)}),d("files",function(t){return z.a.createElement("div",null,z.a.createElement(Fe,Aa({disableAdd:!0,disableCopy:!0},t.editorProps)),function(){if(t.props.readOnly)return null;if(t.props.useDropzone){var e={iconFiletypes:t.props.iconFiletypes,postUrl:t.props.postUrl,showFiletypeIcon:t.props.showFiletypeIcon,autoProcessQueue:t.props.autoProcessQueue,additionalParams:t.props.additionalParams,onSuccess:t.onDropzoneUploadSuccess,onFail:t.onDropzoneUploadFail};return z.a.createElement(vt,Aa({addRemoveLinks:!0},e))}return t.props.useCamera&&(t.editorProps.columns.find(function(e){return"file2"==e.control}).control="camera"),e={uploadUrl:t.props.postUrl,downloadUrl:t.props.downloadUrl,readOnly:t.props.readOnly,onlyImages:t.props.useCamera,multiple:t.props.multiple,onChange:t.onUploadChange,onUploadFail:t.onUploadFail},z.a.createElement($r,Aa({isForm:!0},e))}())}),d("form",function(e){return z.a.createElement(oi.Form,Sa({},e.propsControl,{children:e.children,size:e.model.size}))}),d("formgroup",function(e){var t=e.widths;return"custom"===t&&(t=e.widthsCustom),"grouped"==e.orientation&&(e.propsControl[e.orientation]=!0),"field"==e.orientation?z.a.createElement(oi.Form.Field,_a({},e.propsControl,{children:e.children})):z.a.createElement(oi.Form.Group,_a({},e.propsControl,{widths:t,children:e.children}))}),d("checkbox-formatter",function(e){return e=Boolean(e.props.value),z.a.createElement(oi.Checkbox,{checked:e,disabled:!0})}),d("number-formatter",function(e){return e=e.props.value,z.a.createElement("span",{style:{textAlign:"right"}},z.a.createElement("div",{title:e},e))}),d("date-formatter",function(e){return z.a.createElement("span",{style:{textAlign:"right"}},z.a.createElement("div",{title:e.strValue},e.strValue))}),d("datetime-formatter",function(e){return z.a.createElement("span",{style:{textAlign:"right"}},z.a.createElement("div",{title:e.strValue},e.strValue))}),d("time-formatter",function(e){return z.a.createElement("span",{style:{textAlign:"right"}},z.a.createElement("div",{title:e.strValue},e.strValue))}),Xn=n(16),Oe=n.n(Xn);var ja=Object(Xn.WidthProvider)(Oe.a);d("grid-layout",function(l){var e=function(t){var o=l.me,i=[],a=void 0;if(!l.props.buildermode)try{a=JSON.parse(l.getCookie(window.location.pathname+"_"+l.props.name))}catch(e){}if(Array.isArray(t))for(var e=function(e){var n=t[e];if(void 0!==n.visibleCondition&&null!==n.visibleCondition&&""!==n.visibleCondition){e="return "+n.visibleCondition;try{if(!new Function("",e)())return"continue"}catch(e){}}var r=!1;he(a)&&a.forEach(function(e){var t;e.i==n.psid&&(r=!0,t=function(r){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?Pa(Object(o),!0).forEach(function(e){var t,n=r;e=o[t=e],t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(o)):Pa(Object(o)).forEach(function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(o,e))})}return r}({},n),o.props.draggable&&(t.x=e.x,t.y=e.y),o.props.resizable&&(t.w=e.w,t.h=e.h),i.push(o.renderPanel(t)))}),r||i.push(function(e){var t,n=void 0;he(l.props.placeholders)&&Array.isArray(l.props.placeholders[e.psid])&&0<l.props.placeholders[e.psid].length?(r=l.props.placeholders[e.psid])&&(n=l.props.createControls(l.me,{model:r,parentPlaceholder:e.psid,buildermode:l.props.buildermode,data:l.props.data,errors:l.props.errors,parentItem:l.props.model,children:l.props.children,handleEvent:l.props.handleEvent,getFormFunc:l.props.getFormFunc,getAdditionalDataForControl:l.props.getAdditionalDataForControl,readOnlyControls:l.props.readOnlyControls,readOnly:l.props.readOnly,disableRefs:l.props.disableRefs,uploadUrl:l.props.uploadUrl,downloadUrl:l.props.downloadUrl,extendedData:l.props.extendedData,controlsToReplace:l.props.controlsToReplace,needCheckReplace:l.props.needCheckReplace,eventOnEdit:l.props.eventOnEdit,eventOnDelete:l.props.eventOnDelete,eventOnCopy:l.props.eventOnCopy,adaptiveViewType:l.props.adaptiveViewType}),t=e.psid,l.props.buildermode&&l.props.createBuilderDropzone&&(0<n.length&&0<r.length&&n.unshift(l.props.createBuilderDropzone(t+"layout_dropzone_header",l.props.name,void 0,e.title,e.psid)),n.push(l.props.createBuilderDropzone(t+"layout_dropzone_footer",l.props.name,r[r.length-1].key,e.title,e.psid)))):l.props.buildermode&&l.props.createBuilderDropzone&&(n=l.props.createBuilderDropzone("layout_dropzone_footer",l.props.name,void 0,e.title,e.psid));var r={x:he(e.x)?e.x:0,y:he(e.y)?e.y:0,w:he(e.w)?e.w:4,h:he(e.h)?e.h:4,i:e.psid};return z.a.createElement("div",{key:e.psid,className:e.cssclass,"data-grid":r},e.title&&z.a.createElement("div",{className:"react-grid-item-title"},e.title),n)}(n))},n=0;n<t.length;n++)e(n);return i}(l.props["data-panes"]),t={isDraggable:!0,isResizable:!0,cols:Ve(l.props.cols)?l.props.cols:12,rowHeight:30,containerPadding:[0,0],draggableCancel:"input,textarea"};l.props.buildermode||(t.isDraggable=l.props.draggable,t.isResizable=l.props.resizable);var n=l.props.className;return l.props.scroll&&(n="react-grid-scroll"),z.a.createElement("div",{className:n,style:l.props.style},z.a.createElement(ja,xa({onLayoutChange:l.onLayoutChange},t),e))});var Ra=n(12),Da=n.n(Ra);function Ta(){return(Ta=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Fa(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function Na(){return(Na=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Ia(){return(Ia=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function La(){return(La=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Ua(){return(Ua=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Ma(){return(Ma=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}d("grid-view",function(e){var t=e.props.className,n=function(r){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?Fa(Object(o),!0).forEach(function(e){var t,n=r;e=o[t=e],t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(o)):Fa(Object(o)).forEach(function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(o,e))})}return r}({},e.props.style),r=e.gridProps;return r.columns=e.gridColumns,r.rowKey=e.props.rowKey,Ve(e.props.rowHeight)&&(r.rowHeight=Number(e.props.rowHeight)),e.props.headerRowHeight&&(r.headerRowHeight=e.props.headerRowHeight),e.props.autoHeight?(n.minHeight=e.props.minHeight,Ve(e.props.offSet)?n.height="calc(100vh - "+e.props.offSet+")":n.height="100vh",t=(de(t)?"":t+" ")+"dwkit-gridview-autoHeight"):Ve(e.props.minHeight)&&(r.minHeight=e.props.minHeight),e.props.multiselect&&(r.rowSelection={onRowsSelected:e.onRowsSelected,onRowsDeselected:e.onRowsDeselected,selectBy:e.selectBy}),z.a.createElement("div",{key:e.props.name,name:e.props.name,className:t,style:n},z.a.createElement(Da.a,Ta({key:"grid"},r,{rowsCount:e.state.rowsCount,rowGetter:e.gridRowGetter,onRowClick:e.gridOnRowClick,onGridSort:e.handleGridSort})))}),d("header",function(e){return z.a.createElement(oi.Header,Na({},e.propsControl,{textAlign:e.model.textAlign,size:e.model.size,content:e.props.content,subheader:e.props.subheader}))}),d("image",function(n){var e,t,r,o,i=n.props.src;return"string"==typeof n.props.value&&32==n.props.value.length&&(n.props.value==n.me.state.token?i=n.me.state.source:(t=function(e,t){n.me.setState({token:e,source:t})},r=(e=n).props.value,(o=new XMLHttpRequest).open("POST",e.me.props.additionalParams.downloadUrl+r,!0),o.responseType="blob",o.onload=function(){var e=new FileReader;e.onloadend=function(){t(r,this.result)},e.readAsDataURL(o.response)},o.send(null))),z.a.createElement(oi.Image,Ia({},n.propsControl,{avatar:n.model.avatar,bordered:n.model.bordered,centered:n.model.centered,disabled:n.model.disabled,inline:n.model.inline,href:n.props.href,src:i,floated:n.model.floated,shape:n.model.shape,spaced:n.model.spaced,verticalAlign:n.model.verticalAlign,height:n.model.height,width:n.model.width}))}),d("input",function(e){return"file"===e.propsControl.type?(e.propsControl.isForm=!e.propsControl.labelPosition||e.isForm,z.a.createElement($r,La({},e.propsControl,{downloadUrl:e.props.additionalParams.downloadUrl,uploadUrl:e.props.additionalParams.uploadUrl}))):"date"===e.propsControl.type||"time"===e.propsControl.type||"datetime"===e.propsControl.type?(e.propsControl.isForm=!e.propsControl.labelPosition||e.isForm,z.a.createElement(Ze,e.propsControl)):!e.propsControl.labelPosition||e.isForm?z.a.createElement(oi.Form.Input,e.propsControl):z.a.createElement(oi.Input,e.propsControl)}),d("label",function(e){return z.a.createElement(oi.Label,Ua({},e.propsControl,{size:e.model.size,content:e.props.content,attached:e.model.attached,basic:e.model.basic,circular:e.model.circular,corner:e.model.corner,floating:e.model.floating,pointing:e.model.pointing}))}),d("menu-group",function(s){var e,t=function e(t,n){var r=[];de(n)&&(n="");for(var o=0;o<t.length;o++){var i=t[o];if(he(i.visibleCondition)&&null!==i.visibleCondition&&""!==i.visibleCondition){var a="return "+i.visibleCondition;try{if(!new Function("",a)())continue}catch(e){}}var l=String(n)+String(o),a=z.a.createElement("span",{dangerouslySetInnerHTML:{__html:i.title}});Array.isArray(i.children)&&0<i.children.length?r.push(z.a.createElement(oi.Menu.Item,{key:l},z.a.createElement(oi.Menu.Header,null,a),z.a.createElement(oi.Menu.Menu,null,e(i.children,l+"_")))):(a=s.props.link?z.a.createElement("a",{style:{color:"inherit"},href:i.target,onClick:s.handleItemClick2.bind(s.me,{name:i.target})},a):a,s.props.link?r.push(z.a.createElement(oi.Menu.Item,{key:l,name:i.target,active:s.state.activeitem===i.target},a)):r.push(z.a.createElement(oi.Menu.Item,{key:l,name:i.target,active:s.state.activeitem===i.target,onClick:s.handleItemClick},a)))}return r}(s.items),n={};for(e in s.props)"data-items"!=e&&"activeItem"!=e&&"handleEvent"!=e&&"link"!=e&&(n[e]=s.props[e]);return z.a.createElement(oi.Menu,n,t)}),d("message",function(e){return z.a.createElement(oi.Message,Ma({},e.propsControl,{floated:e.model.floated,size:e.model.size,content:e.props.content,compact:e.model.compact,error:e.model.error,floating:e.model.floating,info:e.model.info,negative:e.model.negative,positive:e.model.positive,success:e.model.success,warning:e.model.warning,header:e.props.header}))}),d("null-control",function(e){return z.a.createElement("div",{key:e.key},e.text)});var Oe=n(20),Ba=n.n(Oe);d("number-format",function(e){return e.propsControl.customInput=(!e.propsControl.labelPosition||e.isForm?oi.Form:oi).Input,z.a.createElement(Ba.a,e.propsControl)}),d("popup",function(e){return z.a.createElement(oi.Popup,{key:e.key,trigger:e.trigger,on:e.popupOn,position:e.popupPosition,className:e.className,header:e.header,content:e.content})}),d("radio-group",function(n){var e=n.props.items.map(function(e){var t=e.key||e.value;return z.a.createElement(oi.Form.Field,{key:t+"_formfield"},z.a.createElement(oi.Form.Radio,{key:t,label:e.text,name:n.props.name+"_radioGroup",value:e.value,readOnly:n.props.readOnly,checked:n.props.value===e.value,onChange:n.onChange}))},n),t=(t=n.props.className)||"";return n.props.error&&(t+=" error"),"v"===n.props.direction?z.a.createElement("div",{className:t+=" ui form",style:n.props.style},z.a.createElement("label",null,n.props.label),z.a.createElement(oi.Form,null,e)):z.a.createElement("div",{className:"ui form"},z.a.createElement("div",{className:t+=" field"},z.a.createElement("label",null,n.props.label),z.a.createElement("div",{style:n.props.style},z.a.createElement(oi.Form.Group,{key:"group"},e))))});var Oe=n(21),za=n.n(Oe);function Wa(){return(Wa=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Ka(){return(Ka=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}d("repeater",function(l){function e(e,t,n){var r,o=l.me,i=[],a=0;return Array.isArray(e)&&0<e.length?e.forEach(function(e){he(e=s(a,e,!a&&o.props.controlProps.buildermode))&&(n?i.push(z.a.createElement("div",{key:a},e)):i.push(e)),a++}):l.props.controlProps.buildermode?he(r=s(a,{},0===a))&&(n?i.push(z.a.createElement("div",null,r)):i.push(r)):!l.state.loading&&l.isServerMode&&(!de(r=l.props.noRecordsLabel)&&""!=r||(r="No records. Refresh..."),r=z.a.createElement("div",{key:"norecords",className:"dwkit-repeater-norecords"},z.a.createElement(oi.Button,{onClick:l.loadNextPage},r)),i.push(r)),!l.state.loading&&l.isServerMode&&t>e.length&&0<e.length&&(!de(e=l.props.loadButtonLabel)&&""!=e||(e="Load more..."),e=z.a.createElement("div",{key:"loadmore",className:"dwkit-repeater-loadmore"},z.a.createElement(oi.Button,{onClick:l.loadNextPage},e)),i.push(e)),i}function s(e,t,n){if(!l.props.controlProps.buildermode&&""!==l.props["item-visibleCondition"]&&void 0!==l.props["item-visibleCondition"]&&null!==l.props["item-visibleCondition"]){var r="return "+l.props["item-visibleCondition"];try{if(!new Function("data",r)(t))return}catch(e){return}}var o=void 0,i=l.props.controlProps.createBuilderDropzone;return he(l.props.placeholders)&&Array.isArray(l.props.placeholders[l.psTemplate])&&0<l.props.placeholders[l.psTemplate].length?he(r=l.props.placeholders[l.psTemplate])&&(o=z.a.createElement(Yn,{key:e,parent:l.me,model:r,psTemplate:l.psTemplate,item:t,controlProps:l.props.controlProps,includeDropzone:n,errors:Array.isArray(l.props.error)?l.props.error[e]:void 0,index:e,handleChange:l.handleChange,data:l.props.data,parentItem:l.props.model})):n&&i&&(o=i("repeater_dropzone_footer",l.props.model.key,void 0,void 0,l.psTemplate)),o}var t="dwkit-repeater";return l.props.className&&(t+=" "+l.props.className),l.isServerMode&&l.state.firstLoad?(l.state.firstLoad=!1,l.loadNextPage(),z.a.createElement("div",{className:t,style:l.props.style},l.state.loading&&z.a.createElement(oi.Loader,{active:!0,inline:"centered"}))):l.props.slider&&0<l.state.items.length?z.a.createElement("div",{className:t,style:l.props.style},z.a.createElement(za.a,{dots:!0,infinite:!0,speed:500,slidesToShow:1,slidesToScroll:1},e(l.state.items,l.state.rowsCount,!0)),l.state.loading&&z.a.createElement(oi.Loader,{active:!0,inline:"centered"})):z.a.createElement("div",{className:t,style:l.props.style},e(l.state.items,l.state.rowsCount),l.state.loading&&z.a.createElement(oi.Loader,{active:!0,inline:"centered"}))}),d("row-loading-renderer",function(t){return z.a.createElement("div",{className:t.className},z.a.createElement(Ra.Row,Wa({ref:function(e){return t.me.row=e}},t.props)))}),d("search",function(e){return z.a.createElement(oi.Search,Ka({},e.controlProps,{fluid:!0,loading:e.state.isLoading,onResultSelect:e.handleResultSelect,onSearchChange:e.handleSearchChange,results:e.state.results,value:e.state.value}))});var Oe=n(22),Ga=n.n(Oe);function Ha(e){return(Ha="function"==typeof Symbol&&"symbol"==wl(Symbol.iterator)?function(e){return wl(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":wl(e)})(e)}function qa(){return(qa=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Qa(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ja(e,t){return(Ja=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ya(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Xa(e){return(Xa=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Za(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var $a=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ja(e,t)}(i,z.a.Component);var n,r,o=(n=i,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=Xa(n),t=r?(t=Xa(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this;return!t||"object"!==Ha(t)&&"function"!=typeof t?Ya(e):t});function i(e){var t;return function(e){if(!(e instanceof i))throw new TypeError("Cannot call a class as a function")}(this),Za(Ya(t=o.call(this,e)),"labels",function(){return{draw:t.props.compact?null:t.props.drawLabel||"Draw signature",clear:t.props.clearCanvasLabel||"Clear canvas",upload:t.props.uploadLabel||"Upload",cancel:t.props.cancelLabel||"Cancel"}}),Za(Ya(t),"upload",function(){var n=Ya(t).props,e=t.sigPad.current.getCanvas().toDataURL("image/png");ca(e,n.uploadUrl,function(e,t){n.onUpload(e,t)}),t.setState({open:!1})}),Za(Ya(t),"onClear",function(){t.sigPad.current.clear()}),t.state={open:!1},t.sigPad=Object(c.createRef)(),t}return Qa(i.prototype,[{key:"render",value:function(){var e=this,t=this.props,n=this.labels;return t.value?z.a.createElement(sa,qa({},t,{clear:t.onClear})):z.a.createElement("div",null,z.a.createElement(oi.Button,{content:n().draw,basic:!0,fluid:t.fluid,onClick:function(){return e.setState({open:!0})},icon:"signup"}),z.a.createElement(oi.Modal,{open:e.state.open,style:{width:"max-content"}},z.a.createElement(oi.Modal.Header,null,"Draw signature"),z.a.createElement(oi.Modal.Content,null,z.a.createElement("div",{className:"signature-canvas-container"},z.a.createElement(Ga.a,{ref:e.sigPad,canvasProps:{className:"canvas ui basic button"}}),z.a.createElement(oi.Button,{fluid:!0,content:n().clear,className:"ui button",onClick:e.onClear,icon:"cancel"}))),z.a.createElement(oi.Modal.Actions,null,z.a.createElement(oi.Button,{className:"buttontype1",content:n().upload,download:!0,onClick:e.upload,icon:"check"}),z.a.createElement(oi.Button,{className:"buttontype2",content:n().cancel,onClick:function(){return e.setState({open:!1})}}))))}}]),i}();function el(){return(el=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function tl(){return(tl=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function nl(){return(nl=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function rl(){return(rl=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function ol(){return(ol=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}d("signature",function(e){var t=e.props,n=t.compact&&t.showPreview?{minWidth:160}:{};return z.a.createElement("div",{className:"field",style:n},e.props.label&&z.a.createElement("label",null,e.props.label),z.a.createElement($a,qa({},t,{onUpload:e.onUpload,onClear:e.onClear})))}),d("statistic",function(e){return z.a.createElement(oi.Statistic.Group,el({},e.propsControl,{floated:e.model.floated,horizontal:e.model.horizontal,size:e.model.size,items:e.items}))}),d("static-content",function(e){if(e.props.isHtml)return z.a.createElement("span",tl({},e.spanProps,{dangerouslySetInnerHTML:{__html:e.props.content}}));var t=he(e.props.content)?e.props.content.replace("\n","<br/>"):void 0;return z.a.createElement("span",e.spanProps,t)}),d("style-button",function(e){var t="RichEditor-styleButton";return e.props.active&&(t+=" RichEditor-activeButton"),z.a.createElement("span",{className:t,onMouseDown:e.me.onToggle},e.props.label)}),d("tab-group",function(e){var t={};t.pointing=e.props.pointing,t.secondary=e.props.secondary,t.tabular=e.props.tabular,t.fluid=e.props.fluid,t.vertical=e.props.vertical;var n=e.props.className;return e.props.scroll&&(n="dwkit-tabgroup"),z.a.createElement("div",{className:n,style:e.props.style},z.a.createElement(oi.Tab,{menu:t,panes:e.panes,renderActiveOnly:!1,onTabChange:e.onTabChange}))}),d("textarea",function(e){if(!e.propsControl.labelPosition||e.isForm)return z.a.createElement(oi.Form.TextArea,e.propsControl);var t="ui labeled input";return e.propsControl.fluid&&(t+=" fluid"),e.propsControl.error&&(t+=" error"),Ve(e.props.className)&&(t+=" "+e.props.className),z.a.createElement("div",{className:t},e.propsControl.label&&z.a.createElement("div",{className:"ui label label"},e.propsControl.label),z.a.createElement(oi.TextArea,e.propsControl))}),d("tree-picker-header",function(e){return z.a.createElement(oi.Modal.Header,null,e.props.name,z.a.createElement("div",{className:"ui menu"},z.a.createElement(oi.Item,{className:"active tree",as:"a"},z.a.createElement("i",{className:"list icon"})," Select"),z.a.createElement(oi.Item,{className:"picked item",as:"a"},z.a.createElement("i",{className:"checkmark icon"})," ",e.props.selected," ",z.a.createElement("span",{className:"count"}))))}),d("tree-picker-trigger",function(e){return z.a.createElement(oi.Form.Dropdown,nl({},e.controlProps,{onClick:e.handleOpen,onChange:e.onDropdownChange}))}),d("unknown",function(e){return z.a.createElement("span",null,"Unknown type '",e.type,"' of '",e.props.name,"' element.")}),d("upload",function(i){var e,t,n=i.props.type,r=[],o=i.props.isForm,a=i.props.value;return he(a)&&null!=a&&""!=a?(e="Download",t="Clear",he(a=function(){if(window.DWKitAdminLang&&window.DWKitAdminLang.button)return window.DWKitAdminLang.button}())&&(e=a.download,t=a.clear),a=i.props.disabled||i.props.readOnly||i.props.hideClearButton,r.push(z.a.createElement("a",{key:"download",className:"ui button",target:"blank",onClick:function(e){e.preventDefault();var e=i.props.value,o=new XMLHttpRequest;o.open("POST",i.props.downloadUrl+e,!0),o.responseType="arraybuffer",o.onload=function(){var e,t=i.getCustomFileName();t||!(e=o.getResponseHeader("Content-Disposition"))||-1===e.indexOf("attachment")||(n=/filename[^;=\n]*=((['"]).*?\2|[^;\n]*)/.exec(e))&&n[1]&&(t=n[1].replace(/['"]/g,""));var n=(n=i.getCustomContentType())||o.getResponseHeader("Content-Type"),r=document.createElement("a");r.setAttribute("href",window.URL.createObjectURL(new Blob([o.response],{type:n}))),r.setAttribute("download",t||"unknown"),document.body.appendChild(r),r.onclick=function(){document.body.removeChild(r)},r.click()},o.send(null)},href:"#"},e)),a||(r.push(z.a.createElement("span",{key:"sparator"},"")),r.push(z.a.createElement("button",{key:"clear",className:"ui button",onClick:i.onClear},t)))):i.props.disabled||i.props.readOnly?r.push(z.a.createElement("span",null)):r.push(z.a.createElement("input",{key:"uploadcontrol",type:"file",multiple:i.props.multiple,accept:i.props.onlyImages?"image/*":void 0,name:i.props.name,onChange:i.onChange,value:""})),o?z.a.createElement("div",{className:"field"},he(i.props.label)&&z.a.createElement("label",null,i.props.label),z.a.createElement("div",{"data-buildertype":n},r)):(o="ui labeled input",i.props.fluid&&(o+=" fluid"),i.props.error&&(o+=" error"),Ve(i.props.className)&&(o+=" "+i.props.className),z.a.createElement("div",{className:o,"data-buildertype":n},i.props.label&&z.a.createElement("div",{className:"ui label label"},i.props.label),r))}),d("workflow-bar",function(o){var e="dwkit-workflowbar";o.props.className&&(e+=" "+o.props.className);var t=o.props.style,n=o.state.commands||o.props.commands;o.props.selectedScheme&&n&&(n=n.filter(function(e){return e.scheme===o.props.selectedScheme}));var r=o.state.states||o.props.states;return z.a.createElement("div",{className:e,style:t},z.a.createElement("div",{className:"dwkit-workflowbar-items"},function(){if(o.state.processExists||o.props.blockSelectScheme||o.props.schemes.length<=1)return null;var e,t="Select scheme";o.props.selectSchemeDropdown?t=o.props.selectSchemeDropdown:(e=Ge())&&e.selectscheme&&(t=e.startworkflow);var n=[];return n.push({value:null,text:""}),o.props.schemes.forEach(function(e){return n.push({value:e,text:e})}),z.a.createElement(oi.Dropdown,{key:"setstate",name:"setstate",className:"setstate",options:n,placeholder:t,onChange:o.selectWorkflowScheme,selection:!0,search:!0,value:o.props.selectedScheme})}(),function(e){if(o.props.blockCommands)return null;if(!o.props.blockSelectScheme&&!o.props.selectedScheme&&1<o.props.schemes.length)return null;if(Array.isArray(e)&&0<e.length){var n=[];return e.forEach(function(e){var t={};1==e.type?t.primary=!0:2==e.type&&(t.secondary=!0),n.push(z.a.createElement(oi.Button,rl({},t,{key:e.value,onClick:o.onCommand.bind(o.me,e)}),e.text))}),n}}(n),function(e){if(!o.props.blockSetState&&Array.isArray(e)&&0<e.length){var t,n=de(o.state.setstate)||""==o.state.setstate,r="Set state";return Ve(o.props.setStateButton)?r=o.props.setStateButton:(t=Ge())&&(r=t.setstate),[z.a.createElement(oi.Dropdown,{key:"setstate",name:"setstate",className:"setstate",placeholder:"States",options:e,onChange:o.handleChanged,selection:!0,search:!0}),z.a.createElement(oi.Button,{key:"btnsetstate",disabled:n,onClick:o.onSetState.bind(o.me)},r)]}}(r)))}),d("card",function(e){return z.a.createElement(oi.Card,e.propsControls,e.props.imgurl&&z.a.createElement(oi.Image,{src:e.props.imgurl,wrapped:!0,ui:!1}),z.a.createElement(oi.Card.Content,null,e.props.header&&z.a.createElement(oi.Card.Header,null,z.a.createElement("span",{dangerouslySetInnerHTML:{__html:e.props.header}})),e.props.subheader&&z.a.createElement(oi.Card.Meta,null,z.a.createElement("span",{dangerouslySetInnerHTML:{__html:e.props.subheader}})),z.a.createElement(oi.Card.Description,null,e.me.renderPanel("description"))),z.a.createElement(oi.Card.Content,{extra:!0},e.me.renderPanel("extra")))}),d("accordion",function(e){var t={};t.fluid=e.props.fluid,t.styled=e.props.styled;var n=e.props.className;return z.a.createElement("div",{className:n,style:e.props.style},z.a.createElement(oi.Accordion,ol({},t,{panels:e.panels})))}),ke([{key:"sepContainers",title:"Containers",isseparate:!0,defaultopen:!0},{key:"container",title:"Container",control:Me},{key:"staticcontent",title:"Static Content",control:Cr,defaultValues:{content:"Text..."}},{key:"form",title:"Form",control:pr},{key:"formgroup",title:"Form Group",control:pr,defaultValues:{widths:"equal"}},{key:"card",title:"Card",control:Mr,defaultValues:{header:"Card",subheader:"Description"}},{key:"tab",title:"Tab",control:xr,defaultValues:{panes:[{title:"Tab 1",psid:"t1"},{title:"Tab 2",psid:"t2"},{title:"Tab 3",psid:"t3"}]}},{key:"accordion",title:"Accordion",control:Tr,defaultValues:{panels:[{title:"Panel 1",psid:"p1"},{title:"Panel 2",psid:"p2"},{title:"Panel 3",psid:"p3"}]}},{key:"customblock",title:"Custom block",control:void 0,defaultValues:{sourceType:"form"}},{key:"gridlayout",title:"Grid Layout",control:Bt,defaultValues:{draggable:!1,resizable:!1,panes:[{title:"Pane 1",psid:"p1",x:0,w:4},{title:"Pane 2",psid:"p2",x:4,w:4},{title:"Pane 3",psid:"p3",x:8,w:4}]}},{key:"sepCollection",title:"Collections",isseparate:!0},{key:"gridview",title:"GridView",control:pn,defaultValues:{columns:[{key:"id",name:"ID"},{key:"title",name:"Title"},{key:"count",name:"Count"}]}},{key:"collectioneditor",title:"Collection Editor",control:Fe,defaultValues:{columns:[{key:"Id",name:"ID"},{key:"Title",name:"Title"},{key:"Count",name:"Count"}]}},{key:"repeater",title:"Repeater",control:Mn,defaultValues:{}},{key:"sepControls",title:"Controls",isseparate:!0},{key:"header",title:"Header",control:pr,defaultValues:{content:"Header",size:"medium"}},{key:"input",title:"Input",control:pr,defaultValues:{label:"Input",fluid:!0,onChangeTimeout:200}},{key:"numberformat",title:"Number Format",control:Cn,defaultValues:{label:"NumberFormat",fluid:!0,onChangeTimeout:200}},{key:"textarea",title:"TextArea",control:pr,defaultValues:{label:"TextArea",fluid:!0}},{key:"dictionary",title:"Dictionary",control:it,defaultValues:{label:"Dictionary",fluid:!0,selection:!0}},{key:"treepicker",title:"TreePicker",control:Vi,defaultValues:{label:"TreePicker",selection:!0,fluid:!0,parentIdField:"ParentId"}},{key:"dropdown",title:"Dropdown",control:pr,defaultValues:{label:"Dropdown",fluid:!0,selection:!0,"data-elements":[{value:1,text:"Item 1"},{value:2,text:"Item 2"},{value:3,text:"Item 3"}]}},{key:"checkbox",title:"CheckBox",control:pr,defaultValues:{label:"Checkbox"}},{key:"radiogroup",title:"Radio group",control:Pn,defaultValues:{label:"Radio","data-elements":[{value:1,text:"Item 1"},{value:2,text:"Item 2"},{value:3,text:"Item 3"}]}},{key:"button",title:"Button",control:pr,defaultValues:{content:"Button"}},{key:"label",title:"Label",control:pr,defaultValues:{content:"Label"}},{key:"message",title:"Message",control:pr,defaultValues:{header:"Message",content:"Description..."}},{key:"image",title:"Image",control:pr,defaultValues:{src:"/images/unknown.png"}},{key:"statistic",title:"Statistic",control:pr,defaultValues:{"data-elements":[{label:"Score",value:"22,1%"},{label:"Views",value:"30,000"},{label:"Points",value:"500"}]}},{key:"customcontrol",title:"Custom control",control:void 0,defaultValues:{props:"{  }"}},{key:"dropdowntrigger",title:"Dropdown trigger",control:ft,defaultValues:{defaultValue:"User",items:[{target:"#1",title:"Item 1"},{target:"#2",title:"Item 2"},{target:"#3",title:"Item 3"}]}},{key:"dropzonecontrol",title:"Dropzone",control:vt,defaultValues:{showFiletypeIcon:!1,autoProcessQueue:!0,addRemoveLinks:!0,multile:!0}},{key:"files",title:"Files",control:Ft,defaultValues:{idField:"Id",columns:[{title:"Name",field:"Name",property:"Name",showcolumn:!0},{title:"Length",field:"Length",property:"Length",showcolumn:!1,control:"span"},{title:"Content Type",field:"ContentType",property:"ContentType",showcolumn:!1},{title:"File",field:"Token",property:"Token",showcolumn:!0,control:"file2"}]}},{key:"signature",title:"Signature",control:vr,defaultValues:{showPreview:!0}},{key:"camera",title:"Camera",control:fe,defaultValues:{showPreview:!0,compression:.75}},{key:"breadcrumb",title:"Breadcrumbs",control:pr,defaultValues:{items:[{text:"Home",url:"/"},{divider:"right angle",text:"Page1",url:"/page1"},{text:"Page2",active:!0}],events:{onItemClick:{active:!0,actions:["redirect"]}}}},{key:"search",title:"Search",control:rr,defaultValues:{}},{key:"menu",title:"Menu",control:vn,defaultValues:{items:[{title:"Menu 1"},{title:"Menu 2"},{title:"Menu 3"}]}},{key:"workflowbar",title:"Workflow bar",control:ao,defaultValues:{blockSetState:!0,blockLoadParameters:!0,events:{onCommandClick:{active:!0,actions:["workflowExecuteCommand"]},onSetStateClick:{active:!0,actions:["workflowSetState"]},onSchemeSelected:{active:!0,actions:["workflowSelectScheme"]}}}},{key:"richtexteditor",title:"Rich Text Editor",control:_i,defaultValues:{}},{key:"sepCharts",title:"Charts",isseparate:!0},{key:"barchart",title:"Bar",control:we,defaultValues:{chartType:"bar",datasetLabel:""}},{key:"linechart",title:"Line",control:we,defaultValues:{chartType:"line",datasetLabel:""}},{key:"scatterchart",title:"Scatter",control:we,defaultValues:{chartType:"scatter",datasetLabel:""}},{key:"doughnutchart",title:"Doughnut",control:we,defaultValues:{chartType:"doughnut",datasetLabel:""}},{key:"piechart",title:"Pie",control:we,defaultValues:{chartType:"pie",datasetLabel:""}},{key:"radarchart",title:"Radar",control:we,defaultValues:{chartType:"radar",datasetLabel:""}}]),t.setItems(Be());var il=t;function al(e){return(al="function"==typeof Symbol&&"symbol"==wl(Symbol.iterator)?function(e){return wl(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":wl(e)})(e)}function ll(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function sl(e,t){return(sl=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function cl(e){return(cl=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var ul=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&sl(e,t)}(o,ri);var n,r,t=(n=o,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=cl(n),t=r?(t=cl(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this;return!t||"object"!==al(t)&&"function"!=typeof t?function(){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}():t});function o(e){return function(e){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this),(e=t.call(this,e)).createControls=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return il.createControls.apply(il,t)},e}return ll(o.prototype,[{key:"render",value:function(){var t=this,e="dwkit-form"+(void 0===this.props.className?"":" "+this.props.className),n=this.getItemsForRender();return z.a.createElement("div",{className:e,ref:function(e){t.currentElement=e}},n)}},{key:"print",value:function(e){if(this.currentElement){var t=this.currentElement.innerHTML,n=window.open("",this.props.formName,"toolbar=no,location=no,directories=no,status=no,scrollbars=yes,resizable=yes");e||(n.document.title=this.props.formName),n.document.title=e||"PrintForm",n.document.head.insertAdjacentHTML("beforeend","<style type='text/css'>body, html { height: auto!important; width:auto!important;} body{margin:10px!important;} .dwkit-notprint{display:none!important;}</style>");for(var r=document.getElementsByTagName("style"),o=0;o<r.length;o++){var i="<style>"+r[o].innerHTML+"</style>";n.document.head.insertAdjacentHTML("beforeend",i)}for(var a=document.getElementsByTagName("link"),o=0;o<a.length;o++){var l=a[o];"stylesheet"==l.rel&&(i='<link href="'+l.href+'" rel="stylesheet" type="text/css" />',n.document.head.insertAdjacentHTML("beforeend",i))}n.document.body.innerHTML=t;for(var s=n.document.getElementsByTagName("img"),o=0;o<s.length;o++){var c,u=s[o];u.src||!u.attributes.src||(c=u.attributes.src.value)&&1<c.length&&(u.src=location.origin+("/"!=c[0]?"/":"")+c)}n.focus(),setTimeout(function(){n.print()},1e3)}}}]),o}();function pl(e){return(pl="function"==typeof Symbol&&"symbol"==wl(Symbol.iterator)?function(e){return wl(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":wl(e)})(e)}function fl(e,t){return(fl=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function dl(e){return(dl=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var hl=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&fl(e,t)}(t,ul);var n,r,e=(n=t,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=dl(n),t=r?(t=dl(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this;return!t||"object"!==pl(t)&&"function"!=typeof t?function(){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}():t});function t(){return function(e){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),e.apply(this,arguments)}return t}();function Vl(e){return(Vl="function"==typeof Symbol&&"symbol"==wl(Symbol.iterator)?function(e){return wl(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":wl(e)})(e)}function ml(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function yl(e,t){return(yl=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function vl(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function gl(e){return(gl=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var bl=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&yl(e,t)}(o,c.Component);var n,r,t=(n=o,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e=gl(n),t=r?(t=gl(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this;return!t||"object"!==Vl(t)&&"function"!=typeof t?vl(e):t});function o(e){return function(e){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this),(e=t.call(this,e)).state={activeItem:"general",defaultValuePreferInt:!1},e.menuItems=[{key:"general",name:"general",content:e.getLocalValue("generaltab","General"),active:!0,onClick:e.handleItemClick.bind(vl(e))},{key:"style",name:"style",content:e.getLocalValue("styletab","Style"),active:!1,onClick:e.handleItemClick.bind(vl(e))},{key:"events",name:"events",content:e.getLocalValue("eventstab","Events"),active:!1,onClick:e.handleItemClick.bind(vl(e))},{key:"tooltip",name:"tooltip",content:e.getLocalValue("tooltiptab","Tooltip"),active:!1,onClick:e.handleItemClick.bind(vl(e))},{key:"other",name:"other",content:e.getLocalValue("othertab","Other"),active:!1,onClick:e.handleItemClick.bind(vl(e))}],e}return ml(o.prototype,[{key:"getLocalValue",value:function(e,t,n){var r=this.props.localization,n=he(n)?n:"base";return de(r)||de(r[n])||de(r[n][e])?t:r[n][e]}},{key:"handleItemClick",value:function(e,t){t=t.name,this.setState({activeItem:t})}},{key:"getDescription",value:function(){var t=this.state.activeItem;return this.menuItems.forEach(function(e){e.active=e.name===t}),z.a.createElement(oi.Modal.Description,null,z.a.createElement(oi.Menu,{key:"descriptionMenu",pointing:!0,secondary:!0,items:this.menuItems}),this.getDetailDescription(t))}},{key:"getDetailDescription",value:function(e){var t;return"general"===e?t=this.getGeneralDescription():"style"===e?t=this.getStyleDescription():"events"===e?t=this.getEventsDescription():"tooltip"===e?t=this.getToolTipDescription():"other"===e&&(t=this.getOtherDescription()),t}},{key:"getGeneralDescription",value:function(){var e=this.props.data,t=this.props.parent.handleChange.bind(this.props.parent);return z.a.createElement(oi.Form,{key:"generalDescriptionForm"},z.a.createElement(oi.Form.Input,{key:"name",label:"Name",name:"key",value:e.key,onChange:t}))}},{key:"getStyleDescription",value:function(){var e=this.props.data,t=this.props.parent.handleChange.bind(this.props.parent),n="/*** Example Code ***/\ncolor:red;\npaddingTop:5px;",r=[{text:this.getLocalValue("adaptivedefault","Any"),value:""},{text:this.getLocalValue("adaptivedesctop","Desktop"),value:"desktop"},{text:this.getLocalValue("adaptivemobile","Mobile"),value:"mobile"}];return z.a.createElement(oi.Form,{key:"styleDescriptionForm"},z.a.createElement(oi.Form.Group,{widths:"equal"},z.a.createElement(oi.Form.Input,{name:"style-width",label:this.getLocalValue("widthfield","Width"),placeholder:"100px",value:e["style-width"],onChange:t}),z.a.createElement(oi.Form.Input,{name:"style-height",label:this.getLocalValue("heightfield","Height"),placeholder:"100px",value:e["style-height"],onChange:t})),z.a.createElement(oi.Form.Group,{widths:"equal"},z.a.createElement(oi.Form.Input,{name:"style-marginTop",label:this.getLocalValue("margintopfield","Margin Top"),placeholder:"0px",value:e["style-marginTop"],onChange:t}),z.a.createElement(oi.Form.Input,{name:"style-marginBottom",label:this.getLocalValue("marginbottomfield","Margin Bottom"),placeholder:"0px",value:e["style-marginBottom"],onChange:t}),z.a.createElement(oi.Form.Input,{name:"style-marginLeft",label:this.getLocalValue("marginleftfield","Margin Left"),placeholder:"0px",value:e["style-marginLeft"],onChange:t}),z.a.createElement(oi.Form.Input,{name:"style-marginRight",label:this.getLocalValue("marginrightfield","Margin Right"),placeholder:"0px",value:e["style-marginRight"],onChange:t})),z.a.createElement(oi.Form.Input,{name:"style-customcss",label:this.getLocalValue("customcssclassfield","Custom CSS class"),placeholder:"dwkit-application-css (without '.')",value:e["style-customcss"],onChange:t}),z.a.createElement(oi.Form.TextArea,{name:"style-source",label:this.getLocalValue("stylefield","Style"),placeholder:n,value:e["style-source"],onChange:t}),z.a.createElement(oi.Form.Group,null,z.a.createElement(oi.Form.Checkbox,{name:"style-hidden",label:this.getLocalValue("hiddenfield","Hidden"),checked:e["style-hidden"],onChange:t}),z.a.createElement(oi.Form.Checkbox,{name:"style-hiddeninprint",label:this.getLocalValue("hiddeninprintfield","Hidden in Print mode"),checked:e["style-hiddeninprint"],onChange:t})),z.a.createElement(oi.Form.Checkbox,{name:"style-adaptive",label:this.getLocalValue("adaptivefield","Adaptive Layout"),checked:e["style-adaptive"],onChange:t}),e["style-adaptive"]&&z.a.createElement(oi.Form.Dropdown,{name:"style-renderwhen",selection:!0,fluid:!0,search:!0,options:r,placeholder:"Any",label:this.getLocalValue("style-renderwhenfield","Render when"),value:e["style-renderwhen"],onChange:t}),e["style-adaptive"]&&z.a.createElement(oi.Form.TextArea,{name:"style-mobilesource",label:this.getLocalValue("mobilesourcefield","Mobile style"),placeholder:n,value:e["style-mobilesource"],onChange:t}))}},{key:"getEventsList",value:function(){return[]}},{key:"getEventsDescription",value:function(){var e=this.props.data;de(e.events)&&(e.events={});var t,n=this.props.parent.handleChange.bind(this.props.parent),r=this.props.actions,o=this.getEventsList();if(Array.isArray(o)&&0!==o.length){for(var i=this.props.parent.getControlsList(),a=[],l=0;l<i.length;l++)e.key!==i[l]&&a.push({text:i[l],value:i[l]});t=z.a.createElement(St,{key:"events",name:"events",data:e.events,events:o,actions:r,targets:a,onAdditionActions:this.handleAdditionActions.bind(this),onChange:n})}else t=z.a.createElement(oi.Message,{icon:!0},z.a.createElement(oi.Icon,{name:"info"}),z.a.createElement(oi.Message.Content,null,this.getLocalValue("controlhasnoeventsmsg","This control has no events.")));return r=null,o.includes("onChange")&&(r=z.a.createElement(oi.Form.Input,{name:"onChangeTimeout",style:{width:100},placeholder:"0",type:"number",label:this.getLocalValue("onchangetimeout","onChange timeout"),value:e.onChangeTimeout,onChange:n})),z.a.createElement(oi.Form,{key:"eventsDescriptionForm"},z.a.createElement(oi.Message,{icon:!0},z.a.createElement(oi.Icon,{name:"info"}),z.a.createElement(oi.Message.Content,null,this.getLocalValue("eventsinfomsg","These flags enable processing from this element."))),r,t)}},{key:"getToolTipDescription",value:function(){var e=[{text:this.getLocalValue("tooltipdefault","Default"),value:""},{text:this.getLocalValue("tooltiptopcenter","Top Center"),value:"top center"},{text:this.getLocalValue("tooltiptopleft","Top Left"),value:"top left"},{text:this.getLocalValue("tooltiptopright","Top Right"),value:"top right"},{text:this.getLocalValue("tooltipbottomcenter","Bottom Center"),value:"bottom center"},{text:this.getLocalValue("tooltipbottomleft","Bottom Left"),value:"bottom left"},{text:this.getLocalValue("tooltipbottomright","Bottom right"),value:"bottom right"},{text:this.getLocalValue("tooltiprightright","Right Center"),value:"right center"},{text:this.getLocalValue("tooltipleftcenter","Left Center"),value:"left center"}],t=[{text:this.getLocalValue("tooltipdefault","Default"),value:""},{text:this.getLocalValue("tooltiphover","Hover"),value:"hover"},{text:this.getLocalValue("tooltipclick","Click"),value:"click"},{text:this.getLocalValue("tooltipfocus","Focus"),value:"focus"}],n=this.props.data,r=this.props.parent.handleChange.bind(this.props.parent),o=n["tooltip-enabled"]?z.a.createElement(oi.Segment,{vertical:!0},z.a.createElement(oi.Form.Checkbox,{name:"tooltip-enabled",label:this.getLocalValue("tooltipenabledfield","Enabled"),checked:n["tooltip-enabled"],onChange:r}),z.a.createElement(oi.Form.Input,{name:"tooltip-header",label:this.getLocalValue("tooltipheaderfield","Tooltip Header"),value:n["tooltip-header"],onChange:r}),z.a.createElement(oi.Form.Input,{name:"tooltip-content",label:this.getLocalValue("tooltipcontentfield","Tooltip Content"),value:n["tooltip-content"],onChange:r}),z.a.createElement(oi.Form.Group,null,z.a.createElement(oi.Form.Input,{name:"tooltip-classname",label:this.getLocalValue("tooltipclassnamefield","ClassName"),value:n["tooltip-classname"],onChange:r}),z.a.createElement(oi.Form.Dropdown,{name:"tooltip-showtype",selection:!0,fluid:!0,search:!0,options:t,placeholder:"Default",label:this.getLocalValue("tooltipshowtypefield","Tooptip showing type"),value:n["tooltip-showtype"],onChange:r}),z.a.createElement(oi.Form.Dropdown,{name:"tooltip-position",selection:!0,fluid:!0,search:!0,options:e,placeholder:"Default",label:this.getLocalValue("tooltippositionfield","Tooptip position"),value:n["tooltip-position"],onChange:r}))):z.a.createElement(oi.Segment,{vertical:!0},z.a.createElement(oi.Form.Checkbox,{name:"tooltip-enabled",label:this.getLocalValue("tooltipenabledfield","Enabled"),checked:n["tooltip-enabled"],onChange:r}));return z.a.createElement(oi.Form,{key:"tooltipDescriptionForm"},z.a.createElement(oi.Segment,{vertical:!0},z.a.createElement(oi.Form.Group,null,z.a.createElement(oi.Form.Checkbox,{name:"tooltip-errordisabled",label:this.getLocalValue("errortooltipdisabledfield","Disable error tooptip"),checked:n["tooltip-errordisabled"],onChange:r}),z.a.createElement(oi.Form.Dropdown,{name:"tooltip-errorshowtype",selection:!0,fluid:!0,search:!0,options:t,placeholder:"Default",label:this.getLocalValue("tooltiperrorshowtypefield","Error tooptip showing type"),value:n["tooltip-errorshowtype"],onChange:r}),z.a.createElement(oi.Form.Dropdown,{name:"tooltip-errorposition",selection:!0,fluid:!0,search:!0,options:e,placeholder:"Default",label:this.getLocalValue("errortooltippositionfield","Error tooptip position"),value:n["tooltip-errorposition"],onChange:r}))),o)}},{key:"getOtherDescription",value:function(){var e=this.props.data,r=this.props.parent.handleChange.bind(this.props.parent),t=this.state.defaultValuePreferInt?function(e,t){var n=t.name;(t=t.value)&&t.match&&t.match(/^-?\d+$/)&&(t=parseInt(t)),r(e,{name:n,value:t})}:r;return z.a.createElement(oi.Form,{key:"otherDescriptionForm"},z.a.createElement(oi.Form.Input,{name:"propertyName",label:this.getLocalValue("propertynamefield","Property Name"),value:e.propertyName,onChange:r}),z.a.createElement(oi.Form.Checkbox,{name:"other-required",label:this.getLocalValue("requiredfield","Required"),checked:e["other-required"],onChange:r}),z.a.createElement(oi.Form.Input,{name:"defaultValue",label:this.getLocalValue("defaultvaluefield","Default value"),value:e.defaultValue,onChange:t}),z.a.createElement(oi.Form.TextArea,{name:"other-customValidation",label:this.getLocalValue("customvalidationfield","Custom Validation"),placeholder:"/*** Example Code ***/\nvalue > 10 ? true : 'Must be more 10'",value:e["other-customValidation"],onChange:r}),z.a.createElement(oi.Form.TextArea,{name:"other-visibleConition",label:this.getLocalValue("visibleconditionfield","Visible condition"),placeholder:"/*** Example Code ***/\ndata.type == 1 ? true : false",value:e["other-visibleConition"],onChange:r}),z.a.createElement(oi.Form.TextArea,{name:"other-readOnlyConition",label:this.getLocalValue("readonlyconditionfield","ReadOnly condition"),placeholder:"/*** Example Code ***/\ndata.type == 1 ? true : false",value:e["other-readOnlyConition"],onChange:r}))}},{key:"render",value:function(){return z.a.createElement(oi.Modal,{dimmer:"inverted",open:this.props.open,onClose:this.props.onClose.bind(this.props.parent)},z.a.createElement(oi.Modal.Content,null,z.a.createElement(oi.Modal.Description,null,z.a.createElement(oi.Label,{className:"dwkit-formbuilder-editform-controltype"},this.props.data["data-buildertype"]),this.getDescription())),z.a.createElement(oi.Modal.Actions,null,z.a.createElement(oi.Button,{className:"buttontype1",onClick:this.props.onSave.bind(this.props.parent)},this.getLocalValue("savebutton","Save")),z.a.createElement(oi.Button,{className:"buttontype2",onClick:this.props.onClose.bind(this.props.parent)},this.getLocalValue("cancelbutton","Cancel"))))}},{key:"checkActionsList",value:function(e){for(var t=!1,n=0;n<this.props.actions.length;n++)if(this.props.actions[n]==e){t=!0;break}t||this.props.actions.push({text:e,value:e})}},{key:"handleAdditionActions",value:function(e,t){t=t.value,this.checkActionsList(t),this.forceUpdate()}}]),o}()}],w.c=C,w.d=function(e,t,n){w.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},w.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},w.t=function(t,e){if(1&e&&(t=w(t)),8&e)return t;if(4&e&&"object"==wl(t)&&t&&t.__esModule)return t;var n=Object.create(null);if(w.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)w.d(n,r,function(e){return t[e]}.bind(null,r));return n},w.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return w.d(t,"a",t),t},w.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},w.p="",w(w.s=31);function w(e){if(C[e])return C[e].exports;var t=C[e]={i:e,l:!1,exports:{}};return O[e].call(t.exports,t,t.exports,w),t.l=!0,t.exports}var O,C},"object"==wl(r)&&"object"==wl(e)?e.exports=n(o(6),o(74),o(75),o(76),o(52),o(51),o(77),o(78),o(79),o(80),o(81),o(82),o(83),o(84),o(85),o(86),o(87),o(88),o(89)):(t=[o(6),o(74),o(75),o(76),o(52),o(51),o(77),o(78),o(79),o(80),o(81),o(82),o(83),o(84),o(85),o(86),o(87),o(88),o(89)],void 0===(n="function"==typeof(n=n)?n.apply(r,t):n)||(e.exports=n))}.call(this,o(117)(e))},function(e,t,n){n(168),e.exports=n(371)},function(e,t,n){"use strict";!function(e){if(n(169),n(366),n(367),e._babelPolyfill)throw new Error("only one instance of babel-polyfill is allowed");e._babelPolyfill=!0;function t(e,t,n){e[t]||Object.defineProperty(e,t,{writable:!0,configurable:!0,value:n})}t(String.prototype,"padLeft","".padStart),t(String.prototype,"padRight","".padEnd),"pop,reverse,shift,keys,values,entries,indexOf,every,some,forEach,map,filter,find,findIndex,includes,join,slice,concat,push,splice,unshift,sort,lastIndexOf,reduce,reduceRight,copyWithin,fill".split(",").forEach(function(e){[][e]&&t(Array,e,Function.call.bind([][e]))})}.call(this,n(59))},function(e,t,n){n(170),n(173),n(174),n(175),n(176),n(177),n(178),n(179),n(180),n(181),n(182),n(183),n(184),n(185),n(186),n(187),n(188),n(189),n(190),n(191),n(192),n(193),n(194),n(195),n(196),n(197),n(198),n(199),n(200),n(201),n(202),n(203),n(204),n(205),n(206),n(207),n(208),n(209),n(210),n(211),n(212),n(213),n(214),n(215),n(216),n(217),n(218),n(219),n(220),n(221),n(222),n(223),n(224),n(225),n(226),n(227),n(228),n(229),n(230),n(231),n(232),n(233),n(234),n(235),n(236),n(237),n(238),n(239),n(240),n(241),n(242),n(243),n(244),n(245),n(246),n(247),n(248),n(250),n(251),n(253),n(254),n(255),n(256),n(257),n(258),n(259),n(261),n(262),n(263),n(264),n(265),n(266),n(267),n(268),n(269),n(270),n(271),n(272),n(273),n(110),n(274),n(137),n(275),n(138),n(276),n(277),n(278),n(279),n(280),n(141),n(143),n(144),n(281),n(282),n(283),n(284),n(285),n(286),n(287),n(288),n(289),n(290),n(291),n(292),n(293),n(294),n(295),n(296),n(297),n(298),n(299),n(300),n(301),n(302),n(303),n(304),n(305),n(306),n(307),n(308),n(309),n(310),n(311),n(312),n(313),n(314),n(315),n(316),n(317),n(318),n(319),n(320),n(321),n(322),n(323),n(324),n(325),n(326),n(327),n(328),n(329),n(330),n(331),n(332),n(333),n(334),n(335),n(336),n(337),n(338),n(339),n(340),n(341),n(342),n(343),n(344),n(345),n(346),n(347),n(348),n(349),n(350),n(351),n(352),n(353),n(354),n(355),n(356),n(357),n(358),n(359),n(360),n(361),n(362),n(363),n(364),n(365),e.exports=n(21)},function(e,t,n){"use strict";function r(e){var t=G[e]=_(I[M]);return t._k=e,t}function o(e,t){O(e);for(var n,r=b(t=E(t)),o=0,i=r.length;o<i;)$(e,n=r[o++],t[n]);return e}function i(e){var t=W.call(this,e=A(e,!0));return!(this===q&&s(G,e)&&!s(H,e))&&(!(t||!s(this,e)||!s(G,e)||s(this,B)&&this[B][e])||t)}function a(e,t){if(e=E(e),t=A(t,!0),e!==q||!s(G,t)||s(H,t)){var n=T(e,t);return!n||!s(G,t)||s(e,B)&&e[B][t]||(n.enumerable=!0),n}}var l=n(2),s=n(17),c=n(10),u=n(0),p=n(15),f=n(34).KEY,d=n(4),h=n(54),V=n(47),m=n(37),y=n(8),v=n(119),g=n(91),b=n(172),w=n(62),O=n(1),C=n(5),k=n(12),E=n(18),A=n(27),S=n(36),_=n(40),x=n(122),P=n(19),j=n(61),R=n(11),D=n(38),T=P.f,F=R.f,N=x.f,I=l.Symbol,L=l.JSON,U=L&&L.stringify,M="prototype",B=y("_hidden"),z=y("toPrimitive"),W={}.propertyIsEnumerable,K=h("symbol-registry"),G=h("symbols"),H=h("op-symbols"),q=Object[M],Q="function"==typeof I&&!!j.f,J=l.QObject,Y=!J||!J[M]||!J[M].findChild,X=c&&d(function(){return 7!=_(F({},"a",{get:function(){return F(this,"a",{value:7}).a}})).a})?function(e,t,n){var r=T(q,t);r&&delete q[t],F(e,t,n),r&&e!==q&&F(q,t,r)}:F,Z=Q&&"symbol"==typeof I.iterator?function(e){return"symbol"==typeof e}:function(e){return e instanceof I},$=function(e,t,n){return e===q&&$(H,t,n),O(e),t=A(t,!0),O(n),s(G,t)?(n.enumerable?(s(e,B)&&e[B][t]&&(e[B][t]=!1),n=_(n,{enumerable:S(0,!1)})):(s(e,B)||F(e,B,S(1,{})),e[B][t]=!0),X(e,t,n)):F(e,t,n)},h=function(e){for(var t,n=N(E(e)),r=[],o=0;n.length>o;)s(G,t=n[o++])||t==B||t==f||r.push(t);return r},J=function(e){for(var t,n=e===q,r=N(n?H:E(e)),o=[],i=0;r.length>i;)!s(G,t=r[i++])||n&&!s(q,t)||o.push(G[t]);return o};Q||(p((I=function(){if(this instanceof I)throw TypeError("Symbol is not a constructor!");var t=m(0<arguments.length?arguments[0]:void 0),n=function(e){this===q&&n.call(H,e),s(this,B)&&s(this[B],t)&&(this[B][t]=!1),X(this,t,S(1,e))};return c&&Y&&X(q,t,{configurable:!0,set:n}),r(t)})[M],"toString",function(){return this._k}),P.f=a,R.f=$,n(41).f=x.f=h,n(56).f=i,j.f=J,c&&!n(33)&&p(q,"propertyIsEnumerable",i,!0),v.f=function(e){return r(y(e))}),u(u.G+u.W+u.F*!Q,{Symbol:I});for(var ee="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),te=0;ee.length>te;)y(ee[te++]);for(var ne=D(y.store),re=0;ne.length>re;)g(ne[re++]);u(u.S+u.F*!Q,"Symbol",{for:function(e){return s(K,e+="")?K[e]:K[e]=I(e)},keyFor:function(e){if(!Z(e))throw TypeError(e+" is not a symbol!");for(var t in K)if(K[t]===e)return t},useSetter:function(){Y=!0},useSimple:function(){Y=!1}}),u(u.S+u.F*!Q,"Object",{create:function(e,t){return void 0===t?_(e):o(_(e),t)},defineProperty:$,defineProperties:o,getOwnPropertyDescriptor:a,getOwnPropertyNames:h,getOwnPropertySymbols:J});J=d(function(){j.f(1)});u(u.S+u.F*J,"Object",{getOwnPropertySymbols:function(e){return j.f(k(e))}}),L&&u(u.S+u.F*(!Q||d(function(){var e=I();return"[null]"!=U([e])||"{}"!=U({a:e})||"{}"!=U(Object(e))})),"JSON",{stringify:function(e){for(var t,n,r=[e],o=1;o<arguments.length;)r.push(arguments[o++]);if(n=t=r[1],(C(t)||void 0!==e)&&!Z(e))return w(t)||(t=function(e,t){if("function"==typeof n&&(t=n.call(this,e,t)),!Z(t))return t}),r[1]=t,U.apply(L,r)}}),I[M][z]||n(14)(I[M],z,I[M].valueOf),V(I,"Symbol"),V(Math,"Math",!0),V(l.JSON,"JSON",!0)},function(e,t,n){e.exports=n(54)("native-function-to-string",Function.toString)},function(e,t,n){var l=n(38),s=n(61),c=n(56);e.exports=function(e){var t=l(e),n=s.f;if(n)for(var r,o=n(e),i=c.f,a=0;o.length>a;)i.call(e,r=o[a++])&&t.push(r);return t}},function(e,t,n){var r=n(0);r(r.S,"Object",{create:n(40)})},function(e,t,n){var r=n(0);r(r.S+r.F*!n(10),"Object",{defineProperty:n(11).f})},function(e,t,n){var r=n(0);r(r.S+r.F*!n(10),"Object",{defineProperties:n(121)})},function(e,t,n){var r=n(18),o=n(19).f;n(29)("getOwnPropertyDescriptor",function(){return function(e,t){return o(r(e),t)}})},function(e,t,n){var r=n(12),o=n(20);n(29)("getPrototypeOf",function(){return function(e){return o(r(e))}})},function(e,t,n){var r=n(12),o=n(38);n(29)("keys",function(){return function(e){return o(r(e))}})},function(e,t,n){n(29)("getOwnPropertyNames",function(){return n(122).f})},function(e,t,n){var r=n(5),o=n(34).onFreeze;n(29)("freeze",function(t){return function(e){return t&&r(e)?t(o(e)):e}})},function(e,t,n){var r=n(5),o=n(34).onFreeze;n(29)("seal",function(t){return function(e){return t&&r(e)?t(o(e)):e}})},function(e,t,n){var r=n(5),o=n(34).onFreeze;n(29)("preventExtensions",function(t){return function(e){return t&&r(e)?t(o(e)):e}})},function(e,t,n){var r=n(5);n(29)("isFrozen",function(t){return function(e){return!r(e)||!!t&&t(e)}})},function(e,t,n){var r=n(5);n(29)("isSealed",function(t){return function(e){return!r(e)||!!t&&t(e)}})},function(e,t,n){var r=n(5);n(29)("isExtensible",function(t){return function(e){return!!r(e)&&(!t||t(e))}})},function(e,t,n){var r=n(0);r(r.S+r.F,"Object",{assign:n(123)})},function(e,t,n){var r=n(0);r(r.S,"Object",{is:n(124)})},function(e,t,n){var r=n(0);r(r.S,"Object",{setPrototypeOf:n(95).set})},function(e,t,n){"use strict";var r=n(48),o={};o[n(8)("toStringTag")]="z",o+""!="[object z]"&&n(15)(Object.prototype,"toString",function(){return"[object "+r(this)+"]"},!0)},function(e,t,n){var r=n(0);r(r.P,"Function",{bind:n(125)})},function(e,t,n){var r=n(11).f,o=Function.prototype,i=/^\s*function ([^ (]*)/;"name"in o||n(10)&&r(o,"name",{configurable:!0,get:function(){try{return(""+this).match(i)[1]}catch(e){return""}}})},function(e,t,n){"use strict";var r=n(5),o=n(20),i=n(8)("hasInstance"),a=Function.prototype;i in a||n(11).f(a,i,{value:function(e){if("function"!=typeof this||!r(e))return!1;if(!r(this.prototype))return e instanceof this;for(;e=o(e);)if(this.prototype===e)return!0;return!1}})},function(e,t,n){var r=n(0),n=n(127);r(r.G+r.F*(parseInt!=n),{parseInt:n})},function(e,t,n){var r=n(0),n=n(128);r(r.G+r.F*(parseFloat!=n),{parseFloat:n})},function(e,t,n){"use strict";function r(e){if("string"==typeof(t=c(e,!1))&&2<t.length){var t,n,r,o=(t=v?t.trim():d(t,3)).charCodeAt(0);if(43===o||45===o){if(88===(e=t.charCodeAt(2))||120===e)return NaN}else if(48===o){switch(t.charCodeAt(1)){case 66:case 98:n=2,r=49;break;case 79:case 111:n=8,r=55;break;default:return+t}for(var i,a=t.slice(2),l=0,s=a.length;l<s;l++)if((i=a.charCodeAt(l))<48||r<i)return NaN;return parseInt(a,n)}}return+t}var o=n(2),i=n(17),a=n(23),l=n(97),c=n(27),s=n(4),u=n(41).f,p=n(19).f,f=n(11).f,d=n(49).trim,h="Number",V=b=o[h],m=b.prototype,y=a(n(40)(m))==h,v="trim"in String.prototype;if(!b(" 0o1")||!b("0b1")||b("+0x1")){for(var g,b=function(e){var e=arguments.length<1?0:e,t=this;return t instanceof b&&(y?s(function(){m.valueOf.call(t)}):a(t)!=h)?l(new V(r(e)),t,b):r(e)},w=n(10)?u(V):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),O=0;w.length>O;O++)i(V,g=w[O])&&!i(b,g)&&f(b,g,p(V,g));(b.prototype=m).constructor=b,n(15)(o,h,b)}},function(e,t,n){"use strict";function a(e,t){for(var n=-1,r=t;++n<6;)r+=e*f[n],f[n]=r%1e7,r=i(r/1e7)}function l(e){for(var t=6,n=0;0<=--t;)n+=f[t],f[t]=i(n/e),n=n%e*1e7}function s(){for(var e,t=6,n="";0<=--t;)""===n&&0!==t&&0===f[t]||(e=String(f[t]),n=""===n?e:n+p.call("0",7-e.length)+e);return n}var r=n(0),c=n(24),u=n(129),p=n(98),o=1..toFixed,i=Math.floor,f=[0,0,0,0,0,0],d="Number.toFixed: incorrect invocation!",h=function(e,t,n){return 0===t?n:t%2==1?h(e,t-1,n*e):h(e*e,t/2,n)};r(r.P+r.F*(!!o&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==0xde0b6b3a7640080.toFixed(0))||!n(4)(function(){o.call({})})),"Number",{toFixed:function(e){var t,n,r=u(this,d),o=c(e),i="",e="0";if(o<0||20<o)throw RangeError(d);if(r!=r)return"NaN";if(r<=-1e21||1e21<=r)return String(r);if(r<0&&(i="-",r=-r),1e-21<r)if(r=(n=function(e){for(var t=0,n=e;4096<=n;)t+=12,n/=4096;for(;2<=n;)t+=1,n/=2;return t}(r*h(2,69,1))-69)<0?r*h(2,-n,1):r/h(2,n,1),r*=4503599627370496,0<(n=52-n)){for(a(0,r),t=o;7<=t;)a(1e7,0),t-=7;for(a(h(10,t,1),0),t=n-1;23<=t;)l(1<<23),t-=23;l(1<<t),a(1,1),l(2),e=s()}else a(0,r),a(1<<-n,0),e=s()+p.call("0",o);return e=0<o?i+((n=e.length)<=o?"0."+p.call("0",o-n)+e:e.slice(0,n-o)+"."+e.slice(n-o)):i+e}})},function(e,t,n){"use strict";var r=n(0),o=n(4),i=n(129),a=1..toPrecision;r(r.P+r.F*(o(function(){return"1"!==a.call(1,void 0)})||!o(function(){a.call({})})),"Number",{toPrecision:function(e){var t=i(this,"Number#toPrecision: incorrect invocation!");return void 0===e?a.call(t):a.call(t,e)}})},function(e,t,n){n=n(0);n(n.S,"Number",{EPSILON:Math.pow(2,-52)})},function(e,t,n){var r=n(0),o=n(2).isFinite;r(r.S,"Number",{isFinite:function(e){return"number"==typeof e&&o(e)}})},function(e,t,n){var r=n(0);r(r.S,"Number",{isInteger:n(130)})},function(e,t,n){n=n(0);n(n.S,"Number",{isNaN:function(e){return e!=e}})},function(e,t,n){var r=n(0),o=n(130),i=Math.abs;r(r.S,"Number",{isSafeInteger:function(e){return o(e)&&i(e)<=9007199254740991}})},function(e,t,n){n=n(0);n(n.S,"Number",{MAX_SAFE_INTEGER:9007199254740991})},function(e,t,n){n=n(0);n(n.S,"Number",{MIN_SAFE_INTEGER:-9007199254740991})},function(e,t,n){var r=n(0),n=n(128);r(r.S+r.F*(Number.parseFloat!=n),"Number",{parseFloat:n})},function(e,t,n){var r=n(0),n=n(127);r(r.S+r.F*(Number.parseInt!=n),"Number",{parseInt:n})},function(e,t,n){var r=n(0),o=n(131),i=Math.sqrt,n=Math.acosh;r(r.S+r.F*!(n&&710==Math.floor(n(Number.MAX_VALUE))&&n(1/0)==1/0),"Math",{acosh:function(e){return(e=+e)<1?NaN:94906265.62425156<e?Math.log(e)+Math.LN2:o(e-1+i(e-1)*i(e+1))}})},function(e,t,n){var r=n(0),n=Math.asinh;r(r.S+r.F*!(n&&0<1/n(0)),"Math",{asinh:function e(t){return isFinite(t=+t)&&0!=t?t<0?-e(-t):Math.log(t+Math.sqrt(t*t+1)):t}})},function(e,t,n){var r=n(0),n=Math.atanh;r(r.S+r.F*!(n&&1/n(-0)<0),"Math",{atanh:function(e){return 0==(e=+e)?e:Math.log((1+e)/(1-e))/2}})},function(e,t,n){var r=n(0),o=n(99);r(r.S,"Math",{cbrt:function(e){return o(e=+e)*Math.pow(Math.abs(e),1/3)}})},function(e,t,n){n=n(0);n(n.S,"Math",{clz32:function(e){return(e>>>=0)?31-Math.floor(Math.log(e+.5)*Math.LOG2E):32}})},function(e,t,n){var n=n(0),r=Math.exp;n(n.S,"Math",{cosh:function(e){return(r(e=+e)+r(-e))/2}})},function(e,t,n){var r=n(0),n=n(100);r(r.S+r.F*(n!=Math.expm1),"Math",{expm1:n})},function(e,t,n){var r=n(0);r(r.S,"Math",{fround:n(132)})},function(e,t,n){var n=n(0),s=Math.abs;n(n.S,"Math",{hypot:function(e,t){for(var n,r,o=0,i=0,a=arguments.length,l=0;i<a;)l<(n=s(arguments[i++]))?(o=o*(r=l/n)*r+1,l=n):o+=0<n?(r=n/l)*r:n;return l===1/0?1/0:l*Math.sqrt(o)}})},function(e,t,n){var r=n(0),o=Math.imul;r(r.S+r.F*n(4)(function(){return-5!=o(4294967295,5)||2!=o.length}),"Math",{imul:function(e,t){var n=+e,r=+t,e=65535&n,t=65535&r;return 0|e*t+((65535&n>>>16)*t+e*(65535&r>>>16)<<16>>>0)}})},function(e,t,n){n=n(0);n(n.S,"Math",{log10:function(e){return Math.log(e)*Math.LOG10E}})},function(e,t,n){var r=n(0);r(r.S,"Math",{log1p:n(131)})},function(e,t,n){n=n(0);n(n.S,"Math",{log2:function(e){return Math.log(e)/Math.LN2}})},function(e,t,n){var r=n(0);r(r.S,"Math",{sign:n(99)})},function(e,t,n){var r=n(0),o=n(100),i=Math.exp;r(r.S+r.F*n(4)(function(){return-2e-17!=!Math.sinh(-2e-17)}),"Math",{sinh:function(e){return Math.abs(e=+e)<1?(o(e)-o(-e))/2:(i(e-1)-i(-e-1))*(Math.E/2)}})},function(e,t,n){var r=n(0),o=n(100),i=Math.exp;r(r.S,"Math",{tanh:function(e){var t=o(e=+e),n=o(-e);return t==1/0?1:n==1/0?-1:(t-n)/(i(e)+i(-e))}})},function(e,t,n){n=n(0);n(n.S,"Math",{trunc:function(e){return(0<e?Math.floor:Math.ceil)(e)}})},function(e,t,n){var r=n(0),i=n(39),a=String.fromCharCode,n=String.fromCodePoint;r(r.S+r.F*(!!n&&1!=n.length),"String",{fromCodePoint:function(e){for(var t,n=[],r=arguments.length,o=0;o<r;){if(t=+arguments[o++],i(t,1114111)!==t)throw RangeError(t+" is not a valid code point");n.push(t<65536?a(t):a(55296+((t-=65536)>>10),t%1024+56320))}return n.join("")}})},function(e,t,n){var r=n(0),a=n(18),l=n(9);r(r.S,"String",{raw:function(e){for(var t=a(e.raw),n=l(t.length),r=arguments.length,o=[],i=0;i<n;)o.push(String(t[i++])),i<r&&o.push(String(arguments[i]));return o.join("")}})},function(e,t,n){"use strict";n(49)("trim",function(e){return function(){return e(this,3)}})},function(e,t,n){"use strict";var r=n(63)(!0);n(101)(String,"String",function(e){this._t=String(e),this._i=0},function(){var e=this._t,t=this._i;return t>=e.length?{value:void 0,done:!0}:(t=r(e,t),this._i+=t.length,{value:t,done:!1})})},function(e,t,n){"use strict";var r=n(0),o=n(63)(!1);r(r.P,"String",{codePointAt:function(e){return o(this,e)}})},function(e,t,n){"use strict";var r=n(0),o=n(9),i=n(103),a="endsWith",l=""[a];r(r.P+r.F*n(104)(a),"String",{endsWith:function(e){var t=i(this,e,a),n=1<arguments.length?arguments[1]:void 0,r=o(t.length),r=void 0===n?r:Math.min(o(n),r),e=String(e);return l?l.call(t,e,r):t.slice(r-e.length,r)===e}})},function(e,t,n){"use strict";var r=n(0),o=n(103);r(r.P+r.F*n(104)("includes"),"String",{includes:function(e){return!!~o(this,e,"includes").indexOf(e,1<arguments.length?arguments[1]:void 0)}})},function(e,t,n){var r=n(0);r(r.P,"String",{repeat:n(98)})},function(e,t,n){"use strict";var r=n(0),o=n(9),i=n(103),a="startsWith",l=""[a];r(r.P+r.F*n(104)(a),"String",{startsWith:function(e){var t=i(this,e,a),n=o(Math.min(1<arguments.length?arguments[1]:void 0,t.length)),e=String(e);return l?l.call(t,e,n):t.slice(n,n+e.length)===e}})},function(e,t,n){"use strict";n(16)("anchor",function(t){return function(e){return t(this,"a","name",e)}})},function(e,t,n){"use strict";n(16)("big",function(e){return function(){return e(this,"big","","")}})},function(e,t,n){"use strict";n(16)("blink",function(e){return function(){return e(this,"blink","","")}})},function(e,t,n){"use strict";n(16)("bold",function(e){return function(){return e(this,"b","","")}})},function(e,t,n){"use strict";n(16)("fixed",function(e){return function(){return e(this,"tt","","")}})},function(e,t,n){"use strict";n(16)("fontcolor",function(t){return function(e){return t(this,"font","color",e)}})},function(e,t,n){"use strict";n(16)("fontsize",function(t){return function(e){return t(this,"font","size",e)}})},function(e,t,n){"use strict";n(16)("italics",function(e){return function(){return e(this,"i","","")}})},function(e,t,n){"use strict";n(16)("link",function(t){return function(e){return t(this,"a","href",e)}})},function(e,t,n){"use strict";n(16)("small",function(e){return function(){return e(this,"small","","")}})},function(e,t,n){"use strict";n(16)("strike",function(e){return function(){return e(this,"strike","","")}})},function(e,t,n){"use strict";n(16)("sub",function(e){return function(){return e(this,"sub","","")}})},function(e,t,n){"use strict";n(16)("sup",function(e){return function(){return e(this,"sup","","")}})},function(e,t,n){n=n(0);n(n.S,"Date",{now:function(){return(new Date).getTime()}})},function(e,t,n){"use strict";var r=n(0),o=n(12),i=n(27);r(r.P+r.F*n(4)(function(){return null!==new Date(NaN).toJSON()||1!==Date.prototype.toJSON.call({toISOString:function(){return 1}})}),"Date",{toJSON:function(e){var t=o(this),n=i(t);return"number"!=typeof n||isFinite(n)?t.toISOString():null}})},function(e,t,n){var r=n(0),n=n(249);r(r.P+r.F*(Date.prototype.toISOString!==n),"Date",{toISOString:n})},function(e,t,n){"use strict";function r(e){return 9<e?e:"0"+e}var n=n(4),o=Date.prototype.getTime,i=Date.prototype.toISOString;e.exports=n(function(){return"0385-07-25T07:06:39.999Z"!=i.call(new Date(-5e13-1))})||!n(function(){i.call(new Date(NaN))})?function(){if(!isFinite(o.call(this)))throw RangeError("Invalid time value");var e=this.getUTCFullYear(),t=this.getUTCMilliseconds(),n=e<0?"-":9999<e?"+":"";return n+("00000"+Math.abs(e)).slice(n?-6:-4)+"-"+r(this.getUTCMonth()+1)+"-"+r(this.getUTCDate())+"T"+r(this.getUTCHours())+":"+r(this.getUTCMinutes())+":"+r(this.getUTCSeconds())+"."+(99<t?t:"0"+r(t))+"Z"}:i},function(e,t,n){var r=Date.prototype,o="Invalid Date",i=r.toString,a=r.getTime;new Date(NaN)+""!=o&&n(15)(r,"toString",function(){var e=a.call(this);return e==e?i.call(this):o})},function(e,t,n){var r=n(8)("toPrimitive"),o=Date.prototype;r in o||n(14)(o,r,n(252))},function(e,t,n){"use strict";var r=n(1),o=n(27);e.exports=function(e){if("string"!==e&&"number"!==e&&"default"!==e)throw TypeError("Incorrect hint");return o(r(this),"number"!=e)}},function(e,t,n){var r=n(0);r(r.S,"Array",{isArray:n(62)})},function(e,t,n){"use strict";var p=n(22),r=n(0),f=n(12),d=n(133),h=n(105),V=n(9),m=n(106),y=n(107);r(r.S+r.F*!n(65)(function(e){Array.from(e)}),"Array",{from:function(e){var t,n,r,o,i=f(e),a="function"==typeof this?this:Array,l=arguments.length,s=1<l?arguments[1]:void 0,c=void 0!==s,u=0,e=y(i);if(c&&(s=p(s,2<l?arguments[2]:void 0,2)),null==e||a==Array&&h(e))for(n=new a(t=V(i.length));u<t;u++)m(n,u,c?s(i[u],u):i[u]);else for(o=e.call(i),n=new a;!(r=o.next()).done;u++)m(n,u,c?d(o,s,[r.value,u],!0):r.value);return n.length=u,n}})},function(e,t,n){"use strict";var r=n(0),o=n(106);r(r.S+r.F*n(4)(function(){function e(){}return!(Array.of.call(e)instanceof e)}),"Array",{of:function(){for(var e=0,t=arguments.length,n=new("function"==typeof this?this:Array)(t);e<t;)o(n,e,arguments[e++]);return n.length=t,n}})},function(e,t,n){"use strict";var r=n(0),o=n(18),i=[].join;r(r.P+r.F*(n(55)!=Object||!n(25)(i)),"Array",{join:function(e){return i.call(o(this),void 0===e?",":e)}})},function(e,t,n){"use strict";var r=n(0),o=n(94),s=n(23),c=n(39),u=n(9),p=[].slice;r(r.P+r.F*n(4)(function(){o&&p.call(o)}),"Array",{slice:function(e,t){var n=u(this.length),r=s(this);if(t=void 0===t?n:t,"Array"==r)return p.call(this,e,t);for(var o=c(e,n),n=c(t,n),i=u(n-o),a=new Array(i),l=0;l<i;l++)a[l]="String"==r?this.charAt(o+l):this[o+l];return a}})},function(e,t,n){"use strict";var r=n(0),o=n(13),i=n(12),a=n(4),l=[].sort,s=[1,2,3];r(r.P+r.F*(a(function(){s.sort(void 0)})||!a(function(){s.sort(null)})||!n(25)(l)),"Array",{sort:function(e){return void 0===e?l.call(i(this)):l.call(i(this),o(e))}})},function(e,t,n){"use strict";var r=n(0),o=n(30)(0),n=n(25)([].forEach,!0);r(r.P+r.F*!n,"Array",{forEach:function(e){return o(this,e,arguments[1])}})},function(e,t,n){var r=n(5),o=n(62),i=n(8)("species");e.exports=function(e){var t;return o(e)&&("function"!=typeof(t=e.constructor)||t!==Array&&!o(t.prototype)||(t=void 0),r(t)&&null===(t=t[i])&&(t=void 0)),void 0===t?Array:t}},function(e,t,n){"use strict";var r=n(0),o=n(30)(1);r(r.P+r.F*!n(25)([].map,!0),"Array",{map:function(e){return o(this,e,arguments[1])}})},function(e,t,n){"use strict";var r=n(0),o=n(30)(2);r(r.P+r.F*!n(25)([].filter,!0),"Array",{filter:function(e){return o(this,e,arguments[1])}})},function(e,t,n){"use strict";var r=n(0),o=n(30)(3);r(r.P+r.F*!n(25)([].some,!0),"Array",{some:function(e){return o(this,e,arguments[1])}})},function(e,t,n){"use strict";var r=n(0),o=n(30)(4);r(r.P+r.F*!n(25)([].every,!0),"Array",{every:function(e){return o(this,e,arguments[1])}})},function(e,t,n){"use strict";var r=n(0),o=n(134);r(r.P+r.F*!n(25)([].reduce,!0),"Array",{reduce:function(e){return o(this,e,arguments.length,arguments[1],!1)}})},function(e,t,n){"use strict";var r=n(0),o=n(134);r(r.P+r.F*!n(25)([].reduceRight,!0),"Array",{reduceRight:function(e){return o(this,e,arguments.length,arguments[1],!0)}})},function(e,t,n){"use strict";var r=n(0),o=n(60)(!1),i=[].indexOf,a=!!i&&1/[1].indexOf(1,-0)<0;r(r.P+r.F*(a||!n(25)(i)),"Array",{indexOf:function(e){return a?i.apply(this,arguments)||0:o(this,e,arguments[1])}})},function(e,t,n){"use strict";var r=n(0),o=n(18),i=n(24),a=n(9),l=[].lastIndexOf,s=!!l&&1/[1].lastIndexOf(1,-0)<0;r(r.P+r.F*(s||!n(25)(l)),"Array",{lastIndexOf:function(e){if(s)return l.apply(this,arguments)||0;var t=o(this),n=a(t.length),r=n-1;for((r=1<arguments.length?Math.min(r,i(arguments[1])):r)<0&&(r=n+r);0<=r;r--)if(r in t&&t[r]===e)return r||0;return-1}})},function(e,t,n){var r=n(0);r(r.P,"Array",{copyWithin:n(135)}),n(35)("copyWithin")},function(e,t,n){var r=n(0);r(r.P,"Array",{fill:n(109)}),n(35)("fill")},function(e,t,n){"use strict";var r=n(0),o=n(30)(5),i=!0;"find"in[]&&Array(1).find(function(){i=!1}),r(r.P+r.F*i,"Array",{find:function(e){return o(this,e,1<arguments.length?arguments[1]:void 0)}}),n(35)("find")},function(e,t,n){"use strict";var r=n(0),o=n(30)(6),i="findIndex",a=!0;i in[]&&Array(1)[i](function(){a=!1}),r(r.P+r.F*a,"Array",{findIndex:function(e){return o(this,e,1<arguments.length?arguments[1]:void 0)}}),n(35)(i)},function(e,t,n){n(42)("Array")},function(e,t,n){var r=n(2),i=n(97),o=n(11).f,a=n(41).f,l=n(64),s=n(57),c=h=r.RegExp,u=h.prototype,p=/a/g,f=/a/g,d=new h(p)!==p;if(n(10)&&(!d||n(4)(function(){return f[n(8)("match")]=!1,h(p)!=p||h(f)==f||"/a/i"!=h(p,"i")}))){for(var h=function(e,t){var n=this instanceof h,r=l(e),o=void 0===t;return!n&&r&&e.constructor===h&&o?e:i(d?new c(r&&!o?e.source:e,t):c((r=e instanceof h)?e.source:e,r&&o?s.call(e):t),n?this:u,h)},V=a(c),m=0;V.length>m;)!function(t){t in h||o(h,t,{configurable:!0,get:function(){return c[t]},set:function(e){c[t]=e}})}(V[m++]);(u.constructor=h).prototype=u,n(15)(r,"RegExp",h)}n(42)("RegExp")},function(e,t,n){"use strict";n(138);function r(e){n(15)(RegExp.prototype,l,e,!0)}var o=n(1),i=n(57),a=n(10),l="toString",s=/./[l];n(4)(function(){return"/a/b"!=s.call({source:"a",flags:"b"})})?r(function(){var e=o(this);return"/".concat(e.source,"/","flags"in e?e.flags:!a&&e instanceof RegExp?i.call(e):void 0)}):s.name!=l&&r(function(){return s.call(this)})},function(e,t,n){"use strict";var u=n(1),p=n(9),f=n(112),d=n(66);n(67)("match",1,function(r,o,s,c){return[function(e){var t=r(this),n=null==e?void 0:e[o];return void 0!==n?n.call(e,t):new RegExp(e)[o](String(t))},function(e){var t=c(s,e,this);if(t.done)return t.value;var n=u(e),r=String(this);if(!n.global)return d(n,r);for(var o=n.unicode,i=[],a=n.lastIndex=0;null!==(l=d(n,r));){var l=String(l[0]);""===(i[a]=l)&&(n.lastIndex=f(r,p(n.lastIndex),o)),a++}return 0===a?null:i}]})},function(e,t,n){"use strict";var O=n(1),C=n(12),k=n(9),E=n(24),A=n(112),S=n(66),_=Math.max,x=Math.min,P=Math.floor,j=/\$([$&`']|\d\d?|<[^>]*>)/g,R=/\$([$&`']|\d\d?)/g;n(67)("replace",2,function(o,i,b,w){return[function(e,t){var n=o(this),r=null==e?void 0:e[i];return void 0!==r?r.call(e,n,t):b.call(String(n),e,t)},function(e,t){var n=w(b,e,this,t);if(n.done)return n.value;var r=O(e),o=String(this),i="function"==typeof t;i||(t=String(t));var a,l=r.global;l&&(a=r.unicode,r.lastIndex=0);for(var s=[];;){var c=S(r,o);if(null===c)break;if(s.push(c),!l)break;""===String(c[0])&&(r.lastIndex=A(o,k(r.lastIndex),a))}for(var u,p="",f=0,d=0;d<s.length;d++){for(var c=s[d],h=String(c[0]),V=_(x(E(c.index),o.length),0),m=[],y=1;y<c.length;y++)m.push(void 0===(u=c[y])?u:String(u));var v,g=c.groups,g=i?(v=[h].concat(m,V,o),void 0!==g&&v.push(g),String(t.apply(void 0,v))):function(i,a,l,s,c,e){var u=l+i.length,p=s.length,t=R;void 0!==c&&(c=C(c),t=j);return b.call(e,t,function(e,t){var n;switch(t.charAt(0)){case"$":return"$";case"&":return i;case"`":return a.slice(0,l);case"'":return a.slice(u);case"<":n=c[t.slice(1,-1)];break;default:var r=+t;if(0==r)return e;if(p<r){var o=P(r/10);return 0===o?e:o<=p?void 0===s[o-1]?t.charAt(1):s[o-1]+t.charAt(1):e}n=s[r-1]}return void 0===n?"":n})}(h,o,V,m,g,t);f<=V&&(p+=o.slice(f,V)+g,f=V+h.length)}return p+o.slice(f)}]})},function(e,t,n){"use strict";var l=n(1),s=n(124),c=n(66);n(67)("search",1,function(r,o,i,a){return[function(e){var t=r(this),n=null==e?void 0:e[o];return void 0!==n?n.call(e,t):new RegExp(e)[o](String(t))},function(e){var t=a(i,e,this);if(t.done)return t.value;var n=l(e),t=String(this),e=n.lastIndex;s(e,0)||(n.lastIndex=0);t=c(n,t);return s(n.lastIndex,e)||(n.lastIndex=e),null===t?-1:t.index}]})},function(e,t,n){"use strict";var p=n(64),y=n(1),v=n(58),g=n(112),b=n(9),w=n(66),f=n(111),r=n(4),O=Math.min,d=[].push,a="split",C="length",k="lastIndex",E=4294967295,A=!r(function(){RegExp(E,"y")});n(67)("split",2,function(o,i,h,V){var m="c"=="abbc"[a](/(b)*/)[1]||4!="test"[a](/(?:)/,-1)[C]||2!="ab"[a](/(?:ab)*/)[C]||4!="."[a](/(.?)(.?)/)[C]||1<"."[a](/()()/)[C]||""[a](/.?/)[C]?function(e,t){var n=String(this);if(void 0===e&&0===t)return[];if(!p(e))return h.call(n,e,t);for(var r,o,i,a=[],l=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),s=0,c=void 0===t?E:t>>>0,u=new RegExp(e.source,l+"g");(r=f.call(u,n))&&!(s<(o=u[k])&&(a.push(n.slice(s,r.index)),1<r[C]&&r.index<n[C]&&d.apply(a,r.slice(1)),i=r[0][C],s=o,a[C]>=c));)u[k]===r.index&&u[k]++;return s===n[C]?!i&&u.test("")||a.push(""):a.push(n.slice(s)),a[C]>c?a.slice(0,c):a}:"0"[a](void 0,0)[C]?function(e,t){return void 0===e&&0===t?[]:h.call(this,e,t)}:h;return[function(e,t){var n=o(this),r=null==e?void 0:e[i];return void 0!==r?r.call(e,n,t):m.call(String(n),e,t)},function(e,t){var n=V(m,e,this,t,m!==h);if(n.done)return n.value;var r=y(e),o=String(this),n=v(r,RegExp),i=r.unicode,e=(r.ignoreCase?"i":"")+(r.multiline?"m":"")+(r.unicode?"u":"")+(A?"y":"g"),a=new n(A?r:"^(?:"+r.source+")",e),l=void 0===t?E:t>>>0;if(0==l)return[];if(0===o.length)return null===w(a,o)?[o]:[];for(var s=0,c=0,u=[];c<o.length;){a.lastIndex=A?c:0;var p,f=w(a,A?o:o.slice(c));if(null===f||(p=O(b(a.lastIndex+(A?0:c)),o.length))===s)c=g(o,c,i);else{if(u.push(o.slice(s,c)),u.length===l)return u;for(var d=1;d<=f.length-1;d++)if(u.push(f[d]),u.length===l)return u;c=s=p}}return u.push(o.slice(s)),u}]})},function(e,t,n){"use strict";function r(){}function p(e){var t;return!(!m(e)||"function"!=typeof(t=e.then))&&t}function o(u,t){var n;u._n||(u._n=!0,n=u._c,O(function(){for(var s=u._v,c=1==u._s,e=0;n.length>e;)!function(e){var t,n,r,o=c?e.ok:e.fail,i=e.resolve,a=e.reject,l=e.domain;try{o?(c||(2==u._h&&I(u),u._h=1),!0===o?t=s:(l&&l.enter(),t=o(s),l&&(l.exit(),r=!0)),t===e.promise?a(_("Promise-chain cycle")):(n=p(t))?n.call(t,i,a):i(t)):a(s)}catch(e){l&&!r&&l.exit(),a(e)}}(n[e++]);u._c=[],u._n=!1,t&&!u._h&&F(u)}))}function i(e){var t=this;t._d||(t._d=!0,(t=t._w||t)._v=e,t._s=2,t._a||(t._a=t._c.slice()),o(t,!0))}var a,l,s,c,u=n(33),f=n(2),d=n(22),h=n(48),V=n(0),m=n(5),y=n(13),v=n(43),g=n(44),b=n(58),w=n(113).set,O=n(114)(),C=n(115),k=n(139),E=n(68),A=n(140),S="Promise",_=f.TypeError,x=f.process,P=x&&x.versions,j=P&&P.v8||"",R=f[S],D="process"==h(x),T=l=C.f,h=!!function(){try{var e=R.resolve(1),t=(e.constructor={})[n(8)("species")]=function(e){e(r,r)};return(D||"function"==typeof PromiseRejectionEvent)&&e.then(r)instanceof t&&0!==j.indexOf("6.6")&&-1===E.indexOf("Chrome/66")}catch(e){}}(),F=function(o){w.call(f,function(){var e,t,n=o._v,r=N(o);if(r&&(e=k(function(){D?x.emit("unhandledRejection",n,o):(t=f.onunhandledrejection)?t({promise:o,reason:n}):(t=f.console)&&t.error&&t.error("Unhandled promise rejection",n)}),o._h=D||N(o)?2:1),o._a=void 0,r&&e.e)throw e.v})},N=function(e){return 1!==e._h&&0===(e._a||e._c).length},I=function(t){w.call(f,function(){var e;D?x.emit("rejectionHandled",t):(e=f.onrejectionhandled)&&e({promise:t,reason:t._v})})},L=function(e){var n,r=this;if(!r._d){r._d=!0,r=r._w||r;try{if(r===e)throw _("Promise can't be resolved itself");(n=p(e))?O(function(){var t={_w:r,_d:!1};try{n.call(e,d(L,t,1),d(i,t,1))}catch(e){i.call(t,e)}}):(r._v=e,r._s=1,o(r,!1))}catch(e){i.call({_w:r,_d:!1},e)}}};h||(R=function(e){v(this,R,S,"_h"),y(e),a.call(this);try{e(d(L,this,1),d(i,this,1))}catch(e){i.call(this,e)}},(a=function(e){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=n(45)(R.prototype,{then:function(e,t){var n=T(b(this,R));return n.ok="function"!=typeof e||e,n.fail="function"==typeof t&&t,n.domain=D?x.domain:void 0,this._c.push(n),this._a&&this._a.push(n),this._s&&o(this,!1),n.promise},catch:function(e){return this.then(void 0,e)}}),s=function(){var e=new a;this.promise=e,this.resolve=d(L,e,1),this.reject=d(i,e,1)},C.f=T=function(e){return e===R||e===c?new s:l(e)}),V(V.G+V.W+V.F*!h,{Promise:R}),n(47)(R,S),n(42)(S),c=n(21)[S],V(V.S+V.F*!h,S,{reject:function(e){var t=T(this);return(0,t.reject)(e),t.promise}}),V(V.S+V.F*(u||!h),S,{resolve:function(e){return A(u&&this===c?R:this,e)}}),V(V.S+V.F*!(h&&n(65)(function(e){R.all(e).catch(r)})),S,{all:function(e){var a=this,t=T(a),l=t.resolve,s=t.reject,n=k(function(){var r=[],o=0,i=1;g(e,!1,function(e){var t=o++,n=!1;r.push(void 0),i++,a.resolve(e).then(function(e){n||(n=!0,r[t]=e,--i||l(r))},s)}),--i||l(r)});return n.e&&s(n.v),t.promise},race:function(e){var t=this,n=T(t),r=n.reject,o=k(function(){g(e,!1,function(e){t.resolve(e).then(n.resolve,r)})});return o.e&&r(o.v),n.promise}})},function(e,t,n){"use strict";var r=n(145),o=n(46);n(69)("WeakSet",function(e){return function(){return e(this,0<arguments.length?arguments[0]:void 0)}},{add:function(e){return r.def(o(this,"WeakSet"),e,!0)}},r,!1,!0)},function(e,t,n){"use strict";var r=n(0),o=n(70),i=n(116),s=n(1),c=n(39),u=n(9),a=n(5),l=n(2).ArrayBuffer,p=n(58),f=i.ArrayBuffer,d=i.DataView,h=o.ABV&&l.isView,V=f.prototype.slice,m=o.VIEW,i="ArrayBuffer";r(r.G+r.W+r.F*(l!==f),{ArrayBuffer:f}),r(r.S+r.F*!o.CONSTR,i,{isView:function(e){return h&&h(e)||a(e)&&m in e}}),r(r.P+r.U+r.F*n(4)(function(){return!new f(2).slice(1,void 0).byteLength}),i,{slice:function(e,t){if(void 0!==V&&void 0===t)return V.call(s(this),e);for(var n=s(this).byteLength,r=c(e,n),o=c(void 0===t?n:t,n),n=new(p(this,f))(u(o-r)),i=new d(this),a=new d(n),l=0;r<o;)a.setUint8(l++,i.getUint8(r++));return n}}),n(42)(i)},function(e,t,n){var r=n(0);r(r.G+r.W+r.F*!n(70).ABV,{DataView:n(116).DataView})},function(e,t,n){n(31)("Int8",1,function(r){return function(e,t,n){return r(this,e,t,n)}})},function(e,t,n){n(31)("Uint8",1,function(r){return function(e,t,n){return r(this,e,t,n)}})},function(e,t,n){n(31)("Uint8",1,function(r){return function(e,t,n){return r(this,e,t,n)}},!0)},function(e,t,n){n(31)("Int16",2,function(r){return function(e,t,n){return r(this,e,t,n)}})},function(e,t,n){n(31)("Uint16",2,function(r){return function(e,t,n){return r(this,e,t,n)}})},function(e,t,n){n(31)("Int32",4,function(r){return function(e,t,n){return r(this,e,t,n)}})},function(e,t,n){n(31)("Uint32",4,function(r){return function(e,t,n){return r(this,e,t,n)}})},function(e,t,n){n(31)("Float32",4,function(r){return function(e,t,n){return r(this,e,t,n)}})},function(e,t,n){n(31)("Float64",8,function(r){return function(e,t,n){return r(this,e,t,n)}})},function(e,t,n){var r=n(0),o=n(13),i=n(1),a=(n(2).Reflect||{}).apply,l=Function.apply;r(r.S+r.F*!n(4)(function(){a(function(){})}),"Reflect",{apply:function(e,t,n){e=o(e),n=i(n);return a?a(e,t,n):l.call(e,t,n)}})},function(e,t,n){var r=n(0),o=n(40),i=n(13),a=n(1),l=n(5),s=n(4),c=n(125),u=(n(2).Reflect||{}).construct,p=s(function(){function e(){}return!(u(function(){},[],e)instanceof e)}),f=!s(function(){u(function(){})});r(r.S+r.F*(p||f),"Reflect",{construct:function(e,t){i(e),a(t);var n=arguments.length<3?e:i(arguments[2]);if(f&&!p)return u(e,t,n);if(e==n){switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3])}var r=[null];return r.push.apply(r,t),new(c.apply(e,r))}r=n.prototype,n=o(l(r)?r:Object.prototype),r=Function.apply.call(e,n,t);return l(r)?r:n}})},function(e,t,n){var r=n(11),o=n(0),i=n(1),a=n(27);o(o.S+o.F*n(4)(function(){Reflect.defineProperty(r.f({},1,{value:1}),1,{value:2})}),"Reflect",{defineProperty:function(e,t,n){i(e),t=a(t,!0),i(n);try{return r.f(e,t,n),!0}catch(e){return!1}}})},function(e,t,n){var r=n(0),o=n(19).f,i=n(1);r(r.S,"Reflect",{deleteProperty:function(e,t){var n=o(i(e),t);return!(n&&!n.configurable)&&delete e[t]}})},function(e,t,n){"use strict";function r(e){this._t=i(e),this._i=0;var t,n=this._k=[];for(t in e)n.push(t)}var o=n(0),i=n(1);n(102)(r,"Object",function(){var e,t=this._k;do{if(this._i>=t.length)return{value:void 0,done:!0}}while(!((e=t[this._i++])in this._t));return{value:e,done:!1}}),o(o.S,"Reflect",{enumerate:function(e){return new r(e)}})},function(e,t,n){var i=n(19),a=n(20),l=n(17),r=n(0),s=n(5),c=n(1);r(r.S,"Reflect",{get:function e(t,n){var r,o=arguments.length<3?t:arguments[2];return c(t)===o?t[n]:(r=i.f(t,n))?l(r,"value")?r.value:void 0!==r.get?r.get.call(o):void 0:s(r=a(t))?e(r,n,o):void 0}})},function(e,t,n){var r=n(19),o=n(0),i=n(1);o(o.S,"Reflect",{getOwnPropertyDescriptor:function(e,t){return r.f(i(e),t)}})},function(e,t,n){var r=n(0),o=n(20),i=n(1);r(r.S,"Reflect",{getPrototypeOf:function(e){return o(i(e))}})},function(e,t,n){n=n(0);n(n.S,"Reflect",{has:function(e,t){return t in e}})},function(e,t,n){var r=n(0),o=n(1),i=Object.isExtensible;r(r.S,"Reflect",{isExtensible:function(e){return o(e),!i||i(e)}})},function(e,t,n){var r=n(0);r(r.S,"Reflect",{ownKeys:n(147)})},function(e,t,n){var r=n(0),o=n(1),i=Object.preventExtensions;r(r.S,"Reflect",{preventExtensions:function(e){o(e);try{return i&&i(e),!0}catch(e){return!1}}})},function(e,t,n){var l=n(11),s=n(19),c=n(20),u=n(17),r=n(0),p=n(36),f=n(1),d=n(5);r(r.S,"Reflect",{set:function e(t,n,r){var o,i=arguments.length<4?t:arguments[3],a=s.f(f(t),n);if(!a){if(d(o=c(t)))return e(o,n,r,i);a=p(0)}if(u(a,"value")){if(!1===a.writable||!d(i))return!1;if(o=s.f(i,n)){if(o.get||o.set||!1===o.writable)return!1;o.value=r,l.f(i,n,o)}else l.f(i,n,p(0,r));return!0}return void 0!==a.set&&(a.set.call(i,r),!0)}})},function(e,t,n){var r=n(0),o=n(95);o&&r(r.S,"Reflect",{setPrototypeOf:function(e,t){o.check(e,t);try{return o.set(e,t),!0}catch(e){return!1}}})},function(e,t,n){"use strict";var r=n(0),o=n(60)(!0);r(r.P,"Array",{includes:function(e){return o(this,e,1<arguments.length?arguments[1]:void 0)}}),n(35)("includes")},function(e,t,n){"use strict";var r=n(0),o=n(148),i=n(12),a=n(9),l=n(13),s=n(108);r(r.P,"Array",{flatMap:function(e){var t,n,r=i(this);return l(e),t=a(r.length),n=s(r,0),o(n,r,r,t,0,1,e,arguments[1]),n}}),n(35)("flatMap")},function(e,t,n){"use strict";var r=n(0),o=n(148),i=n(12),a=n(9),l=n(24),s=n(108);r(r.P,"Array",{flatten:function(){var e=arguments[0],t=i(this),n=a(t.length),r=s(t,0);return o(r,t,t,n,0,void 0===e?1:l(e)),r}}),n(35)("flatten")},function(e,t,n){"use strict";var r=n(0),o=n(63)(!0),n=n(4)(function(){return""!=="".at(0)});r(r.P+r.F*n,"String",{at:function(e){return o(this,e)}})},function(e,t,n){"use strict";var r=n(0),o=n(149),n=n(68),n=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(n);r(r.P+r.F*n,"String",{padStart:function(e){return o(this,e,1<arguments.length?arguments[1]:void 0,!0)}})},function(e,t,n){"use strict";var r=n(0),o=n(149),n=n(68),n=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(n);r(r.P+r.F*n,"String",{padEnd:function(e){return o(this,e,1<arguments.length?arguments[1]:void 0,!1)}})},function(e,t,n){"use strict";n(49)("trimLeft",function(e){return function(){return e(this,1)}},"trimStart")},function(e,t,n){"use strict";n(49)("trimRight",function(e){return function(){return e(this,2)}},"trimEnd")},function(e,t,n){"use strict";function r(e,t){this._r=e,this._s=t}var o=n(0),i=n(28),a=n(9),l=n(64),s=n(57),c=RegExp.prototype;n(102)(r,"RegExp String",function(){var e=this._r.exec(this._s);return{value:e,done:null===e}}),o(o.P,"String",{matchAll:function(e){if(i(this),!l(e))throw TypeError(e+" is not a regexp!");var t=String(this),n="flags"in c?String(e.flags):s.call(e),n=new RegExp(e.source,~n.indexOf("g")?n:"g"+n);return n.lastIndex=a(e.lastIndex),new r(n,t)}})},function(e,t,n){n(91)("asyncIterator")},function(e,t,n){n(91)("observable")},function(e,t,n){var r=n(0),s=n(147),c=n(18),u=n(19),p=n(106);r(r.S,"Object",{getOwnPropertyDescriptors:function(e){for(var t,n,r=c(e),o=u.f,i=s(r),a={},l=0;i.length>l;)void 0!==(n=o(r,t=i[l++]))&&p(a,t,n);return a}})},function(e,t,n){var r=n(0),o=n(150)(!1);r(r.S,"Object",{values:function(e){return o(e)}})},function(e,t,n){var r=n(0),o=n(150)(!0);r(r.S,"Object",{entries:function(e){return o(e)}})},function(e,t,n){"use strict";var r=n(0),o=n(12),i=n(13),a=n(11);n(10)&&r(r.P+n(71),"Object",{__defineGetter__:function(e,t){a.f(o(this),e,{get:i(t),enumerable:!0,configurable:!0})}})},function(e,t,n){"use strict";var r=n(0),o=n(12),i=n(13),a=n(11);n(10)&&r(r.P+n(71),"Object",{__defineSetter__:function(e,t){a.f(o(this),e,{set:i(t),enumerable:!0,configurable:!0})}})},function(e,t,n){"use strict";var r=n(0),o=n(12),i=n(27),a=n(20),l=n(19).f;n(10)&&r(r.P+n(71),"Object",{__lookupGetter__:function(e){var t,n=o(this),r=i(e,!0);do{if(t=l(n,r))return t.get}while(n=a(n))}})},function(e,t,n){"use strict";var r=n(0),o=n(12),i=n(27),a=n(20),l=n(19).f;n(10)&&r(r.P+n(71),"Object",{__lookupSetter__:function(e){var t,n=o(this),r=i(e,!0);do{if(t=l(n,r))return t.set}while(n=a(n))}})},function(e,t,n){var r=n(0);r(r.P+r.R,"Map",{toJSON:n(151)("Map")})},function(e,t,n){var r=n(0);r(r.P+r.R,"Set",{toJSON:n(151)("Set")})},function(e,t,n){n(72)("Map")},function(e,t,n){n(72)("Set")},function(e,t,n){n(72)("WeakMap")},function(e,t,n){n(72)("WeakSet")},function(e,t,n){n(73)("Map")},function(e,t,n){n(73)("Set")},function(e,t,n){n(73)("WeakMap")},function(e,t,n){n(73)("WeakSet")},function(e,t,n){var r=n(0);r(r.G,{global:n(2)})},function(e,t,n){var r=n(0);r(r.S,"System",{global:n(2)})},function(e,t,n){var r=n(0),o=n(23);r(r.S,"Error",{isError:function(e){return"Error"===o(e)}})},function(e,t,n){n=n(0);n(n.S,"Math",{clamp:function(e,t,n){return Math.min(n,Math.max(t,e))}})},function(e,t,n){n=n(0);n(n.S,"Math",{DEG_PER_RAD:Math.PI/180})},function(e,t,n){var n=n(0),r=180/Math.PI;n(n.S,"Math",{degrees:function(e){return e*r}})},function(e,t,n){var r=n(0),i=n(153),a=n(132);r(r.S,"Math",{fscale:function(e,t,n,r,o){return a(i(e,t,n,r,o))}})},function(e,t,n){n=n(0);n(n.S,"Math",{iaddh:function(e,t,n,r){e>>>=0,n>>>=0;return(t>>>0)+(r>>>0)+((e&n|(e|n)&~(e+n>>>0))>>>31)|0}})},function(e,t,n){n=n(0);n(n.S,"Math",{isubh:function(e,t,n,r){e>>>=0,n>>>=0;return(t>>>0)-(r>>>0)-((~e&n|~(e^n)&e-n>>>0)>>>31)|0}})},function(e,t,n){n=n(0);n(n.S,"Math",{imulh:function(e,t){var n=+e,r=+t,e=65535&n,t=65535&r,n=n>>16,r=r>>16,t=(n*t>>>0)+(e*t>>>16);return n*r+(t>>16)+((e*r>>>0)+(65535&t)>>16)}})},function(e,t,n){n=n(0);n(n.S,"Math",{RAD_PER_DEG:180/Math.PI})},function(e,t,n){var n=n(0),r=Math.PI/180;n(n.S,"Math",{radians:function(e){return e*r}})},function(e,t,n){var r=n(0);r(r.S,"Math",{scale:n(153)})},function(e,t,n){n=n(0);n(n.S,"Math",{umulh:function(e,t){var n=+e,r=+t,e=65535&n,t=65535&r,n=n>>>16,r=r>>>16,t=(n*t>>>0)+(e*t>>>16);return n*r+(t>>>16)+((e*r>>>0)+(65535&t)>>>16)}})},function(e,t,n){n=n(0);n(n.S,"Math",{signbit:function(e){return(e=+e)!=e?e:0==e?1/e==1/0:0<e}})},function(e,t,n){"use strict";var r=n(0),o=n(21),i=n(2),a=n(58),l=n(140);r(r.P+r.R,"Promise",{finally:function(t){var n=a(this,o.Promise||i.Promise),e="function"==typeof t;return this.then(e?function(e){return l(n,t()).then(function(){return e})}:t,e?function(e){return l(n,t()).then(function(){throw e})}:t)}})},function(e,t,n){"use strict";var r=n(0),o=n(115),i=n(139);r(r.S,"Promise",{try:function(e){var t=o.f(this),e=i(e);return(e.e?t.reject:t.resolve)(e.v),t.promise}})},function(e,t,n){var r=n(32),o=n(1),i=r.key,a=r.set;r.exp({defineMetadata:function(e,t,n,r){a(e,t,o(n),i(r))}})},function(e,t,n){var r=n(32),o=n(1),i=r.key,a=r.map,l=r.store;r.exp({deleteMetadata:function(e,t){var n=arguments.length<3?void 0:i(arguments[2]),r=a(o(t),n,!1);if(void 0===r||!r.delete(e))return!1;if(r.size)return!0;r=l.get(t);return r.delete(n),!!r.size||l.delete(t)}})},function(e,t,n){var r=n(32),o=n(1),i=n(20),a=r.has,l=r.get,s=r.key,c=function(e,t,n){if(a(e,t,n))return l(e,t,n);t=i(t);return null!==t?c(e,t,n):void 0};r.exp({getMetadata:function(e,t){return c(e,o(t),arguments.length<3?void 0:s(arguments[2]))}})},function(e,t,n){var r=n(143),o=n(152),i=n(32),a=n(1),l=n(20),s=i.keys,c=i.key,u=function(e,t){var n=s(e,t),e=l(e);if(null===e)return n;t=u(e,t);return t.length?n.length?o(new r(n.concat(t))):t:n};i.exp({getMetadataKeys:function(e){return u(a(e),arguments.length<2?void 0:c(arguments[1]))}})},function(e,t,n){var r=n(32),o=n(1),i=r.get,a=r.key;r.exp({getOwnMetadata:function(e,t){return i(e,o(t),arguments.length<3?void 0:a(arguments[2]))}})},function(e,t,n){var r=n(32),o=n(1),i=r.keys,a=r.key;r.exp({getOwnMetadataKeys:function(e){return i(o(e),arguments.length<2?void 0:a(arguments[1]))}})},function(e,t,n){var r=n(32),o=n(1),i=n(20),a=r.has,l=r.key,s=function(e,t,n){if(a(e,t,n))return!0;t=i(t);return null!==t&&s(e,t,n)};r.exp({hasMetadata:function(e,t){return s(e,o(t),arguments.length<3?void 0:l(arguments[2]))}})},function(e,t,n){var r=n(32),o=n(1),i=r.has,a=r.key;r.exp({hasOwnMetadata:function(e,t){return i(e,o(t),arguments.length<3?void 0:a(arguments[2]))}})},function(e,t,n){var r=n(32),o=n(1),i=n(13),a=r.key,l=r.set;r.exp({metadata:function(n,r){return function(e,t){l(n,r,(void 0!==t?o:i)(e),a(t))}}})},function(e,t,n){var r=n(0),o=n(114)(),i=n(2).process,a="process"==n(23)(i);r(r.G,{asap:function(e){var t=a&&i.domain;o(t?t.bind(e):e)}})},function(e,t,n){"use strict";function o(e){return null==e?void 0:d(e)}function i(e){var t=e._c;t&&(e._c=void 0,t())}function a(e){return void 0===e._o}function l(e){a(e)||(e._o=void 0,i(e))}function r(t,e){h(t),this._c=void 0,this._o=t,t=new b(this);try{var n=e(t),r=n;null!=n&&("function"==typeof n.unsubscribe?n=function(){r.unsubscribe()}:d(n),this._c=n)}catch(e){return void t.error(e)}a(this)&&i(this)}var s=n(0),c=n(2),u=n(21),p=n(114)(),f=n(8)("observable"),d=n(13),h=n(1),V=n(43),m=n(45),y=n(14),v=n(44),g=v.RETURN;r.prototype=m({},{unsubscribe:function(){l(this)}});var b=function(e){this._s=e};b.prototype=m({},{next:function(e){var t=this._s;if(!a(t)){var n=t._o;try{var r=o(n.next);if(r)return r.call(n,e)}catch(e){try{l(t)}finally{throw e}}}},error:function(e){var t=this._s;if(a(t))throw e;var n=t._o;t._o=void 0;try{var r=o(n.error);if(!r)throw e;e=r.call(n,e)}catch(e){try{i(t)}finally{throw e}}return i(t),e},complete:function(e){var t=this._s;if(!a(t)){var n=t._o;t._o=void 0;try{var r=o(n.complete);e=r?r.call(n,e):void 0}catch(e){try{i(t)}finally{throw e}}return i(t),e}}});var w=function(e){V(this,w,"Observable","_f")._f=d(e)};m(w.prototype,{subscribe:function(e){return new r(e,this._f)},forEach:function(r){var o=this;return new(u.Promise||c.Promise)(function(e,t){d(r);var n=o.subscribe({next:function(e){try{return r(e)}catch(e){t(e),n.unsubscribe()}},error:t,complete:e})})}}),m(w,{from:function(e){var t="function"==typeof this?this:w,n=o(h(e)[f]);if(n){var r=h(n.call(e));return r.constructor===t?r:new t(function(e){return r.subscribe(e)})}return new t(function(t){var n=!1;return p(function(){if(!n){try{if(v(e,!1,function(e){if(t.next(e),n)return g})===g)return}catch(e){if(n)throw e;return void t.error(e)}t.complete()}}),function(){n=!0}})},of:function(){for(var e=0,t=arguments.length,r=new Array(t);e<t;)r[e]=arguments[e++];return new("function"==typeof this?this:w)(function(t){var n=!1;return p(function(){if(!n){for(var e=0;e<r.length;++e)if(t.next(r[e]),n)return;t.complete()}}),function(){n=!0}})}}),y(w.prototype,f,function(){return this}),s(s.G,{Observable:w}),n(42)("Observable")},function(e,t,n){var r=n(2),o=n(0),i=n(68),a=[].slice,n=/MSIE .\./.test(i),i=function(o){return function(e,t){var n=2<arguments.length,r=n&&a.call(arguments,2);return o(n?function(){("function"==typeof e?e:Function(e)).apply(this,r)}:e,t)}};o(o.G+o.B+o.F*n,{setTimeout:i(r.setTimeout),setInterval:i(r.setInterval)})},function(e,t,n){var r=n(0),n=n(113);r(r.G+r.B,{setImmediate:n.set,clearImmediate:n.clear})},function(e,t,n){for(var r=n(110),o=n(38),i=n(15),a=n(2),l=n(14),s=n(50),n=n(8),c=n("iterator"),u=n("toStringTag"),p=s.Array,f={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},d=o(f),h=0;h<d.length;h++){var V,m=d[h],y=f[m],v=a[m],g=v&&v.prototype;if(g&&(g[c]||l(g,c,p),g[u]||l(g,u,m),s[m]=p,y))for(V in r)g[V]||i(g,V,r[V],!0)}},function(_,e,t){!function(e){!function(e){"use strict";var s,c,u,p,f,d,t,n=Object.prototype,h=n.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},o=r.iterator||"@@iterator",i=r.asyncIterator||"@@asyncIterator",a=r.toStringTag||"@@toStringTag",l="object"==typeof _,V=e.regeneratorRuntime;function m(e,t,n,r){var o,i,a,l,t=t&&t.prototype instanceof v?t:v,t=Object.create(t.prototype),r=new E(r||[]);return t._invoke=(o=e,i=n,a=r,l=c,function(e,t){if(l===p)throw new Error("Generator is already running");if(l===f){if("throw"===e)throw t;return S()}for(a.method=e,a.arg=t;;){var n=a.delegate;if(n){var r=function e(t,n){var r=t.iterator[n.method];if(r===s){if(n.delegate=null,"throw"===n.method){if(t.iterator.return&&(n.method="return",n.arg=s,e(t,n),"throw"===n.method))return d;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return d}var r=y(r,t.iterator,n.arg);if("throw"===r.type)return n.method="throw",n.arg=r.arg,n.delegate=null,d;r=r.arg;if(!r)return n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,d;{if(!r.done)return r;n[t.resultName]=r.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=s)}n.delegate=null;return d}(n,a);if(r){if(r===d)continue;return r}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if(l===c)throw l=f,a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);l=p;r=y(o,i,a);if("normal"===r.type){if(l=a.done?f:u,r.arg!==d)return{value:r.arg,done:a.done}}else"throw"===r.type&&(l=f,a.method="throw",a.arg=r.arg)}}),t}function y(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}function v(){}function g(){}function b(){}function w(e){["next","throw","return"].forEach(function(t){e[t]=function(e){return this._invoke(t,e)}})}function O(i){function a(e,t,n,r){e=y(i[e],i,t);if("throw"!==e.type){var o=e.arg,t=o.value;return t&&"object"==typeof t&&h.call(t,"__await")?Promise.resolve(t.__await).then(function(e){a("next",e,n,r)},function(e){a("throw",e,n,r)}):Promise.resolve(t).then(function(e){o.value=e,n(o)},r)}r(e.arg)}var t;"object"==typeof e.process&&e.process.domain&&(a=e.process.domain.bind(a)),this._invoke=function(n,r){function e(){return new Promise(function(e,t){a(n,r,e,t)})}return t=t?t.then(e,e):e()}}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function k(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function E(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function A(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,e=function e(){for(;++n<t.length;)if(h.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=s,e.done=!0,e};return e.next=e}}return{next:S}}function S(){return{value:s,done:!0}}V?l&&(_.exports=V):((V=e.regeneratorRuntime=l?_.exports:{}).wrap=m,c="suspendedStart",u="suspendedYield",p="executing",f="completed",d={},(r={})[o]=function(){return this},(l=(l=Object.getPrototypeOf)&&l(l(A([]))))&&l!==n&&h.call(l,o)&&(r=l),t=b.prototype=v.prototype=Object.create(r),(g.prototype=t.constructor=b).constructor=g,b[a]=g.displayName="GeneratorFunction",V.isGeneratorFunction=function(e){e="function"==typeof e&&e.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},V.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,a in e||(e[a]="GeneratorFunction")),e.prototype=Object.create(t),e},V.awrap=function(e){return{__await:e}},w(O.prototype),O.prototype[i]=function(){return this},V.AsyncIterator=O,V.async=function(e,t,n,r){var o=new O(m(e,t,n,r));return V.isGeneratorFunction(t)?o:o.next().then(function(e){return e.done?e.value:o.next()})},w(t),t[a]="Generator",t[o]=function(){return this},t.toString=function(){return"[object Generator]"},V.keys=function(n){var e,r=[];for(e in n)r.push(e);return r.reverse(),function e(){for(;r.length;){var t=r.pop();if(t in n)return e.value=t,e.done=!1,e}return e.done=!0,e}},V.values=A,E.prototype={constructor:E,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=s,this.done=!1,this.delegate=null,this.method="next",this.arg=s,this.tryEntries.forEach(k),!e)for(var t in this)"t"===t.charAt(0)&&h.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=s)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(n){if(this.done)throw n;var r=this;function e(e,t){return i.type="throw",i.arg=n,r.next=e,t&&(r.method="next",r.arg=s),!!t}for(var t=this.tryEntries.length-1;0<=t;--t){var o=this.tryEntries[t],i=o.completion;if("root"===o.tryLoc)return e("end");if(o.tryLoc<=this.prev){var a=h.call(o,"catchLoc"),l=h.call(o,"finallyLoc");if(a&&l){if(this.prev<o.catchLoc)return e(o.catchLoc,!0);if(this.prev<o.finallyLoc)return e(o.finallyLoc)}else if(a){if(this.prev<o.catchLoc)return e(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return e(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;0<=n;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&h.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}var i=(o=o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc?null:o)?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,d):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;0<=t;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),k(n),d}},catch:function(e){for(var t=this.tryEntries.length-1;0<=t;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r,o=n.completion;return"throw"===o.type&&(r=o.arg,k(n)),r}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:A(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=s),d}})}("object"==typeof e?e:"object"==typeof window?window:"object"==typeof self?self:this)}.call(this,t(59))},function(e,t,n){n(368),e.exports=n(21).RegExp.escape},function(e,t,n){var r=n(0),o=n(369)(/[\\^$*+?.()|[\]{}]/g,"\\$&");r(r.S,"RegExp",{escape:function(e){return o(e)}})},function(e,t){e.exports=function(t,n){var r=n===Object(n)?function(e){return n[e]}:n;return function(e){return String(e).replace(t,r)}}},function(e,t,n){e.exports=n(3)(742)},function(e,t,n){"use strict";n.r(t);var r=n(6),i=n.n(r),t=n(51),a=n(53),l=n(26),r=n(52),s=n.n(r),c=n(166),u=n(7);function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(e,t){return(f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function d(n){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=V(n);return e=r?(e=V(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),t=this,!(e=e)||"object"!==o(e)&&"function"!=typeof e?h(t):e}}function h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function V(e){return(V=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}window.DWKitFormSettings={externalControlList:[],externalControlRender:function(e,t,n){}},u.Store.getState().settings.userForms={},u.Store.dispatch(u.Actions.app.impersonateduseridfromurl());r=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(o,i.a.Component);var e,t,n,r=d(o);function o(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(e=r.call(this,e)).state={pagekey:0,resourcesLoaded:!1};var t=h(e);return u.Store.dispatch(u.Thunks.userinfo.fetch(function(){t.state.user=u.Store.getState().app.user,t.loadResources()})),window.DWKitApp=h(e),window.DWKitApp.API=u.API,window.DWKitApp.Store=u.Store,e}return e=o,(t=[{key:"render",value:function(){var e=u.Store.getState(),t=e.app.user;if(!this.state.user||!this.state.resourcesLoaded)return null;e=e.app.impersonatedUserId||t.id,e={currentUser:t.name,currentEmployee:e};return i.a.createElement("div",{className:"dwkit-wrapper",key:this.state.pagekey},i.a.createElement(a.Provider,{store:u.Store},i.a.createElement(u.StateBindedForm,{formName:"header",stateDataPath:"app.extra",data:e})),i.a.createElement("div",{className:"dwkit-container"},i.a.createElement(a.Provider,{store:u.Store},i.a.createElement(u.StateBindedForm,{className:"dwkit-sidebar-container",formName:"sidebar",stateDataPath:"app.extra",data:e})),i.a.createElement("div",{className:"dwkit-content"},i.a.createElement(a.Provider,{store:u.Store},i.a.createElement(l.BrowserRouter,null,i.a.createElement("div",{className:"dwkit-content-form"},i.a.createElement(u.ApplicationRouter,{onReload:this.onRefresh.bind(this,!0),onRefresh:this.onRefresh.bind(this,!1)}),i.a.createElement(u.NotificationComponent,{onFetchStarted:this.onFetchStarted.bind(this),onFetchFinished:this.onFetchFinished.bind(this)}),i.a.createElement(l.Switch,null,i.a.createElement(l.Route,{path:"/form",component:u.FormContent}),i.a.createElement(l.Route,{path:"/flow",component:u.FlowContent}),i.a.createElement(l.Route,{path:"/workflow",component:u.WorkflowContent}),i.a.createElement(l.Route,{exact:!0,path:"/"},i.a.createElement(u.FormContent,{formName:this.props.defaultForm||this.state.user.defaultForm})),i.a.createElement(l.Route,{path:"/account/logoff",render:function(){return u.Store.logoff(),null}}),i.a.createElement(l.Route,{nomatch:!0,render:function(){var e=window.location.href;return window.location.href=e,null}}))))))),i.a.createElement(c.DWKitForm,{className:"dwkit-footer",formName:"footer",stateDataPath:"app.extra",data:e}))}},{key:"onFetchStarted",value:function(){Pace.start(),$("body").loadingModal({text:"Loading...",animation:"foldingCube",backgroundColor:"#1262E2"})}},{key:"onFetchFinished",value:function(){Pace.stop(),$("body").loadingModal("destroy")}},{key:"onRefresh",value:function(e){u.Store.resetForm(e),this.setState({pagekey:this.state.pagekey+1}),e&&u.SignalRConnector.Connect(u.Store)}},{key:"loadResources",value:function(){this.loadStaticResources();function t(){var e;0==--r&&(n.setState({resourcesLoaded:!0}),window.DWKitLang&&window.DWKitLang.common&&window.DWKitLang.common.locale&&(e=window.DWKitLang.common.locale,s.a.locale(e)))}var n=this,e=["/ui/localization.js","/ui/form/businessobjects.js"],r=e.length;e.forEach(function(e){u.API.loadBackendScript(e,{},t)}),0==e.length&&n.setState({resourcesLoaded:!0})}},{key:"loadStaticResources",value:function(){function t(e){var t=document.getElementsByTagName("body")[0],n=document.createElement("link");n.rel="stylesheet",n.type="text/css",n.href=e,t.appendChild(n)}var n;this.state.user.isRTL&&t("/css/dwkit-style.rtl.css"),this.state.user.theme&&(n=this.state.user.theme,$.getJSON("/themes/theme_manifest.json",function(e){Array.isArray(e.themes)&&e.themes.forEach(function(e){e.name==n&&Array.isArray(e.files)&&e.files.forEach(function(e){t("/themes/"+e)})})}))}}])&&p(e.prototype,t),n&&p(e,n),o}();u.SignalRConnector.Connect(u.Store);n=document.getElementById("content");Object(t.render)(i.a.createElement(r,{defaultForm:n.getAttribute("data-defaultform")}),n)}]);